---
layout: post
title: "【WPF】CAD工程图纸转WPF可直接使用的xaml代码技巧"
date: "2022-06-25T15:17:59.705Z"
---
【WPF】CAD工程图纸转WPF可直接使用的xaml代码技巧
==============================

**前言：**随着工业化的进一步发展，制造业、工业自动化等多领域，都可能用到上位监控系统。而WPF在上位监控系统方面，应该算是当下最流行的前端框架之一了。而随着监控体系的不断完善与更新迭代，监控画面会变得越来越复杂、多样化和全面化。

随着监控画面的不断复杂和庞大，如果靠开发者人为进行绘制图案、模型等，无疑会是一个很庞大的工作量。而大多数监控系统的开发，可能还需要结合CAD图纸的布局图进行“自定义创作”，也是一个较为繁琐的工程。如果可以通过CAD图纸直接转换为WPF的画布图纸，那么开发者的工作将会变得更加轻松愉快，只需要做一些简单的调整就可以变成自己的一套监控系统。那么下面的文章，我将会以几个很简单的步骤，来演示一下通过CAD图纸转换为XAML代码文件的方法，供大佬们参考。

零：为了防止被爬虫到各种不友好的网站(会自动同步到CSDN同账号，除 博客园 与 CSDN 外，都可能是爬虫爬过去的，谨防被忽悠)，以及防止影响大家阅读体验，建议可以点击该博客的在博客园的原文链接进行阅读：

https://www.cnblogs.com/weskynet/p/16412223.html

一、为了演示一个简单的操作，我此处先打开一个空白的CAD，等下用来进行绘制点内容使用。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625181940237-1302584989.png)

二、自定义随便绘制点东西，此处包括了三个矩形，三个圆，一个椭圆，以及一个螺旋图案，还有一行文字，当作测试使用。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182002351-26213405.png)

三、绘制完成以后(正常使用，可能是打开cad图纸以后，直接进行这一步)，选择 文件 -> 另存为，将图纸另存为.dxf格式的文件，供后续的AI工具进行打开。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182014836-702644275.png)

四、使用AI工具进行打开.dxf文件

【备注】此处打开时候由于设置了边界全部显示为1px，所以三个圆变细了，请无视这个细节。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182128703-1444760362.png)

五、AI工具打开以后，选择 文件- 导出为.xaml格式。正常情况下可以导出为silverlight和wpf两种，此处咱们选择导出为wpf支持的xaml格式。

【备注】AI导出的路径不能有中文，否则可能导出会不成功。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182144034-412837817.png)

六、导出成功以后，在导出目录下，可以看到生成了一个.xaml格式的代码文件。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182208900-1729895469.png)

七、用文本文件打开瞅一眼，可以看到熟悉的xaml标签代码，它由<viewbox/>控件包含，所以也可以直接用它来制作用户控件使用等等，大佬们可以自行发挥。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182218715-1690498452.png)

八、新建一个WPF项目，目前主窗体没有任何元素，用于后续测试生成的xaml代码是不是可以使用。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182245526-381931738.png)

九、将导出的xaml代码文件的代码，全部复制到主窗体下，可以看到主窗体设计器自动展示了元素的效果。与CAD图纸上的基本一致。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182258610-502730877.png)

十、咱们运行一下程序，看看启动以后的效果，如下图所示，说明导出的代码是可以直接使用的，并且符合预期。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182323900-1892810400.png)

十一、对于AI工具没有导出WPF选项的，需要添加一个插件。插件下载地址：http://mikeswanson.com/xamlexport/

下载地址打开以后的页面，如下图所示，已经提示了很详细的使用方法了，参照提示信息进行放置插件即可。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182337292-22390315.png)

十二、下载的插件，解压以后会有两个aip文件，一个是MAC系统支持的，另一个是Windows系统支持的，如下图所示，存放到AI工具的安装目录下的plug-ins文件夹下即可。

【备注】AI安装的如果是破解版、或者不是默认安装路径，有可能会识别插件不成功，比如说在打开AI程序的时候，可能提示 "ai载入增效工具时失败"之类的。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625182346784-1511364998.png)

以上就是该文章的全部内容，感谢各位大佬捧场。

如果大佬们对.NET方向技术感兴趣，可以找到该文章的博客园的原文链接：https://www.cnblogs.com/weskynet/p/16412223.html

在最下面有一个加入QQ群的信息，可以直接加入。

或者也可以扫以下的二维码，加我个人微信，然后一起讨论技术，或者申请进微信群，我也拉你进微信同群，也是OK的。

![](https://img2022.cnblogs.com/blog/1995789/202206/1995789-20220625185906959-1724078176.png)

最后祝大佬们撸码愉快~~

如果有帮助，欢迎点赞、收藏或评论转发呀~~不用客气~~

欢迎加入QQ群： 群号：1079830632 [![WeskyNet交流群](//pub.idqqimg.com/wpa/images/group.png "WeskyNet交流群")](https://qm.qq.com/cgi-bin/qm/qr?k=mylXTbJ-Sw1_ea95Vi0ExYurn0BOfIfo&jump_from=webapi)