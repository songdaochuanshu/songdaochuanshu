---
layout: post
title: "IP地址基础知识"
date: "2022-09-19T12:46:02.601Z"
---
IP地址基础知识
========

### 一、IP地址相关概念

在 TCP/IP 网络通信时，为了保证能正常通信，每个设备都需要配置正确的 IP 地址，否则无法实现正常的通信。  
IP 地址（IPv4 地址）由 32 位正整数来表示，IP 地址在计算机是以二进制的方式处理的。  
而为了方便记忆采用了点分十进制的标记方式，也就是将 32 位 IP 地址以每 8 位为组，共分为 4组，每组以「. 」隔开，再将每组转换成十进制。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919192226099-1898925768.png)

那么，IP 地址最大值也就是 2的32次方≈43亿。NAT技术可以更换IP地址，使得可连接计算机数超过43亿台。

实际上，IP 地址并不是根据主机台数来配置的，而是以网卡。像服务器、路由器等设备都是有 2 个以上的网卡，也就是它们会有 2 个以上的 IP 地址。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919192425609-639745323.png)

### 二、IP地址的分类

互联网诞生之初，IP 地址显得很充裕，IP 地址被分类成了 5 种类型，分别是 A 类、B 类、C 类、D 类、E 类。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919194137243-1284811363.png)

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919193209812-899108848.png)

 A、B、C 类主要分为两个部分，分别是网络号和主机号。而 D 类和 E 类地址是没有主机号的，所以不可用于主机 IP，D 类常被用于多播，E 类是预留的分类，暂时未使用。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919193341639-802913760.png)

**IP分类的优点**：可以快速判别类型，很快的找出网络地址和主机地址

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919193638222-269347153.png)

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919193928228-249500302.png)

**IP分类的缺点**：

1.同一网络下没有地址层次，比如一个公司里用了 B 类地址，但是可能需要根据生产环境、测试环境、开发环境来划分地址层次，而这种 IP 分类是没有地址层次划分的功能，所以这就缺少地址的灵活性。

2.B 类地址能包含的最大主机数量又太多了，6 万多台机器放在一个网络下面，一般的企业基本达不到这个规模，闲着的地址就是浪费。

3.C 类地址能包含的最大主机数量实在太少了，只有 254 个，可能一个网吧都不够用。

### 三、无分类地址 CIDR

这种方式不再有分类地址的概念，32 比特的 IP 地址被划分为两部分，前面是网络号，后面是主机号。

表示形式 a.b.c.d/x ，其中 /x 表示前 x 位属于网络号， x 的范围是 0 ~ 32。

举个![](https://img2022.cnblogs.com/blog/1923561/202208/1923561-20220827134657174-974955262.png)  10.100.122.2/24，/24 表示前 24 位是网络号，剩余的 8 位是主机号。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919195133384-362547377.png)

还有另一种划分网络号与主机号形式，那就是子网掩码，掩码的意思就是掩盖掉主机号，剩余的就是网络号。将子网掩码和 IP 地址按位计算 AND（两个都是1才得1），就可得到网络号。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919195238535-1285321847.png)

两台计算机要通讯，首先要判断是否处于同一个广播域内，即网络地址是否相同。如果网络地址相同，表明接受方在本网络上，那么可以把数据包直接发送到目标主机。路由器寻址工作中，也就是通过这样的方式来找到对应的网络号的，进而把数据包转发给对应的网络内。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919195414818-854807369.png)

###  四、子网划分

在上面我们知道可以通过子网掩码划分出网络号和主机号，那实际上子网掩码还有一个作用，那就是划分子网。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919200010045-37971351.png)

假设对 C 类地址进行子网划分，网络地址 192.168.1.0，使用子网掩码 255.255.255.192 对其进行子网划分。C 类地址中前 24 位是网络号，最后 8 位是主机号，根据子网掩码可知从 8 位主机号中借用 2 位作为子网号。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919200216924-1238072519.png)

 由于子网网络地址被划分成 2 位，那么子网地址就有 4 个，分别是 00、01、10、11，

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919200507032-1278990025.png)

###  五、公有IP地址和私有IP地址

在 A、B、C 分类地址，实际上有分公有 IP 地址和私有 IP 地址。

![](https://img2022.cnblogs.com/blog/1923561/202209/1923561-20220919200640896-178944718.png)

平时我们办公室、家里、学校用的 IP 地址，一般都是私有 IP 地址。因为这些地址允许组织内部的 IT人员自己管理、自己分配，而且可以重复。因此，你学校的某个私有 IP 地址和我学校的可以是一样的。

私有 IP 地址通常是内部的 IT 人员管理，公有 IP 地址是由 ICANN 组织管理，中文叫「互联网名称与数字地址分配机构」。IANA 是 ICANN 的其中一个机构，它负责分配互联网 IP 地址，是按州（五大洲）的方式层层分配。

凡事总有限度，一旦过度，必受惩罚，这是朴素的人生哲学，也是自然界诸多事物的规律。民间流传的许多具有劝诫意义的故事都在提醒人们克制自己的欲望。据说印度人为捕捉猴子，制作一种木笼，笼中放着食物。猴子伸进手去，抓住食物，手就拿不出来。要想拿出手来，必须放下食物，但猴子绝对不肯放下食物。猴子没有“放下”的智慧。人有“放下”的智慧吗？有的人有，有的人没有。有的人有的时候有，有的人有的时候没有。有的人能抵挡金钱的诱惑但未必能抵挡美女的诱惑，有的人能抵挡金钱美女的诱惑，但未必能抵挡权力的诱惑。人总是会有一些舍不得放下的东西，这就是人的弱点，也是人的丰富性所在。