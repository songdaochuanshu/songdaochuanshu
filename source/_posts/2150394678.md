---
layout: post
title: "ã€å¾®æœåŠ¡ã€‘- æœåŠ¡è°ƒç”¨ - OpenFeign"
date: "2022-09-24T17:23:20.875Z"
---
ã€å¾®æœåŠ¡ã€‘- æœåŠ¡è°ƒç”¨ - OpenFeign
=======================

OpenFeign å…¨ç§° Spring Cloud OpenFeignï¼Œå®ƒæ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ä¸€ç§å£°æ˜å¼æœåŠ¡è°ƒç”¨ä¸è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œå®ƒçš„å‡ºç°å°±æ˜¯ä¸ºäº†æ›¿ä»£è¿›å…¥åœæ›´ç»´æŠ¤çŠ¶æ€çš„ Feignã€‚Spring Cloud openfeignå¯¹Feignè¿›è¡Œäº†å¢å¼ºï¼Œä½¿å…¶æ”¯æŒSpring MVCæ³¨è§£ï¼Œå¦å¤–è¿˜æ•´åˆäº†Ribbonå’ŒNacosï¼Œä»è€Œä½¿å¾—Feignçš„ä½¿ç”¨æ›´åŠ æ–¹ä¾¿ã€‚

æœåŠ¡è°ƒç”¨ - OpenFeign
================

> ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢  
> ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°  
> ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·  
> ğŸ† [ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº](https://blog.csdn.net/qq_43843951) [@æ€’æ”¾å§å¾·å¾·](https://www.cnblogs.com/lyd-code/)  
> ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼

![image](https://img2022.cnblogs.com/blog/1954113/202209/1954113-20220924230325498-240920498.jpg)

ä»‹ç»
--

OpenFeign å…¨ç§° Spring Cloud OpenFeignï¼Œå®ƒæ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ä¸€ç§å£°æ˜å¼æœåŠ¡è°ƒç”¨ä¸è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œå®ƒçš„å‡ºç°å°±æ˜¯ä¸ºäº†æ›¿ä»£è¿›å…¥åœæ›´ç»´æŠ¤çŠ¶æ€çš„ Feignã€‚  
Spring Cloud openfeignå¯¹Feignè¿›è¡Œäº†å¢å¼ºï¼Œä½¿å…¶æ”¯æŒSpring MVCæ³¨è§£ï¼Œå¦å¤–è¿˜æ•´åˆäº†  
Ribbonå’ŒNacosï¼Œä»è€Œä½¿å¾—Feignçš„ä½¿ç”¨æ›´åŠ æ–¹ä¾¿ã€‚  
Feignä½¿ç”¨httpè¿œç¨‹è°ƒç”¨æ–¹æ³•å°±å¥½åƒè°ƒç”¨æœ¬åœ°çš„æ–¹æ³•ï¼Œæ„Ÿè§‰ä¸åˆ°æ˜¯è¿œç¨‹æ–¹æ³•ã€‚ä»–çš„ä½¿ç”¨å°±å’Œç›´æ¥å†™æ§åˆ¶ç±»é‚£æ ·ï¼Œæš´éœ²æ¥å£æä¾›è°ƒç”¨ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™è°ƒç”¨æ¥å£+@FeignClientæ³¨è§£ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªapiçš„æ—¶å€™ï¼Œåªéœ€è¦å®šä¹‰å¥½æ–¹æ³•ï¼Œåˆ°æ—¶å€™è°ƒç”¨è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥äº†ã€‚è¿™ç§æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ä½¿ç”¨èµ·æ¥æ˜¯éå¸¸çš„æ–¹ä¾¿ï¼Œä½“éªŒä¹Ÿæ¯”è¾ƒå¥½ã€‚

å¦‚ä½•å®ç°æ¥å£è°ƒç”¨ï¼Ÿ
---------

åœ¨å¹³æ—¶å¼€å‘çš„springbooté¡¹ç›®ä¸­ï¼Œåƒè¿™ç§restæœåŠ¡æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„å‘¢ï¼Ÿé€šå¸¸ä¸‹æ˜¯ä½¿ç”¨Httpclientã€Okhttpã€HttpURLConnectionã€RestTemplateï¼Œå…¶ä¸­RestTemplateæ˜¯æœ€å¸¸è§çš„ã€‚ä¹‹å‰åœ¨ nacosé…ç½®ä¸­å¿ƒ ä½¿ç”¨çš„æ˜¯RestTemplateã€‚

SpringCloudæ•´åˆOpenFeign
----------------------

å°±ç”¨ä¸€ä¸ªä¾‹å­æ¥ç®€å•ä½¿ç”¨OpenFeignè¿›è¡ŒæœåŠ¡é—´çš„è°ƒç”¨ï¼Œé€šè¿‡å®ä¾‹æ¥å­¦ä¹ å…³äºFeignç»„ä»¶çš„åŠŸèƒ½ã€‚

### å¼•å…¥ä¾èµ–

ä½¿ç”¨OpenFeignç»„ä»¶éœ€è¦å¼•å…¥å®¢æˆ·ç«¯ä¾èµ–

    <!--OpenFeign-->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-openfeign</artifactId>
    </dependency>
    

### ç¼–å†™è°ƒç”¨æ¥å£

é€šè¿‡OpenFeignè¿œç¨‹è°ƒç”¨æœåŠ¡çš„æ—¶å€™ï¼Œæ¯”RestTemplateæ›´åŠ æ–¹ä¾¿ï¼Œå°±è·Ÿç¼–å†™controlleræ¥å£æ˜¯å·®ä¸å¤šçš„ã€‚  
éœ€è¦å†™ä¸Š@FeignClientæ³¨è§£ï¼Œé‡Œé¢é…ç½®å¾®æœåŠ¡åå­—å’Œrestçš„@RequestMapping("/api/store")ï¼Œæˆ–è€…å¯ä»¥åœ¨å£°æ˜è°ƒç”¨paiçš„æ—¶å€™å†™ä¸Šå®Œæ•´çš„è·¯å¾„ã€‚  
ç®€å•çš„å¯¹åº”å¦‚ä¸‹å›¾æ‰€ç¤º  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/15c5b263413f4f2aa8ff53feb681d6ec.png)  
ä»£ç å¦‚ä¸‹ï¼š

    package com.lyd.demo.feign;
    import com.lyd.demo.feign.config.FeignOkhttpConfig;
    import org.springframework.cloud.openfeign.FeignClient;
    import org.springframework.web.bind.annotation.GetMapping;
    import org.springframework.web.bind.annotation.PathVariable;
    import java.util.Map;
    /**
     * @author: lyd
     * @description: è¿œç¨‹è°ƒç”¨ service-store æœåŠ¡
     * @Date: 2022/9/24
     * ä»‹ç»:
     *      name / value : è¦è°ƒç”¨çš„å¾®æœåŠ¡å
     *      pathï¼šæ§åˆ¶ç±»ä¸Šé¢çš„è·¯å¾„ --- @RequestMapping("/api/store")
     */
    @FeignClient(name = "service-store", path = "/api/store")
    public interface StoreFeignService {
        // å£°æ˜è¦è°ƒç”¨çš„rest
        @GetMapping("/{id}")
        Map<String, Object> getStoreNum(@PathVariable String id);
    }
    /**
     * @RestController
     * @RequestMapping("/api/store")
     * public class StoreController {
     *     @Value("${server.port}")
     *     private String currentPort;
     *     @GetMapping("/{id}")
     *     public Map<String, Object> getStoreNum(@PathVariable String id) throws InterruptedException {
     *         Map<String, Object> map = new HashMap<>();
     *         map.put("port", currentPort);
     *         map.put("num", 10);
     *         return map;
     *     }
     * }
     */
    

éœ€è¦åœ¨å¯åŠ¨ç±»ä¸­å†™ä¸Šæ³¨è§£ **@EnableFeignClients**

    @Autowired
    private StoreFeignService storeFeignService;
    // åœ¨ä¸šåŠ¡ä¸­ç›´æ¥è°ƒç”¨
    storeFeignService.getStoreNum(uid);
    

OpenFeignè‡ªå®šä¹‰é…ç½®
--------------

Feign æä¾›äº†å¾ˆå¤šçš„æ‰©å±•æœºåˆ¶ï¼Œè®©ç”¨æˆ·å¯ä»¥æ›´åŠ çµæ´»çš„ä½¿ç”¨ã€‚  
**feign.Logger.Level**ï¼šä¿®æ”¹æ—¥å¿—çº§åˆ«ï¼ŒåŒ…å«å››ç§ä¸åŒçš„çº§åˆ«ï¼šNONEã€BASICã€HEADERSã€FULL  
**feign.codec.Decoder**ï¼šå“åº”ç»“æœçš„è§£æå™¨ï¼Œhttpè¿œç¨‹è°ƒç”¨çš„ç»“æœåšè§£æï¼Œä¾‹å¦‚è§£æjsonå­—ç¬¦ä¸²ä¸ºjavaå¯¹è±¡  
**feign.codec.Encoder**ï¼šè¯·æ±‚å‚æ•°ç¼–ç ï¼Œå°†è¯·æ±‚å‚æ•°ç¼–ç ï¼Œä¾¿äºé€šè¿‡httpè¯·æ±‚å‘é€  
**feign. Contract**ï¼šæ”¯æŒçš„æ³¨è§£æ ¼å¼ï¼Œé»˜è®¤æ˜¯SpringMVCçš„æ³¨è§£  
**feign. Retryer**ï¼šå¤±è´¥é‡è¯•æœºåˆ¶ï¼Œè¯·æ±‚å¤±è´¥çš„é‡è¯•æœºåˆ¶ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰ï¼Œä¸è¿‡ä¼šä½¿ç”¨Ribbonçš„é‡è¯•

### æ—¥å¿—é…ç½®

å¯ä»¥é€šè¿‡é…ç½®Feignçš„æ—¥å¿—çº§åˆ«æ¥æ˜¾ç¤ºéœ€è¦çš„æ—¥å¿—ã€‚

#### 1)ã€å®šä¹‰é…ç½®ç±»

å®šä¹‰ä¸€ä¸ªfeignçš„é…ç½®æ–‡ä»¶ï¼Œå¹¶äº¤ç»™springç®¡ç†ã€‚  
feignçš„æ—¥å¿—çº§åˆ«ä¸€å¼€å§‹é»˜è®¤æ˜¯NONEï¼Œä¸æ˜¾ç¤ºä»»ä½•çš„æ—¥å¿—ï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªbeanï¼Œè¿”å›æ—¥å¿—çš„çº§åˆ«

    package com.lyd.demo.feign.config;
    import feign.Logger;
    import feign.Retryer;
    import org.springframework.context.annotation.Bean;
    import java.util.concurrent.TimeUnit;
    /**
     * @author: lyd
     * @description: feigné…ç½®æ–‡ä»¶ - æ—¥å¿—
     * @Date: 2022/9/24
     */
    @Configuration
    public class FeignConfig {
        @Bean
        public Logger.Level feignLoggerLevel() {
            return Logger.Level.BASIC;
        }
    }
    

**æ—¥å¿—çº§åˆ«æœ‰å››ç§ï¼š**

*   NONEã€æ€§èƒ½æœ€ä½³ï¼Œé€‚ç”¨äºç”Ÿäº§ã€‘ï¼šä¸è®°å½•ä»»ä½•æ—¥å¿—ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚
*   BASICã€é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒè¿½è¸ªé—®é¢˜ã€‘ï¼šä»…è®°å½•è¯·æ±‚æ–¹æ³•ã€URLã€å“åº”çŠ¶æ€ä»£ç ä»¥åŠæ‰§è¡Œæ—¶é—´ã€‚
*   HEADERSï¼šè®°å½•BASICçº§åˆ«çš„åŸºç¡€ä¸Šï¼Œè®°å½•è¯·æ±‚å’Œå“åº”çš„headerã€‚
*   FULLã€æ¯”è¾ƒé€‚ç”¨äºå¼€å‘åŠæµ‹è¯•ç¯å¢ƒå®šä½é—®é¢˜ã€‘ï¼šè®°å½•è¯·æ±‚å’Œå“åº”çš„headerã€bodyå’Œå…ƒæ•°æ®ã€‚

#### 2)ã€é…ç½®æ–‡ä»¶è®¾ç½®çº§åˆ«

springbooté»˜è®¤çš„çº§åˆ«æ˜¯infoï¼Œçº§åˆ«æ¯”è¾ƒé«˜ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œå¦‚æœåªåœ¨loggin.levelä¸‹é…ç½®çº§åˆ«ï¼Œå°±æ˜¯å…¨å±€é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŒ‡å®šåŒ…ï¼ŒæŒ‡å®šå“ªä¸ªåŒ…ä¸‹é¢çš„æ—¥å¿—çº§åˆ«ã€‚

    logging:
      level:
        com.lyd.demo.feign: debug
    

### 3)ã€é…ç½®åŸŸ

å…¨å±€é…ç½®ï¼š  
åœ¨feigné…ç½®ç±»åŠ ä¸Š@Configurationæ³¨è§£ï¼Œç›´æ¥ä¸¢ç»™springæ¥ç®¡ç†ï¼Œè¾¾æˆå…¨å±€é…ç½®ã€‚  
å±€éƒ¨é…ç½®ï¼š  
â‘ ã€å±€éƒ¨é…ç½®å¯ä»¥é€šè¿‡åœ¨feignå®¢æˆ·ç«¯ä¸­æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œåªéœ€è¦åœ¨æ³¨è§£åé¢åŠ ä¸ŠæŒ‡å®šé…ç½®ç±»

    @FeignClient(name = "service-store", path = "/api/store", configuration = FeignConfig.class)
    

â‘¡ã€å±€éƒ¨é…ç½®è¿˜å¯ä»¥ç›´æ¥é€šè¿‡ymlé…ç½®æ–‡ä»¶æ¥æŒ‡å®šã€‚

    feign:
      client:
        config:
          service-goods: FULL # æŒ‡å®šå“ªä¸ªæœåŠ¡ï¼Œå¹¶ä¸”èµ‹ä¸Šç±»å‹ã€‚
    

### é…ç½®è¶…æ—¶æ—¶é—´

é€šè¿‡ymlç›´æ¥é…ç½®è¶…æ—¶æ—¶é—´

    feign:
      client:
        config:
          default: # è¿™é‡Œç”¨defaultå°±æ˜¯å…¨å±€é…ç½®ï¼Œå¦‚æœæ˜¯å†™æœåŠ¡åç§°ï¼Œåˆ™æ˜¯é’ˆå¯¹æŸä¸ªå¾®æœåŠ¡çš„é…ç½®
            connectTimeout: 2000
            readTimeout: 2000
    

åœ¨storeæœåŠ¡ä¸­åŠ ä¸ªThread.sleep(5000)ï¼Œå°±èƒ½çœ‹åˆ°æŠ¥è¶…æ—¶å¼‚å¸¸SocketTimeoutExceptionã€‚  
![image](https://img2022.cnblogs.com/blog/1954113/202209/1954113-20220924230348662-1885321845.png)

### é‡è¯•æœºåˆ¶é…ç½®

é€šè¿‡åŠ å…¥beanæ¥å®ç°  
åˆ›å»ºé‡è¯•å™¨ ï¼ˆé‡è¯•å‘¨æœŸï¼ˆ50æ¯«ç§’ï¼‰ï¼Œæœ€å¤§é‡è¯•å‘¨æœŸï¼ˆ2000æ¯«ç§’ï¼‰ï¼Œæœ€å¤šå°è¯•æ¬¡æ•° 3æ¬¡ ï¼‰ï¼Œfeignæ²¡æœ‰é‡‡ç”¨çº¿æ€§çš„é‡è¯•æœºåˆ¶è€Œæ˜¯é‡‡ç”¨çš„æ˜¯ä¸€ç§æŒ‡æ•°çº§ï¼ˆä¹˜æ³•ï¼‰çš„é‡è¯•æœºåˆ¶ æ¯æ¬¡é‡è¯•æ—¶é—´ å½“å‰é‡è¯•æ—¶é—´\*= 1.5

    @Bean
    public Retryer retryer() {
        return new Retryer.Default(50, TimeUnit.SECONDS.toMillis(2), 3);
    }
    

åœ¨æ¥çœ‹çœ‹defaultçš„æ„é€ å™¨ï¼Œå°±èƒ½æ›´æ¸…æ¥šå‚æ•°å«ä¹‰ã€‚

    public Default(long period, long maxPeriod, int maxAttempts) {
        this.period = period;
        this.maxPeriod = maxPeriod;
        this.maxAttempts = maxAttempts;
        this.attempt = 1;
    }
    

![image](https://img2022.cnblogs.com/blog/1954113/202209/1954113-20220924230358809-1544548971.png)  
å¦‚å›¾ï¼Œä¼šè¿›è¡Œé‡è¯•ï¼Œç›´åˆ°æœ€åæŠ¥å‡ºå¼‚å¸¸ã€‚  
ä¸ä»…å¦‚æ­¤ï¼Œè¿˜å¯ä»¥é…ç½®å¥‘çº¦è®¾ç½®ï¼Œæ·»åŠ æ‹¦æˆªå™¨ç­‰ç­‰ã€‚ã€‚ã€‚

Feignä½¿ç”¨ä¼˜åŒ–
---------

Feignåº•å±‚å‘èµ·httpè¯·æ±‚ï¼Œä¾èµ–äºå…¶å®ƒçš„æ¡†æ¶ã€‚å…¶åº•å±‚å®¢æˆ·ç«¯å®ç°åŒ…æ‹¬ï¼š

*   URLConnectionï¼šé»˜è®¤å®ç°ï¼Œä¸æ”¯æŒè¿æ¥æ± 
*   Apache HttpClient ï¼šæ”¯æŒè¿æ¥æ± 
*   OKHttpï¼šæ”¯æŒè¿æ¥æ± 

è¿™æ¬¡å°±é‡‡ç”¨OkHttp

### å¯¼å…¥ä¾èµ–

    <!--okHttp-->
    <dependency>
        <groupId>io.github.openfeign</groupId>
        <artifactId>feign-okhttp</artifactId>
    </dependency>
    

### è®¾ç½®é…ç½®ç±»

    package com.lyd.demo.feign.config;
    import okhttp3.ConnectionPool;
    import okhttp3.OkHttpClient;
    import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;
    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
    import org.springframework.context.annotation.Bean;
    import org.springframework.context.annotation.Configuration;
    import java.util.concurrent.TimeUnit;
    /**
     * @author: lyd
     * @description: OkHttpFeign çš„é…ç½®
     * @Date: 2022/9/24
     */
    @Configuration
    @ConditionalOnClass({OkHttpClient.class})
    @ConditionalOnProperty({"feign.okhttp.enabled"})
    public class FeignOkhttpConfig {
        @Bean
        public okhttp3.OkHttpClient okHttpClient(OkhttpProperties okhttpProperties) {
            return new okhttp3.OkHttpClient.Builder()
                    //è®¾ç½®è¿æ¥è¶…æ—¶
                    .connectTimeout(okhttpProperties.getConnectTimeout(), TimeUnit.MILLISECONDS)
                    //è®¾ç½®è¯»è¶…æ—¶
                    .readTimeout(okhttpProperties.getReadTimeout(), TimeUnit.MILLISECONDS)
                    //æ˜¯å¦è‡ªåŠ¨é‡è¿
                    .retryOnConnectionFailure(true)
                    .connectionPool(new ConnectionPool())
                    .addInterceptor(new OkHttpLogInterceptor())
                    //æ„å»ºOkHttpClientå¯¹è±¡
                    .build();
        }
    }
    

### ymlé…ç½®

    feign:
      client:
        config:
          default:
            connectTimeout: 2000
            readTimeout: 2000
      httpclient:
        enabled: false
      okhttp:
        enabled: true
        connectTimeout: 4000
        readTimeout: 3000
    

é€šè¿‡ç±»è·å–è¶…æ—¶æ—¶é—´

    package com.lyd.demo.feign.config;
    
    import lombok.Data;
    import org.springframework.boot.context.properties.ConfigurationProperties;
    import org.springframework.stereotype.Component;
    
    /**
     * @author: lyd
     * @description: é…ç½®å‚æ•°
     * @Date: 2022/9/24
     */
    @Data
    @Component
    @ConfigurationProperties(prefix = "feign.okhttp")
    public class OkhttpProperties {
        private Long connectTimeout;
        private Long readTimeout;
    }
    
    

### æ‹¦æˆªå™¨

å¯ä»¥åœ¨æ‹¦æˆªå™¨ä¸­é…ç½®ä¸šåŠ¡éœ€æ±‚çš„ä»£ç ã€‚

    package com.lyd.demo.feign.config;
    import lombok.extern.slf4j.Slf4j;
    import okhttp3.Interceptor;
    import okhttp3.Request;
    import okhttp3.Response;
    import okhttp3.ResponseBody;
    import java.io.IOException;
    /**
     * @author: lyd
     * @description: æ‹¦æˆªå™¨
     * @Date: 2022/9/24
     */
    @Slf4j
    public class OkHttpLogInterceptor implements Interceptor {
        @Override
        public Response intercept(Interceptor.Chain chain) throws IOException {
            //è¿™ä¸ªchainé‡Œé¢åŒ…å«äº†requestå’Œresponseï¼Œæ‰€ä»¥ä½ è¦ä»€ä¹ˆéƒ½å¯ä»¥ä»è¿™é‡Œæ‹¿
            Request request = chain.request();
            long t1 = System.nanoTime();//è¯·æ±‚å‘èµ·çš„æ—¶é—´
            log.info(String.format("å‘é€è¯·æ±‚ %s on %s%n%s",
                    request.url(), chain.connection(), request.headers()));
            Response response = chain.proceed(request);
            long t2 = System.nanoTime();//æ”¶åˆ°å“åº”çš„æ—¶é—´
            //æ³¨æ„è¿™é‡Œä¸èƒ½ç›´æ¥ä½¿ç”¨response.body().string()çš„æ–¹å¼è¾“å‡ºæ—¥å¿—
            //å› ä¸ºresponse.body().string()ä¹‹åï¼Œresponseä¸­çš„æµä¼šè¢«å…³é—­ï¼Œç¨‹åºä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„responseç»™åº”ç”¨å±‚å¤„ç†
            ResponseBody responseBody = response.peekBody(1024 * 1024);
            log.info(String.format("æ¥æ”¶å“åº”: [%s] %nè¿”å›json:ã€%sã€‘ %.1fms%n%s",
                    response.request().url(),
                    responseBody.string(),
                    (t2 - t1) / 1e6d,
                    response.headers()));
            return response;
        }
    }
    

### å¼•å…¥é…ç½®

    @FeignClient(name = "service-store", path = "/api/store", configuration = FeignOkhttpConfig.class)
    

è¿è¡Œç»“æœï¼š  
![image](https://img2022.cnblogs.com/blog/1954113/202209/1954113-20220924230412000-213524246.png)

ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¯èƒ½æœ‰äº›è¯­è¨€ä¸æ˜¯å¾ˆé€šç•…ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘