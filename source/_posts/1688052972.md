---
layout: post
title: "åˆ©ç”¨å™ªå£°æ„å»ºç¾å¦™çš„ CSS å›¾å½¢"
date: "2022-07-13T04:37:21.846Z"
---
åˆ©ç”¨å™ªå£°æ„å»ºç¾å¦™çš„ CSS å›¾å½¢
================

åœ¨å¹³æ—¶ï¼Œæˆ‘éå¸¸å–œæ¬¢åˆ©ç”¨ CSS å»æ„å»ºä¸€äº›æœ‰æ„æ€çš„å›¾å½¢ã€‚

æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚é¦–å…ˆï¼Œå‡è®¾æˆ‘ä»¬å®ç°ä¸€ä¸ª 10x10 çš„æ ¼å­ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6211a28d255e4a9aaa4fda4cffd1f46a~tplv-k3u1fbpfcp-zoom-1.image)

æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€äº›éšæœºæ•ˆæœï¼Œä¼˜åŒ–è¿™ä¸ªå›¾æ¡ˆã€‚è­¬å¦‚ï¼Œæˆ‘ä»¬ç»™å®ƒéšæœºæ·»åŠ ä¸åŒçš„é¢œè‰²ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a1f2fc694e8d4dba82272e1dae609574~tplv-k3u1fbpfcp-zoom-1.image)

è™½ç„¶åˆ©ç”¨äº†éšæœºï¼Œéšæœºå¡«å……äº†æ¯ä¸€ä¸ªæ ¼å­çš„é¢œè‰²ï¼Œçœ‹ç€æœ‰é‚£ä¹ˆç‚¹æ„æ€ï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸€å¹…æ‚ä¹±æ— ç« çš„å›¾å½¢ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆè‰ºæœ¯æ„Ÿã€‚

è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºè¿™é‡Œçš„éšæœºå±äºå®Œå…¨éšæœºï¼Œå±äºä¸€ç§ç™½å™ªå£°ã€‚

ä»€ä¹ˆæ˜¯ç™½å™ªå£°ï¼Ÿ
-------

å™ªå£°ï¼ˆNoiseï¼‰å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨ã€‚

é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯**ç™½å™ªå£°**å‘¢ï¼Ÿå¦‚æœä»ç¨‹åºå‘˜çš„è§’åº¦å»ç†è§£çš„è¯ï¼Œå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬åœ¨ JavaScript ä¸­ä½¿ç”¨çš„ `random()` å‡½æ•°ï¼Œç”Ÿæˆçš„æ•°å¤§è‡´åœ¨ 0~1 å†…æ˜¯å®Œå…¨éšæœºçš„ã€‚

è€Œå™ªå£°çš„åŸºç¡€æ˜¯éšæœºæ•°ï¼Œè­¬å¦‚æˆ‘ä»¬ç»™ä¸Šè¿°çš„å›¾å½¢æ¯ä¸€ä¸ªæ ¼å­æ·»åŠ äº†ä¸€ä¸ªéšæœºé¢œè‰²ï¼Œå¾—åˆ°çš„å°±æ˜¯ä¸€å¹…æ‚ä¹±æ— ç« çš„å›¾å½¢å—ï¼Œæ²¡æœ‰å¤ªå¤šç¾æ„Ÿå¯è¨€ã€‚

> ç™½å™ªå£°æˆ–ç™½æ‚è®¯ï¼Œæ˜¯ä¸€ç§åŠŸç‡[è°±å¯†åº¦](https://baike.baidu.com/item/%E8%B0%B1%E5%AF%86%E5%BA%A6)ä¸ºå¸¸æ•°çš„éšæœºä¿¡å·ã€‚æ¢å¥è¯è¯´ï¼Œæ­¤[ä¿¡å·](https://baike.baidu.com/item/%E4%BF%A1%E5%8F%B7)åœ¨å„ä¸ªé¢‘æ®µä¸Šçš„åŠŸç‡è°±å¯†åº¦æ˜¯ä¸€æ ·çš„ï¼Œç”±äºç™½å…‰æ˜¯ç”±å„ç§é¢‘ç‡ï¼ˆé¢œè‰²ï¼‰çš„å•è‰²å…‰æ··åˆè€Œæˆï¼Œå› è€Œæ­¤ä¿¡å·çš„è¿™ç§å…·æœ‰å¹³å¦[åŠŸç‡è°±](https://baike.baidu.com/item/%E5%8A%9F%E7%8E%87%E8%B0%B1)çš„æ€§è´¨è¢«ç§°ä½œæ˜¯â€œç™½è‰²çš„â€ï¼Œæ­¤ä¿¡å·ä¹Ÿå› æ­¤è¢«ç§°ä½œç™½å™ªå£°ã€‚

å› ä¸ºï¼Œåˆ©ç”¨ç™½å™ªå£°äº§ç”Ÿçš„å›¾å½¢ï¼Œçœ‹èµ·ä¸è‡ªç„¶ï¼Œä¹Ÿä¸å¤ªå…·å¤‡ç¾æ„Ÿã€‚

è§‚å¯Ÿç°å®ç”Ÿæ´»ä¸­çš„è‡ªç„¶å™ªå£°ï¼Œå®ƒä»¬ä¸ä¼šé•¿æˆä¸Šé¢çš„æ ·å­ã€‚ä¾‹å¦‚æœ¨å¤´çš„çº¹ç†ã€å±±è„‰çš„èµ·ä¼ï¼Œå®ƒä»¬çš„å½¢çŠ¶æ˜¯è¶‹äºåˆ†å½¢çŠ¶ï¼ˆfractalï¼‰çš„ï¼Œå³åŒ…å«äº†ä¸åŒç¨‹åº¦çš„ç»†èŠ‚ï¼Œè¿™äº›éšæœºçš„æˆåˆ†å¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä¸€å®šçš„å…³è”ã€‚å’Œæ˜¾ç„¶ï¼Œç™½å™ªå£°æ²¡æœ‰åšåˆ°è¿™ä¸€ç‚¹ã€‚

æŸæ—å™ªå£°
----

è¿™æ ·ï¼Œæˆ‘ä»¬å°±è‡ªç„¶è€Œç„¶çš„å¼•å…¥äº†**æŸæ—å™ªå£°**ã€‚

Perlin å™ªå£° ( Perlin noise ) æŒ‡ç”± Ken Perlin å‘æ˜çš„è‡ªç„¶å™ªå£°ç”Ÿæˆç®—æ³•ã€‚

åœ¨ä»‹ç»å®ƒä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹ï¼Œä¸Šè¿°çš„å›¾å½¢ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ç™½å™ªå£°ï¼ˆå®Œå…¨éšæœºï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨æŸæ—å™ªå£°ï¼Œä¼šæ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ

å®ƒå¯èƒ½æ˜¯è¿™æ ·ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c655ac088b84ba4adfaa229e70264d2~tplv-k3u1fbpfcp-zoom-1.image)

è¿™é‡Œæˆ‘åˆ¶ä½œäº†ä¸€å¼ åŠ¨å›¾ï¼Œå¤§å®¶å¯ä»¥æ„Ÿå—ä¸‹ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½æ˜¯ä¸€æ¬¡åˆ©ç”¨äº†æŸæ—å™ªå£°éšæœºï¼Œèµ‹äºˆæ¯ä¸ªæ ¼å­ä¸åŒéšæœºé¢œè‰²çš„ç»“æœï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2cdad1ca404d4e078a9b267cb20e2dd3~tplv-k3u1fbpfcp-zoom-1.image)

å¯ä»¥çœ‹åˆ°ï¼Œåˆ©ç”¨**æŸæ—å™ªå£°**éšæœºæ•ˆæœäº§ç”Ÿçš„å›¾å½¢ï¼Œå½¼æ­¤ä¹‹é—´å¹¶éæ¯«æ— å…³è”ï¼Œå®ƒä»¬ä¹‹é—´çš„å˜åŒ–æ˜¯è¿ç»­çš„ï¼Œå½¼æ­¤ä¹‹é—´å¹¶æ²¡æœ‰å‘ç”Ÿè·³å˜ã€‚è¿™ç§éšæœºæ•ˆæœï¼Œç±»ä¼¼äºè‡ªç„¶ç•Œä¸­çš„éšæœºæ•ˆæœï¼Œè­¬å¦‚ä¸Šé¢è¯´çš„ï¼Œæœ¨å¤´çº¹ç†ã€å±±è„‰èµ·ä¼çš„å˜åŒ–ã€‚

ä¸Šé¢è¯´çš„ï¼Œå™ªå£°å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨ã€‚è€Œè¿™é‡Œï¼š

1.  **ç™½å™ªå£°**çš„é—®é¢˜åœ¨äºï¼Œå®ƒå®åœ¨å¤ªè¿‡äºéšæœºï¼Œæ¯«æ— è§„å¾‹å¯è¨€
2.  è€Œ**æŸæ—å™ªå£°**åŸºäºéšæœºï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šåˆ©ç”¨ç¼“åŠ¨æ›²çº¿è¿›è¡Œå¹³æ»‘æ’å€¼ï¼Œä½¿å¾—æœ€ç»ˆå¾—åˆ°å™ªå£°æ•ˆæœæ›´åŠ è¶‹äºè‡ªç„¶

å…·ä½“çš„å®ç°æ–¹å¼åœ¨è¿™é‡Œ [Improved Noise reference implementation](https://mrl.cs.nyu.edu/~perlin/noise/)ï¼Œå¯ä»¥çœ‹çœ‹ï¼Œæºç å…¶å®ä¸æ˜¯å¾ˆå¤šï¼š

    // This code implements the algorithm I describe in a corresponding SIGGRAPH 2002 paper.
    // JAVA REFERENCE IMPLEMENTATION OF IMPROVED NOISE - COPYRIGHT 2002 KEN PERLIN.
    
    public final class ImprovedNoise {
       static public double noise(double x, double y, double z) {
          int X = (int)Math.floor(x) & 255,                  // FIND UNIT CUBE THAT
              Y = (int)Math.floor(y) & 255,                  // CONTAINS POINT.
              Z = (int)Math.floor(z) & 255;
          x -= Math.floor(x);                                // FIND RELATIVE X,Y,Z
          y -= Math.floor(y);                                // OF POINT IN CUBE.
          z -= Math.floor(z);
          double u = fade(x),                                // COMPUTE FADE CURVES
                 v = fade(y),                                // FOR EACH OF X,Y,Z.
                 w = fade(z);
          int A = p[X  ]+Y, AA = p[A]+Z, AB = p[A+1]+Z,      // HASH COORDINATES OF
              B = p[X+1]+Y, BA = p[B]+Z, BB = p[B+1]+Z;      // THE 8 CUBE CORNERS,
    
          return lerp(w, lerp(v, lerp(u, grad(p[AA  ], x  , y  , z   ),  // AND ADD
                                         grad(p[BA  ], x-1, y  , z   )), // BLENDED
                                 lerp(u, grad(p[AB  ], x  , y-1, z   ),  // RESULTS
                                         grad(p[BB  ], x-1, y-1, z   ))),// FROM  8
                         lerp(v, lerp(u, grad(p[AA+1], x  , y  , z-1 ),  // CORNERS
                                         grad(p[BA+1], x-1, y  , z-1 )), // OF CUBE
                                 lerp(u, grad(p[AB+1], x  , y-1, z-1 ),
                                         grad(p[BB+1], x-1, y-1, z-1 ))));
       }
       static double fade(double t) { return t * t * t * (t * (t * 6 - 15) + 10); }
       static double lerp(double t, double a, double b) { return a + t * (b - a); }
       static double grad(int hash, double x, double y, double z) {
          int h = hash & 15;                      // CONVERT LO 4 BITS OF HASH CODE
          double u = h<8 ? x : y,                 // INTO 12 GRADIENT DIRECTIONS.
                 v = h<4 ? y : h==12||h==14 ? x : z;
          return ((h&1) == 0 ? u : -u) + ((h&2) == 0 ? v : -v);
       }
       static final int p[] = new int[512], permutation[] = { 151,160,137,91,90,15,
       131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,
       190, 6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,
       88,237,149,56,87,174,20,125,136,171,168, 68,175,74,165,71,134,139,48,27,166,
       77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,
       102,143,54, 65,25,63,161, 1,216,80,73,209,76,132,187,208, 89,18,169,200,196,
       135,130,116,188,159,86,164,100,109,198,173,186, 3,64,52,217,226,250,124,123,
       5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,
       223,183,170,213,119,248,152, 2,44,154,163, 70,221,153,101,155,167, 43,172,9,
       129,22,39,253, 19,98,108,110,79,113,224,232,178,185, 112,104,218,246,97,228,
       251,34,242,193,238,210,144,12,191,179,162,241, 81,51,145,235,249,14,239,107,
       49,192,214, 31,181,199,106,157,184, 84,204,176,115,121,50,45,127, 4,150,254,
       138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180
       };
       static { for (int i=0; i < 256 ; i++) p[256+i] = p[i] = permutation[i]; }
    }
    

å½“ç„¶ï¼Œæœ¬æ–‡ä¸æ˜¯ä¸“é—¨æ¥è®ºè¿°**æŸæ—å™ªå£°**å¦‚ä½•å®ç°çš„ï¼Œä¸Šè¿°ä»£ç è°çœ‹äº†éƒ½å¤´å¤§ã€‚æˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æŸæ—å™ªå£°å»æ„å»ºæ›´æœ‰è§„å¾‹çš„å›¾å½¢æ•ˆæœã€‚è®©æˆ‘ä»¬çš„å›¾å½¢æ›´å…·ç¾æ„Ÿã€‚

åˆ©ç”¨ CSS-doodleï¼Œåœ¨ CSS ä¸­åˆ©ç”¨æŸæ—å™ªå£°
---------------------------

é‚£ä¹ˆï¼Œåœ¨ CSS ä¸­æˆ‘ä»¬å¦‚ä½•å»ä½¿ç”¨**æŸæ—å™ªå£°**å‘¢ï¼Ÿ

ä¸€ç§æ–¹å¼æ˜¯æ‰¾ä¸€äº›ç°æˆçš„åº“ï¼Œè­¬å¦‚ p5.js é‡Œé¢çš„ `noise` å‡½æ•°ã€‚

å½“ç„¶ï¼Œè¿™é‡Œï¼Œæˆ‘ä¹ æƒ¯ä½¿ç”¨ [CSS-doodle](https://css-doodle.com/)ï¼Œè¿™ä¸ª CSS å›¾å½¢æ„å»ºåº“æˆ‘åœ¨å¤šç¯‡æ–‡ç« ä¸­å·²ç»éƒ½æœ‰ä»‹ç»è¿‡ã€‚

ç®€å•è€Œè¨€ï¼ŒCSS-doodle å®ƒæ˜¯ä¸€ä¸ªåŸºäº Web-Component çš„åº“ã€‚å…è®¸æˆ‘ä»¬å¿«é€Ÿçš„åˆ›å»ºåŸºäº CSS Grid å¸ƒå±€çš„é¡µé¢ï¼Œå¹¶ä¸”æä¾›å„ç§ä¾¿æ·çš„æŒ‡ä»¤åŠå‡½æ•°ï¼ˆéšæœºã€å¾ªç¯ç­‰ç­‰ï¼‰ï¼Œè®©æˆ‘ä»¬èƒ½é€šè¿‡ä¸€å¥—è§„åˆ™ï¼Œå¾—åˆ°ä¸åŒ CSS æ•ˆæœã€‚å¯ä»¥ç®€å•çœ‹çœ‹å®ƒçš„ä¸»é¡µ -- [Home Page of CSS-doodle](https://css-doodle.com/)ï¼Œåªéœ€è¦ 5min ä¹Ÿè®¸å°±èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚

è­¬å¦‚ä¸Šè¿°çš„å›¾å½¢ï¼Œ**å®ƒçš„å…¨éƒ¨ä»£ç **ï¼š

    <css-doodle grid="10x10">
        :doodle {
            @size: 50vmin;
            gap: 1px;
        }
       
        background: hsl(@rn(255, 1, 2), @rn(10%, 90%), @rn(10%, 90%));
    </css-doodle>
    

æ²¡é”™ï¼Œåªéœ€è¦è¿™ä¹ˆå¯¥å¯¥å‡ å¥ï¼Œå°±å¯ä»¥å‹¾å‹’å‡ºè¿™æ ·ä¸€å¹…å›¾æ¡ˆï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc423b69e8424561975fbf2fee09d49f~tplv-k3u1fbpfcp-zoom-1.image)

[CSS Pattern -- CSS Doodle](https://codepen.io/Chokcoco/pen/eYMNWNq)

ç®€å•è§£é‡Šä¸‹ï¼š

1.  `css-doodle` æ˜¯åŸºäº Web-Component å°è£…çš„ï¼ŒåŸºæœ¬æ‰€æœ‰çš„ä»£ç éƒ½å†™åœ¨ `<css-doodle>` æ ‡ç­¾å†…ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™ä¸€äº›åŸç”Ÿ CSS/JavaScript è¾…åŠ©
2.  ä½¿ç”¨ `grid="10x10"` å³å¯ç”Ÿæˆä¸€ä¸ª 10x10 çš„ Grid ç½‘æ ¼ï¼Œå†é…åˆ `@size: 50vmin`ï¼Œè¡¨ç¤ºç”Ÿæˆä¸€ä¸ªå®½é«˜å¤§å°ä¸º `50vmin` çš„ 10x10 Grid ç½‘æ ¼å¸ƒå±€ï¼Œå…¶ä¸­ `gap: 1px` è¡¨ç¤º Gird ç½‘æ ¼å¸ƒå±€çš„ gap
3.  æœ€åï¼Œæ•´ä¸ªä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†å³æ˜¯ `background: hsl(@rn(255, 1, 2), @rn(10%, 90%), @rn(10%, 90%))`ï¼Œè¿™é‡Œå³è¡¨ç¤ºå¯¹æ¯ä¸ª grid item èµ‹äºˆèƒŒæ™¯è‰²ï¼Œå…¶ä¸­ `@rn()`ï¼Œå°±æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œåˆ©ç”¨äº†**æŸæ—å™ªå£°**ç®—æ³•ï¼Œæœ‰è§„å¾‹çš„å°†èƒŒæ™¯è‰² map åˆ°æ¯ä¸€ä¸ª grid ä¸Š

å½“ç„¶ï¼Œæœ€æ–°çš„ [CSS-doodle](https://css-doodle.com/) æ–‡æ¡£ä¸Šæš‚æ—¶è¿˜æŸ¥ä¸åˆ° `@rn()` function çš„ç”¨æ³•ã€‚ä¸ºæ­¤æˆ‘ç‰¹æ„è¯·å‡äº†ä¸‹è¯¥åº“çš„ä½œè€…[è¢å·](https://yuanchuan.dev/)è€å¸ˆã€‚

å¾—åˆ°çš„å›å¤æ˜¯ï¼Œå®˜ç½‘è¿‘æœŸä¼šé‡æ„ï¼Œæ‰€ä»¥ç›®å‰æ²¡æœ‰æ›´æ–°æœ€æ–°çš„è¯­æ³•ã€‚åŒæ—¶ï¼Œ`@rn()` çš„å®ç°ä½¿ç”¨çš„å°±æ˜¯**æŸæ—å™ªå£°**çš„å®ç°ã€‚åŒæ—¶ï¼Œå‡½æ•°ç›¸å½“äºæ˜¯ç±»ä¼¼ p5.js é‡Œé¢çš„ noise å‡½æ•°åŒæ—¶åšäº† mapï¼Œmap åˆ°å‰é¢å‡½æ•°å‚æ•°è®¾å®šçš„ from åˆ° to èŒƒå›´å†…ã€‚

è¿™é‡Œçš„ `@rn()` æŸæ—å™ªå£°éšæœºä¼šæ ¹æ® Grid ç½‘æ ¼ï¼ŒMap åˆ°æ¯ä¸€ä¸ªç½‘æ ¼ä¸Šï¼Œä½¿ä¹‹ç›¸é‚»çš„ Grid item ä¹‹é—´çš„å€¼ï¼Œå­˜åœ¨ä¸€å®šçš„å…³è”ã€‚

ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬æœ‰ä¸ª 10x10 çš„ Grid å¸ƒå±€ï¼Œç»™å…¶æ¯ä¸ª Grid itemï¼Œæ·»åŠ ä¸€ä¸ªä¼ªå…ƒç´ ï¼Œä¼ªå…ƒç´ çš„å†…å®¹ï¼Œä½¿ç”¨ `@r(100)` è¿›è¡Œå¡«å……ï¼Œæ³¨æ„ï¼Œ`@r()` å‡½æ•°æ˜¯æ²¡æœ‰è§„å¾‹çš„å®Œå…¨éšæœºï¼Œé‚£ä¹ˆç”Ÿæˆçš„æ•°å­—å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f48fae64d3c407eada0bc34fe88834c~tplv-k3u1fbpfcp-zoom-1.image)

å¯ä»¥çœ‹åˆ°ï¼Œå®ƒä»¬æ¯ä¸ªå„è‡ªä¹‹é—´çš„æ•°å­—ï¼Œæ˜¯å®Œå…¨éšæœºæ¯«æ— å…³è”çš„ã€‚

å¦‚æœæˆ‘ä»¬ä½¿ç”¨æœ‰å…³è”çš„æŸæ—å™ªå£°éšæœºå‘¢ï¼Ÿä½¿ç”¨ `@rn(100)` å¡«å……æ¯ä¸ªæ ¼å­çš„è¯ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/750b898c1ada40dd8f99345c031687cf~tplv-k3u1fbpfcp-zoom-1.image)

è§‚å¯Ÿä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“å‘ç°ï¼Œç›¸é‚»çš„ç›’å­ä¹‹é—´ï¼Œæˆ–è€…å¤šä¸ªè¿ç»­çš„æ ¼å­ä¹‹é—´ï¼Œå­˜åœ¨ä¸€å®šçš„å…³è”æ€§ï¼Œè¿™å°±ä½¿å¾—ï¼Œæˆ‘ä»¬åˆ©ç”¨å®ƒåˆ›é€ å‡ºæ¥çš„å›¾å½¢ï¼Œä¼šå…·å¤‡ä¸€å®šçš„è§„å¾‹ã€‚

å¯ä»¥ç®€å•çœ‹çœ‹æºç çš„å®ç°ï¼Œå½“å‰ï¼Œå‰ææ˜¯ä½ éœ€è¦å¯¹ CSS-doodle çš„ç”¨æ³•æœ‰ä¸€å®šçš„äº†è§£ï¼š

        rn({ x, y, context, position, grid, extra, shuffle }) {
          let counter = 'noise-2d' + position;
          let [ni, nx, ny, nm, NX, NY] = last(extra) || [];
          let isSeqContext = (ni && nm);
          return (...args) => {
            let {from = 0, to = from, frequency = 1, amplitude = 1} = get_named_arguments(args, [
              'from', 'to', 'frequency', 'amplitude'
            ]);
    
            if (args.length == 1) {
              [from, to] = [0, from];
            }
            if (!context[counter]) {
              context[counter] = new Perlin(shuffle);
            }
            frequency = clamp(frequency, 0, Infinity);
            amplitude = clamp(amplitude, 0, Infinity);
            let transform = [from, to].every(is_letter) ? by_charcode : by_unit;
            let t = isSeqContext
              ? context[counter].noise((nx - 1)/NX * frequency, (ny - 1)/NY * frequency, 0)
              : context[counter].noise((x - 1)/grid.x * frequency, (y - 1)/grid.y * frequency, 0);
            let fn = transform((from, to) => map2d(t * amplitude, from, to, amplitude));
            let value = fn(from, to);
            return push_stack(context, 'last_rand', value);
          };
        },
    

è¯­æ³•å¤§æ¦‚æ˜¯ `@rn(from, to, frequency, amplitude)`ï¼Œå…¶ä¸­ `from`ã€`to` è¡¨ç¤ºéšæœºèŒƒå›´ï¼Œè€Œ `frequency` è¡¨ç¤ºå™ªå£°çš„é¢‘ç‡ï¼Œ`amplitude` è¡¨ç¤ºå™ªå£°çš„æŒ¯å¹…ã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥ç†è§£ä¸ºæ§åˆ¶éšæœºæ•ˆæœçš„é¢‘ç‡å’Œå¹…åº¦ã€‚

å…¶ä¸­ `new Perlin(shuffle)` å³è¿ç”¨åˆ°äº†æŸæ—å™ªå£°ç®—æ³•ã€‚

Show Time
---------

OKï¼Œä¸Šæ–‡ä»‹ç»äº†å¾ˆå¤šä¸å™ªå£°å’Œ CSS-doodle ç›¸å…³çš„çŸ¥è¯†ï¼Œä¸‹é¢æˆ‘ä»¬å›å½’ CSSï¼Œå›å½’æœ¬æ–‡çš„ä¸»ä½“ã€‚

åœ¨ä¸Šè¿°å›¾å½¢çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å†æ·»åŠ ä¸Šéšæœºçš„ `scale()`ã€ä»¥åŠ `skew()`ã€‚å¦‚æœæ˜¯å®Œå…¨éšæœºçš„è¯ï¼Œä»£ç æ˜¯è¿™æ ·çš„ï¼š

    <css-doodle grid="20">
        :doodle {
            grid-gap: 1px;
            width: 600px; height: 600px;
        }
        background: hsl(@r(360), 80%, 80%);
        transform: 
            scale(@r(1.1, .3, 3)) 
            skew(@r(-45deg, 45deg, 3));
    </css-doodle>
    

    html,
    body {
        width: 100%;
        height: 100%;
        background-color: #000;
    }
    

ä¸Šè¿°ä»£ç è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ª 20x20 çš„ Grid ç½‘æ ¼ï¼Œæ¯ä¸ª Grid item éƒ½è®¾ç½®äº†å®Œå…¨éšæœºçš„èƒŒæ™¯è‰²ã€`scale()` ä»¥åŠ `skew()`ã€‚å½“ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨çš„æ˜¯ `@r()`è€Œä¸æ˜¯ `@rn()`ï¼Œæ¯ä¸ªæ ¼å­çš„æ¯ä¸ªå±æ€§çš„éšæœºï¼Œæ²¡æœ‰ä»»ä½•çš„å…³è”ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå¾—åˆ°è¿™æ ·ä¸€å¹…å›¾æ¡ˆï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cbea7b039a82460fae16247ec2e081fa~tplv-k3u1fbpfcp-zoom-1.image)

å¥½å§ï¼Œè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Œæ¯«æ— ç¾æ„Ÿå¯è¨€ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ä¸Šè¿°ä»£ç çš„åŸºç¡€ä¸Šï¼Œå°†æ™®é€šçš„å®Œå…¨éšæœºï¼Œæ”¹ä¸ºæŸæ—å™ªå£°éšæœº `@rn()`ï¼š

    <css-doodle grid="20">
        :doodle {
            grid-gap: 1px;
            width: 600px; height: 600px;
        }
        background: hsl(@rn(360), 80%, 80%);
        transform: 
            scale(@rn(1.1, .3, 3)) 
            skew(@rn(-45deg, 45deg, 3));
    </css-doodle>
    

æ­¤æ—¶ï¼Œå°±èƒ½å¾—åˆ°å®Œå…¨ä¸ä¸€æ ·çš„æ•ˆæœï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/513423d8503f4ef79134708406c065ec~tplv-k3u1fbpfcp-zoom-1.image)

è¿™æ˜¯ç”±äºï¼Œæ¯ä¸ª Grid item çš„éšæœºæ•ˆæœï¼Œéƒ½åŸºäºå®ƒä»¬åœ¨ Grid å¸ƒå±€ä¸­çš„ä½ç½®ï¼Œå½¼æ­¤å­˜åœ¨å…³è”ï¼Œè¿™å°±æ˜¯æŸæ—å™ªå£°éšæœºçš„æ•ˆæœã€‚

æˆ‘å¯ä»¥å†æ·»åŠ ä¸Š `hue-rotate` åŠ¨ç”»ï¼š

    html,
    body {
        width: 100%;
        height: 100%;
        background-color: #000;
        animation: change 10s linear infinite;
    }
    @keyframes change {
        10% {
            filter: hue-rotate(360deg);
        }
    }
    

çœ‹çœ‹æ•ˆæœï¼Œå¹¶ä¸”ï¼Œåœ¨ CSS-doodle ä¸­ï¼Œç”±äºéšæœºæ•ˆæœï¼Œæ¯æ¬¡åˆ·æ–°ï¼Œéƒ½å¯ä»¥å¾—åˆ°ä¸ä¸€æ ·çš„å›¾æ¡ˆï¼š

![cd1.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94751ae974954400a8deab321e542e3b~tplv-k3u1fbpfcp-watermark.image?)

[CSS Doodle - CSS Pattern2](https://codepen.io/Chokcoco/pen/mdxJrGR)

å½“ç„¶ï¼Œè¿™ä¸ªæ ·å¼è¿˜å¯ä»¥æ­é…å„å¼å„æ ·å…¶ä»–çš„ ideaï¼Œåƒæ˜¯è¿™æ ·ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c32c6ad7ebb34a92bd6bb2cf1532ec5a~tplv-k3u1fbpfcp-zoom-1.image)

[CSS Doodle - CSS Pattern 3](https://codepen.io/Chokcoco/pen/wvmazOy)

åˆæˆ–è€…æ˜¯è¿™æ ·ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b070959f9bcc48348a4b0063a2f7e08c~tplv-k3u1fbpfcp-watermark.image?)

[CSS Doodle - CSS Pattern 4](https://codepen.io/Chokcoco/pen/dymoOGN)

emmmï¼Œåˆæˆ–è€…è¿™æ ·ï¼š

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/29236aafe83f4b8c92fb53bd312ff040~tplv-k3u1fbpfcp-watermark.image?)

[CSS Doodle - CSS Pattern 5](https://codepen.io/Chokcoco/pen/PoRqdYP)

æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæŸæ—å™ªå£°éšæœºåº”ç”¨åœ¨å„ç§å±æ€§ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ”¾é£æƒ³è±¡ï¼Œå»å°è¯•å„ç§ä¸ä¸€æ ·çš„æ­é…ã€‚ä¸‹é¢è¿™ä¸ªï¼Œ å°±æ˜¯æŠŠæŸæ—å™ªå£°è¿ç”¨åœ¨ç‚¹é˜µå®šä½ä¸Šï¼š

    <css-doodle grid="30x30">
        :doodle {
            @size: 90vmin;
            perspective: 10px;
        }
        position: absolute;
        top: 0;
        left: 0;
        width: 2px;
        height: 2px;
        border-radius: 50%;
        top: @rn(1%, 100%, 1.5);
        left: @rn(1%, 100%, 1.5);
        transform: scale(@rn(.1, 5, 2));
        background: hsl(@rn(1, 255, 3), @rn(10%, 90%), @rn(10%, 90%));
    </css-doodle>
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2dbc465c29af4334955edf5f4cfd4fcf~tplv-k3u1fbpfcp-zoom-1.image)

[CodePen Demo -- CSS Doodle - CSS Pattern6](https://codepen.io/Chokcoco/pen/GRxJXVE)

äº¦æˆ–è€…é…åˆè¿ç”¨åœ¨ `transform: rotate()` ä¸Šï¼š

    <css-doodle grid="20x5">
        @place-cell: center;
        @size: calc(@i * 1.5%);
        :doodle {
            width: 60vmin; 
            height: 60vmin;
        }
        z-index: calc(999 - @i);
        border-radius: 50%;
        border: 1px @p(dashed, solid, double) hsl(@rn(255), 70%, @rn(60, 90%));
        border-bottom-color: transparent;
        border-left-color: transparent;
        transform: 
            rotate(@rn(-720deg, 720deg))
            scale(@rn(.8, 1.2, 3));
    </css-doodle>
    

æ•ˆæœå¦‚ä¸‹ï¼š

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/91dfb67dfd4a47f6b65df24366f374eb~tplv-k3u1fbpfcp-watermark.image?)

å½“ç„¶ï¼Œæ¯ä¸€æ¬¡éšæœºï¼Œéƒ½ä¼šæ˜¯ä¸ä¸€æ ·çš„ç»“æœï¼š

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eebadd3329ad4842b37ffa616de9ccbe~tplv-k3u1fbpfcp-watermark.image?)

[CodePen Demo -- CSS doodle - CSS Pattern7](https://codepen.io/Chokcoco/pen/ZExGjoy)

å¥½å§ï¼Œæˆ‘ä¸ªäººæƒ³è±¡åŠ›æœ‰é™ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæ‰¾åˆ°ä»»ä¸€ DEMOï¼ŒFork åè‡ªå·±å»å°è¯•ç¢°æ’å‡ºä¸ä¸€æ ·çš„ç«èŠ±ã€‚

æœ€å
--

æœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ© ğŸ˜ƒ

æ›´å¤šç²¾å½© CSS æŠ€æœ¯æ–‡ç« æ±‡æ€»åœ¨æˆ‘çš„ [Github -- iCSS](https://github.com/chokcoco/iCSS) ï¼ŒæŒç»­æ›´æ–°ï¼Œæ¬¢è¿ç‚¹ä¸ª star è®¢é˜…æ”¶è—ã€‚

å¦‚æœè¿˜æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…å»ºè®®ï¼Œå¯ä»¥å¤šå¤šäº¤æµï¼ŒåŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œä¸‡æœ›å‘ŠçŸ¥ã€‚