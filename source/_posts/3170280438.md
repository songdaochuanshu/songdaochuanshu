---
layout: post
title: "BUAAåŒ—èˆªé¢å‘å¯¹è±¡OOç¬¬ä¸€å•å…ƒæ€»ç»“"
date: "2022-03-25T13:02:16.861Z"
---
BUAAåŒ—èˆªé¢å‘å¯¹è±¡OOç¬¬ä¸€å•å…ƒæ€»ç»“
==================

OOç¬¬ä¸€å•å…ƒæ€»ç»“
========

ç›®å½•

*   [OOç¬¬ä¸€å•å…ƒæ€»ç»“](#ooç¬¬ä¸€å•å…ƒæ€»ç»“)
    *   [å‰è¨€](#å‰è¨€)
    *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š)
        *   [ç›®æ ‡](#ç›®æ ‡)
        *   [HW1åŸºæœ¬æ€è·¯](#hw1åŸºæœ¬æ€è·¯)
        *   [UMLç±»å›¾](#umlç±»å›¾)
        *   [ä»£ç è§„æ¨¡](#ä»£ç è§„æ¨¡)
        *   [å¤æ‚åº¦åˆ†æ](#å¤æ‚åº¦åˆ†æ)
            *   [æ–¹æ³•å¤æ‚åº¦](#æ–¹æ³•å¤æ‚åº¦)
                *   [åˆ†æ](#åˆ†æ)
            *   [ç±»å¤æ‚åº¦](#ç±»å¤æ‚åº¦)
                *   [åˆ†æ](#åˆ†æ-1)
        *   [ä¼˜åŒ–ç­–ç•¥](#ä¼˜åŒ–ç­–ç•¥)
    *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š)
    *   [ç›®æ ‡](#ç›®æ ‡-1)
        *   [HW2åŸºæœ¬æ€è·¯](#hw2åŸºæœ¬æ€è·¯)
        *   [UMLç±»å›¾](#umlç±»å›¾-1)
        *   [ä»£ç è§„æ¨¡](#ä»£ç è§„æ¨¡-1)
        *   [å¤æ‚åº¦åˆ†æ](#å¤æ‚åº¦åˆ†æ-1)
            *   [æ–¹æ³•å¤æ‚åº¦](#æ–¹æ³•å¤æ‚åº¦-1)
                *   [åˆ†æ](#åˆ†æ-2)
            *   [ç±»å¤æ‚åº¦](#ç±»å¤æ‚åº¦-1)
                *   [åˆ†æ](#åˆ†æ-3)
        *   [ä¼˜åŒ–ç­–ç•¥](#ä¼˜åŒ–ç­–ç•¥-1)
    *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š)
        *   [ç›®æ ‡](#ç›®æ ‡-2)
        *   [HW3åŸºæœ¬æ€è·¯](#hw3åŸºæœ¬æ€è·¯)
        *   [UMLç±»å›¾](#umlç±»å›¾-2)
        *   [ä»£ç è§„æ¨¡](#ä»£ç è§„æ¨¡-2)
        *   [å¤æ‚åº¦åˆ†æ](#å¤æ‚åº¦åˆ†æ-2)
            *   [æ–¹æ³•å¤æ‚åº¦](#æ–¹æ³•å¤æ‚åº¦-2)
                *   [åˆ†æ](#åˆ†æ-4)
            *   [ç±»å¤æ‚åº¦](#ç±»å¤æ‚åº¦-2)
                *   [åˆ†æ](#åˆ†æ-5)
        *   [ä¼˜åŒ–ç­–ç•¥](#ä¼˜åŒ–ç­–ç•¥-2)
    *   [æ•´ä½“æ¶æ„åˆ†æ](#æ•´ä½“æ¶æ„åˆ†æ)
    *   [æ•°æ®ç”ŸæˆåŠè‡ªåŠ¨åŒ–è¯„æµ‹](#æ•°æ®ç”ŸæˆåŠè‡ªåŠ¨åŒ–è¯„æµ‹)
        *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š-1)
            *   [æ•°æ®ç”Ÿæˆ](#æ•°æ®ç”Ÿæˆ)
            *   [ä»£ç ç¤ºä¾‹](#ä»£ç ç¤ºä¾‹)
            *   [è‡ªåŠ¨åŒ–è¯„æµ‹](#è‡ªåŠ¨åŒ–è¯„æµ‹)
        *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š-1)
            *   [æ•°æ®ç”Ÿæˆ](#æ•°æ®ç”Ÿæˆ-1)
                *   [ä»£ç ç¤ºä¾‹](#ä»£ç ç¤ºä¾‹-1)
            *   [è‡ªåŠ¨åŒ–è¯„æµ‹](#è‡ªåŠ¨åŒ–è¯„æµ‹-1)
                *   [ä»£ç ç¤ºä¾‹](#ä»£ç ç¤ºä¾‹-2)
        *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š-1)
            *   [æ•°æ®ç”Ÿæˆ](#æ•°æ®ç”Ÿæˆ-2)
                *   [ä»£ç ç¤ºä¾‹](#ä»£ç ç¤ºä¾‹-3)
            *   [è‡ªåŠ¨åŒ–è¯„æµ‹](#è‡ªåŠ¨åŒ–è¯„æµ‹-2)
    *   [è‡ªæˆ‘ç¨‹åºbugåˆ†æåŠæµ‹è¯•æ‰‹æ®µ](#è‡ªæˆ‘ç¨‹åºbugåˆ†æåŠæµ‹è¯•æ‰‹æ®µ)
        *   [è‡ªæˆ‘ç¨‹åºbugåˆ†æ](#è‡ªæˆ‘ç¨‹åºbugåˆ†æ)
            *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š-2)
            *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š-2)
            *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š-2)
        *   [æµ‹è¯•æ‰‹æ®µ](#æµ‹è¯•æ‰‹æ®µ)
            *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š-3)
            *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š-3)
            *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š-3)
    *   [ä»–äººç¨‹åºbugåˆ†æ](#ä»–äººç¨‹åºbugåˆ†æ)
        *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š-4)
        *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š-4)
        *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š-4)
    *   [hackåˆ«äººç¨‹åºbugç­–ç•¥](#hackåˆ«äººç¨‹åºbugç­–ç•¥)
        *   [ç¬¬ä¸€æ¬¡ä½œä¸š](#ç¬¬ä¸€æ¬¡ä½œä¸š-5)
        *   [ç¬¬äºŒæ¬¡ä½œä¸š](#ç¬¬äºŒæ¬¡ä½œä¸š-5)
        *   [ç¬¬ä¸‰æ¬¡ä½œä¸š](#ç¬¬ä¸‰æ¬¡ä½œä¸š-5)
        *   [hackç­–ç•¥åˆ†æ](#hackç­–ç•¥åˆ†æ)
    *   [å¿ƒå¾—ä½“ä¼š](#å¿ƒå¾—ä½“ä¼š)
    *   [é¸£è°¢](#é¸£è°¢)

å‰è¨€
--

æœ¬æ¬¡OOç¬¬ä¸€å•å…ƒæ€»ç»“å°†ä»å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†å±•å¼€:

1.ä¸‰æ¬¡ä½œä¸šè¿­ä»£å¼€å‘æ€è·¯

2.æ•´ä½“æ¶æ„åˆ†æ

3.è‡ªåŠ¨åŒ–ç”Ÿæˆæ•°æ®åŠè‡ªåŠ¨åŒ–æµ‹è¯„å®ç°æ€è·¯

4.è‡ªæˆ‘ç¨‹åºbugåˆ†æåŠæµ‹è¯•æ‰‹æ®µ

5.ä»–äººç¨‹åºbugåˆ†æ

6.hackåˆ«äººç¨‹åºbugç­–ç•¥

7.å¿ƒå¾—ä½“ä¼š

8.é¸£è°¢

å¤æ‚åº¦åˆ†æåˆ©ç”¨IDEAçš„MetricsReloadedæ’ä»¶ï¼Œä»£ç è§„æ ¼ç»Ÿè®¡åˆ©ç”¨IDEAçš„staticæ’ä»¶

ç¬¬ä¸€æ¬¡ä½œä¸š
-----

### ç›®æ ‡

é€šè¿‡å¯¹è¡¨è¾¾å¼ç»“æ„è¿›è¡Œå»ºæ¨¡ï¼Œå®Œæˆå•å˜é‡å¤šé¡¹å¼çš„æ‹¬å·å±•å¼€ï¼Œåˆæ­¥ä½“ä¼šå±‚æ¬¡åŒ–è®¾è®¡çš„æ€æƒ³

### HW1åŸºæœ¬æ€è·¯

â€‹ è™½ç„¶ç¬”è€…åœ¨å¯’å‡è¾ƒä¸ºå……åˆ†åœ°é¢„ä¹ äº†JAVAï¼Œä½†åœ¨é¢å¯¹ç¬¬ä¸€æ¬¡ä½œä¸šæ—¶ä»ç„¶æ„Ÿåˆ°æœ‰ä¸€ç‚¹æ— ä»ä¸‹æ‰‹ï¼Œæ„Ÿåˆ°éš¾åº¦å·¨å¤§ï¼Œå°¤å…¶æ˜¯åœ¨é¢å¯¹ä¸€ç§å«åšâ€œé€’å½’ä¸‹é™â€çš„å‰æ‰€æœªé—»çš„æ–¹æ³•æ—¶ï¼Œç¬”è€…ä¸€åº¦è®¤ä¸ºç¬”è€…è¿‡ä¸äº†ä¸­æµ‹ã€‚å¯æ˜¯äº‹å®è¯æ˜è¯¾ç¨‹ç»„å¯¹ä½œä¸šçš„å®‰æ’å’Œè®¾ç½®æ˜¯åˆç†çš„ï¼Œåœ¨æ½œä¸‹å¿ƒæ¥ç ”ç©¶é€’å½’ä¸‹é™æ³•åï¼Œç¬”è€…å‘ç°è¿™ç§æ–¹æ³•å¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„è¿™ä¹ˆéš¾ï¼Œåªæ˜¯ä¸€ç§åŸºäºæ–‡æ³•çš„é€’å½’è°ƒç”¨ã€‚å½“**è¦è§£æä¸€ä¸ªè¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå¯ä»¥é€’å½’ä¸‹é™è§£æè¡¨è¾¾å¼ä¸­çš„æ¯ä¸€ä¸ªé¡¹ï¼›å½“è¦è§£æé¡¹çš„æ—¶å€™ï¼Œå¯ä»¥é€’å½’ä¸‹é™æ¯ä¸€ä¸ªå› å­ã€‚è§£ææ¯ä¸€ä¸ªå› å­çš„æ—¶å€™ï¼Œæ ¹æ®å½“å‰çš„tokenè§£æåˆ†ç±»è§£ææ¯ä¸€ä¸ªå› å­(å¹‚å‡½æ•°ï¼Œå¸¸æ•°ï¼Œè¡¨è¾¾å¼å› å­)**ã€‚è¿™æ ·ä¸€æ¥ï¼Œåˆ©ç”¨é€’å½’ä¸‹é™ä¾¿å¯ä»¥å¾ˆè‡ªç„¶åœ°å¤„ç†æ‹¬å·åµŒå¥—çš„æƒ…å†µã€‚å› æ­¤ï¼Œä»ç¬¬ä¸€æ¬¡ä½œä¸šåˆ°ç¬¬ä¸‰æ¬¡ä½œä¸šï¼Œç¬”è€…éƒ½èƒ½ç‹—å¤„ç†åµŒå¥—æ‹¬å·çš„æƒ…å†µ(è‡ªå·±æœ‰ç©ºç©ç©(1+(1+x)\*\*2)\*\*2ä¹ŸæŒºçˆ½çš„)

â€‹ åœ¨ç†è§£äº†è¿™ä¸€ç‚¹åï¼Œç¬”è€…åˆé‡åˆ°äº†ä¸€ä¸ªéš¾ç‚¹ï¼Œåº”è¯¥é‡‡å–ä»€ä¹ˆæ•°æ®ç»“æ„æ¥è¡¨ç¤ºæ¯ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼Ÿç”±äºå½“æ—¶ç¬”è€…ä»ç„¶æ˜¯é¢å‘è¿‡ç¨‹æ€ç»´(ç°åœ¨ä¼¼ä¹ä¹Ÿæ²¡æœ‰æ”¹å–„å¤šå°‘oao)ï¼Œç®€å•åœ°é‡‡å–äº†é‡‡ç”¨`HashMap<Integer, BigInteger>`æ¥ä¿å­˜æ¯ä¸ªxçš„æŒ‡æ•°å’Œç³»æ•°ï¼Œè™½ç„¶å¯¹äºç¬¬ä¸€æ¬¡ä½œä¸šè¿™æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å¯¹äºç¬¬äºŒæ¬¡ä½œä¸šä¾¿æ‰è¥Ÿè§è‚˜ï¼Œä¸å¾—ä¸é‡æ„äº†ã€‚

### UMLç±»å›¾

![OO1](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201145557-2024708211.jpg)

PowFuncã€Exprã€ConstantNumå®ç°Factoræ¥å£ä¾¿äºå®ç°å¤šæ€è¿›è¡Œé€’å½’è°ƒç”¨ï¼Œparserç±»ä¾èµ–Lexerè¿›è¡Œæ–‡æ³•è§£æ

### ä»£ç è§„æ¨¡

![HW1static](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201145931-398523580.png)

ä¸€å…±å†™äº†474è¡Œä»£ç ï¼Œä¼¼ä¹å¹¶ä¸ç®—å¤šï¼Ÿ

### å¤æ‚åº¦åˆ†æ

#### æ–¹æ³•å¤æ‚åº¦

å…ˆè§£é‡Šä¸€ä¸‹ev(G)ã€ iv(G)ã€ v(G)çš„å«ä¹‰

> ev(G)æ˜¯**åŸºæœ¬å¤æ‚åº¦**ï¼Œæ˜¯ç”¨æ¥è¡¡é‡ç¨‹åºéç»“æ„åŒ–ç¨‹åº¦çš„ï¼Œéç»“æ„æˆåˆ†é™ä½äº†ç¨‹åºçš„è´¨é‡ï¼Œå¢åŠ äº†ä»£ç çš„ç»´æŠ¤éš¾åº¦ï¼Œä½¿ç¨‹åºéš¾äºç†è§£ã€‚å› æ­¤ï¼ŒåŸºæœ¬å¤æ‚åº¦é«˜æ„å‘³ç€éç»“æ„åŒ–ç¨‹åº¦é«˜ï¼Œéš¾ä»¥æ¨¡å—åŒ–å’Œç»´æŠ¤ã€‚å®é™…ä¸Šï¼Œæ¶ˆé™¤äº†ä¸€ä¸ªé”™è¯¯æœ‰æ—¶ä¼šå¼•èµ·å…¶ä»–çš„é”™è¯¯ã€‚
> 
> Iv(G)æ˜¯**æ¨¡å—è®¾è®¡å¤æ‚åº¦**ï¼Œæ˜¯ç”¨æ¥è¡¡é‡æ¨¡å—åˆ¤å®šç»“æ„ï¼Œå³æ¨¡å—å’Œå…¶ä»–æ¨¡å—çš„è°ƒç”¨å…³ç³»ã€‚è½¯ä»¶æ¨¡å—è®¾è®¡å¤æ‚åº¦é«˜æ„å‘³æ¨¡å—è€¦åˆåº¦é«˜ï¼Œè¿™å°†å¯¼è‡´æ¨¡å—éš¾äºéš”ç¦»ã€ç»´æŠ¤å’Œå¤ç”¨ã€‚æ¨¡å—è®¾è®¡å¤æ‚åº¦æ˜¯ä»æ¨¡å—æµç¨‹å›¾ä¸­ç§»å»é‚£äº›ä¸åŒ…å«è°ƒç”¨å­æ¨¡å—çš„åˆ¤å®šå’Œå¾ªç¯ç»“æ„åå¾—å‡ºçš„åœˆå¤æ‚åº¦ï¼Œå› æ­¤æ¨¡å—è®¾è®¡å¤æ‚åº¦ä¸èƒ½å¤§äºåœˆå¤æ‚åº¦ï¼Œé€šå¸¸æ˜¯è¿œå°äºåœˆå¤æ‚åº¦ã€‚
> 
> v(G)æ˜¯**åœˆå¤æ‚åº¦**ï¼Œç”¨æ¥è¡¡é‡ä¸€ä¸ªæ¨¡å—åˆ¤å®šç»“æ„çš„å¤æ‚ç¨‹åº¦ï¼Œæ•°é‡ä¸Šè¡¨ç°ä¸ºç‹¬ç«‹è·¯å¾„çš„æ¡æ•°ï¼Œå³åˆç†çš„é¢„é˜²é”™è¯¯æ‰€éœ€æµ‹è¯•çš„æœ€å°‘è·¯å¾„æ¡æ•°ï¼Œåœˆå¤æ‚åº¦å¤§è¯´æ˜ç¨‹åºä»£ç å¯èƒ½è´¨é‡ä½ä¸”éš¾äºæµ‹è¯•å’Œç»´æŠ¤ï¼Œç»éªŒè¡¨æ˜ï¼Œç¨‹åºçš„å¯èƒ½é”™è¯¯å’Œé«˜çš„åœˆå¤æ‚åº¦æœ‰ç€å¾ˆå¤§å…³ç³»ã€‚
> 
> from: [https://blog.csdn.net/weixin\_30346033/article/details/97099084](https://blog.csdn.net/weixin_30346033/article/details/97099084)

Method

CogC

ev(G)

iv(G)

v(G)

ConstantNum.ConstantNum(String)

0

1

1

1

ConstantNum.changeForNeg()

3

1

3

3

ConstantNum.getPowAndCoe()

0

1

1

1

ConstantNum.setNegative(boolean)

0

1

1

1

Expr.Expr()

0

1

1

1

Expr.addTerm(Term, boolean)

0

1

1

1

Expr.changeForNeg()

3

1

3

3

Expr.getPowAndCoe()

0

1

1

1

Expr.getStrFunc(int, BigInteger)

11

3

7

8

Expr.merge()

3

1

3

3

Expr.mergeByPow(int)

7

1

5

5

Expr.setNegative(boolean)

0

1

1

1

Expr.toString()

8

1

5

5

Lexer.Lexer(String)

0

1

1

1

Lexer.getNum()

2

1

3

3

Lexer.getPowX()

5

1

4

4

Lexer.getSignedNum()

0

1

1

1

Lexer.isPow()

1

1

2

2

Lexer.isSignedNum()

1

1

3

3

Lexer.moveBlank()

3

2

2

4

Lexer.next()

8

2

6

7

Lexer.peek()

0

1

1

1

Main.main(String\[\])

3

3

2

3

Parser.Parser(Lexer)

0

1

1

1

Parser.parseExpr()

8

1

6

6

Parser.parseFactor()

11

4

6

6

Parser.parseTerm()

4

1

4

4

PowFunc.PowFunc(String)

2

1

2

2

PowFunc.changeForNeg()

3

1

3

3

PowFunc.getPowAndCoe()

0

1

1

1

PowFunc.setNegative(boolean)

0

1

1

1

Term.Term()

0

1

1

1

Term.addFactor(Factor, boolean)

0

1

1

1

Term.getPowAndCoe()

0

1

1

1

Term.merge()

14

1

7

7

Term.setNegetive(boolean)

0

1

1

1

Total

100.0

45.0

93.0

98.0

Average

2.78

1.25

2.58

2.72

##### åˆ†æ

å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä½“çš„å¤æ‚åº¦å¹¶ä¸é«˜ã€‚ä½†å¯ä»¥å‘ç°å…¶ä¸­Parserç±»çš„æ–¹æ³•å¤æ‚åº¦è¾ƒé«˜ï¼Œè¿™æ˜¯å› ä¸ºparserç±»ä½œä¸ºé€’å½’ä¸‹é™çš„åˆ†æå™¨ï¼Œå¤§é‡è°ƒç”¨äº†Exprï¼ŒTermï¼ŒFactorçš„æ–¹æ³•(å°†æŸä¸€é¡¹è®¾ç½®ä¸ºè´Ÿæ•°)ã€‚è¿™ä¸€ç‚¹æ˜¯å½“åˆå†™ä»£ç çš„æ—¶å€™è€ƒè™‘å¾—ä¸å¤Ÿå‘¨å…¨çš„åœ°æ–¹ï¼Œåº”è¯¥æŠŠæ¯ä¸€é¡¹è®¾ç½®ä¸ºè´Ÿæ•°å’Œparserç±»è§£è€¦ã€‚

#### ç±»å¤æ‚åº¦

åŒæ ·å…ˆè§£é‡Šä¸€ä¸‹OCavgã€OCmaxã€ WMCçš„å«ä¹‰

> OCavgæ˜¯ç±»å¹³å‡åœˆå¤æ‚åº¦, ç»§æ‰¿ç±»ä¸è®¡å…¥
> 
> OCmaxåº”è¯¥æ˜¯ç±»æœ€å¤§åœˆå¤æ‚åº¦
> 
> WMCæ˜¯ç±»æ€»åœˆå¤æ‚åº¦

Class

OCavg

OCmax

WMC

ConstantNum

1.5

3

6

Expr

3

7

27

Lexer

2.33

7

21

Main

3

3

3

Parser

4

6

16

PowFunc

1.75

3

7

Term

2.2

7

11

Total

91.0

Average

2.53

5.1

13.0

##### åˆ†æ

åŒæ ·å¯ä»¥çœ‹åˆ°ï¼Œparserç±»çš„å¤æ‚åº¦æ¯”è¾ƒé«˜ï¼Œç†ç”±åŒä¸Šã€‚

### ä¼˜åŒ–ç­–ç•¥

ç¬¬ä¸€æ¬¡ä½œä¸šç”±äºåªåŒ…å«å¤šé¡¹å¼ï¼Œå› æ­¤ä¼˜åŒ–è¾ƒä¸ºç®€å•ï¼Œç¬”è€…é‡‡ç”¨HashMap<Integer,Biginteger>ä½œä¸ºæ¯ä¸ªå› å­ï¼Œé¡¹ï¼Œè¡¨è¾¾å¼çš„åŸºæœ¬é¡¹ï¼Œä¿å­˜æŒ‡æ•°å’Œç³»æ•°ã€‚

åŒ–ç®€æ—¶æ ¹æ®HashMapçš„æŒ‡æ•°å’Œç³»æ•°æ¥è¿›è¡Œåˆå¹¶åŒç±»é¡¹ï¼Œç”±äºHashMapå­˜çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œå› æ­¤ä¹Ÿå°±ä¸å­˜åœ¨æ·±æ‹·è´å’Œæµ…æ‹·è´çš„é—®é¢˜ã€‚

å¯ä»¥åšçš„ä¼˜åŒ–æœ‰x\*\*2->x\*x,æŠŠæ­£é¡¹æåˆ°å‰é¢ã€‚

ä½†ç”±äºç¬”è€…å¤ªæ‡’äº†ï¼Œæ²¡æœ‰æŠŠç¬¬ä¸€é¡¹å‰é¢çš„"+"å»æ‰ï¼Œå¯¼è‡´ç­”æ¡ˆä¸º1çš„æ—¶å€™ä¼šè¾“å‡º+1ï¼Œå› æ­¤å¼ºæµ‹ç¢°åˆ°è¿™ä¸ªç‚¹æ€§èƒ½åˆ†ä¸€ä¸‹å­å°±å…¨æ²¡äº†= =

ç¬¬äºŒæ¬¡ä½œä¸š
-----

ç›®æ ‡
--

é€šè¿‡å¯¹è¡¨è¾¾å¼ç»“æ„è¿›è¡Œå»ºæ¨¡ï¼Œå®Œæˆå¤šé¡¹å¼çš„æ‹¬å·å±•å¼€ä¸å‡½æ•°è°ƒç”¨ã€åŒ–ç®€ï¼Œè¿›ä¸€æ­¥ä½“ä¼šå±‚æ¬¡åŒ–è®¾è®¡çš„æ€æƒ³

### HW2åŸºæœ¬æ€è·¯

ç¬¬äºŒæ¬¡ä½œä¸šåœ¨ç¬¬ä¸€æ¬¡ä½œä¸šçš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸‰è§’å‡½æ•°å› å­ï¼Œè‡ªå®šä¹‰å‡½æ•°ï¼Œæ±‚å’Œå‡½æ•°ç­‰å†…å®¹ã€‚

è¿™æ ·ä¸€æ¥é‡‡ç”¨HashMap<Integer,Biginteger>ä½œä¸ºæ¯ä¸ªå› å­ï¼Œé¡¹ï¼Œè¡¨è¾¾å¼çš„åŸºæœ¬é¡¹çš„æ€è·¯å°±å®Œå…¨è¡Œä¸é€šäº†,åªèƒ½è¿›è¡Œé‡æ„ï¼Œç¬”è€…æœ¬æ¥æƒ³ç”¨ä¸€ä¸ªå››å…ƒç»„ä½œä¸ºåŸºæœ¬é¡¹ï¼Œæ¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé¡¹ï¼Œå› å­ä¿å­˜å½¢å¦‚`a*x**b*cos(x)**c*sin(x)**d`çš„åŸºæœ¬é¡¹ï¼Œä½†è¿™æ ·ä¸€çœ‹å°±å¾ˆä¸OOï¼Œå¹¶ä¸”åœ¨ä»”ç»†é˜…è¯»äº†æŒ‡å¯¼ä¹¦åï¼Œç¬”è€…å‘ç°è¿˜ä¼šæœ‰ç±»ä¼¼`a*x**b*cos(x)**c*sin(x)**d*cos(x**e)**f*sin(x**g)**h`è¿™æ ·çš„é¡¹ï¼Œå› æ­¤åŸºæœ¬é¡¹çš„é•¿åº¦æ˜¯ä¸å®šçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆä¹Ÿè¢«å¦å†³äº†ã€‚ä¸ºäº†æ›´å¥½åœ°ä»ç¬¬ä¸€æ¬¡ä½œä¸šè¿­ä»£åˆ°ç¬¬äºŒæ¬¡ä½œä¸šï¼Œç¬”è€…æœ€åå†³å®šæ–°å»ºä¸€ä¸ªç±»BasicTermä½œä¸ºæ¯ä¸ªè¡¨è¾¾å¼ï¼Œé¡¹ï¼Œå› å­çš„åŸºæœ¬é¡¹ã€‚

![BasicTerm](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201146197-1233135926.png)

å…¶ä¸­æ¯ä¸ªåŸºæœ¬é¡¹æœ‰ä¸‰ä¸ªåˆ—è¡¨ï¼Œä¿å­˜å¹‚å‡½æ•°ï¼Œcosï¼Œsinå› å­ï¼Œåœ¨BasicTermä¸­å®ç°â€œBasicTermç›¸åŠ è¿ç®—â€ã€â€œBasicTermç›¸ä¹˜è¿ç®—â€æœ€åä¾¿å¯ä»¥ç±»ä¼¼ä½œä¸šä¸€ä¸­ä½¿ç”¨HashMap<BasicTerm, BigInteger>åŒ–ç®€(å…¶ä¸­BigInterä¸ºæ¯ä¸€ä¸ªåŸºæœ¬é¡¹çš„ç³»æ•°)ã€‚

å¯¹äºæ–‡æ³•è§£æå™¨Parserå’ŒLexerï¼Œç”±äºç¬¬ä¸€æ¬¡ä½œä¸šåˆ°ç¬¬äºŒæ¬¡ä½œä¸šæ–‡æ³•åŸºæœ¬æ²¡æœ‰å˜åŒ–ï¼Œæ‰€ä»¥ä¸éœ€è¦é‡æ„ï¼Œåªéœ€è¦åœ¨Lexerå¢åŠ å¯¹æ–°å¢åŠ çš„å› å­çš„è§£æï¼Œä»¥åŠåœ¨Parserä¸­å®ç°å¯¹æ–°å¢å› å­çš„é€’å½’ä¸‹é™å³å¯ã€‚

å¯¹äºæ–°å¢çš„è‡ªå®šä¹‰å‡½æ•°ï¼Œç¬”è€…çš„åšæ³•æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œå³å°†å¯¹åº”çš„å®å‚æ·»åŠ æ‹¬å·åæ›¿æ¢åˆ°å‡½æ•°å®šä¹‰å¼ä¸­å¾—åˆ°å¾…è§£æçš„è¡¨è¾¾å¼ï¼Œåˆ©ç”¨Parserå’ŒLexerè§£æè¡¨è¾¾å¼ï¼Œæœ€åå°†è§£æå®Œæˆçš„è¡¨è¾¾å¼è¿”å›ã€‚

å¯¹äºæ–°å¢çš„æ±‚å’Œå‡½æ•°ï¼Œç¬”è€…çš„åšæ³•ä¹Ÿæ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œå…ˆè®¾ç½®ä¸€ä¸ªæ€»è¡¨è¾¾å¼ï¼Œç„¶åå°†æ¯ä¸ªæ±‚å’Œè¡¨è¾¾å¼ä¸­çš„iæ¢æˆå½“å‰è¿›è¡Œè¿ç®—çš„æ•°å­—ï¼Œç„¶åå°†"+æ›¿æ¢åçš„è¡¨è¾¾å¼"åŠ å…¥åˆ°æ€»è¡¨è¾¾å¼ä¸­ï¼Œæœ€åç±»ä¼¼è‡ªå®šä¹‰å‡½æ•°å¯¹æ€»è¡¨è¾¾å¼è¿›è¡Œè§£æ(ç°åœ¨çœ‹æ¥ä¼¼ä¹å¯ä»¥è¾¹ä»£å…¥è¾¹è§£æï¼Œè€Œä¸å¿…è½¬åŒ–æˆä¸€ä¸ªæ€»è¡¨è¾¾å¼å†è¿›è¡Œè§£æ)ï¼Œç„¶åå°†è§£æå®Œæˆçš„è¡¨è¾¾å¼è¿”å›ã€‚

å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¬”è€…çš„å®ç°ä¸­ï¼Œè‡ªå®šä¹‰å‡½æ•°å’Œæ±‚å’Œå‡½æ•°è¿™ä¸¤ä¸ªå› å­å…¶å®æœ€ååœ¨è¾“å…¥è¡¨è¾¾å¼ä¸­çš„åœ°ä½å°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å› å­ï¼Œåªä¸è¿‡è§£æçš„æ–¹æ³•ä¸è¡¨è¾¾å¼å› å­æœ‰æ‰€ä¸åŒã€‚åŒæ—¶ï¼Œè¦å®ç°ç¬”è€…å¯¹è‡ªå®šä¹‰å‡½æ•°å’Œæ±‚å’Œå‡½æ•°çš„è§£ææ–¹æ³•ï¼Œè¦æ±‚ç¨‹åºèƒ½æ”¯æŒå¯¹åµŒå¥—æ‹¬å·çš„å¤„ç†ï¼Œè€Œå¯¹äºé€’å½’ä¸‹é™æ³•ï¼Œè¿™ä¸€ç‚¹ä¹Ÿå°±æ˜¯è‡ªç„¶è€Œç„¶çš„äº†ã€‚

æœ€åï¼Œå…³äºç»“æœçš„è¾“å‡ºæ–¹æ³•ï¼Œç¬”è€…æ˜¯åœ¨é¡¶å±‚Exprçš„toStringé€’å½’è°ƒç”¨æ¯ä¸ªTermçš„toStringï¼Œæ¯ä¸ªTermé€’å½’è°ƒç”¨å› å­çš„toStringè¿™æ ·é€’å½’è¾“å‡º

### UMLç±»å›¾

![OOHW2](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201146890-1732024371.png)

å…¶ä¸­Exprï¼Œ Termï¼Œ ConstantNumï¼Œ PowFuncï¼Œ Cosï¼Œ Sinå®ç°äº†Factoræ¥å£ï¼Œç”±äºè‡ªå®šä¹‰å‡½æ•°å’Œæ±‚å’Œå‡½æ•°åªæ˜¯è¿”å›çš„æ˜¯è¡¨è¾¾å¼å› å­ï¼Œè€Œæœ¬è´¨ä¸Šåªæ˜¯ä¸€ç§â€œè§£ææ–¹æ³•â€ï¼Œæ•…ä¸ä½œä¸ºFactoræ¥å£çš„å®ç°ã€‚

åŒæ—¶Termä¾èµ–Simplificationç±»çš„é™æ€æ–¹æ³•è¿›è¡ŒåŒ–ç®€ã€‚

### ä»£ç è§„æ¨¡

![HW2static](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201147377-1267186875.png)

å¯¹æ¯”äºç¬¬ä¸€æ¬¡ä½œä¸šçš„474è¡Œä»£ç ï¼Œç¬¬äºŒæ¬¡ä½œä¸šæ€»å…±ä¸º1251è¡Œä»£ç ï¼Œå‡ ä¹æ˜¯ç¬¬ä¸€æ¬¡ä½œä¸šçš„ä¸‰å€ï¼Œå¯ä»¥çœ‹å‡ºHW1åˆ°HW2æ˜¯ä¸€ä¸ªå·¨å¤§çš„é£è·ƒã€‚

å¦‚æœè¯´ç¬¬ä¸€æ¬¡ä½œä¸šæ˜¯ä»0åˆ°1ï¼Œé‚£ç¬¬äºŒæ¬¡ä½œä¸šå°±æ˜¯ä»1åˆ°n

BasicTerm.java

215

199

0.9255813953488372

1

0.004651162790697674

15

0.06976744186046512

åœ¨æ‰€æœ‰ç±»ä¸­BasicTermç±»çš„è¡Œæ•°æœ€å¤šï¼Œå…±æœ‰215è¡Œï¼ŒåŸå› æ˜¯å®ƒä½œä¸ºåŸºæœ¬é¡¹ï¼Œéœ€è¦å®ç°ä¹˜ã€åŠ ã€ç›¸ç­‰è¿™äº›åŸºæœ¬è¿ç®—ï¼Œå› æ­¤ä»£ç è¡Œæ•°è¾ƒé«˜

### å¤æ‚åº¦åˆ†æ

#### æ–¹æ³•å¤æ‚åº¦

Method

CogC

ev(G)

iv(G)

v(G)

BasicTerm.BasicTerm(PowFunc, Cos, Sin)

3

1

4

4

BasicTerm.deepClone()

0

1

1

1

BasicTerm.equals(Object)

4

3

4

6

BasicTerm.equalsOfCosList(ArrayList)

10

6

4

7

BasicTerm.equalsOfPowerList(ArrayList)

10

6

4

7

BasicTerm.equalsOfSinList(ArrayList)

10

6

4

7

BasicTerm.getCosxList()

0

1

1

1

BasicTerm.getPowerList()

0

1

1

1

BasicTerm.getSinxList()

0

1

1

1

BasicTerm.hashCode()

0

1

1

1

BasicTerm.mul(BasicTerm)

0

1

1

1

BasicTerm.mulOfCos(ArrayList)

15

2

6

7

BasicTerm.mulOfPower(ArrayList)

15

2

6

7

BasicTerm.mulOfSin(ArrayList)

15

2

6

7

ConstantNum.ConstantNum(String)

0

1

1

1

ConstantNum.equals(Object)

3

3

2

4

ConstantNum.getBasicTerm()

0

1

1

1

ConstantNum.getNum()

0

1

1

1

ConstantNum.hashCode()

0

1

1

1

ConstantNum.mulOfNegOne()

0

1

1

1

ConstantNum.toString()

0

1

1

1

Cos.Cos(int, Factor)

4

1

4

4

Cos.addPow(int)

0

1

1

1

Cos.equals(Object)

4

3

3

5

Cos.getBasicTerm()

0

1

1

1

Cos.getFactor()

0

1

1

1

Cos.getPow()

0

1

1

1

Cos.hashCode()

0

1

1

1

Cos.toString()

3

3

2

3

DefinedFunc.DefinedFunc()

0

1

1

1

DefinedFunc.addDefinedFunc(String)

1

1

2

2

DefinedFunc.useDefinedFunc(String)

1

1

2

2

Expr.Expr()

0

1

1

1

Expr.addTerm(Term, boolean)

0

1

1

1

Expr.cosPowerIsZero(ArrayList)

3

3

2

3

Expr.equals(Object)

3

3

2

4

Expr.getBasicTerm()

0

1

1

1

Expr.getStrFunc(BasicTerm, BigInteger)

20

3

13

13

Expr.hashCode()

0

1

1

1

Expr.merge()

3

1

3

3

Expr.mergeByPow(int)

7

1

5

5

Expr.powFuncPowerIsZero(ArrayList)

3

3

2

3

Expr.sinPowerIsZero(ArrayList)

3

3

2

3

Expr.toString()

17

1

6

7

Lexer.Lexer(String)

0

1

1

1

Lexer.getDefinedFunc()

5

1

2

4

Lexer.getNum()

2

1

3

3

Lexer.getPowX()

5

1

4

4

Lexer.getSignedNum()

0

1

1

1

Lexer.getSum()

5

1

2

4

Lexer.isCos()

1

1

2

2

Lexer.isDefinedFunc()

1

1

2

2

Lexer.isPow()

1

1

2

2

Lexer.isSignedNum()

1

1

3

3

Lexer.isSin()

1

1

2

2

Lexer.isSum()

1

1

2

2

Lexer.moveBlank()

3

2

2

4

Lexer.next()

12

2

10

11

Lexer.peek()

0

1

1

1

Main.main(String\[\])

1

1

2

2

Parser.Parser(Lexer)

0

1

1

1

Parser.addDefinedFunc(DefinedFunc)

0

1

1

1

Parser.parseCosFactor()

3

1

3

3

Parser.parseExpr()

8

1

6

6

Parser.parseExprFactor()

3

1

3

3

Parser.parseFactor()

10

8

8

8

Parser.parseSinFactor()

3

1

3

3

Parser.parseTerm()

4

1

4

4

PowFunc.PowFunc(String)

2

1

2

2

PowFunc.addPow(int)

0

1

1

1

PowFunc.equals(Object)

4

3

3

5

PowFunc.getBasicTerm()

0

1

1

1

PowFunc.getPow()

0

1

1

1

PowFunc.getVarType()

0

1

1

1

PowFunc.hashCode()

0

1

1

1

PowFunc.toString()

3

3

2

3

Simplification.simplyPow(HashMap<BasicTerm, BigInteger>)

1

1

2

2

Sin.Sin(int, Factor)

7

1

5

5

Sin.addPow(int)

0

1

1

1

Sin.equals(Object)

4

3

3

5

Sin.getBasicTerm()

0

1

1

1

Sin.getFactor()

0

1

1

1

Sin.getPow()

0

1

1

1

Sin.hashCode()

0

1

1

1

Sin.toString()

3

3

2

3

SumFunc.SumFunc()

0

1

1

1

SumFunc.sumOfFunc(String)

2

2

2

3

Term.Term()

0

1

1

1

Term.addFactor(Factor)

0

1

1

1

Term.cloneMap(HashMap<BasicTerm, BigInteger>)

1

1

2

2

Term.equals(Object)

4

3

3

5

Term.getBasicTerm()

0

1

1

1

Term.hashCode()

0

1

1

1

Term.merge()

14

1

7

7

Term.setNegative(boolean)

0

1

1

1

Total

272.0

151.0

229.0

270.0

Average

2.863157894736842

1.5894736842105264

2.4105263157894736

2.8421052631578947

##### åˆ†æ

å¯¹æ¯”ç¬¬ä¸€æ¬¡ä½œä¸šçš„

Total

100.0

45.0

93.0

98.0

Average

2.78

1.25

2.58

2.72

å¯ä»¥çœ‹åˆ°ç¬¬äºŒæ¬¡ä½œä¸šçš„Iv(G)**æ¨¡å—è®¾è®¡å¤æ‚åº¦**ç›¸å¯¹äºç¬¬ä¸€æ¬¡ä½œä¸šæœ‰æ‰€ä¸‹é™ï¼Œä½†**åŸºæœ¬å¤æ‚åº¦**å’Œ**åœˆå¤æ‚åº¦**éƒ½æœ‰æ‰€å¢åŠ ã€‚

ç¬”è€…è®¤ä¸ºåŸå› åœ¨äºç¬¬äºŒæ¬¡ä½œä¸šå¢åŠ äº†æ–°çš„å› å­ï¼ŒParserå’ŒLexeréœ€è¦å®ç°å¯¹æ–°å› å­çš„è§£æï¼Œæ­£æ˜¯è¿™ä¸¤ä¸ªç±»çš„å¯¹å› å­çš„è§£æé€ æˆäº†å¤æ‚åº¦çš„æé«˜ã€‚

#### ç±»å¤æ‚åº¦

Class

OCavg

OCmax

WMC

BasicTerm

3.71

7

52

ConstantNum

1.29

3

9

Cos

1.88

4

15

DefinedFunc

1.67

2

5

Expr

3.5

11

42

Lexer

2.47

11

37

Main

2

2

2

Parser

3.5

8

28

PowFunc

1.62

3

13

Simplification

2

2

2

Sin

2

5

16

SumFunc

2

3

4

Term

2.12

7

17

Total

242.0

Average

2.5473684210526315

5.230769230769231

18.615384615384617

##### åˆ†æ

Exprã€Lexerã€Parserç±»çš„å¤æ‚åº¦è¾ƒé«˜ã€‚å…¶ä¸­Lexerã€Parserç±»çš„å¤æ‚åº¦åŸå› ä¸Šæ–‡å·²ç»åˆ†æï¼Œç°åœ¨åˆ†æä¸€ä¸‹Exprçš„å¤æ‚åº¦ã€‚

åœ¨é‡æ–°çœ‹äº†çœ‹ä»£ç åï¼Œç¬”è€…å‘ç°ç¬”è€…åœ¨Exprç±»é‡Œå®ç°çš„toStringæ–¹æ³•éœ€è¦åˆ¤æ–­åŸºæœ¬é¡¹ä¸­çš„æ¯ä¸ªåˆ—è¡¨ä¸­çš„å› å­æŒ‡æ•°æ˜¯å¦ä¸º0ï¼Œå› æ­¤ä¸cosã€sinã€powFuncä¸‰ä¸ªç±»çš„è€¦åˆè¾ƒä¸ºç´§å¯†ã€‚

ç¬”è€…æ„Ÿè§‰åº”è¯¥å¯ä»¥å†æ–°å»ºä¸€ä¸ªç±»ï¼Œä¸“é—¨å®ç°è¿™äº›åŸºæœ¬æ–¹æ³•çš„åˆ¤æ–­ï¼Œä¸Exprç±»è§£è€¦ï¼Œé™ä½å¤æ‚åº¦ã€‚

### ä¼˜åŒ–ç­–ç•¥

ç”±äºç¬¬äºŒæ¬¡ä½œä¸šæ–°å¢äº†ä¸‰è§’å› å­ï¼Œå› æ­¤å¯ä»¥åšçš„ä¼˜åŒ–å˜å¾—å¾ˆå¤šã€‚

å…¶ä¸­è¾ƒéš¾å®ç°çš„æ˜¯ä¸‰è§’å‡½æ•°çš„å¹³æ–¹å’Œcos\*\*2+sin\*\*2=1ä¼˜åŒ–ã€‚

ç¬”è€…ä¹Ÿå°è¯•åšè¿‡å¹³æ–¹å’Œçš„ä¼˜åŒ–ï¼Œå¯æƒœèƒ½åŠ›æœ‰é™å¹¶æœªæˆåŠŸï¼Œæ¯æ¬¡åœ¨è¯„æµ‹æœºä¸Šè·‘ä¸€ä¸¤ç™¾ç»„æ•°æ®å°±ä¼šå‡ºé”™ï¼Œäºæ˜¯åªèƒ½æŠŠå¹³æ–¹å’Œä¼˜åŒ–æ³¨é‡Šæ‰äº†ã€‚ã€‚ã€‚ä½†é™¤äº†å¹³æ–¹å’Œä»¥å¤–ï¼Œèƒ½åšçš„å°ä¼˜åŒ–è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œé™¤äº†ç¬¬ä¸€æ¬¡ä½œä¸šçš„ä¼˜åŒ–ä»¥å¤–ï¼Œç¬”è€…è¿˜å®ç°äº†æ¯”å¦‚cos(0)=1,sin(0)=0,sin(-1)=sin(1),cos(-1)=cos(1)ç­‰ä¼˜åŒ–ã€‚

ç¬¬ä¸‰æ¬¡ä½œä¸š
-----

### ç›®æ ‡

é€šè¿‡å¯¹è¡¨è¾¾å¼ç»“æ„è¿›è¡Œå»ºæ¨¡ï¼Œå®Œæˆå¤šå±‚åµŒå¥—è¡¨è¾¾å¼å’Œå‡½æ•°è°ƒç”¨çš„æ‹¬å·å±•å¼€ä¸åŒ–ç®€ï¼Œè¿›ä¸€æ­¥ä½“ä¼šå±‚æ¬¡åŒ–è®¾è®¡çš„æ€æƒ³

### HW3åŸºæœ¬æ€è·¯

ç¬¬ä¸‰æ¬¡ä½œä¸šå¯ä»¥ç§°å¾—ä¸Šæ˜¯OOç¬¬ä¸€å•å…ƒæœ€ç®€å•çš„ä¸€æ¬¡ä½œä¸šäº†ã€‚

ç›¸æ¯”ä¸ç¬¬äºŒæ¬¡ä½œä¸šï¼Œç¬¬ä¸‰æ¬¡ä½œä¸šå¢åŠ çš„å†…å®¹æœ‰:

1.åµŒå¥—æ‹¬å·

2.ä¸‰è§’å‡½æ•°å› å­åµŒå¥—

3.è‡ªå®šä¹‰å‡½æ•°åµŒå¥—è°ƒç”¨è‡ªå®šä¹‰å‡½æ•°

4.æ±‚å’Œå‡½æ•°çš„æ±‚å’Œè¡¨è¾¾å¼å› å­ç§ç±»å¢åŠ 

å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸‰æ¬¡ä½œä¸šç›¸æ¯”ä¸ç¬¬äºŒæ¬¡ä½œä¸šå…¶å®æ²¡æœ‰å¢åŠ ä»€ä¹ˆä¸œè¥¿ã€‚ä¸å‰ä¸¤æ¬¡ä½œä¸šæœ€å¤§çš„ä¸åŒå°±æ˜¯ç¬¬ä¸‰æ¬¡ä½œä¸šå¢åŠ äº†å¯¹åµŒå¥—å› å­ï¼ŒåµŒå¥—æ‹¬å·çš„å¤„ç†ï¼Œè€Œè¿™ä¹Ÿæ˜¯ç¬”è€…è§‰å¾—ç¬¬ä¸‰æ¬¡ä½œä¸šä¸»è¦æƒ³è€ƒå¯Ÿçš„åœ°æ–¹ã€‚ç„¶é¹…ï¼Œå¯¹äºé€’å½’ä¸‹é™çš„è§£ææ–¹æ³•æ¥è¯´ï¼Œå¤„ç†åµŒå¥—å› å­ï¼ŒåµŒå¥—æ‹¬å·æœ¬æ¥å°±æ˜¯è‡ªç„¶è€Œç„¶çš„äº‹æƒ…ï¼Œå› æ­¤ä»ç¬¬äºŒæ¬¡ä½œä¸šåˆ°ç¬¬ä¸‰æ¬¡ä½œä¸šï¼Œç¬”è€…å‡ ä¹ä¸ç”¨æ”¹åŠ¨ï¼Œè¿™ä¹Ÿæ˜¯ç¬”è€…ç¬¬ä¸€æ¬¡ä½“ä¼šåˆ°å¥½çš„æ¶æ„è®¾è®¡å¸¦æ¥çš„å¥½å¤„ã€‚

å½“ç„¶ï¼Œå‡ ä¹ä¸ç”¨æ”¹åŠ¨å¹¶ä¸æ˜¯ä¸éœ€è¦æ”¹åŠ¨ã€‚ç¬¬ä¸‰æ¬¡ä½œä¸šç”±äºéœ€è¦å®ç°**è‡ªå®šä¹‰å‡½æ•°åµŒå¥—è°ƒç”¨è‡ªå®šä¹‰å‡½æ•°**ï¼Œç¬”è€…åœ¨ç¬¬äºŒæ¬¡ä½œä¸šç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢å˜æ— æ³•å¤„ç†äº†ã€‚ä½†è§£å†³çš„åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå¯¹äºè‡ªå®šä¹‰å‡½æ•°çš„è°ƒç”¨å¤ç”¨**é€’å½’ä¸‹é™**çš„åŠæ³•ï¼Œå¯¹æ¯ä¸€ä¸ªè°ƒç”¨å› å­è¿›è¡Œè§£æï¼Œå†æŠŠè§£æå®Œæˆçš„è¡¨è¾¾å¼ä»£å…¥å‡½æ•°è¡¨è¾¾å¼ä¸­ï¼Œæœ€åæ›¿æ¢å®Œå› å­åå¾—åˆ°ä¸€ä¸ªæ–°çš„è¡¨è¾¾å¼ï¼Œå†å¯¹è¿™ä¸ªè¡¨è¾¾å¼è¿›è¡Œè§£æã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ²¡æœ‰éœ€è¦å¤§æ”¹çš„åœ°æ–¹äº†ã€‚

### UMLç±»å›¾

![OO3](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201148114-1341135010.png)

å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸‰æ¬¡ä½œä¸šçš„UMLå›¾ä¸ç¬¬äºŒæ¬¡ä½œä¸šçš„UMLå›¾å‡ ä¹æ²¡æœ‰å˜åŒ–ï¼Œæ–°å¢çš„DefinedLexerç±»ç»§æ‰¿äº†Lexerç±»ï¼Œé‡å†™äº†nextæ–¹æ³•ï¼Œå®ç°å¯¹è‡ªå®šä¹‰å‡½æ•°çš„æ–‡æ³•è§£æ

### ä»£ç è§„æ¨¡

![HW3static](https://img2022.cnblogs.com/blog/2593791/202203/2593791-20220325201148544-543902545.png)

å¯¹æ¯”äºç¬¬äºŒæ¬¡ä½œä¸šçš„1251è¡Œä»£ç ï¼Œç¬¬äºŒæ¬¡ä½œä¸šæ€»å…±ä¸º1529è¡Œä»£ç ï¼Œä¸»è¦æ˜¯å¢åŠ äº†DefinedLexerç±»ã€‚å…¶å®è¿™æ¬¡å®é™…çš„ä»£ç åªæœ‰1287è¡Œï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä¸€å¤§å †å¤±è´¥çš„ä¼˜åŒ–ä»£ç è¢«ç¬”è€…æ³¨é‡Šæ‰äº†(0.0)

### å¤æ‚åº¦åˆ†æ

#### æ–¹æ³•å¤æ‚åº¦

Method

CogC

ev(G)

iv(G)

v(G)

BasicTerm.BasicTerm(PowFunc, Cos, Sin)

3

1

4

4

BasicTerm.deepClone()

0

1

1

1

BasicTerm.equals(Object)

4

3

4

6

BasicTerm.equalsOfCosList(ArrayList<Cos>)

10

6

4

7

BasicTerm.equalsOfPowerList(ArrayList<PowFunc>)

10

6

4

7

BasicTerm.equalsOfSinList(ArrayList<Sin>)

10

6

4

7

BasicTerm.getCosxList()

0

1

1

1

BasicTerm.getPowerList()

0

1

1

1

BasicTerm.getSinxList()

0

1

1

1

BasicTerm.hashCode()

0

1

1

1

BasicTerm.mul(BasicTerm)

0

1

1

1

BasicTerm.mulOfCos(ArrayList<Cos>)

15

2

6

7

BasicTerm.mulOfPower(ArrayList<PowFunc>)

15

2

6

7

BasicTerm.mulOfSin(ArrayList<Sin>)

15

2

6

7

ConstantNum.ConstantNum(String)

0

1

1

1

ConstantNum.equals(Object)

3

3

2

4

ConstantNum.getBasicTerm()

0

1

1

1

ConstantNum.getNum()

0

1

1

1

ConstantNum.hashCode()

0

1

1

1

ConstantNum.toString()

1

2

2

2

Cos.Cos(int, Factor)

0

1

1

1

Cos.addPow(int)

0

1

1

1

Cos.equals(Object)

5

3

4

6

Cos.getBasicTerm()

0

1

1

1

Cos.getFactor()

0

1

1

1

Cos.getPow()

0

1

1

1

Cos.hashCode()

0

1

1

1

Cos.simply()

6

2

5

5

Cos.toString()

21

8

13

14

DefinedFunc.DefinedFunc()

0

1

1

1

DefinedFunc.addDefinedFunc(String)

1

1

2

2

DefinedFunc.getBasicTerm()

0

1

1

1

DefinedFunc.getDefinedArgument(String)

1

1

2

2

DefinedFunc.useDefinedFunc(String)

1

1

2

2

DefinedLexer.DefinedLexer(String)

0

1

1

1

DefinedLexer.next()

13

2

11

12

Expr.Expr()

0

1

1

1

Expr.addTerm(Term, boolean)

0

1

1

1

Expr.cosPowerIsZero(ArrayList<Cos>)

3

3

2

3

Expr.equals(Object)

3

3

2

4

Expr.getBasicTerm()

0

1

1

1

Expr.getStrFunc(BasicTerm, BigInteger)

20

3

13

13

Expr.hashCode()

0

1

1

1

Expr.merge()

3

1

3

3

Expr.mergeByPow(int)

7

1

5

5

Expr.powFuncPowerIsZero(ArrayList<PowFunc>)

3

3

2

3

Expr.sinPowerIsZero(ArrayList<Sin>)

3

3

2

3

Expr.toString()

17

1

6

7

Lexer.Lexer(String)

0

1

1

1

Lexer.getDefinedFunc()

5

1

2

4

Lexer.getInput()

0

1

1

1

Lexer.getNum()

2

1

3

3

Lexer.getPos()

0

1

1

1

Lexer.getPowX()

5

1

4

4

Lexer.getSignedNum()

0

1

1

1

Lexer.getSum()

5

1

2

4

Lexer.isCos()

1

1

2

2

Lexer.isDefinedFunc()

1

1

2

2

Lexer.isPow()

1

1

2

2

Lexer.isSignedNum()

1

1

3

3

Lexer.isSin()

1

1

2

2

Lexer.isSum()

1

1

2

2

Lexer.moveBlank()

3

2

2

4

Lexer.next()

12

2

10

11

Lexer.peek()

0

1

1

1

Lexer.setPos(int)

0

1

1

1

Lexer.setToken(String)

0

1

1

1

Main.main(String\[\])

1

1

2

2

Parser.Parser(Lexer)

0

1

1

1

Parser.addDefinedFunc(DefinedFunc)

0

1

1

1

Parser.parseCosFactor()

3

1

3

3

Parser.parseExpr()

8

1

6

6

Parser.parseExprFactor()

3

1

3

3

Parser.parseFactor()

10

8

8

8

Parser.parseSinFactor()

3

1

3

3

Parser.parseTerm()

4

1

4

4

PowFunc.PowFunc(String)

2

1

2

2

PowFunc.addPow(int)

0

1

1

1

PowFunc.equals(Object)

4

3

3

5

PowFunc.getBasicTerm()

0

1

1

1

PowFunc.getPow()

0

1

1

1

PowFunc.getVarType()

0

1

1

1

PowFunc.hashCode()

0

1

1

1

PowFunc.toString()

6

3

3

4

Simplification.simplyPow(HashMap<BasicTerm, BigInteger>)

1

1

2

2

Sin.Sin(int, Factor)

0

1

1

1

Sin.addPow(int)

0

1

1

1

Sin.equals(Object)

5

3

4

6

Sin.getBasicTerm()

0

1

1

1

Sin.getFactor()

0

1

1

1

Sin.getPow()

0

1

1

1

Sin.hashCode()

0

1

1

1

Sin.simpliy()

14

2

7

7

Sin.toString()

18

6

10

11

SumFunc.SumFunc()

0

1

1

1

SumFunc.getBasicTerm()

0

1

1

1

SumFunc.sumOfFunc(String)

2

2

2

3

Term.Term()

0

1

1

1

Term.addFactor(Factor)

0

1

1

1

Term.cloneMap(HashMap<BasicTerm, BigInteger>)

1

1

2

2

Term.equals(Object)

4

3

3

5

Term.getBasicTerm()

0

1

1

1

Term.hashCode()

0

1

1

1

Term.merge()

14

1

7

7

Term.setNegative(boolean)

0

1

1

1

Total

334.0

173.0

276.0

318.0

Average

3.1809523809523808

1.6476190476190475

2.6285714285714286

3.0285714285714285

##### åˆ†æ

è¿™ä¸€æ¬¡ä½œä¸šçš„å¤æ‚åº¦ç›¸è¾ƒäºå‰ä¸¤æ¬¡å‡æœ‰æ‰€å¢åŠ ï¼Œä»ä¸Šè¡¨å¯ä»¥çœ‹åˆ°æ–¹æ³•å¤æ‚åº¦è¾ƒé«˜çš„æœ‰Sin.simpliy()ï¼ŒSin.toString()ï¼ŒCos.toString()ï¼ŒBasicTerm.equalsOfPowerList(ArrayList<PowFunc>)ï¼ŒExpr.getStrFunc(BasicTerm, BigInteger)ï¼ŒExpr.toString()ç­‰ã€‚

è§‚å¯Ÿä¸Šè¿°æ–¹æ³•ï¼Œå¯ä»¥å‘ç°è¿™äº›æ–¹æ³•å¤§å¤šä¸è¾“å‡ºæœ‰å…³ï¼Œå…¶ä¸­coså’Œsinçš„toStringæ–¹æ³•æ›´æ˜¯iv(G)å¼‚å¸¸çš„å¤§ã€‚

åœ¨é‡æ–°é˜…è¯»ç¬”è€…çš„ä»£ç åï¼Œç¬”è€…å‘ç°è¿™æ˜¯å› ä¸ºç¬”è€…åœ¨sinå’Œcosçš„toStringæ–¹æ³•ä¸­å¤§é‡ä½¿ç”¨äº†if-elseæ¥è¿›è¡Œè¾“å‡ºçš„åŒ–ç®€ï¼Œæ¯”å¦‚åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…x\*\*2ï¼Œæ›¿æ¢æˆx\*xã€‚

ç°åœ¨çœ‹æ¥ï¼Œä¼¼ä¹å¯ä»¥è¿™äº›åŒ–ç®€å¤„ç†æŠ½è±¡æˆä¸€ä¸ªç±»ï¼Œä¸“é—¨äº¤ç»™è¿™ä¸ªç±»å»å¤„ç†ï¼Œä¸coså’Œsinè§£è€¦ã€‚

#### ç±»å¤æ‚åº¦

Class

OCavg

OCmax

WMC

BasicTerm

3.71

7

52

ConstantNum

1.5

3

9

Cos

2.78

11

25

DefinedFunc

1.6

2

8

DefinedLexer

6.5

12

13

Expr

3.5

11

42

Lexer

2.16

11

41

Main

2

2

2

Parser

3.5

8

28

PowFunc

1.75

4

14

Simplification

2

2

2

Sin

2.78

9

25

SumFunc

1.67

3

5

Term

2.12

7

17

Total

283.0

Average

2.6952380952380954

6.571428571428571

20.214285714285715

##### åˆ†æ

å¦‚æœä½ ä»”ç»†åœ°çœ‹äº†ä¸Šé¢çš„è¡¨æ ¼ï¼Œç›¸ä¿¡èªæ˜çš„ä½ ä¸éš¾å‘ç°æœ‰ä¸€ä¸ªç±»çš„å¤æ‚åº¦ç‰¹åˆ«çš„å¤§ï¼Œå°±æ˜¯DefinedFunc

DefinedLexer

6.51.6

122

138

è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªç±»æ˜¯ç»§æ‰¿äº†Lexerç±»ç”¨äºè§£æè‡ªå®šä¹‰å‡½æ•°å› å­ï¼Œè‡ªç„¶éœ€è¦ç”¨åˆ°Lexterç±»ä¸­çš„posï¼Œtokenç­‰æˆå‘˜å˜é‡ã€‚

ä½†è¯¾ç¨‹ç»„è¦æ±‚æˆ‘ä»¬æ¯ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡åº”è¯¥æ˜¯privateçš„ï¼Œè¿protectedéƒ½ä¸èƒ½ç”¨ï¼Œäºæ˜¯æˆ‘åªèƒ½ä¸ºLexterç±»å®ç°äº†getposï¼Œsetposï¼Œgettokenç­‰æ–¹æ³•ã€‚è¿™çœ‹èµ·æ¥ä¼¼ä¹ä¸æ˜¯ä¸€ä¸ªå¥½åŠæ³•ï¼Œå°†Lexerçš„æˆå‘˜æš´éœ²äº†ï¼ŒLexteræœ¬åº”è¯¥åªå¯¹å¤–éƒ¨æš´éœ²ä»–çš„çŠ¶æ€ã€‚åªå¯æƒœæˆ‘æ²¡æƒ³åˆ°å¤ªå¥½çš„åŠæ³•ï¼Œåªèƒ½å‡ºæ­¤ä¸‹ç­–ã€‚

åŒæ—¶BasicTermï¼ŒExprï¼ŒTermç­‰ç±»çš„å¤æ‚åº¦ä¹Ÿè¾ƒé«˜ï¼ŒåŸå› åœ¨HW2å·²ç»é˜è¿°ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚

### ä¼˜åŒ–ç­–ç•¥

ç›¸æ¯”ä¸ç¬¬äºŒæ¬¡ä½œä¸šï¼Œè¿™æ¬¡ä½œä¸šæ”¯æŒäº†ä¸‰è§’å‡½æ•°é‡Œé¢æ·»åŠ è¡¨è¾¾å¼å› å­åµŒå¥—ï¼Œå› æ­¤åœ¨æ­¤åŸºç¡€ä¸Šå¯ä»¥åšäºŒå€è§’ä¼˜åŒ–2\*cos(x)\*sin(x)=sin((2\*x)),ä½†ç»è¿‡ä¸Šä¸€æ¬¡ä¼˜åŒ–å¤±è´¥çš„æ•™è®­åç¬”è€…ä¹Ÿä¸æ•¢å†ä¼˜åŒ–äº†ï¼Œå®åœ¨æ˜¯å¤ªå®¹æ˜“å‡ºbugäº†ï¼Œäºæ˜¯ä¹Ÿæ²¡åšäºŒå€è§’ä¼˜åŒ–ã€‚è¿™æ¬¡ä½œä¸šçš„ä¼˜åŒ–å’ŒHW2ç›¸åŒã€‚

å¬è¯´æœ‰äººåšäº†äºŒå€è§’å’Œå¹³æ–¹å’Œä¼˜åŒ–ï¼Œå¹¶é€šè¿‡æ¯”è¾ƒä¸åŒä¼˜åŒ–çš„é•¿åº¦ï¼Œæœç´¢åˆ°æœ€é•¿çš„è¾“å‡ºï¼Œå¦‚æœè¶…æ—¶å°±åŠæ—¶ç†”æ–­ã€‚ä½†ç¬”è€…è§‰å¾—é™¤éç‰¹åˆ«å‰å®³ï¼Œå¦åˆ™è¿™æ ·å°±æ˜¯åœ¨åˆ€å°–ä¸Šèµ·èˆ(äº‹å®è¯æ˜çš„ç¡®æ˜¯è¿™æ ·ï¼Œè¯¦è§ä¸‹æ–‡)ã€‚

æ•´ä½“æ¶æ„åˆ†æ
------

ä»ç¬¬ä¸€æ¬¡ä½œä¸šåˆ°ç¬¬ä¸‰æ¬¡ä½œä¸šï¼Œæˆ‘çš„ç¨‹åºç´§ç´§å›´ç»•ç€ä¸€ä¸ª**åŸºæœ¬é¡¹**å±•å¼€ï¼Œåœ¨ç¬¬ä¸€æ¬¡ä½œä¸šä¸­ä»–æ˜¯ä¿å­˜æœ‰æŒ‡æ•°å’Œç³»æ•°çš„HashMap<Integer, BigInteger>ï¼›ç¬¬äºŒã€ä¸‰æ¬¡ä½œä¸šä¸­ï¼Œä»–æ˜¯ä¸€ä¸ªç±»BasicTermã€‚ä½†è¿™æ ·çš„è®¾è®¡æˆ‘è§‰å¾—å¹¶ä¸å¥½ï¼Œå› ä¸ºå¹¶ä¸åˆ©äºè¿­ä»£å¼€å‘ã€‚ä¸€ä¸ªåŸºæœ¬é¡¹æ˜¾ç„¶åªèƒ½æ¶µç›–è¾ƒä¸ºç®€å•çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸‰è§’å‡½æ•°ã€å¹‚å‡½æ•°è¿™æ ·çš„ï¼Œä¸€æ—¦è¡¨è¾¾å¼ä¸­çš„å‡½æ•°å› å­å¤šäº†èµ·æ¥ï¼Œè¿™ä¸ªåŸºæœ¬é¡¹ä¹Ÿä¼šå˜å¾—æä¸ºåºå¤§å’Œå¤æ‚ï¼Œæ˜¾ç„¶ä¸OOçš„ç²¾ç¥è¿èƒŒã€‚

åŒæ—¶æˆ‘çš„åŒ–ç®€è¿ç®—merge()ä¹Ÿæ˜¯å„è‡ªåœ¨termç±»å’ŒExprç±»ä¸­å®ç°çš„ï¼Œtermä¸­æ˜¯ä¹˜ï¼ŒExprä¸­æ˜¯åŠ ã€‚è¿™æ ·æˆ‘ä¹Ÿæ„Ÿè§‰å¹¶ä¸å¥½ï¼Œå› ä¸ºtermç°åœ¨åªæœ‰ä¹˜çš„è¿ç®—ï¼Œä½†å¦‚æœæœ‰å–æ¨¡å’Œé™¤æ³•è¿ç®—å‘¢ï¼Ÿæƒ³å¿…æˆ‘å°±è¦ä¿®æ”¹åŸæ¥çš„termç±»äº†ã€‚è€Œè¿™ç§è¿ç®—å¹¶ä¸æ˜¯termç±»åº”è¯¥å…·æœ‰çš„èƒ½åŠ›ï¼Œè¿™ç§è¿ç®—åº”è¯¥äº¤ç»™â€œè¿ç®—ç±»â€ä¸“é—¨å»åšï¼Œè€Œä¸æ˜¯åœ¨termç±»ä¸­å®ç°ã€‚

ç°åœ¨æƒ³æ¥ï¼Œä¸€ä¸ªå¥½çš„è®¾è®¡åº”è¯¥æ˜¯è¡¨è¾¾å¼ä¸­æ¯ä¸€ç§å› å­ï¼Œæ¯ä¸€ç§è¿ç®—ï¼Œæ¯ä¸€é¡¹ï¼Œéƒ½åº”è¯¥æˆä¸ºä¸€ä¸ªç±»ï¼Œå³ä½¿éœ€æ±‚å˜äº†ï¼Œä¹Ÿåªéœ€è¦å¢æ·»æ–°çš„è¿ç®—ç±»å’Œå› å­ç±»å³å¯ï¼Œæ— éœ€æˆ–è€…å¾ˆå°‘éœ€è¦æ”¹åŠ¨åŸæ¥å·²ç»è®¾è®¡å¥½çš„ä»£ç ã€‚

æ•°æ®ç”ŸæˆåŠè‡ªåŠ¨åŒ–è¯„æµ‹
----------

åœ¨OOç¬¬ä¸€å•å…ƒçš„æ¯æ¬¡ä½œä¸šä¸­ï¼Œç¬”è€…éƒ½ä½¿ç”¨PythonåŠå…¶xegeråº“å†™äº†æ•°æ®ç”Ÿæˆå™¨ï¼Œå¹¶åœ¨ç¬¬äºŒæ¬¡ä½œä¸šå’Œç¬¬ä¸‰æ¬¡ä½œä¸šå®ç°äº†è‡ªåŠ¨åŒ–è¯„æµ‹æœº

### ç¬¬ä¸€æ¬¡ä½œä¸š

#### æ•°æ®ç”Ÿæˆ

æ ¹æ®æŒ‡å¯¼ä¹¦ä¸­çš„**è®¾å®šçš„å½¢å¼åŒ–è¡¨è¿°**

*   è¡¨è¾¾å¼ â†’ ç©ºç™½é¡¹ \[åŠ å‡ ç©ºç™½é¡¹\] é¡¹ ç©ºç™½é¡¹ | è¡¨è¾¾å¼ åŠ å‡ ç©ºç™½é¡¹ é¡¹ ç©ºç™½é¡¹
*   é¡¹ â†’ \[åŠ å‡ ç©ºç™½é¡¹\] å› å­ | é¡¹ ç©ºç™½é¡¹ \* ç©ºç™½é¡¹ å› å­
*   å› å­ â†’ å˜é‡å› å­ | å¸¸æ•°å› å­ | è¡¨è¾¾å¼å› å­
*   å˜é‡å› å­ â†’ å¹‚å‡½æ•°
*   å¸¸æ•°å› å­ â†’ å¸¦ç¬¦å·çš„æ•´æ•°

æˆ‘ä»¬å¯ä»¥è‡ªåº•å‘ä¸Šæ„é€ æµ‹è¯•ç”¨ä¾‹ï¼Œé¦–å…ˆæ„é€ å› å­ä¸­çš„**å˜é‡å› å­**å’Œ**å¸¸æ•°å› å­**ï¼Œé€šè¿‡è¿™ä¸¤ä¸ªå› å­æ„é€ **æ²¡æœ‰è¡¨è¾¾å¼å› å­çš„é¡¹**ï¼Œå†é€šè¿‡**æ²¡æœ‰è¡¨è¾¾å¼å› å­çš„é¡¹**ï¼Œæ„é€ **æ²¡æœ‰æ‹¬å·çš„è¡¨è¾¾å¼**ï¼Œé€šè¿‡æŠŠ**æ²¡æœ‰æ‹¬å·çš„è¡¨è¾¾å¼**åŠ ä¸Šæ‹¬å·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†**è¡¨è¾¾å¼å› å­**ï¼Œå†ç”¨ä¸‰ç§å› å­æ„é€ **å«æœ‰è¡¨è¾¾å¼å› å­çš„é¡¹**ï¼Œæœ€åç”¨å«æœ‰è¡¨è¾¾å¼å› å­çš„é¡¹ç”Ÿæˆ**è¡¨è¾¾å¼**

å…¶ä¸­ï¼Œ**å˜é‡å› å­**å’Œ**å¸¸æ•°å› å­**çš„æ„é€ å¯ä»¥ä½¿ç”¨Pythonçš„xegeråº“ï¼ˆæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼éšæœºç”Ÿæˆå­—ç¬¦ä¸²ï¼‰

å†é€šè¿‡è°ƒèŠ‚ä¸åŒå› å­çš„ç”Ÿæˆæ¦‚ç‡å’Œç¨‹åº¦ï¼Œå¯ä»¥å¾—åˆ°ä¸åŒå¼ºåº¦çš„æ•°æ®

**ç¼ºç‚¹**:å¯¹äºè¾¹ç•Œæ•°æ®éš¾ä»¥ç”Ÿæˆï¼Œå¯ä»¥è€ƒè™‘æ·»åŠ è¾¹ç•Œæ•°æ®å¸¸é‡æ± ï¼Œåœ¨ç”Ÿæˆè¡¨è¾¾å¼æ—¶éšæœºæ·»åŠ 

#### ä»£ç ç¤ºä¾‹

å±•å¼€ä»£ç 

    from xeger import Xeger
    import random
    
    powFun = 'x( ){0}(\*\*( ){0}\+0{0}[0-4])?'
    const = '(\+|-)0{0}[1-9]{1}'
    
    x = Xeger(limit=100)
    x._cases['any'] = lambda x: '.'
    x._alphabets['whitespace'] = ' '
    
    def generTermNotExp(x,notpre):
        n = random.randint(1,1)
        m = random.randint(1,3)
        s = ""
        if not notpre:
            if m==1:
                s+="+"
            elif m==2:
                s+='-'
        for i in range(n):
            if random.random()>0.5:
                s+=x.xeger(powFun)
            else:
                s+=x.xeger(const)
            if i < n - 1:
                s+="*"
        return s
    
    
    def generExpNotBrac(x,notpre):
        n = random.randint(1,1)
        m = random.randint(1,3)
        s = ""
        if not notpre:
            if m==1:
                s+="+"
            elif m==2:
                s+='-'
        s+=generTermNotExp(x, False)
        for i in range(n):
            if random.random()>0.5:
                s+="+"
            else:
                s+="-"
            s+=generTermNotExp(x,True)
        return s
    
    def generTermWithBracket(x, notpre):
        n = random.randint(2,3)
        m = random.randint(1,3)
        s = ""
        if notpre:
            if m==1:
                s+="+"
            elif m==2:
                s+='-'
        for i in range(n):
            tmp = random.random()
            if tmp > 0.80:
                s+=x.xeger(powFun)
            elif 0.60 < tmp <= 0.80:
                s+=x.xeger(const)
            elif tmp<=0.60:
                s+="("+generExpNotBrac(x,False)+")"
                s+="**"+"+"+str(random.randint(1,2))
            if i < n - 1:
                s+="*"
        return s
    
    def generExpWithBracket(x):
        n = random.randint(2,2)
        m = random.randint(1,3)
        s = ""
        if m==1:
            s+="+"
        elif m==2:
            s+='-'
        for i in range(n):
            s+=generTermWithBracket(x,True)
            if i < n - 1:
                if random.random()>0.9:
                    s+="+"
                else:
                    s+="-"
        return s
    
    for i in range(100):
        s = generExpWithBracket(x)
        print(s)

#### è‡ªåŠ¨åŒ–è¯„æµ‹

æœ¬æ¬¡ä½œä¸šæœªå®ç°è‡ªåŠ¨åŒ–è¯„æµ‹ğŸ¤¡

### ç¬¬äºŒæ¬¡ä½œä¸š

#### æ•°æ®ç”Ÿæˆ

æœ¬æ¬¡æ•°æ®ç”Ÿæˆå™¨æ ¹æ®ç¬¬ä¸€æ¬¡ä½œä¸šçš„æ•°æ®ç”Ÿæˆå™¨è¿­ä»£å¼€å‘ï¼Œå¤§ä½“ä¸Šæ€è·¯ä¸å˜ã€‚æ ¹æ®ç¬¬äºŒæ¬¡ä½œä¸šçš„æŒ‡å¯¼ä¹¦æ–°å¢çš„ä¸‰è§’å› å­ï¼Œè‡ªå®šä¹‰å‡½æ•°ï¼Œæ±‚å’Œå‡½æ•°çš„å› å­ç”Ÿæˆï¼Œå…¶ä¸­è‡ªå®šä¹‰å‡½æ•°å‚è€ƒäº†è®¨è®ºåŒºå¤§ä½¬çš„æ–¹æ³•ã€‚

**ç¼ºç‚¹**:åŒä½œä¸šä¸€ä¸€æ ·ï¼Œå¯¹äºè¾¹ç•Œæ•°æ®éš¾ä»¥ç”Ÿæˆï¼Œå¯ä»¥è€ƒè™‘æ·»åŠ è¾¹ç•Œæ•°æ®å¸¸é‡æ± ï¼Œåœ¨ç”Ÿæˆè¡¨è¾¾å¼æ—¶éšæœºæ·»åŠ 

##### ä»£ç ç¤ºä¾‹

å±•å¼€ä»£ç 

    from xeger import Xeger
    import random
    
    #powFun = 'x( ){0}(\*\*( ){0}\+0{0}[0-4])?'
    powFun = 'x'
    const = '(\+|-)0{0}[1-9]{1}'
    power = '( ){0}(\*\*( ){0}\+0{0}[0-4])?'
    # fun1,fun2,fun3åˆ†åˆ«æ˜¯å‡½æ•°å‚æ•°ä¸º1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªçš„å‡½æ•°ï¼Œè€Œä¸”å‡½æ•°ååˆ†åˆ«ä¸ºfï¼Œgï¼Œh
    list_fun1 = ["f(x)=x", "f(y)=sin(y)", "f(z)=z*z", "f(y)=y*y"]
    list_fun2 = ["g(x,y)=x+y", "g(y,z)=sin(y)*cos(z)", "g(x,z)=x*z+x-z", "g(z,y)=y*y-z+2"]
    list_fun3 = ["h(x,y,z)=x+y-z", "h(x,z,y)=sin(x)+y+cos(z)", "h(x,z,y)=x+y*(z-1)", "h(x,y,z)=y*y*x*(4-z)"]
    list_fun = [list_fun1, list_fun2, list_fun3]
    
    # ç”¨äºæ›¿æ¢å‡½æ•°å‚æ•°çš„å˜é‡ï¼Œå³è‹¥å‡½æ•°ä¸ºf(y)=sin(y)ï¼Œåˆ™ä»list_varä¸­éšæœºä¸€ä¸ªå½“ä½œyå¡«å…¥å‡½æ•°
    list_var = ["1", "2", "x", "x**2", "x**3", "x**0"]
    
    fun_java = []  # éšæœºå‡ºäº†å“ªäº›å‡½æ•°ï¼Œè®°å½•ä¸€ä¸‹ï¼Œjavaè¾“å…¥æ—¶è¦ç”¨åˆ°
    fun_record = []  # å‡½æ•°åä¸èƒ½é‡å¤ï¼Œä¹Ÿè®°å½•ä¸€ä¸‹
    x = Xeger(limit=100)
    x._cases['any'] = lambda x: '.'
    x._alphabets['whitespace'] = ' '
    
    def generate_function():
        std_java = ""
        p = random.randint(1, len(list_fun1))  # ç±»å‹ï¼ˆæ¯ä¸ªå‡½æ•°åˆ—è¡¨ä¸­çš„ç¬¬å‡ ä¸ªï¼‰
        num = random.randint(1, 3)  # å‚æ•°ä¸ªæ•°/å‡½æ•°å
        while num in fun_record:
            # ä¸èƒ½é‡å¤
            num = random.randint(1, 3)
            if len(fun_record) >= 3:
                break
        fun_record.append(num)      # è®°å½•ç”¨è¿‡çš„å‡½æ•°å
    
        fun_java.append((num, p))   # è®°å½•éšæœºå‡ºçš„å‡½æ•°
        std_java += list_fun[num - 1][p - 1].split("=")[0][0:2]
        # å‡å¦‚å‡½æ•°ä¸º g(x,y)=x+y ï¼ŒæŒ‰ç­‰äºç¬¦å·splitï¼Œç¬¬0é¡¹æ˜¯g(x,y)ï¼Œå– g(
    
        arr = []  # è®°å½•å®é™…è¡¨è¾¾å¼ä¸­çš„å‚æ•°åˆ—è¡¨
        for i in range(0, num):
            arr.append(list_var[random.randint(0, len(list_var) - 1)])  # ä»å‚æ•°åˆ—è¡¨éšæœº
            std_java += arr[i]
            if i < num - 1:
                std_java += ","
        std_java += ")"
        return std_java
    
    def generSin(x):
        m = random.randint(1, 2)
        if m == 1:
            return "sin" + " " * random.randint(0, 0) + "(" + x.xeger(powFun) + ")" + x.xeger(power)
        else:
            return "sin" + " " * random.randint(0, 0) + "(" + x.xeger(const) + ")" + x.xeger(power)
    
    
    def generCos(x):
        m = random.randint(1, 2)
        if m == 1:
            return "cos" + " " * random.randint(0, 0) + "(" + x.xeger(powFun) + ")" + x.xeger(power)
        else:
            return "cos" + " " * random.randint(0, 0) + "(" + x.xeger(const) + ")" + x.xeger(power)
    
    def generSum(x):
        begin = random.randint(-10,10)
        end = begin+random.randint(-4,4)
        s = "sum"+"("+"i"+","+str(begin)+","+str(end)+","
        factor = "("+generExpFactorNotDefinedFuncAndSum(x,False)+")"
        factor.replace("x","i")
        s+=factor+")"
        return s
    
    def generExpFactorNotDefinedFuncAndSum(x,notpre):
        n = random.randint(1, 1)
        m = random.randint(1,3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        s += generTermNotExpDefinedFuncAndSum(x, False)
        for i in range(n):
            if random.random() > 0.5:
                s += "+"
            else:
                s += "-"
            s += generTermNotExpDefinedFuncAndSum(x, True)
        return s
    
    def generTermNotExpDefinedFuncAndSum(x, notpre):
        n = random.randint(1, 2)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            if random.random() > 0.8:
                s += x.xeger(powFun)
            elif 0.6 < random.random() <= 0.8:
                s += x.xeger(const)
            elif 0.3 < random.random() <= 0.6:
                s += generSin(x)
            else:
                s += generCos(x)
            if i < n - 1:
                s += "*"
        return s
    
    def generTermNotExp(x, notpre):
        n = random.randint(1, 1)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            ran = random.random()
            if ran > 0.7:
                s += x.xeger(powFun)
            elif 0.6 < ran <= 0.7:
                s += x.xeger(const)
            elif 0.3 < ran <= 0.6:
                s += generSin(x)
            else:
                s += generCos(x)
            if i < n - 1:
                s += "*"
        return s
    
    
    def generExpNotBrac(x, notpre):
        n = random.randint(1, 1)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        s += generTermNotExp(x, False)
        for i in range(n):
            if random.random() > 0.5:
                s += "+"
            else:
                s += "-"
            s += generTermNotExp(x, True)
        return s
    
    
    def generTermWithBracket(x, notpre):
        n = random.randint(3, 3)
        m = random.randint(1, 3)
        s = ""
        if notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            tmp = random.random()
            if tmp > 0.90:
                s += x.xeger(powFun)
            elif 0.80 < tmp <= 0.90:
                s += x.xeger(const)
            elif 0.6 < tmp <= 0.8:
                s += generSin(x)
            elif 0.4 < tmp <= 0.6:
                s += generCos(x)
            elif tmp <= 0.4:
                s += "(" + generExpNotBrac(x, False) + ")"
                s += "**" + "+" + str(random.randint(1, 2))
            if i < n - 1:
                s += "*"
        return s
    
    
    def generExpWithBracket(x):
        n = random.randint(3, 3)
        m = random.randint(1, 3)
        s = ""
        if m == 1:
            s += "+"
        elif m == 2:
            s += '-'
        for i in range(n):
            s += generTermWithBracket(x, True)
            if i < n - 1:
                if random.random() > 0.9:
                    s += "+"
                else:
                    s += "-"
        return s
    print(0)
    s = generExpWithBracket(x)
    print(s)

#### è‡ªåŠ¨åŒ–è¯„æµ‹

åœ¨çœ‹äº†cnxå¤§ä½¬çš„è¯„æµ‹æ€è·¯å’Œè®¨è®ºåŒºçš„è¯„æµ‹æ€è·¯åï¼ŒåŸºäºcnxå¤§ä½¬çš„ä»£ç å®ç°äº†ä¸€ä¸ªç®€æ˜“çš„è¯„æµ‹æœºã€‚

åˆ©ç”¨Pythonçš„subprocessåº“è¿›è¡Œjavaç¨‹åºçš„è¾“å…¥è¾“å‡ºï¼Œåˆ©ç”¨evalå‡½æ•°å¯¹javaç¨‹åºçš„è¾“å‡ºè¿›è¡Œä»£å€¼è¿ç®—ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œå°±å°†è¾“å…¥æ•°æ®å’Œè¾“å‡ºç»“æœè¾“å…¥åˆ°æ–‡ä»¶ä¸­

è¯„æµ‹æœºè¾“å…¥ä»æ•°æ®ç”Ÿæˆå™¨è·å¾—

##### ä»£ç ç¤ºä¾‹

å±•å¼€ä»£ç 

    import subprocess
    from math import *
    import os
    import data
    
    
    def getinput():
        s = data.generdata()
        while len(s) > 200:
            s = data.generdata()
        return s
    
    # å…¶ä¸­cmdä»£è¡¨IDEAè¿è¡Œæ—¶çš„æ§åˆ¶å°æœ€ä¸Šé¢çš„é‚£ä¸€ä¸²è·¯å¾„
    cmd_my = r''
    
    cmd2 = r''
    
    cmd3 = r''
    
    cmd4 = r''
    
    cmd6 = r''
    
    cmd7 = r''
    
    cmd8 = r''
    
    testcmd2 = cmd2
    testcmd3 = cmd3
    testcmd4 = cmd4
    testcmd5 = cmd5
    testcmd6 = cmd6
    testcmd7 = cmd7
    testcmd8 = cmd8
    for i in range(60000):
        java_input = getinput()
        print("----input----")
        print(java_input)
        print("-----------")
    
        proc = subprocess.Popen(cmd_my, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out1 = stdout.split("\n")[1]
        print(out1)
    
        proc = subprocess.Popen(testcmd2, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out2 = stdout.split("\n")[1]
        print(out2)
    
        proc = subprocess.Popen(testcmd3, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out3 = stdout.split("\n")[1]
        print(out3)
    
        proc = subprocess.Popen(testcmd4, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out4 = stdout.split("\n")[1]
        print(out4)
    
        proc = subprocess.Popen(testcmd5, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out5 = stdout.split("\n")[1]
        print(out5)
    
        proc = subprocess.Popen(testcmd6, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out6 = stdout.split("\n")[1]
        print(out6)
    
        proc = subprocess.Popen(testcmd7, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out7 = stdout.split("\n")[1]
        print(out7)
    
        proc = subprocess.Popen(testcmd8, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT,
                                encoding='gb2312')
        stdout, stderr = proc.communicate(java_input)
        out8 = stdout.split("\n")[1]
        print(out8)
    
        x = 2.25
        r1 = eval(out1)
        r2 = eval(out2)
        r3 = eval(out3)
        r4 = eval(out4)
        r5 = eval(out5)
        r6 = eval(out6)
        r7 = eval(out7)
        r8 = eval(out8)
        print("my_out :", r1)
        print("saber  :", r2)
        print("rider  :", r3)
        print("lancer  :", r4)
        print("caster  :", r5)
        print("Assassin  :", r6)
        print("Archer  :", r7)
        print("8_out  :", r8)
        eps = 0.00000000001
        if r1 == 0 and r2 == 0 and r3 == 0 and r5 == 0:
            print("-------AC---------")
        elif r1 == 0 and (r2 != 0 or r3 != 0 or r5 != 0):
            print("-------WA---------")
        else:
            if abs((r1 - r2) / r1) < eps and abs((r1 - r3) / r1) < eps and abs(
                    (r1 - r5) / r1) < eps:
                print("-------AC---------")
            else:
                print("-------WA---------")
                with open("hackerror2.txt", 'a', encoding='utf-8') as f:
                    f.write(java_input)
                    f.write("\n")
                    f.write(out1)
                    f.write("\n")
                    f.write(out2)
                    f.write("\n")
                    f.write(out3)
                    f.write("\n")
                    f.write(out5)
                    f.write("\n")
                    f.write("my_out :" + str(r1))
                    f.write("\n")
                    f.write("saber  :" + str(r2))
                    f.write("\n")
                    f.write("rider   :" + str(r3))
                    f.write("\n")
                    f.write("caster   :" + str(r5))
                    f.write("\n")
                    f.write("out6   :" + str(r6))
                    f.write("\n")
                    f.write("out7   :" + str(r7))
                    f.write("\n")
                    f.write("out8   :" + str(r8))
                    f.write("\n\n\n")
        print("\n\n")

### ç¬¬ä¸‰æ¬¡ä½œä¸š

#### æ•°æ®ç”Ÿæˆ

ç¬¬ä¸‰æ¬¡ä½œä¸šæ•°æ®ç”Ÿæˆæ€è·¯ä¸ç¬¬äºŒæ¬¡ä½œä¸šå¤§ä½“ä¸Šç›¸åŒï¼Œä½†æ˜¯ç¬¬ä¸‰æ¬¡ä½œä¸šæ”¯æŒä¸‰è§’å› å­å†…åµŒå¥—ä»»æ„å› å­ï¼Œä»¥åŠæ‹¬å·åµŒå¥—ï¼ŒåŒæ—¶sumè¡¨è¾¾å¼é‡Œä¸èƒ½æœ‰è‡ªå®šä¹‰å‡½æ•°å’Œæ±‚å’Œå‡½æ•°ã€‚

å› æ­¤å°†ä¸‰è§’å‡½æ•°å› å­åˆ†ä¸ºæœ‰æ±‚å’Œå‡½æ•°ã€è‡ªå®šä¹‰å‡½æ•°ï¼Œå’Œæ²¡æœ‰æ±‚å’Œå‡½æ•°è‡ªå®šä¹‰å‡½æ•°ã€æ±‚å’Œå‡½æ•°ä¸¤ç§ï¼Œsumå› å­ç”Ÿæˆæ—¶å¦‚æœè¦ç”¨åˆ°ä¸‰è§’å‡½æ•°åˆ™é‡‡ç”¨åè€…ã€‚

é€šè¿‡é€’å½’ç”Ÿæˆæ¯ä¸€é¡¹æ—¶å¯¹é¡¹ã€å› å­ã€è¡¨è¾¾å¼æ·»åŠ æ‹¬å·ç”ŸæˆåµŒå¥—æ‹¬å·ã€‚

è‡ªå®šä¹‰å‡½æ•°çš„é€’å½’è°ƒç”¨é€šè¿‡å¸¸é‡æ± çš„æ–¹å¼æ‰‹åŠ¨æ·»åŠ ã€‚

##### ä»£ç ç¤ºä¾‹

å±•å¼€ä»£ç 

    from xeger import Xeger
    import random
    
    # powFun = 'x( ){0}(\*\*( ){0}\+0{0}[0-4])?'
    powFun = 'x'
    const = '(\+|-)0{0}[0-9]{1}'
    power = '( ){0}(\*\*( ){0}\+0{0,1}[2-3])?'
    
    # fun1,fun2,fun3åˆ†åˆ«æ˜¯å‡½æ•°å‚æ•°ä¸º1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªçš„å‡½æ•°ï¼Œè€Œä¸”å‡½æ•°ååˆ†åˆ«ä¸ºfï¼Œgï¼Œh
    list_fun1 = ["f(x)=x", "f(y)=sin(y)", "f(z)=z*z", "f(y)=y*y", "f(z)=sin(cos(z))"]
    list_fun2 = ["g(x,y)=x+y", "g(y,z)=sin(y)*cos(z)", "g(x,z)=x*z+x-z", "g(z,y)=y*y-z+2", "g(z,x)=cos((z*x))"]
    list_fun3 = ["h(x,y,z)=x+y-z", "h(x,z,y)=sin(x)+y+cos(z)", "h(x,z,y)=x+y*(z-1)", "h(x,y,z)=y*y*x*(4-z)",
                 "h(z,x,y)=sin(x)*y+x"]
    list_fun = [list_fun1, list_fun2, list_fun3]
    
    # ç”¨äºæ›¿æ¢å‡½æ•°å‚æ•°çš„å˜é‡ï¼Œå³è‹¥å‡½æ•°ä¸ºf(y)=sin(y)ï¼Œåˆ™ä»list_varä¸­éšæœºä¸€ä¸ªå½“ä½œyå¡«å…¥å‡½æ•°
    list_var = ["1", "2", "x", "x**2", "x**0", "f(g(x**1,cos(x)))", "g(f(0),g(x,1))", "h(1,1,1)", "0", "cos(-0)", "sin(-0)",
                "sum(i, -2, 1, i*cos(x))","sin(sin(sin(0)))","cos(sin(0))","cos(cos(0))","sum(i, 0, 2, i)","g(h(sum(i,-2,-1, i), f(cos(sin(x**1))),sum(i,2,2,(i*cos(i))) ),sum(i,-2,2,sin(i)) )"]
    
    fun_java = []  # éšæœºå‡ºäº†å“ªäº›å‡½æ•°ï¼Œè®°å½•ä¸€ä¸‹ï¼Œjavaè¾“å…¥æ—¶è¦ç”¨åˆ°
    fun_record = []  # å‡½æ•°åä¸èƒ½é‡å¤ï¼Œä¹Ÿè®°å½•ä¸€ä¸‹
    
    x = Xeger(limit=100)
    x._cases['any'] = lambda x: '.'
    x._alphabets['whitespace'] = ' '
    
    
    def generate_function():
        std_java = ""
        p = random.randint(1, len(list_fun1))  # ç±»å‹ï¼ˆæ¯ä¸ªå‡½æ•°åˆ—è¡¨ä¸­çš„ç¬¬å‡ ä¸ªï¼‰
        num = random.randint(1, 3)  # å‚æ•°ä¸ªæ•°/å‡½æ•°å
        while num in fun_record:
            # ä¸èƒ½é‡å¤
            num = random.randint(1, 3)
            if len(fun_record) >= 3:
                break
        fun_record.append(num)  # è®°å½•ç”¨è¿‡çš„å‡½æ•°å
    
        fun_java.append((num, p))  # è®°å½•éšæœºå‡ºçš„å‡½æ•°
        std_java += list_fun[num - 1][p - 1].split("=")[0][0:2]
        # å‡å¦‚å‡½æ•°ä¸º g(x,y)=x+y ï¼ŒæŒ‰ç­‰äºç¬¦å·splitï¼Œç¬¬0é¡¹æ˜¯g(x,y)ï¼Œå– g(
    
        arr = []  # è®°å½•å®é™…è¡¨è¾¾å¼ä¸­çš„å‚æ•°åˆ—è¡¨
        for i in range(0, num):
            arr.append(list_var[random.randint(0, len(list_var) - 1)])  # ä»å‚æ•°åˆ—è¡¨éšæœº
            std_java += arr[i]
            if i < num - 1:
                std_java += ","
        std_java += ")"
        return std_java
    
    
    def generSin(x):
        return "sin" + " " * random.randint(0, 0) + "(" + gengerFactor(x) + ")" + x.xeger(power)
    
    
    def generCos(x):
        return "cos" + " " * random.randint(0, 0) + "(" + gengerFactor(x) + ")" + x.xeger(power)
    
    
    def generSinNotSumAndDefined(x):
        return "sin" + " " * random.randint(0, 0) + "(" + generFactorNotSumAndDefined(x) + ")" + x.xeger(power)
    
    
    def generCosNotSumAndDefined(x):
        return "cos" + " " * random.randint(0, 0) + "(" + generFactorNotSumAndDefined(x) + ")" + x.xeger(power)
    
    
    def generSum(x):
        begin = random.randint(-5, 5)
        end = begin + random.randint(-2, 2)
        s = "sum" + "(" + "i" + "," + str(begin) + "," + str(end) + ","
        factor = "(" + generExpFactorNotDefinedFuncAndSum(x, False) + ")"
        factor = factor.replace("x", "i")
        s += factor + ")"
        return s
    
    def generExpFactorNotDefinedFuncAndSum(x, notpre):
        n = random.randint(1, 2)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        s += generTermNotExpDefinedFuncAndSum(x, False)
        for i in range(n):
            if random.random() > 0.5:
                s += "+"
            else:
                s += "-"
            s += generTermNotExpDefinedFuncAndSum(x, True)
        return s
    
    
    def generTermNotExpDefinedFuncAndSum(x, notpre):
        n = random.randint(1, 2)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            if random.random() > 0.8:
                s += x.xeger(powFun)
            elif 0.6 < random.random() <= 0.8:
                s += x.xeger(const)
            elif 0.3 < random.random() <= 0.6:
                s += generSinNotSumAndDefined(x)
            else:
                s += generCosNotSumAndDefined(x)
            if i < n - 1:
                s += "*"
        return s
    
    
    def gengerFactor(x):
        s = ""
        ran = random.random()
        if ran > 0.8:
            s += x.xeger(powFun)
        elif 0.7 < ran <= 0.8:
            s += x.xeger(const)
        elif 0.5 < ran <= 0.7:
            s += generSin(x)
        elif 0.3 < ran <= 0.5:
            s += generCos(x)
        else:
            s += generSum(x)
        return s
    
    
    def generFactorNotSumAndDefined(x):
        s = ""
        ran = random.random()
        if ran > 0.8:
            s += x.xeger(powFun)
        elif 0.6 < ran <= 0.8:
            s += x.xeger(const)
        elif 0.3 < ran <= 0.6:
            s += generSinNotSumAndDefined(x)
        else:
            s += generCosNotSumAndDefined(x)
        return s
    
    
    def generTermNotExp(x, notpre):
        n = random.randint(1, 3)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            ran = random.random()
            if ran > 0.8:
                s += x.xeger(powFun)
            elif 0.7 < ran <= 0.8:
                s += x.xeger(const)
            elif 0.45 < ran <= 0.7:
                s += generSin(x)
            elif 0.2 < ran <= 0.45:
                s += generCos(x)
            else:
                s += generSum(x)
            if i < n - 1:
                s += "*"
        return s
    
    
    def generExpNotBrac(x, notpre):
        n = random.randint(2, 3)
        m = random.randint(1, 3)
        s = ""
        if not notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        s += generTermNotExp(x, False)
        for i in range(n):
            bracket = random.random()
            if bracket > 0.0:
                s = "(" + s + ")"
            if random.random() > 0.5:
                s += "+"
            else:
                s += "-"
            s += generTermNotExp(x, True)
        return s
    
    
    def generTermWithBracket(x, notpre):
        n = random.randint(1, 3)
        m = random.randint(1, 3)
        s = ""
        if notpre:
            if m == 1:
                s += "+"
            elif m == 2:
                s += '-'
        for i in range(n):
            tmp = random.random()
            if tmp > 0.85:
                s += x.xeger(powFun)
            elif 0.80 < tmp <= 0.85:
                s += x.xeger(const)
            elif 0.6 < tmp <= 0.8:
                s += generSin(x)
            elif 0.4 < tmp <= 0.6:
                s += generCos(x)
            elif tmp <= 0.4:
                s += "(" + generExpNotBrac(x, False) + ")"
                s += "**" + "+" + str(random.randint(1, 2))
            if i < n - 1:
                s += "*"
        return s
    
    
    def generExpWithBracket(x):
        n = random.randint(2, 3)
        m = random.randint(1, 3)
        s = ""
        if m == 1:
            s += "+"
        elif m == 2:
            s += '-'
        for i in range(n):
            s += generTermWithBracket(x, True)
            if i < n - 1:
                if random.random() > 0.5:
                    s += "+"
                else:
                    s += "-"
        return s
    
    
    """
    print(3)
    print(random.choice(list_fun1))
    print(random.choice(list_fun2))
    print(random.choice(list_fun3))
    s = generExpWithBracket(x)
    print(s)
    """
    
    
    def generdata():
        global x
        s = "0\n" + generExpWithBracket(x)
        return s

#### è‡ªåŠ¨åŒ–è¯„æµ‹

æœ¬æ¬¡æµ‹è¯„æœºä¸HW2ç›¸åŒï¼Œæ•…ä¸å†èµ˜è¿°

è‡ªæˆ‘ç¨‹åºbugåˆ†æåŠæµ‹è¯•æ‰‹æ®µ
--------------

### è‡ªæˆ‘ç¨‹åºbugåˆ†æ

#### ç¬¬ä¸€æ¬¡ä½œä¸š

åœ¨å†™å®Œä»£ç è¿›è¡Œè‡ªæˆ‘æµ‹è¯•æ—¶ä¸»è¦çš„bugæ˜¯lexerè§£æçš„é—®é¢˜ï¼Œå¿½ç•¥äº†ä¸€äº›ç¬¦å·çš„ä¼˜å…ˆçº§

æœ¬æ¬¡ä½œä¸šå¼ºæµ‹å’Œäº’æµ‹éƒ½æœªè¢«æ‰¾å‡ºbug

#### ç¬¬äºŒæ¬¡ä½œä¸š

è¿™æ¬¡ä½œä¸šçš„bugä»¤æˆ‘â˜¹ï¸

bugå‡ºåœ¨åŒ–ç®€ï¼Œå°†cos(0)åŒ–æˆäº†0ï¼Œå‡ºç°è¿™ä¸ªbugçš„åŸå› æ˜¯å› ä¸ºcosçš„åŒ–ç®€ä»£ç æ˜¯æˆ‘ä»siné‚£å¤åˆ¶è¿‡æ¥çš„ï¼Œè€Œsin(0)=0ï¼Œå¿˜è®°æ”¹äº†ğŸ¤’

å¯¼è‡´å¼ºæµ‹**WA3ä¸ªç‚¹**ï¼Œ**äº’æµ‹è¢«hackä¸€æ¬¡**

ç—›ï¼Œå¤ªç—›äº†

è¿™ä¹Ÿå†ä¸€æ¬¡æé†’äº†æˆ‘ï¼Œ**æ°¸è¿œä¸è¦å¤åˆ¶ä»£ç ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼**

#### ç¬¬ä¸‰æ¬¡ä½œä¸š

æœ¬æ¬¡ä½œä¸šå¼ºæµ‹å’Œäº’æµ‹å‡æœªè¢«æ‰¾å‡ºbug

### æµ‹è¯•æ‰‹æ®µ

#### ç¬¬ä¸€æ¬¡ä½œä¸š

ç”±äºæœªç¼–å†™è¯„æµ‹æœºï¼Œæ•…åªèƒ½æ‰‹å·¥è¿›è¡Œå¯¹æ‹ã€‚

æ­¥éª¤:

1.å°†ç¨‹åºè¾“å…¥æ”¹ä¸ºå¾ªç¯

2.ä»æ•°æ®ç”Ÿæˆå™¨å¤åˆ¶è¾“å‡ºçš„æ•°æ®

3.å°†æ•°æ®è¾“å…¥è‡ªå·±çš„ç¨‹åº

4.å°†æ•°æ®è¾“å…¥åˆ°ä»–äººç¨‹åº

5.å°†ä»–äººç¨‹åºè¾“å‡ºè¾“å…¥åˆ°è‡ªå·±ç¨‹åº

6.ä½¿ç”¨æ–‡æœ¬å·®å¼‚æ¯”è¾ƒå™¨å¯¹æ¯”ç¬¬3æ­¥å’Œç¬¬4æ­¥çš„è¾“å‡º

å¯ä»¥çœ‹å‡ºï¼Œæ²¡æœ‰è¯„æµ‹æœºä¸‹æƒ³è¦å¯¹æ‹æ˜¯æä¸ºå›°éš¾ä¸”éº»çƒ¦çš„ï¼Œè¿™ä¹Ÿåšå®šäº†å½“æ—¶æˆ‘è¦æ­å»ºè¯„æµ‹æœºçš„å†³å¿ƒ

#### ç¬¬äºŒæ¬¡ä½œä¸š

æ­å»ºäº†è¯„æµ‹å§¬ä»¥åç¬¬äºŒæ¬¡ä½œä¸šæµ‹è¯•è¾ƒä¸ºé¡ºåˆ©ï¼Œåªéœ€è¦åˆ©ç”¨è¯„æµ‹æœºå’Œæ•°æ®ç”Ÿæˆå™¨è‡ªåŠ¨åŒ–è¯„æµ‹å³å¯ã€‚ç¬”è€…åˆ©ç”¨è¯„æµ‹æœºå¸®åŠ©åŒå­¦æµ‹å‡ºäº†å‡ ä¸ªbugï¼Œååˆ†æœ‰æˆå°±æ„Ÿã€‚

**ä½†æ˜¯**ï¼Œç”±äºä¸€ç³»åˆ—**å†å²åŸå› **ï¼Œç¬”è€…çš„æ•°æ®ç”Ÿæˆå™¨ç«Ÿç„¶å¿½ç•¥äº†0çš„ç”Ÿæˆï¼Œå¯¼è‡´æ— æ³•ç”Ÿæˆcos(0)è¿™æ ·çš„æ•°æ®ï¼Œä¹Ÿæ˜¯ç¬”è€…ç¬¬äºŒæ¬¡ä½œä¸šç¿»è½¦çš„æ ¹æœ¬åŸå› ã€‚åŒæ—¶ä¹Ÿè¯´æ˜äº†ä¸èƒ½è¿‡åº¦ä¾èµ–è¯„æµ‹æœºï¼Œè¿˜æ˜¯æœ‰å¿…è¦é‡å¤é˜…è¯»è‡ªå·±çš„ä»£ç çš„ã€‚

#### ç¬¬ä¸‰æ¬¡ä½œä¸š

å’Œç¬¬äºŒæ¬¡ä½œä¸šæµ‹è¯•è¿‡ç¨‹åŸºæœ¬ç›¸åŒï¼ŒåŒæ ·ä¹Ÿå¸®åŠ©å‡ ä½åŒå­¦æ‰¾å‡ºäº†ç¨‹åºçš„bugï¼Œæˆå°±æ„Ÿæ»¡æ»¡~

ä»–äººç¨‹åºbugåˆ†æ
---------

### ç¬¬ä¸€æ¬¡ä½œä¸š

æœ¬æ¬¡ä½œä¸šæ‰¾åˆ°åŒæˆ¿é—´ä¸¤ä¸ªbug

1.ç¬¬ä¸€ä¸ªäººçš„bugæ˜¯-1ä¼šåªè¾“å‡ºä¸ª-å·

2.ç¬¬äºŒä¸ªäººçš„bugæ˜¯5161\*xä¼šè¾“å‡º516\*x,æ¨æµ‹æ˜¯æ­£åˆ™è¡¨è¾¾å¼å‡ºçš„é”…

### ç¬¬äºŒæ¬¡ä½œä¸š

æœ¬æ¬¡ä½œä¸šæ‰¾åˆ°åŒæˆ¿é—´4ä¸ªbug

1.ç¬¬ä¸€ä¸ªbugæ˜¯-cos(2)\*cos(x)-cos(x)ä¼šè¾“å‡º-2\*cos(x)ï¼Œæ¨æµ‹æ˜¯ä¸‰è§’å‡½æ•°ç›¸ä¹˜æ²¡æœ‰å¤„ç†å¥½

2.ç¬¬äºŒä¸ªbugæ˜¯sin(-1111111111111111111111)ä¼šçˆ†int,çœ‹äº†ä»£ç ä»¥åå‘ç°è¿™ä½åŒå­¦hashcodeä½¿ç”¨äº†parseIntæ¥è§£æBigInter

3.ç¬¬ä¸‰ä¸ªbugæ˜¯(cos(x)\*\*2+sin(x)\*\*2)\*\*2ä¼šè¾“å‡ºcos(x)\*\*3+cos(x)\*\*2\*sin(x)+sin(x)\*\*2\*cos(x)+sin(x)\*\*3ï¼ŒåŸå› åº”è¯¥æ˜¯å¹³æ–¹å’Œä¼˜åŒ–å‡ºäº†é—®é¢˜ï¼Œè¿™ä¹Ÿè¯´æ˜ä¸€å®šè¦åœ¨ä¿è¯æ­£ç¡®æ€§çš„åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–

4.ç¬¬å››ä¸ªbugæ˜¯x\*\*11è¾“å‡ºxï¼Œæ¨æµ‹æ˜¯è¿™ä½åŒå­¦æ²¡æœ‰ä»”ç»†é˜…è¯»æŒ‡å¯¼ä¹¦ï¼Œx\*\*10ä»¥ä¸Šçš„æŒ‡æ•°æ²¡æœ‰å¤„ç†

### ç¬¬ä¸‰æ¬¡ä½œä¸š

æœ¬æ¬¡ä½œä¸šæ‰¾åˆ°åŒæˆ¿é—´ä¸ªbug

1.ç¬¬ä¸€ä¸ªbugæ˜¯sin((-x))\*\*2è¾“å‡ºsin(-x)\*\*2ï¼Œæ¨æµ‹æ˜¯æ²¡æœ‰å¤„ç†å¥½ä¸‰è§’å‡½æ•°å†…å› å­çš„è¾“å‡ºï¼Œå¯¼è‡´WF

2.ç¬¬äºŒä¸ªbugæ˜¯+3+-cos(sum(i,2,1,0))\*\*+2ä¼šè¾“å‡º4ï¼Œæ¨æµ‹æ˜¯å¹³æ–¹å’Œå’ŒäºŒå€è§’ä¼˜åŒ–å‡ºç°çš„é—®é¢˜ï¼Œè¿™å†ä¸€æ¬¡æé†’æˆ‘ä»¬ï¼Œ**ä¸€å®šè¦åœ¨ä¿è¯æ­£ç¡®æ€§çš„åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–**ã€‚åœ¨è¿™é‡Œï¼Œ**ä¸å¾—ä¸æä¸€ä¸‹**ï¼Œè¿™ä½åŒå­¦çš„ä¼˜åŒ–å‡ºç°äº†ç›¸å½“å¤šçš„é—®é¢˜ï¼Œå¯¼è‡´æˆ‘hackäº†ä¸‰æ¬¡ä»¥åå°±ä¸æ•¢å†hackäº†ã€‚æµ‹è¯„æœºæ¯è·‘åå‡ æ¡æ•°æ®å°±ä¼šWAï¼Œä½†è¿™æ ·ä»èƒ½è¿›å…¥Aæˆ¿ï¼Œç”±æ­¤å¯è§å¼ºæµ‹çš„æ•°æ®ä¸ä¸€å®šå¼ºã€‚

3.ç¬¬ä¸‰ä¸ªbugæ˜¯cos(sin(cos(sin(cos(sin(cos(sin(cos(x)))))))))ï¼Œæœ‰ç¬¬äºŒä¸ªbugçš„åŒå­¦çš„ç¨‹åºåœ¨è¾“å…¥è¿™æ¡æ•°æ®åä¼šç›´æ¥TLEï¼Œå¯èƒ½æ˜¯ä¼˜åŒ–åšå¾—å¤ªç‹ ï¼Œå¹¶ä¸”æ²¡æœ‰åŠæ—¶ç†”æ–­ã€‚

4.ç¬¬å››ä¸ªbugæ˜¯-sin(x)\*\*+2+-sin(x)\*cos(x)\*\*+2++cos(x)\*xä¼šè¾“å‡ºx\*cos(x)-sin(x),æ¨æµ‹ä¹Ÿæ˜¯ä¸‰è§’å‡½æ•°ä¹˜ä¸‰è§’å‡½æ•°åˆå¹¶æ—¶æ²¡æœ‰å¤„ç†å¥½

5.ç¬¬äº”ä¸ªbugæ˜¯sum(i,0,0,(-i+cos(sin(sin(-9)))\*cos(i)-cos(-5)))ä¼šè¾“å‡ºcos((0))\*cos(sin(sin((-9))))0-cos((-5)),å¯ä»¥å‘ç°ä¸­é—´è¾“å‡ºå¤šäº†ä¸ª0ï¼Œçœ‹äº†ä»£ç ä»¥åå‘ç°åº”è¯¥æ˜¯sumå¤„ç†æ—¶å€™å‡ºç°çš„é—®é¢˜

6.ç¬¬å…­ä¸ªbugæ˜¯sum(i,-1,1,i\*\*2)ä¼šè¾“å‡º0ï¼Œè§‚å¯Ÿä»£ç åå‘ç°æ˜¯æ²¡æœ‰å¤„ç†å¥½iä½œä¸ºå¹‚å‡½æ•°è‡ªå˜é‡çš„æƒ…å†µ

7.ç¬¬ä¸ƒä¸ªbugæ˜¯sum(i,123456789123456780,123456789123456789,i)ï¼Œè§‚å¯Ÿä»£ç åå‘ç°æ˜¯sumçš„ä¸Šä¸‹ç•Œä½¿ç”¨äº†intå­˜å‚¨ï¼Œå› æ­¤é‡åˆ°å¤§æ•°æ®ä¼šçˆ†intã€‚åŒæ—¶å‘ç°æœ‰äº›äººä¸Šä¸‹ç•Œæ˜¯æ‹¿longå­˜çš„ï¼Œå¯æƒœè¯¾ç¨‹ç»„äº’æµ‹é™åˆ¶å¤ªæ­»ï¼Œæ— æ³•æ„é€ å‡ºçˆ†longçš„æ•°æ®

hackåˆ«äººç¨‹åºbugç­–ç•¥
-------------

### ç¬¬ä¸€æ¬¡ä½œä¸š

ç”±äºæœªç¼–å†™è¯„æµ‹æœºï¼Œæ•…åªèƒ½æ ¹æ®æ•°æ®ç”Ÿæˆå™¨é‡‡ç”¨**æµ‹è¯•æ‰‹æ®µ**ä¸­ç¬¬ä¸€æ¬¡ä½œä¸šçš„æµ‹è¯•æ–¹æ³•ï¼Œæ‰‹åŠ¨æ„é€ äº†ä¸€äº›è¾¹ç•Œæ•°æ®ã€‚æˆåŠŸhackåˆ°ä¸¤ä¸ªäººã€‚

### ç¬¬äºŒæ¬¡ä½œä¸š

ç”±äºæ­å»ºäº†è¯„æµ‹æœºï¼Œæˆ‘çš„ç­–ç•¥æ˜¯æŸ¥çœ‹ä»–äººä»£ç ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰åœ°æ–¹ä¼šçˆ†intä»€ä¹ˆçš„ï¼Œç„¶åå…ˆæ‰‹åŠ¨è¾“å…¥ä¸€äº›å¯èƒ½æœ‰bugçš„è¾¹ç•Œæ•°æ®ï¼Œæµ‹è¯•å®Œè¾¹ç•Œæ•°æ®ä»¥åäº¤ç»™è¯„æµ‹æœºè‡ªåŠ¨åŒ–è¯„æµ‹(é«˜å·¥èƒ½ç•™ç»™OOçš„æ—¶é—´çœŸçš„ä¸å¤š)ï¼Œç„¶åå»å¹²åˆ«çš„äº‹æƒ…(å®ç°å¹¶è¡Œ)ï¼Œéš”ä¸€æ®µæ—¶é—´çœ‹çœ‹æ–‡ä»¶æ˜¯å¦æœ‰WAè¾“å‡º

### ç¬¬ä¸‰æ¬¡ä½œä¸š

hackæ–¹æ³•åŒç¬¬äºŒæ¬¡ä½œä¸š

### hackç­–ç•¥åˆ†æ

è™½ç„¶é€šè¿‡é˜…è¯»ä»–äººä»£ç +è¯„æµ‹æœºéšæœºè½°ç‚¸èƒ½è¦†ç›–åˆ°ç»å¤§å¤šæ•°ç‚¹ï¼Œä½†ä»æœ‰ä¸€äº›è¾¹ç•Œæ•°æ®æ˜¯éš¾ä»¥è¢«æ„é€ å‡ºæ¥çš„ï¼Œå¹¶ä¸”è¯„æµ‹æœºç”Ÿæˆçš„æ•°æ®æœ‰æ—¶è¿‡äºå¤æ‚ï¼Œä¸åˆ©äºhackè¾“å…¥çš„æäº¤ï¼Œç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯éš¾ä»¥æ„é€ å¼ºè€Œç®€å•çš„æ•°æ®ã€‚

è¿™æ ·ä¼šå¯¼è‡´è™½ç„¶è·‘äº†å¾ˆå¤šç»„æ•°æ®ï¼Œä½†æ˜¯ä»æœ‰bugçš„æƒ…å†µå‘ç”Ÿã€‚å¯ä»¥è¯´ï¼Œè¯„æµ‹æœºåªæ˜¯å¸®åŠ©æµ‹è¯•çš„ä¸€ç§æ‰‹æ®µï¼Œå¹¶ä¸èƒ½å®Œå…¨è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œä¸èƒ½ä¸¥æ ¼è¯æ˜ä»£ç çš„æ­£ç¡®æ€§ã€‚

å¿ƒå¾—ä½“ä¼š
----

åœ¨OOç¬¬ä¸€å•å…ƒçš„å­¦ä¹ ä¸­ï¼Œæˆ‘æœ‰å¦‚ä¸‹å‡ ä¸ªä½“ä¼šå’Œæ”¶è·

*   åˆæ­¥å­¦ä¹ äº†é€’å½’ä¸‹é™ç®—æ³•å¹¶è¿ç”¨åœ¨è¡¨è¾¾å¼è§£æä¸­ï¼Œå†ä¸€æ¬¡é¢†ç•¥åˆ°äº†é€’å½’çš„ç¾å¦™
*   é€šè¿‡é˜…è¯»å­—æ•°é¢‡å¤šä¸”æ²¡æœ‰åºŸè¯çš„æŒ‡å¯¼ä¹¦ï¼Œæˆ‘æå‡äº†å¿«é€Ÿä»ä¸€ä»½ç¯‡å¹…è¾ƒé•¿çš„èµ„æ–™ä¸­è·å–æœ‰ç”¨ä¿¡æ¯åŠéœ€æ±‚çš„èƒ½åŠ›
*   é€šè¿‡æŒ‡å¯¼ä¹¦ï¼Œæ¥è§¦åˆ°äº†å½¢å¼åŒ–è¯­è¨€
*   ç¬¬ä¸€æ¬¡åˆ©ç”¨pythonçš„xegerå’Œsubprocessæ¨¡å—å†™å‡ºäº†å±äºè‡ªå·±çš„æ•°æ®ç”Ÿæˆå™¨å’Œè¯„æµ‹å§¬ï¼Œå®ç°äº†ä¸Šå­¦æœŸè®¡ç»„æ²¡æœ‰å®ç°çš„æ¢¦æƒ³
*   å­¦ä¼šäº†ä½¿ç”¨IDEAåŠå…¶æ’ä»¶ï¼Œå¹¶åˆ©ç”¨checkstyleä½¿ä»£ç é£æ ¼å˜å¾—æ›´å¥½
*   äº†è§£åˆ°äº†é»‘ç›’æµ‹è¯•ã€ç™½ç›’æµ‹è¯•ã€å›å½’æµ‹è¯•ç­‰æµ‹è¯•æ–¹æ³•
*   ä½“ä¼šåˆ°äº†å¥½çš„æ¶æ„çš„é‡è¦æ€§
*   ç†è§£åˆ°äº†é‡æ„çš„å¿…è¦æ€§å’Œå­¦ä¼šäº†åº”è¯¥å¦‚ä½•è¿›è¡Œé‡æ„
*   è®¤è¯†äº†è®¸å¤š6ç³»çš„åŒå­¦ï¼Œæ”¶è·äº†è·¨é™¢ç³»çš„å‹è°Š

ä»ä½œä¸šéš¾åº¦ä¸Šæ¥çœ‹ï¼Œæˆ‘è®¤ä¸ºç¬¬ä¸€æ¬¡ä½œä¸šâ‰ˆç¬¬äºŒæ¬¡ä½œä¸š>>ç¬¬ä¸‰æ¬¡ä½œä¸šï¼Œå› ä¸ºç¬¬ä¸€æ¬¡ä½œä¸šæ˜¯ä»æ— åˆ°æœ‰çš„è¿‡ç¨‹ï¼Œéœ€è¦å­¦ä¹ é€’å½’ä¸‹é™ç®—æ³•ä¸”å®Œæ•´åœ°æŠŠä»£ç å†™å‡ºæ¥ã€‚è€Œç¬¬äºŒæ¬¡ä½œä¸šè™½ç„¶æœ‰äº†ç¬¬ä¸€æ¬¡ä½œä¸šçš„æ¶æ„ï¼Œä½†å› ä¸ºç¬¬ä¸€æ¬¡ä½œä¸šçš„æ¶æ„æœ‰éƒ¨åˆ†ä¸é€‚åˆç¬¬äºŒæ¬¡ä½œä¸šï¼Œå› æ­¤éœ€è¦è¿›è¡Œé‡æ„ï¼Œå› æ­¤ä¹Ÿæœ‰ä¸€å®šéš¾åº¦ã€‚è€Œç¬¬ä¸‰æ¬¡ä½œä¸šå°±æ˜¯ç¦åˆ©å¤§æ”¾é€äº†ã€‚

ä»é¢å‘å¯¹è±¡çš„æ€ç»´æ¥çœ‹ï¼Œè™½ç„¶åœ¨è®¾è®¡è¿‡ç¨‹ä¸­æˆ‘åŠªåŠ›åœ°è®©è‡ªå·±â€œé¢å‘å¯¹è±¡â€ï¼Œå¯æ˜¯å†™å‡ºæ¥çš„ä»£ç è¿˜æ˜¯å¤„å¤„â€œé¢å‘è¿‡ç¨‹â€ã€‚é¢å‘å¯¹è±¡æ˜¯ä¸€ç§æ€ç»´ï¼Œä½†æœ‰äº†è¿™ç§æ€ç»´å°†å…¶å®ç°è¿˜æ˜¯æœ‰ä¸€å®šéš¾åº¦çš„ï¼Œæ›´ä¸è¦è¯´æˆ‘è¿˜æ²¡æœ‰è¿™ç§æ€ç»´ã€‚

è€Œä¸”è®¾è®¡æ¨¡å¼æˆ‘ä¹Ÿä¸äº†è§£å¤šå°‘ï¼ŒåªçŸ¥é“è£…é¥°è€…æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€å·¥å‚æ¨¡å¼å•¥çš„ï¼Œè€Œä¸”è¿™äº›æ¨¡å¼ä¹Ÿæ˜¯æˆ‘å¼€å­¦ä»¥åæŠ½ç©ºçœ‹çš„ï¼Œæƒ³åœ¨ä½œä¸šä¸­è¿ç”¨è¿™äº›æ¨¡å¼çš„æ—¶å€™æ¶æ„å·²ç»æˆå‹ï¼Œä¸æ•¢éšä¾¿ä¹±æ”¹äº†ï¼Œä»¤äººæœ‰ç‚¹é—æ†¾ã€‚å› æ­¤æˆ‘å»ºè®®è¯¾ç¨‹ç»„å¯ä»¥åœ¨preçš„æ—¶å€™æä¾›ç»™åŒå­¦ä»¬ä¸€äº›èµ„æ–™æˆ–è€…ä¹¦ç±ï¼Œå¸®åŠ©åŒå­¦ä»¬äº†è§£ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œä»¥ä¾¿åœ¨ç¬¬ä¸€å•å…ƒæ›´å¥½åœ°è¿ç”¨ã€‚**è™½ç„¶è®¾è®¡æ¨¡å¼ä¸æ˜¯çœ‹äº†å°±ä¼šçš„ï¼Œä½†æˆ‘è§‰å¾—çœ‹äº†å¿ƒé‡Œæœ‰ä¸ªè°±ï¼Œèµ·ç æ¯”å•¥éƒ½ä¸äº†è§£å°±å¼€å§‹å†™é¢å‘å¯¹è±¡çš„ä»£ç è¿˜æ˜¯è¦å¼ºä¸€ç‚¹çš„**ã€‚

é¸£è°¢
--

æ„Ÿè°¢wzmåŒå­¦å’Œæˆ‘è®¨è®ºæ¶æ„ï¼Œä»¥åŠåˆ†äº«æµ‹è¯•æ•°æ®

æ„Ÿè°¢cnxæä¾›çš„è¯„æµ‹æœºæ€è·¯

æ„Ÿè°¢ä¸ºæˆ‘æä¾›ç¨‹åºè¿›è¡Œå¯¹æ‹çš„åŒå­¦