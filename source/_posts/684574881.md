---
layout: post
title: "『现学现忘』Git基础 — 10、配置Git用户签名说明"
date: "2022-04-18T04:26:39.276Z"
---
『现学现忘』Git基础 — 10、配置Git用户签名说明
============================

目录

*   [1、为什么要创建用户签名](#1为什么要创建用户签名)
*   [2、为什么要在Git中配置这些信息](#2为什么要在git中配置这些信息)
*   [3、创建用户签名的方式](#3创建用户签名的方式)
*   [4、总结](#4总结)

1、为什么要创建用户签名
------------

作为版本控制系统的客户端，每台客户机对版本库的所有提交操作，都需要注明操作者的身份。所以客户机首先需要进行自我身份的注册，即创建用户。Git要求“用户名和Email"这两样信息是必不可少的。

也就是说再让Git干活之前，必须得做一个最小配置，要把参与项目开发的工作人员的`user.name`以及`user.email`进行设置。

配置签名的作用：只是区分不同开发人员的身份。

2、为什么要在Git中配置这些信息
-----------------

我们每一次的变更，在哪个时间点，是谁做出的变更，这两个信息是跟着某个变更的信息捆绑在一起。同时我们在做`code review`（代码审查）的时候，每一次的变更，如果带上了用户的`email`地址，那么评审的人员在平台上面指出了你哪个文件、哪个地方有问题之后。那我们Git的版本管控的`web`系统，它就自动的会把变更者的`email`取出来，然后发个邮件给变更的人。所以你变更的信息中的用户`name`和`email`是必须配置起来的。

假使大家在用Git的时候如果忘了做这个配置，那后期你在Git做过变更提交的时候，他会有一长串的提示信息，告诉你必须做相关的配置。如下：

    *** Please tell me who you are.
    
    Run
    
      git config --global user.email "you@example.com"
      git config --global user.name "Your Name"
    
    to set your account's default identity.
    Omit --global to set the identity only in this repository.
    
    fatal: unable to auto-detect email address (got 'L@DESKTOP-T2AI2SU.(none)')
    

3、创建用户签名的方式
-----------

Git具有三种不同的方式创建用户签名，会产生三种不同作用域的用户。这三种创建方式的用户信息，会写到三个不同位置的配置文件中。这三种用户的创建均需要使用`git config`命令，只不过使用的选项不同。

这三个级别为`local`、`global`、`system`。说明如下：

1.  **项目级别/仓库级别（local）**：  
    **文件位置**：该文件位于当前仓库下的`.git`目录中，文件名为`config`。  
    **作用**：是指对某一个Git仓库生效的。也就是说我们在使用Git管理文件系统的时候，它不是整个操作系统级别的管理。比如他是在某一个地方建了一个Git的仓库，相当于是独立的一个项目管控的一个区域。如果设置了`local`的话，Git所配置的这些信息（`user.name`，`usere.mail`），只会针对当前你工作的仓库有效。如果说切换到另外一个Git的仓库，那local范围的配置值就不再生效了。
2.  **用户级别/全局级别（global）**：  
    **文件位置**：在计算机中系统盘的个人用户目录中，如：`C:\Users\L\.gitconfig`。注意，如果没有配置过用户级别级别的配置信息，是没有该文件的，配置一次就会自动生成的。  
    **作用**：比如说我的电脑中有十个Git仓库，`global`级别的这些配置，对这十个仓库都是有效的，也就是对当前用户对本地的所有仓库都有效。所以有些时候，很可能为了提高效率，就可以用`global`范围进行配置用户签名，就没必要登录到一个一个的仓库里面做这种配置，所以工作当中`global`的方式是非常常用的。  
    （即：表示授权一个用户对该计算机中所有的仓库都有权操作）
3.  **系统级别（system）**：  
    **文件位置**：文件在本地Git的安装目录下，`...\etc\gitconfig`文件中。  
    **作用**：表示只要登陆了该操作系统的用户，就对系统中的所有Git仓库有操作权。它是对系统所有登录的用户都有效，这个范围不常用（基本不用）。

> 提示：这三种创建用户签名的作用域由大到小依次是：系统用户，全局用户与本地库用户。在多种用户都进行了创建的前提下，小范围用户签名会覆盖大范围用户签名，即默认会以小范围用户来操作Git。

4、总结
----

一般在新的Git版本控制系统上，我们都需要先配置下自己的Git工作环境。配置工作只需一次，以后升级时还会沿用现在的配置。当然，如果需要，你随时可以用相同的命令修改已有的配置。

个人的用户名称和电子邮件地址，这两条配置很重要，每次Git提交时都会引用这两条信息，说明是谁提交了更新，所以会随更新内容起被永久纳入版本历史记录。

每个机器都必须自报家门，就是你的签名（名字和Email地址）。你也许会担心，如果有人故意冒充别人怎么办？这个不必担心，首先我们相信大家都是善良无知的群众，其次，真的有冒充的也是有办法可查的。