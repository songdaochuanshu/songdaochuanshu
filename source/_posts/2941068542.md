---
layout: post
title: "ã€SpringBootã€‘è¿˜ä¸ä¼šSpringBooté¡¹ç›®æ¨¡å—åˆ†å±‚ï¼Ÿæ¥è¿™æ‰‹æŠŠæ‰‹æ•™ä½ "
date: "2023-03-15T01:11:52.182Z"
---
ã€SpringBootã€‘è¿˜ä¸ä¼šSpringBooté¡¹ç›®æ¨¡å—åˆ†å±‚ï¼Ÿæ¥è¿™æ‰‹æŠŠæ‰‹æ•™ä½ 
---------------------------------------

å‰è¨€
--

### ğŸŠç¼˜ç”±

ç»å¸¸çœ‹åˆ°ç½‘ä¸Šå¾ˆå¤š**ä¼˜ç§€çš„å¼€æºé¡¹ç›®ä¸­ï¼Œä»£ç ç®€æ´ï¼Œæ¨¡å—åˆ†å±‚å®Œç¾**ã€‚åè§‚è‡ªå·±ä»£ç å±‚çº§æ··ä¹±ï¼Œï¼Œå´ä¸çŸ¥å¦‚ä½•æ•´ç†åˆ†å±‚ã€‚æ­¤æ–‡**æ‰‹æŠŠæ‰‹æ•™ä½ ä¸€æ­¥ä¸€æ­¥åˆ›å»ºæ¨¡å—**ï¼Œå·¦æ‰‹å³æ‰‹ä¸€ä¸ªæ…¢åŠ¨ä½œã€‚ç»“åˆæœ¬äººå®é™…å¼€å‘åŠä¸ªäººé¡¹ç›®ä¸­**åˆ†å±‚æ€è·¯çš„åˆ†äº«ï¼Œå¤§ç¥è¯·å‹¿å–·**ã€‚

### â²ï¸æœ¬æ–‡é˜…è¯»æ—¶é•¿

> çº¦25åˆ†é’Ÿ

### ğŸ¯ä¸»è¦ç›®æ ‡

1.  **ç†Ÿç»ƒæŒæ¡SpringBooté¡¹ç›®åˆ†å±‚æ€è·¯**ï¼Œä¸æ»‘æ‹†åˆ†æ¨¡å—
2.  **ç†Ÿæ‚‰ä»£ç å±‚çº§ä¾èµ–**ï¼Œè§„èŒƒåŒ–ç®¡ç†æ¨¡å—åˆ†å¸ƒ
3.  æ‰‹æŠŠæ‰‹å®æˆ˜å­¦ä¹ ï¼Œç†è®ºå®è·µç›¸ç»“åˆ

### ğŸ‘¨â€ğŸ“è¯•ç”¨äººç¾¤

1.  å¯¹äºSpringbootç†Ÿæ‚‰ä½†æ˜¯ä¸çŸ¥é“åˆç†åˆ†å±‚**å°ç™½**
2.  æœ‰è‡ªå·±åˆ†å±‚æ€è·¯å¯ä»¥äº’ç›¸åˆ†äº«å­¦ä¹ 

### ğŸå¿«é€Ÿé“¾æ¥

å…¬ä¼—å·ï¼š**JavaDogç¨‹åºç‹—**  
**åœ¨å…¬ä¼—å·ï¼Œå‘é€ã€åˆ†å±‚ã€‘ ï¼Œæ— ä»»ä½•å¥—è·¯å³å¯è·å¾—**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/3b92f4f12dfe4883807d25c4f8732e17.png)  
æˆ–è®¿é—®[https://blog.javadog.net/archives/boot-module](https://blog.javadog.net/archives/boot-module)

### ğŸ©æ°´å›¾

> ä¸‹å›¾åé¢æ•™æï¼Œä¼ ç»Ÿå•ä½“åº”ç”¨ï¼Œç»“æ„è‡ƒè‚¿

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/424e7f4161ca448595343841825cf948.png)

> ä¸‹å›¾åˆ†å±‚æˆªé€‰è‡ªæœ¬äººçš„ä¸€ä¸ªå°é¡¹ç›®ï¼Œæ¨¡å—æ¸…æ™°ï¼Œåˆ†å·¥æ˜ç¡®

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d6534123b4f842ccbc673ee7dd797143.png)

> æˆ‘ä»¬è¦å®ç°çš„å°æ —å­çš„åˆ†å±‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d9db6628b4c640c2b47e851b91c5ef4a.png)

æ­£æ–‡
--

### ğŸ¥«1.IDEAæ–°å»ºé¡¹ç›®

> èµ·åç¬¬ä¸€æ­¥ï¼Œä¸€ä¸ªå¥½åå­—,è¯´ä¸å®šæ˜¯ä¸ªå¥½çš„å¼€å§‹

å‡å¦‚æˆ‘ä»¬çš„é¡¹ç›®æ˜¯ä¸ª**èŠå¤©ç›¸å…³**çš„é¡¹ç›®ï¼Œè‹±æ–‡å¯¹åº”**chat**,æ‰€ä»¥å®šä¹‰é¡¹ç›®åä¸º**chat-boot**ï¼Œå…¶ä»–çš„ä»¥æ­¤æ•ˆä»¿

> ç‚¹å‡»New->project

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f4da341101d344f2b0b56ba11cf48082.png)

> é€‰æ‹©**Mavené¡¹**ç›®ï¼Œå¹¶é€‰æ‹©**åˆé€‚JDKç‰ˆæœ¬**,ç‚¹å‡»Next

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/68ac5252e085483d84cfde636f77f4a5.png)

> å½•å…¥é¡¹ç›®åç§°ï¼Œå¹¶å¡«å†™GAVåæ ‡ï¼Œç‚¹å‡»Finish

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/8ec76c9dbb02441a905e2f238963e6b4.png)

> åˆ é™¤æ— ç”¨æ–‡ä»¶åŠç›®å½•ï¼Œå¦‚srcç›®å½•å’Œ\*.imlæ–‡ä»¶

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/15d2e2dd0c6e4eabbcfb30318ba91d9b.png)

> åˆ é™¤åé¡¹ç›®ç›®å½•

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/43ae0cc7e979461191998d8883e8f0e6.png)

> ä¿®æ”¹pom.xmlä¸­ä¾èµ–ï¼Œå¢åŠ spring-boot-starter-parent

     <parent>
         <groupId>org.springframework.boot</groupId>
         <artifactId>spring-boot-starter-parent</artifactId>
         <version>2.3.1.RELEASE</version>
     </parent>
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c95a07cb3b5e491eaccb46fe49a07d9c.png)

* * *

### ğŸŒ­2.åˆ›å»ºå­æ¨¡å—-dependencies(ä¾èµ–å±‚)

> å³å‡»é¡¹ç›®chat-bootï¼Œnew ->Moudleæ–°å»ºæ¨¡å—chat-boot-dependencies

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/cd49e2cde7ad4e3c8e094a449e7d7344.png)

> é€‰æ‹©å¯¹åº”Module SDKç‰ˆæœ¬ï¼Œæœ¬äººé€‰æ‹©jdk1.8

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/3674c1deacca45b19165fa382d0df590.png)

> å¡«å†™å­æ¨¡å—å chat-boot-dependenciesï¼Œç„¶åæ£€æŸ¥å¯¹åº”GAVï¼Œç‚¹å‡»Finish

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0b021dc5545145749a297b927af06e62.png)

> ç”Ÿæˆå­æ¨¡å—**chat-boot-dependencies**å¦‚ä¸‹å›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ec7e0ab0034b43aeb2c4dfe2441c0a96.png)

> åˆ é™¤**chat-boot-dependencies**ä¸‹æ— ç”¨æ–‡ä»¶åŠç›®å½•ï¼Œå¦‚srcç›®å½•ï¼Œåˆ é™¤æ— ç”¨ç›®å½•å¦‚ä¸‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b7622a9e5e5a49c6ac63c053f8eb25dc.png)

> å®Œå–„**chat-boot-dependencies**ä¸‹pom.xmlä¾èµ–ï¼Œ **å¸¸ç”¨ä¾èµ–**æ”¾å…¥ï¼Œä½œä¸º**ä¾èµ–ä¸»ä½“**ï¼Œä»¥ä¸‹æ˜¯æœ¬ç‹—å¸¸ç”¨ä¾èµ–ï¼Œå¯é…Œæƒ…é€‰æ‹©ï¼›**è®°å¾—æŠŠpackagingæ”¹ä¸ºpom**

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-dependencies</artifactId>
    
        <packaging>pom</packaging>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
            <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
            <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
            <mysql-connector-java.version>8.0.17</mysql-connector-java.version>
            <druid.version>1.1.21</druid.version>
            <mybatis-plus.version>3.4.1</mybatis-plus.version>
            <fastjson.version>1.2.75</fastjson.version>
            <hutool.version>5.5.8</hutool.version>
            <lombok.versin>1.18.12</lombok.versin>
            <easypoi.version>4.2.0</easypoi.version>
            <springfox-swagger2.version>2.9.2</springfox-swagger2.version>
            <springfox-swagger-ui.version>2.9.2</springfox-swagger-ui.version>
            <knife4j.version>2.0.4</knife4j.version>
            <weixin.version>4.4.5.B</weixin.version>
            <shiro.version>1.3.2</shiro.version>
            <jwt.version>3.2.0</jwt.version>
        </properties>
    
        <dependencyManagement>
            <dependencies>
                <!--mybatis-plus-->
                <dependency>
                    <groupId>com.baomidou</groupId>
                    <artifactId>mybatis-plus-boot-starter</artifactId>
                    <version>${mybatis-plus.version}</version>
                </dependency>
    
                <!-- æ•°æ®åº“é©±åŠ¨,å¯æ ¹æ®è‡ªå·±éœ€è¦è‡ªè¡Œåˆ å‡ï¼Œé»˜è®¤ä½¿ç”¨mysql -->
                <dependency>
                    <groupId>mysql</groupId>
                    <artifactId>mysql-connector-java</artifactId>
                    <version>${mysql-connector-java.version}</version>
                </dependency>
    
                <!--æ•°æ®åº“è¿æ¥æ± -->
                <dependency>
                    <groupId>com.alibaba</groupId>
                    <artifactId>druid</artifactId>
                    <version>${druid.version}</version>
                </dependency>
    
                <!--fastjson-->
                <dependency>
                    <groupId>com.alibaba</groupId>
                    <artifactId>fastjson</artifactId>
                    <version>${fastjson.version}</version>
                </dependency>
    
                <!--hutool-->
                <dependency>
                    <groupId>cn.hutool</groupId>
                    <artifactId>hutool-all</artifactId>
                    <version>${hutool.version}</version>
                </dependency>
    
                <!--lombok-->
                <dependency>
                    <groupId>org.projectlombok</groupId>
                    <artifactId>lombok</artifactId>
                    <version>${lombok.versin}</version>
                </dependency>
    
                <!--swagger2-->
                <dependency>
                    <groupId>io.springfox</groupId>
                    <artifactId>springfox-swagger2</artifactId>
                    <version>${springfox-swagger2.version}</version>
                </dependency>
    
                <!--swagger-ui-->
                <dependency>
                    <groupId>io.springfox</groupId>
                    <artifactId>springfox-swagger-ui</artifactId>
                    <version>${springfox-swagger-ui.version}</version>
                </dependency>
    
                <!-- swaggeræ¥å£æ–‡æ¡£ -->
                <dependency>
                    <groupId>com.github.xiaoymin</groupId>
                    <artifactId>knife4j-spring-boot-starter</artifactId>
                    <version>${knife4j.version}</version>
                </dependency>
    
                <!--easypoiå¯¼å…¥å¯¼å‡º-->
                <dependency>
                    <groupId>cn.afterturn</groupId>
                    <artifactId>easypoi-base</artifactId>
                    <version>${easypoi.version}</version>
                </dependency>
    
                <!--WxJava - å¾®ä¿¡å¼€å‘ Java SDK-->
                <dependency>
                    <groupId>com.github.binarywang</groupId>
                    <artifactId>weixin-java-miniapp</artifactId>
                    <version>${weixin.version}</version>
                </dependency>
    
                <!--æ•´åˆShiroå®‰å…¨æ¡†æ¶-->
                <dependency>
                    <groupId>org.apache.shiro</groupId>
                    <artifactId>shiro-spring</artifactId>
                    <version>${shiro.version}</version>
                </dependency>
    
                <!--é›†æˆjwtå®ç°tokenè®¤è¯-->
                <dependency>
                    <groupId>com.auth0</groupId>
                    <artifactId>java-jwt</artifactId>
                    <version>${jwt.version}</version>
                </dependency>
            </dependencies>
        </dependencyManagement>
    </project>
    

#### ğŸ¯é‡ç‚¹

æ­¤å¤„ç”¨çš„æ ‡ç­¾æ˜¯ **dependencyManagement**ï¼Œ

> **dependencyManagementåªæ˜¯å£°æ˜ä¾èµ–ï¼Œå¹¶ä¸å®ç°å¼•å…¥**ï¼Œå› æ­¤**å­é¡¹ç›®éœ€è¦æ˜¾ç¤ºçš„å£°æ˜éœ€è¦ç”¨çš„ä¾èµ–**ã€‚å¦‚æœ**ä¸åœ¨å­é¡¹ç›®ä¸­å£°æ˜ä¾èµ–ï¼Œæ˜¯ä¸ä¼šä»çˆ¶é¡¹ç›®ä¸­ç»§æ‰¿ä¸‹æ¥**ï¼›**åªæœ‰åœ¨å­é¡¹ç›®ä¸­å†™äº†è¯¥ä¾èµ–é¡¹ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®šå…·ä½“ç‰ˆæœ¬ï¼Œæ‰ä¼šä»çˆ¶é¡¹ç›®ä¸­ç»§æ‰¿è¯¥é¡¹**ï¼Œå¹¶ä¸”versionå’Œscopeéƒ½è¯»å–è‡ªçˆ¶pom;å¦å¤–å¦‚æœå­é¡¹ç›®ä¸­æŒ‡å®šäº†ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨å­é¡¹ç›®ä¸­æŒ‡å®šçš„jarç‰ˆæœ¬ã€‚

* * *

### ğŸª3.åˆ›å»ºå­æ¨¡å—-main(ä¸»å¯åŠ¨å±‚)

> å³å‡»é¡¹ç›®chat-bootï¼Œnew ->Moudleæ–°å»ºæ¨¡å—chat-boot-main

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f42238eb21664c589834304c56318eb9.png)

> é€‰æ‹©å¯¹åº”Module SDKç‰ˆæœ¬ï¼Œæœ¬ç‹—é€‰æ‹©jdk1.8ï¼Œç‚¹å‡»Next

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b1f72e4792ff4fa68b16cfe3889650e4.png)

> å¡«å†™å­æ¨¡å—å chat-boot-mainï¼Œç„¶åæ£€æŸ¥å¯¹åº”GAVï¼Œç‚¹å‡»Finish

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/df012065abbc4adb9757decb12c658e2.png)

> ç”Ÿæˆå­æ¨¡å—chat-boot-mainå¦‚ä¸‹å›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/83222a8120bf4295a73c415a5633c27c.png)

> å®Œå–„chat-boot-mainæ¨¡å—ä¸‹pom.xmlä¸­ä¾èµ–

1.  å¼•å…¥å¿…è¦ä¾èµ–
2.  å®Œå–„profilesæ ‡ç­¾ä¸­ç¯å¢ƒç›¸å…³
3.  é…ç½®buildæ ‡ç­¾ä¸­æ’ä»¶

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-boot-main</artifactId>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
        </properties>
    
        <dependencyManagement>
            <dependencies>
                <dependency>
                    <groupId>net.javadog.chat</groupId>
                    <artifactId>chat-boot-dependencies</artifactId>
                    <version>1.0-SNAPSHOT</version>
                    <type>pom</type>
                    <scope>import</scope>
                </dependency>
            </dependencies>
        </dependencyManagement>
    
        <dependencies>
            <!-- web -->
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-web</artifactId>
            </dependency>
            <!--lombok-->
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
            </dependency>
            <!--swagger2-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger2</artifactId>
            </dependency>
            <!--swagger-ui-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger-ui</artifactId>
            </dependency>
            <!-- swaggeræ¥å£æ–‡æ¡£ -->
            <dependency>
                <groupId>com.github.xiaoymin</groupId>
                <artifactId>knife4j-spring-boot-starter</artifactId>
            </dependency>
        </dependencies>
    
        <build>
            <finalName>chat</finalName>
            <plugins>
                <plugin>
                    <groupId>org.springframework.boot</groupId>
                    <artifactId>spring-boot-maven-plugin</artifactId>
                    <executions>
                        <execution>
                            <goals>
                                <goal>repackage</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <fork>true</fork>
                    </configuration>
                </plugin>
            </plugins>
            <resources>
                <resource>
                    <directory>src/main/webapp</directory>
                    <filtering>false</filtering>
                </resource>
                <resource>
                    <directory>src/main/resources</directory>
                    <filtering>true</filtering>
                </resource>
                <resource>
                    <directory>src/main/java</directory>
                    <includes>
                        <include>**/*.xml</include>
                    </includes>
                </resource>
            </resources>
        </build>
    
        <profiles>
            <profile>
                <id>local</id>
                <properties>
                    <spring.active>local</spring.active>
                </properties>
                <activation>
                    <activeByDefault>true</activeByDefault>
                </activation>
            </profile>
            <profile>
                <id>dev</id>
                <properties>
                    <spring.active>dev</spring.active>
                </properties>
            </profile>
            <profile>
                <id>prod</id>
                <properties>
                    <spring.active>prod</spring.active>
                </properties>
            </profile>
        </profiles>
    </project>
    

#### ğŸ¯é‡ç‚¹

*   é…ç½®å¼•å…¥ä¾èµ–chat-boot-dependencies,ç”¨ä½œæ­¤æ¨¡å—ä¾èµ–å¼•å…¥

    <dependencyManagement>
         <dependencies>
             <dependency>
                 <groupId>net.javadog.chat</groupId>
                 <artifactId>chat-boot-dependencies</artifactId>
                 <version>1.0-SNAPSHOT</version>
                 <type>pom</type>
                 <scope>import</scope>
             </dependency>
         </dependencies>
    </dependencyManagement>
    

*   é…ç½®buildæ ‡ç­¾ç”¨äºå®Œå–„æ’ä»¶pluginsï¼Œå…¶ä¸­åŒ…å«maven-compiler-pluginå’Œmaven-resources-plugin

    <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>3.1</version>
                    <configuration>
                        <source>${java.version}</source>
                        <target>${java.version}</target>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>2.6</version>
                    <configuration>
                        <delimiters>
                            <delimiter>@</delimiter>
                        </delimiters>
                        <useDefaultDelimiters>false</useDefaultDelimiters>
                    </configuration>
                </plugin>
            </plugins>
            <resources>
                <resource>
                    <directory>src/main/webapp</directory>
                    <filtering>false</filtering>
                </resource>
                <resource>
                    <directory>src/main/resources</directory>
                    <filtering>true</filtering>
                </resource>
                <resource>
                    <directory>src/main/java</directory>
                    <includes>
                        <include>**/*.xml</include>
                    </includes>
                </resource>
            </resources>
        </build>
    

*   é…ç½®profilesç¯å¢ƒå˜é‡æ ‡ç­¾ï¼Œç”¨äºæ–¹ä¾¿æ‰“åŒ…åˆ‡æ¢ï¼Œæœ¬ç‹—è®¾ç½®äº† localã€devã€prodä¸‰ç§ç¯å¢ƒ

     <profiles>
         <profile>
             <id>local</id>
             <properties>
                 <spring.active>local</spring.active>
             </properties>
             <activation>
                 <activeByDefault>true</activeByDefault>
             </activation>
         </profile>
         <profile>
             <id>dev</id>
             <properties>
                 <spring.active>dev</spring.active>
             </properties>
         </profile>
         <profile>
             <id>prod</id>
             <properties>
                 <spring.active>prod</spring.active>
             </properties>
         </profile>
     </profiles>
    

æ“ä½œå¯åœ¨IDEAå³ä¸Šè§’æ–¹ä¾¿åˆ‡æ¢ç¯å¢ƒ  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/594563da87114481a1af2cd4fdd4308f.png)  
ğŸ’¥åˆ‡è®°ä¸€å®šä¸»åŠ¨Reloadä¸€ä¸‹Mavenä¾èµ–  
ğŸ’¥åˆ‡è®°ä¸€å®šä¸»åŠ¨Reloadä¸€ä¸‹Mavenä¾èµ–  
ğŸ’¥åˆ‡è®°ä¸€å®šä¸»åŠ¨Reloadä¸€ä¸‹Mavenä¾èµ–  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1ec68ca0e80847668e116dee7ca39d75.png)

> åœ¨chat-boot-mainæ¨¡å—ä¸­åŠ å…¥å¯åŠ¨ç±»ï¼Œåœ¨src/main/javaä¸‹å³é”®New=>Java Class

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4108344dc506443ba113cc461ffbcfc2.png)

> å½•å…¥å¯åŠ¨ç±»åChatApplication

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f2d2cda1ea254c999c259a7fa2b5b322.png)

> å®Œå–„ChatApplicationå¯åŠ¨ç±»ä»£ç 

    package net.javadog.chat;
    
    import com.github.xiaoymin.knife4j.spring.annotations.EnableKnife4j;
    import lombok.extern.slf4j.Slf4j;
    import org.springframework.boot.SpringApplication;
    import org.springframework.boot.autoconfigure.SpringBootApplication;
    import org.springframework.boot.web.servlet.ServletComponentScan;
    import org.springframework.context.ConfigurableApplicationContext;
    import org.springframework.core.env.Environment;
    import springfox.documentation.swagger2.annotations.EnableSwagger2;
    
    import java.net.InetAddress;
    import java.net.UnknownHostException;
    
    /**
     * @author: hdx
     * @Date: 2023-01-28 11:24
     * @version: 1.0
     **/
    @SpringBootApplication
    @ServletComponentScan
    @Slf4j
    @EnableSwagger2
    @EnableKnife4j
    public class ChatApplication {
        public static void main(String[] args) throws UnknownHostException {
            // å¯åŠ¨ç±»
            ConfigurableApplicationContext application = SpringApplication.run(ChatApplication.class, args);
            // æ‰“å°åŸºç¡€ä¿¡æ¯
            info(application);
        }
    
        static void info(ConfigurableApplicationContext application) throws UnknownHostException {
            Environment env = application.getEnvironment();
            String ip = InetAddress.getLocalHost().getHostAddress();
            String port = env.getProperty("server.port");
            String active = env.getProperty("spring.profiles.active");
            String contextPath = env.getProperty("server.servlet.context-path");
            if (contextPath == null) {
                contextPath = "";
            }
            log.info("\n----------------------------------------------------------\n\t" +
                    "æ¬¢è¿è®¿é—®  \thttps://blog.javadog.net\n\t" +
                    "ç¤ºä¾‹ç¨‹åºã€" + active + "ã€‘ç¯å¢ƒå·²å¯åŠ¨! åœ°å€å¦‚ä¸‹:\n\t" +
                    "Local: \t\thttp://localhost:" + port + contextPath + "\n\t" +
                    "External: \thttp://" + ip + ':' + port + contextPath + '\n' +
                    "Swaggeræ–‡æ¡£: \thttp://" + ip + ":" + port + contextPath + "/doc.html\n" +
                    "----------------------------------------------------------");
        }
    }
    

> é…ç½®application.ymlæ–‡ä»¶

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/69623ac11ed44a9fbd49568522e4f148.png)  
**application.yml**

    #============================#
    # server é…ç½®
    #============================#
    server:
      port: 82
      max-http-header-size: 10240
      servlet:
        context-path: /chat/v1
    
    #============================#
    # spring é…ç½®
    #============================#
    spring:
      application:
        # åº”ç”¨å
        name: chat
      profiles:
        active: @spring.active@
      servlet:
        multipart:
          max-request-size: 100MB
          max-file-size: 100MB
      jackson:
        time-zone: GMT+8
        date-format: yyyy-MM-dd HH:mm:ss.SSS
        locale: zh_CN
        serialization:
          # æ ¼å¼åŒ–è¾“å‡º
          indent_output: false
      main:
        allow-circular-references: true
        #è§£å†³swaggerç‰ˆæœ¬è·¯å¾„ä¸å…¼å®¹é—®é¢˜
      mvc:
        pathmatch:
          matching-strategy: ant_path_matcher
    
    #============================#
    # mybatisplus é…ç½®
    #============================#
    mybatis-plus:
      mapper-locations: classpath:mapper/*.xml
      configuration:
        map-underscore-to-camel-case: true
        cache-enabled: true
        lazy-loading-enabled: true
        multiple-result-sets-enabled: true
        log-impl: org.apache.ibatis.logging.nologging.NoLoggingImpl
      global-config:
        banner: false
        db-config:
          id-type: assign_id
          table-underline: true
        enable-sql-runner: true
          #æ•°æ®åº“ç±»å‹
        db-type: MYSQL
      configuration-properties:
        prefix:
        #å¦‚æœæ•°æ®åº“ä¸ºpostgresqlï¼Œåˆ™éœ€è¦é…ç½®ä¸ºblobType: BINARY
        blobType: BLOB
        #å¦‚æœæ•°æ®åº“ä¸ºoracleæˆ–mssqlï¼Œåˆ™éœ€è¦é…ç½®ä¸ºboolValue: 1
        boolValue: true
    
    #============================#
    # logging é…ç½®
    #============================#
    logging:
      level:
        root: info
      file:
        path: /root/javadog/chat/logs/${spring.application.name}/
        name: ${spring.application.name}
      logback:
        rollingpolicy:
          max-history: 7
          max-file-size: 10MB
    
    #============================#
    # file é…ç½®
    #============================#
    file:
      # é™æ€é™„ä»¶å‰ç¼€
      static-prefix: attach
      # ä¸Šä¼ çš„æ–‡ä»¶å¯¹å¤–æš´éœ²çš„è®¿é—®è·¯å¾„
      access-path-pattern: /${file.static-prefix}/**
      # æ–‡ä»¶ä¸Šä¼ ç›®å½•
      upload-folder: /root/javadog/chat/
      # æ–‡ä»¶ä¸Šä¼ æœ€å¤§
      max-post-size: 10
    

**application-local.yml**

    #æœåŠ¡é…ç½®
    server:
      port: 8001
      max-http-header-size: 10240
    
    # Mysqlæ•°æ®åº“
    spring:
      datasource:
        driver-class-name: com.mysql.cj.jdbc.Driver
        url: jdbc:mysql://localhost:3306/chat-boot?autoReconnect=true&useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=CONVERT_TO_NULL&useSSL=false&serverTimezone=CTT&nullCatalogMeansCurrent=true
        username: root
        password: root
      redis:
        host: localhost
        port: 6379
        password:
    

**application-dev.yml**

    #æœåŠ¡é…ç½®
    server:
      port: 7001
      max-http-header-size: 10240
    
    # mybatisplus é…ç½®
    mybatis-plus:
      configuration:
        log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    

**application-prod.yml**

    #æœåŠ¡é…ç½®
    server:
      port: 8005
    

ğŸŒŠé¡ºä¾¿åŠ ä¸€ä¸‹logback-spring.xml æ—¥å¿—æ–‡ä»¶

    <?xml version="1.0" encoding="UTF-8" ?>
    <configuration scan="true" scanPeriod="60 seconds" debug="false">
        <conversionRule conversionWord="clr" converterClass="org.springframework.boot.logging.logback.ColorConverter"/>
        <conversionRule conversionWord="wex"
                        converterClass="org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter"/>
        <conversionRule conversionWord="wEx"
                        converterClass="org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter"/>
        <property name="CONSOLE_LOG_PATTERN"
                  value="${CONSOLE_LOG_PATTERN:-%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"/>
        <property name="FILE_LOG_PATTERN"
                  value="${FILE_LOG_PATTERN:-%d{yyyy-MM-dd HH:mm:ss.SSS} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- [%t] %-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"/>
    
        <springProperty scope="context" name="application.name" source="spring.application.name" defaultValue="javadog"/>
        <springProperty scope="context" name="logging.path" source="logging.file.path" defaultValue="logs"/>
        <springProperty scope="context" name="logging.file.max-size" source="logging.logback.rollingpolicy.max-size"
                        defaultValue="10MB"/>
        <springProperty scope="context" name="logging.file.max-history" source="logging.logback.rollingpolicy.max-history"
                        defaultValue="30"/>
        <contextName>${application.name}</contextName>
    
        <springProfile name="dev,prod">
            <!--è¾“å‡ºåˆ°æ§åˆ¶å°-->
            <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
                <encoder>
                    <pattern>${CONSOLE_LOG_PATTERN}</pattern>
                </encoder>
            </appender>
            <root level="info">
                <appender-ref ref="console"/>
            </root>
        </springProfile>
    
        <springProfile name="dev,test,prod">
            <!--è¾“å‡ºåˆ°æ–‡ä»¶-->
            <appender name="file-info" class="ch.qos.logback.core.rolling.RollingFileAppender">
                <file>${logging.path}/info/${application.name}-info.log</file>
                <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                    <fileNamePattern>${logging.path}/info/${application.name}-info.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
    
                    <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                        <maxFileSize>${logging.file.max-size}</maxFileSize>
                    </timeBasedFileNamingAndTriggeringPolicy>
                    <!--åªä¿ç•™æœ€è¿‘nå¤©çš„æ—¥å¿—-->
                    <maxHistory>${logging.file.max-history}</maxHistory>
                </rollingPolicy>
                <!-- è¿½åŠ æ–¹å¼è®°å½•æ—¥å¿— -->
                <append>true</append>
                <encoder>
                    <pattern>${FILE_LOG_PATTERN}</pattern>
                </encoder>
            </appender>
            <appender name="file-warn" class="ch.qos.logback.core.rolling.RollingFileAppender">
                <filter class="ch.qos.logback.classic.filter.LevelFilter">
                    <level>warn</level>
                    <onMatch>ACCEPT</onMatch>
                    <onMismatch>DENY</onMismatch>
                </filter>
                <file>${logging.path}/warn/${application.name}-warn.log</file>
                <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                    <fileNamePattern>${logging.path}$/warn/${application.name}-warn.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                    <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                        <maxFileSize>${logging.file.max-size}</maxFileSize>
                    </timeBasedFileNamingAndTriggeringPolicy>
                    <!--åªä¿ç•™æœ€è¿‘nå¤©çš„æ—¥å¿—-->
                    <maxHistory>${logging.file.max-history}</maxHistory>
                </rollingPolicy>
                <encoder>
                    <pattern>${FILE_LOG_PATTERN}</pattern>
                </encoder>
            </appender>
            <appender name="file-error" class="ch.qos.logback.core.rolling.RollingFileAppender">
                <filter class="ch.qos.logback.classic.filter.LevelFilter">
                    <level>error</level>
                    <onMatch>ACCEPT</onMatch>
                    <onMismatch>DENY</onMismatch>
                </filter>
                <file>${logging.path}/error/${application.name}-error.log</file>
                <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
                    <fileNamePattern>${logging.path}/error/${application.name}-error.%d{yyyy-MM-dd}.%i.log</fileNamePattern>
                    <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
                        <maxFileSize>${logging.file.max-size}</maxFileSize>
                    </timeBasedFileNamingAndTriggeringPolicy>
                    <!--åªä¿ç•™æœ€è¿‘nå¤©çš„æ—¥å¿—-->
                    <maxHistory>${logging.file.max-history}</maxHistory>
                </rollingPolicy>
                <encoder>
                    <pattern>${FILE_LOG_PATTERN}</pattern>
                </encoder>
            </appender>
    
            <root level="INFO">
                <appender-ref ref="file-info"/>
                <appender-ref ref="file-warn"/>
                <appender-ref ref="file-error"/>
            </root>
        </springProfile>
    
    </configuration>
    

> å¯åŠ¨ä¸€ä¸‹é¡¹ç›®è¯•è¯•ï¼Œå¯åŠ¨å¦‚ä¸‹è¯æ˜æˆåŠŸã€‚å¦‚æœæŠ¥é”™å°‘ä¾èµ–è¯·å†æ‹‰ä¸€ä¸‹Mavenä¾èµ–ï¼ï¼ï¼

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/128e83eb45a54374a608911de785d2eb.png)  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/470d5ece4c8048e99fe2014ae5b2a886.png)

* * *

### ğŸ‡4.åˆ›å»ºå­æ¨¡å—-module(æ¨¡å—å±‚)

> å³å‡»é¡¹ç›®chat-bootï¼Œnew ->Moudleæ–°å»ºæ¨¡å—chat-boot-module

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/dc76e2a8982d4380973b73538a89e043.png)

> å¡«å†™å­æ¨¡å—å chat-boot-moduleï¼Œç„¶åæ£€æŸ¥å¯¹åº”GAVï¼Œç‚¹å‡»Finish

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/02360cf7509e4350af1306fd8922a078.png)

> ç”Ÿæˆå­æ¨¡å—**chat-boot-module**å¦‚ä¸‹å›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1f35b0a49d6d4eacb47ab422ae87bf9b.png)

> åˆ é™¤**chat-boot-module**ä¸‹æ— ç”¨æ–‡ä»¶åŠç›®å½•ï¼Œå¦‚srcç›®å½•ï¼Œåˆ é™¤æ— ç”¨ç›®å½•å¦‚ä¸‹

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5f058ac60bd646a289521f571cf8471a.png)

> è‡ªæ­¤å¤–éƒ¨å¤§æ¡†æ¶åˆæ­¥æ­å»ºæˆåŠŸ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4b409ee9c036446583f5dde75605cf78.png)

> å®Œå–„chat-boot-moduleä¸‹pom.xmlä¾èµ–ï¼Œå¦‚lombokï¼Œwebç­‰å¿…è¦ä¾èµ–

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-boot-module</artifactId>
        <packaging>pom</packaging>
        <modules>
            <module>chat-boot-common</module>
            <module>chat-boot-controller</module>
            <module>chat-boot-dao</module>
            <module>chat-boot-dto</module>
            <module>chat-boot-entity</module>
            <module>chat-boot-service</module>
        </modules>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
        </properties>
    
        <dependencyManagement>
            <dependencies>
                <dependency>
                    <groupId>net.javadog.chat</groupId>
                    <artifactId>chat-boot-dependencies</artifactId>
                    <version>${project.parent.version}</version>
                    <type>pom</type>
                    <scope>import</scope>
                </dependency>
            </dependencies>
        </dependencyManagement>
    
        <dependencies>
            <!-- web -->
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-web</artifactId>
            </dependency>
            <!--WxJava - å¾®ä¿¡å¼€å‘ Java SDK-->
            <dependency>
                <groupId>com.github.binarywang</groupId>
                <artifactId>weixin-java-miniapp</artifactId>
            </dependency>
            <!--lombok-->
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
            </dependency>
            <!--hutool-->
            <dependency>
                <groupId>cn.hutool</groupId>
                <artifactId>hutool-all</artifactId>
            </dependency>
            <!--swagger2-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger2</artifactId>
            </dependency>
            <!--swagger-ui-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger-ui</artifactId>
            </dependency>
            <!--æ•´åˆKnife4j-->
            <dependency>
                <groupId>com.github.xiaoymin</groupId>
                <artifactId>knife4j-spring-boot-starter</artifactId>
            </dependency>
            <!--æ•´åˆShiroå®‰å…¨æ¡†æ¶-->
            <dependency>
                <groupId>org.apache.shiro</groupId>
                <artifactId>shiro-spring</artifactId>
            </dependency>
            <!--jwt-->
            <dependency>
                <groupId>com.auth0</groupId>
                <artifactId>java-jwt</artifactId>
            </dependency>
            <!--mybatis-plus-->
            <dependency>
                <groupId>com.baomidou</groupId>
                <artifactId>mybatis-plus-boot-starter</artifactId>
            </dependency>
            <dependency>
                <groupId>mysql</groupId>
                <artifactId>mysql-connector-java</artifactId>
            </dependency>
        </dependencies>
    
    </project>
    

**ä¸€å®šè¦é‡æ–°æ‹‰å–ä¾èµ–ï¼**  
**ä¸€å®šè¦é‡æ–°æ‹‰å–ä¾èµ–ï¼**  
**ä¸€å®šè¦é‡æ–°æ‹‰å–ä¾èµ–ï¼**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d5e49ab39e9e49b791245cb2a71015c1.png)

* * *

### ğŸ‰5.åˆ›å»ºchat-boot-moduleæ¨¡å—ä¸‹å¯¹åº”åŠŸèƒ½åˆ†å±‚

> ç›®å‰æœ¬ç‹—åˆ†ä¸ºå¦‚ä¸‹6å±‚

*   common-å…±é€šå±‚
*   controller-æ§åˆ¶å™¨å±‚
*   dao-æ•°æ®æŒä¹…å±‚
*   dto-æ•°æ®ä¼ è¾“å¯¹è±¡å±‚
*   entity-å®ä½“å±‚
*   service-ä¸šåŠ¡é€»è¾‘å±‚

**ä¾æ¬¡æŒ‰ç…§ä¸Šè¿°æ·»åŠ æ¨¡å—æ–¹å¼è¿›è¡Œæ–°å¢å­æ¨¡å—ï¼Œæœ¬ç‹—å¦‚ä¸‹ç¤ºä¾‹ä¸€ä¸ªï¼Œå…¶ä½™éƒ½å¦‚æ³•ç‚®åˆ¶**

> å³å‡»é¡¹ç›®chat-boot-moduleï¼Œnew ->Moudleæ–°å»ºæ¨¡å—chat-boot-common

**ä¸€å®šçœ‹æ¸…æ¥šçˆ¶æ¨¡å—æ˜¯å¦æ­£ç¡®**  
**ä¸€å®šçœ‹æ¸…æ¥šçˆ¶æ¨¡å—æ˜¯å¦æ­£ç¡®**  
**ä¸€å®šçœ‹æ¸…æ¥šçˆ¶æ¨¡å—æ˜¯å¦æ­£ç¡®**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/fba05ec151524d4f9651d901d5052052.png)

> ç¡®è®¤çˆ¶çº§æ¨¡å—åï¼Œç‚¹å‡»Finishï¼Œç”Ÿæˆchat-boot-commonæ¨¡å—

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/3c455b77d8134d05a44e151e83a96d0e.png)

> ä¾æ¬¡æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ï¼Œæ–°å»ºå…¶ä»–æ¨¡å—

**chat-boot-controller**æ¨¡å—

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/bb29e09e0f3d4c179563a206570a90c0.png)

**chat-boot-dao**æ¨¡å—  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/55d72e807d814b16aa1e74fb4798d618.png)

**chat-boot-dto**æ¨¡å—  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/582bdf6b1e134a398c8924657d2b83a7.png)

**chat-boot-entity**æ¨¡å—  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/33180f8855974179bc0990444d77b152.png)

**chat-boot-service**æ¨¡å—  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1eb3150e26764881af61bd431bcc95a4.png)

> æ€»ä½“æ¨¡å—é›å½¢åŸºæœ¬å®Œæˆ

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ea39880791f248b4b90c246c78f90791.png)

### ğŸ§6.å®é™…æµç¨‹å¡«å……

*   æ¨¡æ‹Ÿæ­£å¸¸**å‰ç«¯è¯·æ±‚**åˆ°**åå°æœåŠ¡è°ƒç”¨è¿‡ç¨‹**ï¼Œè¿›è¡Œå®é™…ä»£ç è¡¥å……

> åœ¨chat-boot-entityä¸‹æ–°å»ºå®ä½“ç±»Userï¼Œåœ¨src/main/javaä¸‹å³é”®New=>Java Classï¼Œå½•å…¥åŒ…ååŠç±»å

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/13aa106c81ed4527a9c6450410528782.png)

    package net.javadog.chat.entity;
    
    import lombok.Data;
    
    /**
     * @author: hdx
     * @Date: 2023-01-28 14:26
     * @version: 1.0
     **/
    @Data
    public class User {
    
        private Long id;
    
        private String username;
    
        private String idCard;
    }
    
    

* * *

> åœ¨chat-boot-dtoä¸‹æ–°å»ºç›®**requestå’Œresponse**ï¼Œåˆ†åˆ«ä»£è¡¨**è¯·æ±‚ä¼ è¾“å¯¹è±¡å’Œè¿”å›ä¼ è¾“å¯¹è±¡**ï¼Œå¹¶åˆ†åˆ«åœ¨ç›®å½•ä¸‹åˆ›å»ºUserRequest.javaå’ŒUserResponse.java

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1cdd8eed3329478092e68580ef3d6550.png)

    package net.javadog.chat.request;
    
    import lombok.Data;
    
    /**
     * @author: hdx
     * @Date: 2023-01-28 14:59
     * @version: 1.0
     **/
    @Data
    public class UserRequest {
    
        private Long id;
    
        private String username;
    }
    

    package net.javadog.chat.response;
    
    import lombok.Data;
    
    /**
     * @author: hdx
     * @Date: 2023-01-28 14:59
     * @version: 1.0
     **/
    @Data
    public class UserResponse {
    
        private Long id;
    
        private String username;
    }
    

* * *

> åœ¨chat-boot-daoä¸‹ä¿®æ”¹chat-boot-daoæ¨¡å—ä¸‹ä¿®æ”¹pom.xmlæ–‡ä»¶ä¾èµ–ï¼Œå¼•å…¥chat-boot-entity;å¹¶å¢å¯¹åº”UserMapper.java  
> ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5efa985515ae4cbba8ab95541044ed37.png)

    package net.javadog.chat.mapper;
    
    import com.baomidou.mybatisplus.core.mapper.BaseMapper;
    import net.javadog.chat.entity.User;
    
    /**
     * ç”¨æˆ·mapper
     *
     * @author: hdx
     * @Date: 2023-01-10 11:43
     * @version: 1.0
     **/
    public interface UserMapper extends BaseMapper<User> {
    }
    
    

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot-module</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-boot-dao</artifactId>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
        </properties>
    
        <dependencies>
            <dependency>
                <groupId>net.javadog.chat</groupId>
                <artifactId>chat-boot-entity</artifactId>
                <version>${project.parent.version}</version>
            </dependency>
        </dependencies>
    
    </project>
    

* * *

> åœ¨chat-boot-serviceä¸‹æ–°å»ºç›®å½•serviceå’Œimplï¼Œå¹¶åœ¨å¯¹åº”ç›®å½•ä¸‹æ–°å»ºUserService.javaå’ŒUserServiceImpl.javaï¼Œå¹¶ä¿®æ”¹chat-boot-serviceæ¨¡å—ä¸‹ä¿®æ”¹pom.xmlæ–‡ä»¶ä¾èµ–ï¼Œå¼•å…¥chat-boot-dto,chat-boot-dao

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/8e438042de6b4f009bb58b46a57adbf1.png)

    package net.javadog.chat.service;
    
    import com.baomidou.mybatisplus.extension.service.IService;
    import net.javadog.chat.entity.User;
    
    /**
     * ç”¨æˆ·æ¥å£
     *
     * @author: hdx
     * @Date: 2023-01-10 11:53
     * @version: 1.0
     **/
    public interface UserService extends IService<User> {
    
    }
    
    

    package net.javadog.chat.service.impl;
    
    import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
    import net.javadog.chat.entity.User;
    import net.javadog.chat.mapper.UserMapper;
    import net.javadog.chat.service.UserService;
    import org.springframework.stereotype.Service;
    
    /**
     * ç”¨æˆ·æ¥å£å®ç°ç±»
     *
     * @author: hdx
     * @Date: 2023-01-10 11:55
     * @version: 1.0
     **/
    @Service
    public class UserServiceImpl extends ServiceImpl<UserMapper, User> implements UserService {
    
    }
    

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot-module</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-boot-service</artifactId>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
        </properties>
    
        <dependencies>
            <dependency>
                <groupId>net.javadog.chat</groupId>
                <artifactId>chat-boot-dao</artifactId>
                <version>${project.parent.version}</version>
            </dependency>
            <dependency>
                <groupId>net.javadog.chat</groupId>
                <artifactId>chat-boot-dto</artifactId>
                <version>${project.parent.version}</version>
            </dependency>
        </dependencies>
    
    </project>
    

* * *

> åœ¨chat-boot-controlleråˆ›å»ºUserController.java,å¹¶ä¿®æ”¹chat-boot-controlleræ¨¡å—ä¸‹ä¿®æ”¹pom.xmlæ–‡ä»¶ä¾èµ–ï¼Œå¼•å…¥chat-boot-dto,chat-boot-service

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/af877cb82b97411d930b44244922b956.png)

    package net.javadog.chat.controller;
    
    import cn.hutool.core.bean.BeanUtil;
    import io.swagger.annotations.Api;
    import io.swagger.annotations.ApiOperation;
    import net.javadog.chat.entity.User;
    import net.javadog.chat.request.UserRequest;
    import net.javadog.chat.response.UserResponse;
    import net.javadog.chat.service.UserService;
    import org.springframework.web.bind.annotation.*;
    
    import javax.annotation.Resource;
    
    /**
     * ç”¨æˆ·æ§åˆ¶å™¨
     *
     * @author: hdx
     * @Date: 2022-12-07 15:48
     * @version: 1.0
     **/
    @Api(tags = "ç”¨æˆ·æ§åˆ¶å™¨")
    @RestController
    @RequestMapping("/user")
    public class UserController {
    
        @Resource
        private UserService userService;
    
        @ApiOperation(value = "ç”¨æˆ·è¯¦æƒ…", notes = "ç”¨æˆ·è¯¦æƒ…")
        @GetMapping
        public UserResponse detail(UserRequest userRequest){
            UserResponse userResponse = new UserResponse();
            User user = userService.getById(userRequest.getId());
            BeanUtil.copyProperties(user, userResponse);
            return userResponse;
        }
    
    }
    
    

ğŸ¯é‡è¦è¡¥å……  
1.åˆ‡è®°ä¿®æ”¹chat-boot-mainä¸‹çš„pom.xmlä¾èµ–ï¼Œå°†chat-boot-controlleræ¨¡å—åŠ å…¥  
2.åˆ‡è®°ä¿®æ”¹chat-boot-mainä¸‹çš„pom.xmlä¾èµ–ï¼Œå°†chat-boot-daoæ¨¡å—åŠ å…¥  
3.åˆ‡è®°ä¿®æ”¹å¯åŠ¨ç±»ChatApplicationä¸­åŠ å…¥@MapperScanæ³¨è§£

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a62aca35dda04b938acb50a0c89647e6.png)

    <?xml version="1.0" encoding="UTF-8"?>
    <project xmlns="http://maven.apache.org/POM/4.0.0"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <parent>
            <artifactId>chat-boot</artifactId>
            <groupId>net.javadog.chat</groupId>
            <version>1.0-SNAPSHOT</version>
        </parent>
        <modelVersion>4.0.0</modelVersion>
    
        <artifactId>chat-boot-main</artifactId>
    
        <properties>
            <maven.compiler.source>8</maven.compiler.source>
            <maven.compiler.target>8</maven.compiler.target>
        </properties>
    
        <dependencyManagement>
            <dependencies>
                <dependency>
                    <groupId>net.javadog.chat</groupId>
                    <artifactId>chat-boot-dependencies</artifactId>
                    <version>1.0-SNAPSHOT</version>
                    <type>pom</type>
                    <scope>import</scope>
                </dependency>
            </dependencies>
        </dependencyManagement>
    
        <dependencies>
            <!-- web -->
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-starter-web</artifactId>
            </dependency>
            <!--lombok-->
            <dependency>
                <groupId>org.projectlombok</groupId>
                <artifactId>lombok</artifactId>
            </dependency>
            <!--swagger2-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger2</artifactId>
            </dependency>
            <!--swagger-ui-->
            <dependency>
                <groupId>io.springfox</groupId>
                <artifactId>springfox-swagger-ui</artifactId>
            </dependency>
            <!-- swaggeræ¥å£æ–‡æ¡£ -->
            <dependency>
                <groupId>com.github.xiaoymin</groupId>
                <artifactId>knife4j-spring-boot-starter</artifactId>
            </dependency>
    
            <!-- controller -->
            <dependency>
                <groupId>net.javadog.chat</groupId>
                <artifactId>chat-boot-controller</artifactId>
                <version>${project.parent.version}</version>
            </dependency>
            <!-- dao -->
            <dependency>
                <groupId>net.javadog.chat</groupId>
                <artifactId>chat-boot-dao</artifactId>
                <version>${project.parent.version}</version>
            </dependency>
        </dependencies>
    
        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>3.1</version>
                    <configuration>
                        <source>${java.version}</source>
                        <target>${java.version}</target>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>2.6</version>
                    <configuration>
                        <delimiters>
                            <delimiter>@</delimiter>
                        </delimiters>
                        <useDefaultDelimiters>false</useDefaultDelimiters>
                    </configuration>
                </plugin>
            </plugins>
            <resources>
                <resource>
                    <directory>src/main/webapp</directory>
                    <filtering>false</filtering>
                </resource>
                <resource>
                    <directory>src/main/resources</directory>
                    <filtering>true</filtering>
                </resource>
                <resource>
                    <directory>src/main/java</directory>
                    <includes>
                        <include>**/*.xml</include>
                    </includes>
                </resource>
            </resources>
        </build>
    
        <profiles>
            <profile>
                <id>local</id>
                <properties>
                    <spring.active>local</spring.active>
                </properties>
                <activation>
                    <activeByDefault>true</activeByDefault>
                </activation>
            </profile>
            <profile>
                <id>dev</id>
                <properties>
                    <spring.active>dev</spring.active>
                </properties>
            </profile>
            <profile>
                <id>prod</id>
                <properties>
                    <spring.active>prod</spring.active>
                </properties>
            </profile>
        </profiles>
    </project>
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f45ac600429d4165bb982b07d66891d1.png)

    package net.javadog.chat;
    
    import com.github.xiaoymin.knife4j.spring.annotations.EnableKnife4j;
    import lombok.extern.slf4j.Slf4j;
    import org.mybatis.spring.annotation.MapperScan;
    import org.springframework.boot.SpringApplication;
    import org.springframework.boot.autoconfigure.SpringBootApplication;
    import org.springframework.boot.web.servlet.ServletComponentScan;
    import org.springframework.context.ConfigurableApplicationContext;
    import org.springframework.core.env.Environment;
    import springfox.documentation.swagger2.annotations.EnableSwagger2;
    
    import java.net.InetAddress;
    import java.net.UnknownHostException;
    
    /**
     * @author: hdx
     * @Date: 2023-01-28 11:24
     * @version: 1.0
     **/
    @SpringBootApplication
    @ServletComponentScan
    @Slf4j
    @EnableSwagger2
    @EnableKnife4j
    @MapperScan(basePackages = {"net.javadog.chat.mapper"})
    public class ChatApplication {
        public static void main(String[] args) throws UnknownHostException {
            // å¯åŠ¨ç±»
            ConfigurableApplicationContext application = SpringApplication.run(ChatApplication.class, args);
            // æ‰“å°åŸºç¡€ä¿¡æ¯
            info(application);
        }
    
        static void info(ConfigurableApplicationContext application) throws UnknownHostException {
            Environment env = application.getEnvironment();
            String ip = InetAddress.getLocalHost().getHostAddress();
            String port = env.getProperty("server.port");
            String active = env.getProperty("spring.profiles.active");
            String contextPath = env.getProperty("server.servlet.context-path");
            if (contextPath == null) {
                contextPath = "";
            }
            log.info("\n----------------------------------------------------------\n\t" +
                    "æ¬¢è¿è®¿é—®  \thttps://blog.javadog.net\n\t" +
                    "ç¤ºä¾‹ç¨‹åºã€" + active + "ã€‘ç¯å¢ƒå·²å¯åŠ¨! åœ°å€å¦‚ä¸‹:\n\t" +
                    "Local: \t\thttp://localhost:" + port + contextPath + "\n\t" +
                    "External: \thttp://" + ip + ':' + port + contextPath + '\n' +
                    "Swaggeræ–‡æ¡£: \thttp://" + ip + ":" + port + contextPath + "/doc.html\n" +
                    "----------------------------------------------------------");
        }
    }
    

* * *

### ğŸ¦”7.ç¤ºä¾‹DBæ›´æ–°

*   æ¨¡æ‹Ÿæ­£å¸¸**å‰ç«¯è¯·æ±‚**åˆ°**åå°æœåŠ¡è°ƒç”¨è¿‡ç¨‹**ï¼Œè¿›è¡Œå®é™…ä»£ç è¡¥å……

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/cd506f90ac5c460fba2aad86ab4ea234.png)

    DROP TABLE IF EXISTS `user`;
    CREATE TABLE `user`  (
      `id` bigint(20) NOT NULL COMMENT 'id',
      `username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'ç”¨æˆ·å',
      `id_card` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'èº«ä»½è¯',
      PRIMARY KEY (`id`) USING BTREE
    ) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;
    
    -- ----------------------------
    -- Records of user
    -- ----------------------------
    INSERT INTO `user` VALUES (1, 'JavaDog', '123123');
    

### ğŸ§©8.è®¿é—®æµ‹è¯•

> æµè§ˆå™¨è®¿é—®http://localhost:8001/chat/v1/user?id=1

**æµ‹è¯•æˆåŠŸå¦‚ä¸‹å›¾æ‰€ç¤º**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/27662626829b4b97b022934c310fd24e.png)

æ€»ç»“
--

ä»¥ä¸Šç¤ºä¾‹åªæ˜¯ç®€å•ç¤ºèŒƒåˆ†å±‚æ€è·¯ï¼Œå…¶ä¸­ä»£ç é€»è¾‘å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå¤§å®¶é€‰å–é€‚ç”¨è‡ªå·±å°±å¥½ï¼Œå¸Œæœ›è‡ªå·±çš„æ€è·¯èƒ½å¯¹å¤§å®¶æœ‰å¸®åŠ©

å¦‚é‡ç¼ºå°‘ä¾èµ–æƒ…å†µï¼Œ**ä¸€å®šè¦é‡æ–°æ‹‰å–ä¾èµ–ï¼**  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4eb79d9a512d4be6b428d1aa5eca5a57.png)

å†™åœ¨æœ€å
----

æ­¤ç”Ÿä¸¤æ‚”ï¼Œæ‚”é‡è§ä½ ï¼Œæ›´æ‚”æœªæ—©é‡è§ä½ ï¼Œçæƒœå½“ä¸‹æ‹¥æœ‰ï¼Œå‹¿å¿µæ˜”æ—¥ç¾å¥½ã€‚

JavaDog

ç‹—å±‹åœ°å€

ä¸ªäººåšå®¢

[https://blog.javadog.net](https://blog.javadog.net)

å…¬ä¼—å·

[https://mp.weixin.qq.com/s/\_vgnXoQ8FSobD3OfRAf5gw](https://mp.weixin.qq.com/s/_vgnXoQ8FSobD3OfRAf5gw)

CSDN

[https://blog.csdn.net/baidu\_25986059](https://blog.csdn.net/baidu_25986059)

æ˜é‡‘

[https://juejin.cn/user/2172290706716775](https://juejin.cn/user/2172290706716775)

çŸ¥ä¹

[https://www.zhihu.com/people/JavaDog](https://www.zhihu.com/people/JavaDog)

ç®€ä¹¦

[https://www.jianshu.com/u/1ff9c6bdb916](https://www.jianshu.com/u/1ff9c6bdb916)

gitee

[https://gitee.com/javadog-net](https://gitee.com/javadog-net)

GitHub

[https://github.com/javadog-net](https://github.com/javadog-net)

posted on 2023-03-14 20:16Â  [JavaDogç¨‹åºç‹—](https://www.cnblogs.com/javadog-net/)Â  é˜…è¯»(139)Â  è¯„è®º(0)Â  [ç¼–è¾‘](https://i.cnblogs.com/EditPosts.aspx?postid=17216199)Â  [æ”¶è—](javascript:void(0))Â  [ä¸¾æŠ¥](javascript:void(0))