---
layout: post
title: "微积分小感——3.简单积分"
date: "2022-05-04T11:15:14.447Z"
---
微积分小感——3.简单积分
=============

§1.定积分 §2.不定积分 §3.特殊积分法 §4.积分的实例

微积分小感——3.简单积分
=============

> 所需的前置知识：  
> 1）函数的概念  
> 2）实数理论  
> 3）极限理论（[第0章](https://www.cnblogs.com/Square-Circle/p/14314521.html)）  
> 4）导数与微分（[第1章](https://www.cnblogs.com/Square-Circle/p/15012638.html)）  
> 5）微分学基本定理（[第2章](https://www.cnblogs.com/Square-Circle/p/15147815.html)）

### §1.定积分

#### —1.定积分的定义

​ 定积分的发明源于对曲边形面积的研究。我们先看一个简单的例子：

> 求二次函数 \\(f(x)=x^2\\) 与直线 \\(x=0,x=1\\) 以及 \\(x\\) 轴围成的曲边形的面积 \\(S\\) 。

初看令人束手无策。对于一个素昧平生的新问题，我们还是要拿出微积分学的初心——“用有限逼近无限，用离散逼近连续”。最简单好求面积的图形是什么？矩形。那么，我们不妨将这图形切割成矩形。将区间 \\(\[0,1\]\\) 等分为 \\(n\\) 份，以每份的右端点的函数值为高，计算出面积和：

\\\[S\_n=\\sum\_{i=1}^{n}{f(\\frac{i}{n})\\cdot\\frac{1}{n}} =\\sum\_{i=1}^{n}{\\frac{i^2}{n^3}} =\\frac{1}{n^3}\\sum\_{i=1}^{n}{i^2} =\\frac{1}{n^3}\\cdot\\frac{n(n+1)(2n+1)}{6} =\\frac{1}{3}+\\frac{1}{2n}+\\frac{1}{6n^2} \\\]

当 \\(n\\to\\infin\\) 时，\\(S\_n\\) 趋于 \\(S\\) ，也就是：

\\\[S=\\lim\_{n\\to\\infin}{S\_n} =\\lim\_{n\\to\\infin}{\\left(\\frac{1}{3}+\\frac{1}{2n}+\\frac{1}{6n^2}\\right)} =\\frac{1}{3} \\\]

得出结论 \\(S=\\frac{1}{3}\\) 。

​ 更一般的，对于求函数 \\(f(x)\\) 与直线 \\(x=a,x=b\\) 以及 \\(x\\) 轴围成的曲边形的面积，我们如法炮制。首先从小到大取闭区间 \\(\[a,b\]\\) 内一定数量的点 \\(a=x\_0<x\_1<x\_2<\\cdots<x\_{n-1}<x\_n=b\\) ，取点可以不均匀（这在极限意义下都是无关紧要的），然后将两点之间的距离 \\(\\Delta x\_i=x\_{i}-x\_{i-1}\\ (1\\leqslant i\\leqslant n)\\) 作为矩形的底边。对每一个矩形底边 \\(\\Delta x\_i\\) ，在区间 \\(\[x\_{i-1},x\_i\]\\) 内取一点 \\(\\xi\_i\\) ，并以这一点的函数值 \\(f(\\xi\_i)\\) 作为矩形的高，算出所有矩形面积之和：

\\\[S\_n=\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i} \\\]

然后取极限。注意到由于是不一定均匀的取点，单纯令 \\(n\\to\\infin\\) 是不能达到逼近曲边形面积的效果的（例如取区间 \\(\[a,b\]\\) 的 \\(1/2,1/4,1/8,\\cdots,1/2^n\\) 处），我们应令 \\(\\lambda=\\max\\{\\Delta x\_i\\}\\to 0\\) ，也就是所有的底边长度的最大值趋于零，才能得到正确结果：

\\\[S=\\lim\_{\\lambda\\to0}{S\_n}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i}} \\\]

等式最右边就是定积分的定义式\[^可积性\]：

\\\[\\int\_a^b{f(x)\\text{d}x}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i}} \\\]

形象地看，定积分的符号就是将 \\(S\\) 拉长成 \\(\\int\\) ， \\(f(\\xi\_i)\\) 写成 \\(f(x)\\) ， \\(\\Delta x\\) 写成 \\(\\text{d}x\\) ，并标上区间左右端点得到的。定积分是因其结果为定数而得名的。

> **附注：**  
> 此处的 \\(\\text{d}x\\) 在初期可以理解几何诠释中矩形的无穷小的底边，但它的实际作用是说明积分的变量。这要到后面的分部积分法和换元积分法的时候才会体现。

#### —2.定积分的性质

​ 如上定积分的定义局限于 \\(a<b\\) 的情况，简单粗暴的补充：

\\\[\\int\_a^a{f(x)\\text{d}x}=0 \\quad, \\int\_b^a{f(x)\\text{d}x}=-\\int\_a^b{f(x)\\text{d}x} \\\]

就可以对任意的 \\(a,b\\) 做定积分了。

​ 定积分满足如下显然的（所谓证明不过是套定义式罢了）运算法则：

> \\((ⅰ)\\quad\\) 加减法则：\\(\\int\_a^b{(f(x)\\pm g(x))\\text{d}x}=\\int\_a^b{f(x)\\text{d}x}\\pm\\int\_a^b{g(x)\\text{d}x} \\)  
> \\((ⅱ)\\quad\\) 系数法则：\\(\\int\_a^b{kf(x)\\text{d}x}=k\\int\_a^b{f(x)\\text{d}x}\\) （ \\(k\\) 为常数）  
> \\((ⅲ)\\quad\\) 连接法则：\\(\\int\_a^b{f(x)\\text{d}x}+\\int\_b^c{f(x)\\text{d}x}=\\int\_a^c{f(x)\\text{d}x}\\)

​ 或许你已经准备计算一些常见函数的定积分了，但是……这个定义式几乎没有任何用处——绝大多数函数的求和是没办法计算的。别急，插个题外话，一切便豁然开朗。

### §2.不定积分

#### —1.不定积分的定义

​ 求导是一种将函数变为另一个函数的运算（这被称为“算子”），如同定义了加法之后便要定义它的逆运算——减法，我们定义如下的求导的逆运算：

> 若两函数 \\(F(x),f(x)\\) 满足 \\(F'(x)=f(x)\\) ，就称：
> 
> \\\[\\int{f(x)\\text{d}x}=F(x)+C \\\]
> 
> 其中 \\(C\\) 为任意常数，此运算称为对 \\(f(x)\\) 的不定积分， \\(F(x)\\) 称为 \\(f(x)\\) 的原函数。

常数 \\(C\\) 的存在，是由于常数不会影响求导结果。正因如此，不定积分的结果不是一个函数，而是一个函数集合 \\(\\mathbb{F}=\\{F(x)+C | C\\in\\mathbb{R}\\}\\) ，这也就是其被称为“不定”积分的缘故。

​ 出于严谨，我们要检验一下不定积分的完备性，也就是不会出现 \\(G'(x)=f(x)\\) 且 \\(G'(x)\\notin\\mathbb{F}\\) ：

> > 证明： \\(F'(x)=G'(x)\\) 当且仅当 \\(F(x)-G(x)\\) 为常数。
> 
> *   由前推后：令 \\(\\phi(x)=F(x)-G(x)\\) ，则 \\(\\phi'(x)=F'(x)-G'(x)=0\\) ，由【第2章 §2 —1. 定理零】，\\(\\phi(x)\\) 为常函数，得证。
>     
> *   由后推前：显然。
>     

于是我们完备地得到了不定积分的定义。

​ 根据不定积分的定义，有显然的恒等式：

\\\[\\int{f'(x)\\text{d}x}=f(x)+C \\\]

我们把函数 \\(y=f(x)\\) 的导数写成微分之比 \\(y'=\\cfrac{\\text{d}y}{\\text{d}x}\\) 的形式，自然地约掉 \\(\\text{d}x\\) 得到：

\\\[\\int{y'\\text{d}x}=\\int{\\frac{\\text{d}y}{\\text{d}x}\\text{d}x}=\\int{\\text{d}y}=y+C \\\]

于是，我们可以理解为： \\(\\int\\) 和 \\(\\text{d}\\) 是一对互逆运算！[\[1\]](#fn1)

​ 不定积分的相加和乘以系数有如下显然的运算法则：

> 对于函数 \\(u=f(x)\\) ，\\(v=g(x)\\) ：
> 
> ​ \\((ⅰ)\\quad\\) 加减法则： \\(\\int{(u \\pm v)\\text{d}x}=\\int{u}\\text{d}x \\pm \\int{v\\text{d}x}\\)  
> ​ \\((ⅱ)\\quad\\) 系数法则： \\(\\int{(k\\cdot u)\\text{d}x}=k\\cdot\\int{u\\text{d}x}\\) （ \\(k\\) 为常数）

但是不定积分的乘法和函数嵌套法则则涉及复杂的技巧（以至于它们甚至失掉了“乘法”和“嵌套”这两个基本的名字，改为了“分部积分法”和“换元积分法”），我们会专辟一节加以讨论，此处且按下不表。

#### —2.微积分基本定理

​ 读到此处你一定会发现一件怪事：定积分和不定积分的定义迥然不同，但它们却有极其形似的名称和记号。这一切都源于如下大名鼎鼎的微积分基本定理（又名牛顿-莱布尼茨定理）：

> 若 \\(F'(x)=f(x)\\) ，则：
> 
> \\\[\\int\_a^b{f(x)\\text{d}x}=F(b)-F(a) \\\]
> 
> 我们有时记等号右侧为 \\(F(x)|\_a^b\\) ，如同时记 \\(F(x)=\\int{f(x)\\text{d}x}\\) ，就能得到如下的优美式子：
> 
> \\\[\\int\_a^b{f(x)\\text{d}x}=\\left.\\int{f(x)\\text{d}x}\\right|\_a^b \\\]

​ 是不是令人折服？现在运用拉格朗日中值定理证明之：

> > 证明：若 \\(F'(x)=f(x)\\) ，则：
> > 
> > \\\[\\int\_a^b{f(x)\\text{d}x}=F(b)-F(a) \\\]
> 
> 摆出定积分的定义式：
> 
> \\\[\\int\_a^b{f(x)\\text{d}x}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i}} \\\]
> 
> 对于任意一段 \\(\[x\_{i-1},x\_i\]\\) ，由拉格朗日中值定理[\[2\]](#fn2)，有：
> 
> \\\[F(x\_i)-F(x\_{i-1})=f(c\_i)\\Delta x\_i\\qquad c\_i\\in(x\_{i-1},x\_i) \\\]
> 
> 由于 \\(\\xi\_i\\) 的选取是任意的，不妨令 \\(\\xi\_i=c\_i\\) ，那么：
> 
> \\\[\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i}= \\sum\_{i=1}^{n}{f(c\_i)\\Delta x\_i}= \\sum\_{i=1}^{n}{(F(x\_i)-F(x\_{i-1}))}= F(x\_n)-F(x\_0) \\\]
> 
> 所以：
> 
> \\\[\\int\_a^b{f(x)\\text{d}x}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{f(\\xi\_i)\\Delta x\_i}} =\\lim\_{\\lambda\\to0}{(F(x\_n)-F(x\_0))}=F(b)-F(a) \\\]
> 
> 命题得证。

​ 有了微积分基本定理，我们就自然地搭建起了微分和积分的桥梁。从现代的角度，这定理描述的是定积分和不定积分的关系。但在微积分草创之时，其意义则十分重大：从几何角度，“积分”就是求曲边图形面积，“微分”就是求曲线斜率；从物理角度，“积分”就是求连续变化系统的宏观状态，“微分”就是求连续变化系统的微观改变；微积分基本定理就是在说，以上这两对操作分别互逆！

​ 有了微积分基本定理之后，我们就可以专心于“如何求不定积分”这一问题，定积分的内容将很少以重要的形式再出现了。

#### —3.微积分基本定理的相关结论和例子

​ 如下结论从证明的路线上来说，理应出现再微积分基本定理前边（至少是同时），但是从微积分基本定理回望它们会显得更容易理解。

1.  积分中值定理
    
    > > 对于区间 \\(\[a,b\]\\) 上的函数 \\(f(x)\\) ，存在 \\(c\\in\[a,b\]\\) 使得：
    > > 
    > > \\\[\\int\_a^b{f(x)\\text{d}x}=f(c)(b-a) \\\]
    > 
    > 令 \\(F(x)=\\int{f(x)\\text{d}x}\\) ，则由微积分基本定理结合拉格朗日中值定理：
    > 
    > \\\[\\int\_a^b{f(x)\\text{d}x}=F(b)-F(a)=F'(c)(b-a)=f(c)(b-a) \\\]
    
2.  原函数存在定理
    
    > > 对于函数 \\(f(x)\\) ，如下的函数 \\(F(x)\\) 是其原函数：
    > > 
    > > \\\[F(x)=\\int\_a^x{f(t)\\text{d}t} \\\]
    > 
    > 给定自变量增量 \\(\\Delta x\\) ，则函数 \\(F(x)\\) 获得增量：
    > 
    > \\\[\\Delta F=F(x+\\Delta x)-F(x) =\\int\_a^{x+\\Delta x}{f(t)\\text{d}t}-\\int\_a^x{f(t)\\text{d}t} =\\int\_x^{x+\\Delta x}{f(t)\\text{d}t} \\\]
    > 
    > 根据积分的定义式，记 \\(f(x)\\) 在区间 \\(\[x,x+\\Delta x\]\\) 上的最大最小值分别为 \\(M(f),m(f)\\) ，有：
    > 
    > \\\[m(f)\\Delta x\\leqslant \\int\_x^{x+\\Delta x}{f(t)\\text{d}t}\\leqslant M(f)\\Delta x \\\]
    > 
    > 当 \\(\\Delta x\\to 0\\) 时，有 \\(\\lim m(f)=\\lim M(f)=f(x)\\) ，于是由夹逼定理：
    > 
    > \\\[\\lim\_{\\Delta x\\to 0}{\\frac{1}{\\Delta x}\\int\_x^{x+\\Delta x}{f(t)\\text{d}t}}=f(x) \\\]
    > 
    > 套用导数的定义：
    > 
    > \\\[F'(x)=\\lim\_{\\Delta x\\to 0}{\\frac{\\Delta F}{\\Delta x}} =\\lim\_{\\Delta x\\to 0}{\\frac{1}{\\Delta x}\\int\_x^{x+\\Delta x}{f(t)\\text{d}t}} =f(x) \\\]
    > 
    > 意既 \\(F(x)\\) 是 \\(f(x)\\) 的原函数。
    > 
    > > **附注**：  
    > > 这一定理是微积分基本定理的另一种证法（抑或另一种形式）。许多求导与积分的结合，或这极限与积分的结合，往往可使用这一定理。
    

​ 下面举一些简单但有趣的积分计算的例子：

1.  \\(\\sin x\\) 下的面积

> > 计算函数 \\(\\sin x\\) 与 \\(x\\) 轴在区间 \\(\[0,\\pi\]\\) 上围成的面积 \\(S\\) 。
> 
> 根据定积分的几何意义，以及由 \\((\\cos x)'=-\\sin x\\) ，有：
> 
> \\\[S=\\int\_0^\\pi {\\sin x\\text{d}x}=(-\\cos x)\\Big|\_0^\\pi=\\cos 0-\\cos\\pi=2 \\\]

2.  两个函数所夹的面积
    
    > > 如图（文件 [§2-3-2.ggb](.%5Cgeogebra%5C%C2%A72-3-2.ggb) ）计算由 \\(f:y=x^2,g:y=\\sqrt{x+1},x=-1,x=2\\) 围成的阴影面积 \\(S\\) 。
    > > 
    > > ![§2-图1](https://img2022.cnblogs.com/blog/2264562/202205/2264562-20220504175555435-750764572.png)
    > 
    > 首先算出 \\(f,g\\) 两函数的原函数（不妨令积分常数 \\(C=0\\) ）：
    > 
    > \\\[F(x)=\\int{f(x)\\text{d}x}=\\frac{1}{3}x^3\\quad,\\quad G(x)=\\int{g(x)\\text{d}x}=\\frac{2}{3}(x+1)^{\\frac{3}{2}} \\\]
    > 
    > 我们将如图的阴影分为三块：以 \\(A,B,C\\) 为顶点的曲边三角状面积 \\(S\_1\\) ，以 \\(C,D\\) 为顶点的叶子状面积 \\(S\_2\\) ，以 \\(D,E,F\\) 为顶点的曲边三角状面积 \\(S\_3\\) 。整个积分区间 \\(\[-1,2\]\\) 相应分为三段 \\(\[-1,x\_C\],\[x\_C,x\_D\],\[x\_D,2\]\\) （先不解出 \\(C,D\\) 的坐标），分别算出：
    > 
    > \\\[S\_1=\\int\_{-1}^{x\_C}{(f(x)-g(x))\\text{d}x}=(F(x)-G(x))\\Big|\_{-1}^{x\_C} =F(x\_C)-G(x\_C)-F(-1)+G(-1) \\\\ S\_2=\\int\_{x\_C}^{x\_D}{(g(x)-f(x))\\text{d}x}=(G(x)-F(x))\\Big|\_{x\_C}^{x\_D} =G(x\_D)-F(x\_D)-G(x\_C)+F(x\_C) \\\\ S\_3=\\int\_{x\_D}^{2}{(f(x)-g(x))\\text{d}x}=(F(x)-G(x))\\Big|\_{x\_D}^{2} =F(2)-G(2)-F(x\_D)+G(x\_D) \\qquad \\\]
    > 
    > 将上三项相加，带入 \\(x\_C \\approx -0.724,x\_D \\approx 1.221\\) ，得到 \\(S=S\_1+S\_2+S\_3 \\approx 2.29\\) 。
    
3.  运用积分夹逼
    
    > > 求证：\\(18\\leqslant\\displaystyle\\sum\_{x=1}^{100}{\\frac{1}{\\sqrt{x}}}\\leqslant 19\\)
    > 
    > 由于下面两幅图（文件 [§2-3-3.ggb](.%5Cgeogebra%5C%C2%A72-3-3.ggb) ），其中橙色和蓝色部分是原和\\(-1\\) ，青色和黄色的部分是函数 \\(f(x)=\\frac{1}{\\sqrt{x}}\\) 在区间 \\(\[2,100\]\\) 和 \\(\[1,99\]\\) 上分别做的积分，
    > 
    > ![§2-图2](https://img2022.cnblogs.com/blog/2264562/202205/2264562-20220504175701507-1277634986.png)
    > 
    > 根据图像有 \\(S\_{青}<S\_{蓝}=S\_{橙}<S\_{黄}\\) ，因而我们可以得到：
    > 
    > \\\[2\\sqrt{100}-2\\sqrt{2}=\\int\_{2}^{100}{\\frac{1}{\\sqrt{x}}\\text{d}x}< \\sum\_{x=2}^{100}{\\frac{1}{\\sqrt{x}}} <\\int\_{1}^{99}{\\frac{1}{\\sqrt{x}}\\text{d}x}=\\sqrt{99}-\\sqrt{1} \\\]
    > 
    > 因此：
    > 
    > \\\[18<2\\sqrt{100}-2\\sqrt{2}+1<\\sum\_{x=1}^{100}{\\frac{1}{\\sqrt{x}}}<2\\sqrt{99}-2\\sqrt{1}+1<19 \\\]
    > 
    > > **附注**：  
    > > 此题当然有初等解法。注意到：
    > > 
    > > \\\[\\sqrt{x+1}+\\sqrt{x}>2\\sqrt{x}>\\sqrt{x}+\\sqrt{x-1} \\\\ \\frac{1}{\\sqrt{x+1}+\\sqrt{x}}<\\frac{1}{2\\sqrt{x}}<\\frac{1}{\\sqrt{x}+\\sqrt{x-1}} \\\\ 2\\sqrt{x+1}-2\\sqrt{x}<\\frac{1}{\\sqrt{x}}<2\\sqrt{x}-2\\sqrt{x-1} \\\]
    > > 
    > > 因而原和满足（此处将 \\(x=1\\) 单列是为了夹逼的紧度）：
    > > 
    > > \\\[1+\\sum\_{x=2}^{100}{(2\\sqrt{x+1}-2\\sqrt{x})}<\\sum\_{x=1}^{100}{\\frac{1}{\\sqrt{x}}}<1+\\sum\_{x=2}^{100}{(2\\sqrt{x}-2\\sqrt{x-1})} \\\\ 18<2\\sqrt{100}-2\\sqrt{2}+1<\\sum\_{x=1}^{100}{\\frac{1}{\\sqrt{x}}}<2\\sqrt{99}-2\\sqrt{1}+1<19 \\\]
    > > 
    > > 然而认识到这一不等式，上两图的积分图像也是不可或缺的。
    

### §3.特殊积分法

#### —1.分部、换元积分法

​ 根据已经熟知的求导法则：

\\\[(f(x)g(x))'=f'(x)g(x)+f(x)g'(x) \\\\ (f(g(x)))'=f'(g(x))g'(x) \\\]

有对应的积分恒等式：

\\\[\\int{f'(x)g(x)\\text{d}x}=f(x)g(x)-\\int{f(x)g'(x)\\text{d}x} \\\\ f(g(x))+C=\\int{f'(g(x))g'(x)\\text{d}x} \\\]

第一个式子被称为“分部积分法”。而第二个式子常写作

\\\[\\int{f(u)\\text{d}u}=\\int{f(u(x))u'(x)\\text{d}x} \\\]

此时它起到将 \\(u\\) 换为 \\(x\\) 的作用，被称为“换元积分法”。如上两法的微分形式如下：

\\\[\\int{u\\text{d}v}=uv-\\int{v\\text{d}u} \\\\ \\int{\\frac{\\text{d}y}{\\text{d}x}\\text{d}x}=\\int{\\frac{\\text{d}y}{\\text{d}u}\\frac{\\text{d}u}{\\text{d}x}\\text{d}x} \\\]

​ 此两法的详细内容会在下一章讨论，此处先以两个例子感受一二：

1.  > > \\(\\int{\\sec x\\text{d}x}\\)
    > 
    > 令 \\(t=\\sin x\\) ，则 \\(\\text{d}x=\\frac{1}{\\cos x}\\text{d}t\\) ，代入原式：
    > 
    > \\\[\\int{\\sec x\\text{d}x} =\\int{\\frac{1}{\\cos x}\\text{d}x} =\\int{\\frac{1}{\\cos^2 x}\\text{d}t} =\\int{\\frac{1}{1-t^2}\\text{d}t} \\\]
    > 
    > 对于这个分式，采取裂项的手段处理（这也会在下一章详细讨论）：
    > 
    > \\\[\\int{\\frac{1}{1-t^2}\\text{d}t} =\\frac{1}{2}\\int{\\frac{1}{1-t}\\text{d}t}+\\frac{1}{2}\\int{\\frac{1}{1+t}\\text{d}t} =\\frac{1}{2}\\ln{(1-t)}+\\frac{1}{2}\\ln{(1+t)}+C \\\]
    > 
    > 由于 \\(t=\\sin{x}\\in\[-1,1\]\\) ，故 \\(\\ln\\) 内不必带绝对值。回代 \\(t=\\sin x\\) ，并化简：
    > 
    > \\\[\\frac{1}{2}\\ln{(1-t)}+\\frac{1}{2}\\ln{(1+t)}+C =\\ln{\\sqrt{\\frac{1-\\sin x}{1+\\sin x}}}+C =\\ln{\\vert\\tan x+\\sec x\\rvert}+C \\\]
    > 
    > 得到答案：
    > 
    > \\\[\\int{\\sec x\\text{d}x}=\\ln{\\vert\\tan x+\\sec x\\rvert}+C \\\]
    > 
    > > **附注**：  
    > > 另有一极巧妙的做法：
    > > 
    > > \\\[\\begin{align\*} \\int{\\sec x\\text{d}x} & =\\int{\\frac{\\sec^2 x+\\tan x\\sec x}{\\sec x+\\tan x}\\text{d}x} \\\\ & =\\int{\\ln'(\\sec x+\\tan x)\\cdot(\\sec x+\\tan x)'\\text{d}x} \\\\ & =\\ln{\\vert\\tan x+\\sec x\\rvert}+C \\end{align\*} \\\]
    > > 
    > > 套用 \\(f(g(x))+C=\\int{f'(g(x))g'(x)\\text{d}x}\\) 。
    
2.  > > \\(\\int{e^x\\sin x\\text{d}x}\\)
    > 
    > 令 \\(u=e^x,v=\\sin x\\) ，套用两次分部积分法：
    > 
    > \\\[\\begin{align\*} \\int{e^x\\sin x\\text{d}x} &=e^x\\sin x-\\int{e^x\\cos x\\text{d}x} \\\\ & =e^x\\sin x-\\left(e^x\\cos x-\\int{e^x(-\\sin x)\\text{d}x}\\right) \\\\ & =e^x(\\sin x+\\cos x)-\\int{e^x\\sin x\\text{d}x} \\end{align\*} \\\]
    > 
    > 于是得出：
    > 
    > \\\[\\int{e^x\\sin x\\text{d}x}=\\frac{e^x}{2}(\\sin x+\\cos x) \\\]
    > 
    > > **附注**：此类形如 \\(e^xf(x)\\) 的积分常用分部积分法，通常最终会在等号右侧重现原积分。
    

#### —2.反常积分

​ 反常积分，是指在积分区间内被积函数有未定义点或无穷点的定积分，这些点被称为“瑕点”。例如

\\\[\\int\_{-\\infin}^{+\\infin}{\\frac{x}{x^2-1}\\text{d}x} \\\]

就有 \\(-\\infin,-1,+1,+\\infin\\) 四个瑕点。

​ 总可以通过拆分，将有多个瑕点的反常积分拆分成仅含有一个瑕点，并且瑕点位于积分上下界的反常积分。既然函数在瑕点处无定义，容易想到的处理方法是通过极限逼近。于是得到反常积分的定义（以下的 \\(c\\) 皆是函数无定义的点）：

\\\[\\begin{align\*} & \\int\_a^c{f(x)\\text{d}x}=\\lim\_{t\\to c}{\\int\_a^t{f(x)\\text{d}x}} \\qquad(t\\in\[a,c)) \\\\ & \\int\_c^b{f(x)\\text{d}x}=\\lim\_{t\\to c}{\\int\_t^b{f(x)\\text{d}x}} \\qquad(t\\in(c,b\]) \\\\ & \\int\_a^{+\\infin}{f(x)\\text{d}x}=\\lim\_{t\\to +\\infin}{\\int\_a^t{f(x)\\text{d}x}} \\\\ & \\int\_{-\\infin}^b{f(x)\\text{d}x}=\\lim\_{t\\to -\\infin}{\\int\_t^b{f(x)\\text{d}x}} \\end{align\*} \\\]

​ 我们尝试求一下本节开头的积分。有些初学者在可能会做如下论断：

> 由于被积函数 \\(\\cfrac{x}{x^2-1}\\) 是奇函数，所以
> 
> \\\[\\begin{align\*} \\int\_{-\\infin}^{+\\infin}{\\frac{x}{x^2-1}\\text{d}x} & =\\lim\_{t\\to+\\infin}{\\left(\\int\_{-t}^{0}{\\frac{x}{x^2-1}\\text{d}x}+\\int\_{0}^{t}{\\frac{x}{x^2-1}\\text{d}x}\\right)} \\\\ & =\\lim\_{t\\to+\\infin}{\\left(\\int\_{0}^{t}{\\frac{-x}{x^2-1}\\text{d}x}+\\int\_{0}^{t}{\\frac{x}{x^2-1}\\text{d}x}\\right)}=0 \\end{align\*} \\\]

如此做的错误在于试图仅用一个字母解决两个极限。正确的做法是先算出不定积分：

\\\[\\int{\\frac{x}{x^2-1}\\text{d}x} =\\frac{1}{2}\\int{\\frac{1}{x-1}\\text{d}x}+\\frac{1}{2}\\int{\\frac{1}{x+1}\\text{d}x} =\\frac{1}{2}(\\ln\\lvert x-1\\rvert+\\ln\\lvert x+1\\rvert)+C \\\]

然后老老实实按定义：

\\\[\\begin{align\*} \\int\_{-\\infin}^{+\\infin}{\\frac{x}{x^2-1}\\text{d}x} & =\\lim\_{a\\to-\\infin}{\\int\_a^{-2}{\\frac{x}{x^2-1}\\text{d}x}} +\\lim\_{b\\to-1}{\\int\_{-2}^b{\\frac{x}{x^2-1}\\text{d}x}} \\\\ & +\\lim\_{c\\to-1}{\\int\_c^0{\\frac{x}{x^2-1}\\text{d}x}} + \\lim\_{d\\to1}{\\int\_0^d{\\frac{x}{x^2-1}\\text{d}x}}\\\\ & +\\lim\_{p\\to1}{\\int\_p^2{\\frac{x}{x^2-1}\\text{d}x}} +\\lim\_{q\\to+\\infin}{\\int\_2^q{\\frac{x}{x^2-1}\\text{d}x}} \\end{align\*} \\\]

首先取出第一个积分：

\\\[\\begin{align\*} \\lim\_{a\\to-\\infin}{\\int\_a^{-2}{\\frac{x}{x^2-1}\\text{d}x}} &=\\lim\_{a\\to-\\infin}{\\frac{1}{2}(\\ln\\lvert x-1\\rvert+\\ln\\lvert x+1\\rvert)}\\Big|\_{a}^{-2} \\\\ &=\\lim\_{a\\to-\\infin}{\\frac{1}{2}(\\ln3+\\ln1-\\ln(1-a)-\\ln(-1-a))} \\\\ & =-\\infin \\end{align\*} \\\]

依次计算剩余积分，得出的结果分别是 \\(-\\infin,+\\infin,-\\infin,\\infin,\\infin\\) ，这些无穷互不关联，于是原积分的结果是一个不存在的值。

#### —3.体积、弧长、表面积积分

​ 所谓“面动成体”，积分给予了我们强大的计算面积的工具，那接下来自然就可以开始体积的计算。我们要解决的是称为“旋转体”的立体的体积。对于一个定义在区间 \\(\[a,b\]\\) 上的函数 \\(f(x)\\) ，我们将它与 \\(x\\) 轴、直线 \\(x=a,x=b\\) 围成的面积绕 \\(x\\) 轴旋转一周，求得到的立体的体积。

​ 回到积分定义的本源，我们对曲边形的处理方法是将其分割成多个矩形小条，累加来近似。如果我们将这个矩形组成的近似物绕 \\(x\\) 轴旋转一周，则可以得到一组圆盘，每个圆盘的半径为矩形的高，也就是这一区间内某点的函数值，高为矩形的宽。因此，旋转体就可以横截成多个圆盘，累加来近似。

​ 将思路落实成式子。首先分割区间 \\(\[a,b\]\\) 为点 \\(a=x\_0<x\_1<x\_2<\\cdots<x\_{n-1}<x\_n=b\\) ，然后将每两点之间的距离 \\(\\Delta x\_i=x\_{i}-x\_{i-1}\\ (1\\leqslant i\\leqslant n)\\) 作为圆盘的厚度，同时在每个区间 \\(\[x\_{i-1},x\_i\]\\) 内取一点 \\(\\xi\_i\\) ，并以这一点的函数值 \\(f(\\xi\_i)\\) 作为圆盘的半径，算出所有圆盘体积之和：

\\\[V\_n=\\sum\_{i=1}^{n}{\\pi (f(\\xi\_i))^2\\Delta x\_i} \\\]

仿照积分定义的那个极限：

\\\[V=\\lim\_{\\lambda\\to0}{V\_n}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{\\pi (f(\\xi\_i))^2\\Delta x\_i}}=\\int\_a^b{\\pi(f(x))^2\\text{d}x} \\\]

​ 让我们以一个实例练手

> > 求半径为 \\(r\\) 的球的体积。
> 
> 球由半圆旋转而成。半径为 \\(r\\) 的半圆对应函数
> 
> \\\[y=\\sqrt{r^2-x^2} \\qquad(-r\\leqslant x\\leqslant r) \\\]
> 
> 套用旋转体体积公式：
> 
> \\\[V=\\int\_{-r}^r{(\\sqrt{r^2-x^2})^2\\text{d}x} =\\int\_{-r}^{r}{(r^2-x^2)\\text{d}x} =\\left(r^2x-\\frac{1}{3}x^3\\right)\\Big|\_{-r}^r=\\frac{4\\pi}{3}r^3 \\\]
> 
> 就是我们熟悉的球的体积公式。如下图（文件 [§3-3.ggb](.%5Cgeogebra%5C%C2%A73-3.ggb) ，蓝色为球，绿色为推导过程中的圆盘）：
> 
> ![§3-图3](https://img2022.cnblogs.com/blog/2264562/202205/2264562-20220504175729062-290005581.png)

​ 除了绕 \\(x\\) 轴旋转，还可以绕 \\(y\\) 轴旋转。此时的函数 \\(f(x)\\) 与 \\(x\\) 轴、直线 \\(x=a,x=b\\) 围成的面积旋转所得的立体，就可以如洋葱一般分割成数层柱壳，其中第 \\(i\\) 层的体积为 \\(\\nu\_i=f(x\_i)\\pi(x\_{i+1}^2-x\_i^2)\\) 。若直接将其累加套入极限，是无法整理成积分的形式的。我们可将其近似为以内层圆周长 \\(2\\pi x\_i\\) 为长、柱壳厚度 \\(\\Delta x\_i\\) 为宽、柱壳高度 \\(f(\\xi\_i)\\) 为高的长方体，其体积为 \\(v\_i=2\\pi x\_i \\cdot\\Delta x\_i \\cdot f(\\xi\_i)\\) 。将其累加：

\\\[V\_n=\\sum\_{i=1}^{n}{2\\pi x\_i f(\\xi\_i)\\Delta x\_i} \\\]

仿照积分定义的那个极限：

\\\[V=\\lim\_{\\lambda\\to0}{V\_n}=\\lim\_{\\lambda\\to0}{\\sum\_{i=1}^{n}{2\\pi x\_i f(\\xi\_i)\\Delta x\_i}}=\\int\_a^b{2\\pi xf(x)\\text{d}x} \\\]

​ 旋转体当然还可以由绕非 \\(x,y\\) 轴的轴旋转得到，统一的处理方法是将其变换为坐标轴之后再积分。

​ 积分的作用还可拓展到一维领域——求曲线弧长。若要求函数 \\(y=f(x)\\) 再闭区间 \\(\[a,b\]\\) 内的函数图像曲线的长度，首先分割区间 \\(\[a,b\]\\) 为点 \\(a=x\_0<x\_1<x\_2<\\cdots<x\_{n-1}<x\_n=b\\) ，然后算出每两点之间对应的函数图像上的点之间的距离：

\\\[l\_i=\\sqrt{(x\_i-x\_{i-1})^2+(y\_i-y\_{i-1})^2} =\\sqrt{1+\\left(\\frac{\\Delta y\_i}{\\Delta x\_i}\\right)^2}\\Delta x\_i \\\]

将这些距离累加并求极限：

\\\[L=\\lim\_{\\lambda\\to 0}{L\_n} =\\lim\_{\\lambda\\to 0}{\\sum\_{i=1}^n{\\sqrt{1+\\left(\\frac{\\Delta y\_i}{\\Delta x\_i}\\right)^2}\\Delta x\_i}} \\\]

注意到当 \\(\\lambda\\to 0\\) 时， \\(\\Delta x\_i\\to 0\\) ，则根据导数的定义有 \\(\\cfrac{\\Delta y\_i}{\\Delta x\_i}\\sim f'(x)\\) ，于是：

\\\[L=\\lim\_{\\lambda\\to 0}{\\sum\_{i=1}^n{\\sqrt{1+\\left(\\frac{\\Delta y\_i}{\\Delta x\_i}\\right)^2}\\Delta x\_i}} =\\int\_a^b{\\sqrt{1+(f'(x))^2}\\text{d}x} \\\]

​ 我们尝试根据这个式子求圆的周长：

> 半径为 \\(r\\) 的半圆对应函数 \\(f(x)=\\sqrt{r^2-x^2}\\) ，则
> 
> \\\[f'(x)=-\\frac{x}{\\sqrt{r^2-x^2}} \\\]
> 
> 套用弧长的公式：
> 
> \\\[L=\\int\_{-r}^r{\\sqrt{1+\\left(-\\frac{x}{\\sqrt{r^2-x^2}}\\right)^2}\\text{d}x} =\\int\_{-r}^r{\\frac{\\text{d}x}{\\sqrt{r^2-x^2}}} \\\]
> 
> 换元 \\(x=r\\sin t\\) ，则 \\(\\text{d}x=r\\cos t\\text{d}t\\) ，积分下限 \\(\[-\\frac{\\pi}{2},\\frac{\\pi}{2}\]\\) （注意定积分换元时要一并替换积分区间），原积分变为 （此区间内 \\(\\cos t\\geqslant 0\\) ，无需讨论符号）：
> 
> \\\[L=\\int\_{-\\frac{\\pi}{2}}^{\\frac{\\pi}{2}}{\\frac{r\\cos t\\text{d}t}{\\sqrt{r^2-(r\\sin t)^2}}}=\\int\_{-\\frac{\\pi}{2}}^{\\frac{\\pi}{2}}{r\\text{d}t} =rt\\Big|\_{-\\frac{\\pi}{2}}^{\\frac{\\pi}{2}}=\\pi r \\\]
> 
> 因此圆的周长 \\(C=2L=2\\pi r\\) 。

​ 将曲线绕着轴旋转，就可以得到旋转曲面。读者可仿照求旋转体体积，自行推导如下两个绕 \\(x,y\\) 轴旋转得到旋转曲面的表面积：

\\\[x\\text{轴}:\\ \\ S=\\int\_a^b{2\\pi f(x)\\sqrt{1+(f'(x))^2}\\text{d}x} \\\\ y\\text{轴}:\\ \\ S=\\int\_a^b{2\\pi x\\sqrt{1+(f'(x))^2}\\text{d}x} \\quad \\\]

### §4.积分的实例

#### —1.万有引力势能

​ 我们考虑一维空间中的情况[\[3\]](#fn3)。经典力学中，质量为 \\(M,m\\) 、相距 \\(x\\) 的两物体之间的万有引力的方向指向对方，其大小可看作关于 \\(x\\) 的函数：

\\\[F(x)=\\frac{GMm}{x^2} \\\]

假定在原点有一质量为 \\(M\\) 的质点，定义无穷远点为势能零点。首先计算质量为 \\(m\\) 的质点从无穷远点移动到 \\(r\_0\\) 点过程中万有引力 \\(F\\) 做的功。我们取足够远的一点 \\(r\_1\\) ，将移动过程 \\(\[r\_0,r\_1\]\\) 分为 \\(n\\) 段，假定每一段上 \\(F\\) 不变，累加所作的功（此时引力方向与移动方向相同，功为正）：

\\\[W\_n=\\sum\_{i=1}^{n}{F\_i\\Delta x\_i} \\\]

使区间长 \\(\\lambda\\to 0\\) ，右端点 \\(r\_1\\to \\infin\\) ，得到引力做的功的定义：

\\\[W\_G=\\lim\_{r\_1\\to\\infin}{\\lim\_{\\lambda\\to 0}{W\_n}} =\\lim\_{r\_1\\to\\infin}{\\lim\_{\\lambda\\to 0}{\\sum\_{i=1}^{n}{F\_i\\Delta x\_i}}} =\\lim\_{r\_1\\to\\infin}{\\int\_{r\_0}^{r\_1}{F(x)\\text{d}x}} =\\int\_{r\_0}^{\\infin}{F(x)\\text{d}x} \\\]

这是一个反常积分。做出不定积分：

\\\[\\int{F(x)\\text{d}x}=\\int{\\frac{GMm}{x^2}\\text{d}x}=-\\frac{GMm}{x}+C \\\]

代回原反常积分得到答案：

\\\[W\_G=\\int\_{r\_0}^{\\infin}{F(x)\\text{d}x} =\\lim\_{r\_1\\to\\infin}{\\left.-\\frac{GMm}{x}\\right|\_{r\_0}^{r\_1}} =\\frac{GMm}{r\_0}-\\lim\_{r\_1\\to\\infin}{\\frac{GMm}{r\_1}}=\\frac{GMm}{r\_0} \\\]

由于无穷远点为势能零点，因此 \\(r\_0\\) 点的万有引力势能：

\\\[V(r\_0)=V\_{\\infin}-W\_G=-\\frac{GMm}{r\_0} \\\]

#### —2.质能方程

​ 我们考虑一维空间中的情况[\[4\]](#fn4)。在狭义相对论体系中，两个相对速度为 \\(u\\) 的惯性系满足洛伦兹变换：

\\\[\\left\\{ \\begin{align\*} x' & =\\frac{x-ut}{\\sqrt{1-u^2/c^2}} \\\\ t' & =\\frac{t-ux/c^2}{\\sqrt{1-u^2/c^2}} \\end{align\*} \\right. \\\]

若对于一个惯性系有一个速度为 \\(v\\) 的物体，那么另一个惯性系中此物体的速度

\\\[v'=\\frac{\\text{d}x'}{\\text{d}t'}=\\frac{\\text{d}x'/\\text{d}u}{\\text{d}t'/\\text{d}u} =\\frac{uc^{-2}(x-ut)(1-u^2/c^2)^{-3/2}}{uc^{-2}(t-ux/c^2)(1-u^2/c^2)^{-3/2}} =\\frac{x-ut}{t-ux/c^2}=\\frac{v-u}{1-uv/c^2} \\\]

​ 假设有两个相对速度为 \\(u\\) 的惯性系 \\(S,S'\\) ，质量均为 \\(m\_0\\) 的两个质点分别相对于 \\(S,S'\\) 静止。两质点相撞后合并为一个质点 \\(M\\) ，其相对于 \\(S,S'\\) 的速度分别为 \\(v,v'\\) 。假定参考系中物体的质量 \\(m\\) 是速度的大小 \\(|v|\\) 的函数。那么由于质量和动量守恒，对于两个惯性系分别有：

\\\[\\begin{align\*} & S:\\left\\{ \\begin{aligned} m\_0+m(|u|)& =M(|v|) \\\\ 0+m(|u|)u& =M(|v|)v \\end{aligned} \\right. &&\\Longrightarrow && \\frac{m\_0}{m(|u|)}+1=\\frac{u}{v} \\\\ & S':\\left\\{ \\begin{aligned} m\_0+m(\\lvert-u\\rvert)& =M(|v'|) \\\\ 0+m(\\lvert-u\\rvert)(-u)& =M(|v'|)v' \\end{aligned} \\right. &&\\Longrightarrow&& \\frac{m\_0}{m(|u|)}+1=\\frac{-u}{v'} \\\\ \\end{align\*} \\\]

于是得到 \\(v'=-v\\) ，又根据惯性系间的速度变换 （显然，\\(u>v\\)）：

\\\[v'=\\frac{v-u}{1-uv/c^2} \\quad\\Longrightarrow\\quad-v=\\frac{v-u}{1-uv/c^2} \\quad\\Longrightarrow\\quad \\frac{u}{v}=1+\\sqrt{1-u^2/c^2} \\\]

因此：

\\\[m(|u|)=\\frac{m\_0}{\\sqrt{1-u^2/c^2}} \\\]

​ 于是可定义定义质量为 \\(m\\) 速度为 \\(v\\) 的质点的动量 \\(p\\) 为：

\\\[p=m(|v|)v=\\frac{mv}{\\sqrt{1-v^2/c^2}} \\\]

从而质点如此运动时所受的力 \\(F\\) 为：

\\\[F=ma=\\frac{m\\text{d}v}{\\text{d}t}=\\frac{\\text{d}p}{\\text{d}t} \\\]

同【§4—1】中的功的定义，此力 \\(F\\) 在区间 \\(\[0,s\]\\) 上做功：

\\\[W\_F=\\int\_0^s{F\\text{d}x}=\\int\_0^t{\\frac{\\text{d}p}{\\text{d}t}v\\text{d}t}=\\int\_0^p{v\\text{d}p}=\\int\_0^v{v\\frac{\\text{d}p}{\\text{d}v}\\text{d}v} \\\]

根据动量的定义计算其导数：

\\\[\\frac{\\text{d}p}{\\text{d}v}=\\cfrac{m\\sqrt{1-v^2/c^2}-mv\\cdot\\cfrac{-v/c^2}{\\sqrt{1-v^2/c^2}}}{\\left(\\sqrt{1-v^2/c^2}\\right)^2}=\\frac{m}{(1-v^2/c^2)^{3/2}} \\\]

带回原积分：

\\\[W\_F=\\int\_0^v{v\\frac{\\text{d}p}{\\text{d}v}\\text{d}v}=\\int\_0^v{\\frac{mv}{(1-v^2/c^2)^{3/2}}\\text{d}v}=\\left.\\frac{mc^2}{\\sqrt{1-v^2/c^2}}\\right|\_0^v=\\frac{mc^2}{\\sqrt{1-v^2/c^2}}-mc^2 \\\]

记洛伦兹因子 \\(\\gamma=(1-v^2/c^2)^{-1/2}\\) 。由于合外力对物体做的功等于动能的改变量，假设初始动能为 \\(0\\) ，那么点 \\(s\\) 的动能就为 \\(E\_k=\\gamma mc^2-mc^2\\) 。我们视第一部分 \\(\\gamma mc^2\\) 为总能量，第二部分 \\(E=mc^2\\) 为静能，就得到了质能方程。

#### —3.蒲丰投针问题

> 平面内有无穷条相距 \\(a\\) 的平行线，将长度为 \\(b\\) 的针丢在平面内，求针与平行线相交的概率。

首先将问题转化为数学模型。我们可以用数对 \\((x,\\theta)\\) 描述针在平面内的位置，其中 \\(x\\) 表示针的中点到距离最近的平行线的距离， \\(x\\in\[0,\\frac a 2\]\\) ；\\(\\theta\\) 表示针与平行线的夹角， \\(\\theta\\in\[0,\\frac \\pi 2\]\\) 。则针与平行线相交就可以描述为如下不等式：

\\\[x \\leqslant\\frac{b}{2}\\sin\\theta \\\]

我们将满足解的数对 \\((x,\\theta)\\) 表在平面内，就会形成如下蓝色区域：

![§4-图4](https://img2022.cnblogs.com/blog/2264562/202205/2264562-20220504175757599-1294888580.png)

​ 我们所求的概率就是蓝色区域面积与棕色矩形面积之比。在用积分求出蓝色区域面积之前，要注意到当 \\(b>a,\\sin\\theta>\\frac a b\\) 时，蓝色区域会被限制成矩形，此时要分开求积分。于是：

1.  当 \\(b\\leqslant a\\) 时，
    
    \\\[\\begin{align\*} S & =\\int\_{0}^{\\frac{\\pi}{2}}{\\frac{b}{2}\\sin\\theta\\text{d}\\theta}=-\\frac{b}{2}\\cos\\theta\\Big|\_0^{\\frac{\\pi}{2}}=\\frac{b}{2} \\\\ P & =\\frac{S}{S\_0}=\\frac{\\frac{b}{2}}{\\frac{a}{2}\\cdot\\frac{\\pi}{2}}=\\frac{2b}{\\pi a} \\end{align\*} \\\]
    
2.  当 \\(b>a\\) 时，
    
    \\\[\\begin{align\*} S & =\\int\_{0}^{\\arcsin\\frac{a}{b}}{\\frac{b}{2}\\sin\\theta\\text{d}\\theta}+\\int\_{\\arcsin\\frac{a}{b}}^{\\frac{\\pi}{2}}{\\frac{a}{2}\\text{d}\\theta} \\\\ &=-\\frac{b}{2}\\cos\\theta\\Big|\_0^{\\arcsin\\frac{a}{b}}+\\frac{a}{2}\\left(\\frac{\\pi}{2}-\\arcsin\\frac{a}{b}\\right) \\\\ & = \\frac{\\pi a}{4}+\\frac{b}{2}-\\frac{1}{2}\\sqrt{b^2-a^2}-\\frac{a}{2}\\arcsin\\frac{a}{b} \\\\ P & =\\frac{S}{S\_0}=\\frac{\\frac{\\pi a}{4}+\\frac{b}{2}-\\frac{1}{2}\\sqrt{b^2-a^2}-\\frac{a}{2}\\arcsin\\frac{a}{b}}{\\frac{a}{2}\\cdot\\frac{\\pi}{2}} \\\\ & =1+\\frac{2b}{\\pi a}-\\frac{2}{\\pi a}\\sqrt{b^2-a^2}-\\frac{2}{\\pi}\\arcsin\\frac{a}{b} \\end{align\*} \\\]
    

综合起来：

\\\[P= \\left\\{ \\begin{align\*} & \\frac{2b}{\\pi a} &&(b\\leqslant a) \\\\ & 1+\\frac{2b}{\\pi a}-\\frac{2}{\\pi a}\\sqrt{b^2-a^2}-\\frac{2}{\\pi}\\arcsin\\frac{a}{b} &&(b>a) \\end{align\*} \\right. \\\]

读者可自证：给定 \\(a\\) ，总有 \\(0<P<1\\) ， \\(P\\) 随 \\(b\\) 的增大严格减小，当 \\(b\\to\\infin\\) 时 \\(P\\to 1\\) 。

​ 这个实验在历史上曾用来估计 \\(\\pi\\) 的大小，不少人做过此实验（下随意取几例）：

试验者

时间

投掷次数

相交次数

\\(\\pi\\) 估计值

Smith

1855年

3204

1218.5

3.1554

Lazzerini

1901年

3408

1808

3.1415929

Reina

1925年

2520

859

3.1795

而其中多数要么很不精确，要么有造假之嫌。这个实验的“用概率估值”的精神被大名鼎鼎的蒙特卡洛方法继承，现在在计算机领域仍广为应用。

#### —4.不规则物体的引力

> 求平面内线密度 \\(\\rho\\) 的曲线 \\((x(t),y(t)),t\\in\[a,b\]\\) 对质量为 \\(m\\) 的质点 \\((p,q)\\) 的引力的大小。

老规矩，分割区间 \\(\[a,b\]\\) ，近似计算出每一段的质量：

\\\[M\_i=\\rho\\sqrt{\\left(\\frac{\\Delta x\_i}{\\Delta t\_i}\\right)^2+\\left(\\frac{\\Delta y\_i}{\\Delta t\_i}\\right)^2}\\Delta t\_i \\\]

取每一段上的一点 \\((\\xi\_i,\\psi\_i)\\) ，算出其到质点的距离：

\\\[L\_i=\\sqrt{(\\xi\_i-p)^2+(\\psi\_i-q)^2} \\\]

计算出此段对质点的引力大小：

\\\[F\_i=\\frac{GmM\_i}{L\_i^2}=\\frac{Gm\\rho\\sqrt{\\left(\\frac{\\Delta x\_i}{\\Delta t\_i}\\right)^2+\\left(\\frac{\\Delta y\_i}{\\Delta t\_i}\\right)^2}\\Delta t\_i}{(\\xi\_i-p)^2+(\\psi\_i-q)^2} \\\]

将力分解到坐标轴方向上：

\\\[{F\_i}\_x=F\_i\\cos\\theta\_i=\\frac{Gm\\rho(\\xi\_i-p)\\sqrt{\\left(\\frac{\\Delta x\_i}{\\Delta t\_i}\\right)^2+\\left(\\frac{\\Delta y\_i}{\\Delta t\_i}\\right)^2}\\Delta t\_i}{((\\xi\_i-p)^2+(\\psi\_i-q)^2)^{3/2}}\\\\ {F\_i}\_y=F\_i\\sin\\theta\_i=\\frac{Gm\\rho(\\psi\_i-q)\\sqrt{\\left(\\frac{\\Delta x\_i}{\\Delta t\_i}\\right)^2+\\left(\\frac{\\Delta y\_i}{\\Delta t\_i}\\right)^2}\\Delta t\_i}{((\\xi\_i-p)^2+(\\psi\_i-q)^2)^{3/2}} \\\]

求和求出合力，并套入极限：

\\\[F\_x=\\lim\_{\\lambda\\to 0}{\\sum\_{i=1}^{n}{{F\_i}\_x}}=\\int\_a^b{\\frac{Gm\\rho(x(t)-p)\\sqrt{(x'(t))^2+(y'(t))^2}}{((x(t)-p)^2+(y(t)-q)^2)^{3/2}}\\text{d}t} \\\\ F\_y=\\lim\_{\\lambda\\to 0}{\\sum\_{i=1}^{n}{{F\_i}\_y}}=\\int\_a^b{\\frac{Gm\\rho(y(t)-p)\\sqrt{(x'(t))^2+(y'(t))^2}}{((x(t)-p)^2+(y(t)-q)^2)^{3/2}}\\text{d}t} \\\]

于是这个引力的大小就是 \\(F=\\sqrt{F\_x^2+F\_y^2}\\) 。

* * *

本章介绍了积分的定义、基本计算方法和其应用。狭义来说，积分是微分的逆操作（这将在第五章微分方程充分体现）。广义来说，对某一个函数的“累积”操作总可以抽象成关于这个函数的一个积分（积分甚至不一定连续，例如在数论中狄利克雷卷积就可以视作一种“积分”），再加以解决。积分也因此广泛地应用于物理、信息等各个领域。在下一章节，我们将介绍对于各种常见形式的积分的计算方法，那将是一个纯粹技术性的章节。

\\\[\\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\ \\\\ \\mathtt{Square-Circle} : 2021.\*.\* \\sim 2022.5.2 \\ \\\\ \\\]

* * *

* * *

1.  另一种理解是将 \\(\\int{\\text{d}y}\\)​ 视作函数 \\(f(y)=1\\)​ 的积分，那么如上的操作就是下一节的换元积分法。 [↩︎](#fnref1)
    
2.  这里拉格朗日中值定理的使用条件，应由函数的可积性保证。详细的讨论会十分繁琐，并会涉及测度论等高深内容。读者仅需理解为“大部分常见的连续可导函数都可积”即可。 [↩︎](#fnref2)
    
3.  势能的定义实则是很复杂的，涉及到多维空间中的定向、零点的选取、积分是否与路径相关等。这里采取的是一维空间中的方便的简化。 [↩︎](#fnref3)
    
4.  以下内容参考了微信公众号“长尾科技”的文章[你也能懂的质能方程E=mc²](https://mp.weixin.qq.com/s/-GpwTEHdCbcrxZeyujaqrg)。 [↩︎](#fnref4)