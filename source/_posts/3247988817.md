---
layout: post
title: "ReactæŠ€å·§ä¹‹ä¸­æ–­mapå¾ªç¯"
date: "2022-07-01T20:20:35.534Z"
---
ReactæŠ€å·§ä¹‹ä¸­æ–­mapå¾ªç¯
===============

æ­£æ–‡ä»è¿™å¼€å§‹~

æ€»è§ˆ
--

åœ¨Reactä¸­ï¼Œä¸­æ–­`map()`å¾ªç¯ï¼š

1.  åœ¨æ•°ç»„ä¸Šè°ƒç”¨`slice()`æ–¹æ³•ï¼Œæ¥å¾—åˆ°æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚
2.  åœ¨éƒ¨åˆ†æ•°ç»„ä¸Šè°ƒç”¨`map()`æ–¹æ³•ã€‚
3.  éå†éƒ¨åˆ†æ•°ç»„ã€‚

    export default function App() {
      const employees = [
        {id: 1, name: 'Alice', country: 'Austria'},
        {id: 2, name: 'Bob', country: 'Belgium'},
        {id: 3, name: 'Carl', country: 'Canada'},
        {id: 4, name: 'Delilah', country: 'Denmark'},
        {id: 5, name: 'Ethan', country: 'Egypt'},
      ];
    
      // ğŸ‘‡ï¸ map() first 2 elements of array
    
      return (
        <div>
          {employees.slice(0, 2).map((employee, index) => {
            return (
              <div key={index}>
                <h2>name: {employee.name}</h2>
                <h2>country: {employee.country}</h2>
    
                <hr />
              </div>
            );
          })}
        </div>
      );
    }
    

slice
-----

`Array.slice`æ–¹æ³•ä¸ä¼šä¿®æ”¹åŸæ•°ç»„ï¼Œç›¸åï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼ˆåŸå§‹æ•°ç»„çš„æµ…æ‹·è´ï¼‰ã€‚

æˆ‘ä»¬ä¸º`slice()`æ–¹æ³•ä¼ é€’ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼š

åç§°

æè¿°

startIndex

æ–°æ•°ç»„ä¸­åŒ…å«ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•

endIndex

åˆ°æ­¤ä¸ºæ­¢ï¼Œä½†ä¸åŒ…å«è¿™ä¸ªç´¢å¼•

æˆ‘ä»¬æŒ‡å®šäº†èµ·å§‹ç´¢å¼•0ï¼Œä»¥åŠç»ˆæ­¢ç´¢å¼•2ã€‚æ‰€ä»¥æˆ‘ä»¬å¾—åˆ°å…·æœ‰å‰ä¸¤ä¸ªå…ƒç´ çš„éƒ¨åˆ†æ•°ç»„ã€‚

> å³ä½¿ä½ æä¾›ç»™`Array.slice`æ–¹æ³•çš„ç»“æŸç´¢å¼•è¶…è¿‡äº†æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥æ–¹æ³•å¹¶ä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚ä½†æ˜¯ä¼šè¿”å›æ‰€æœ‰çš„æ•°ç»„å…ƒç´ ã€‚

    const arr = ['a', 'b', 'c'];
    
    const first100 = arr.slice(0, 100);
    console.log(first100); // ğŸ‘‰ï¸ ['a', 'b', 'c']
    

æˆ‘ä»¬å°è¯•è·å–æ•°ç»„çš„å‰100ä¸ªå…ƒç´ ï¼Œè¯¥æ•°ç»„åªåŒ…å«3ä¸ªå…ƒç´ ã€‚å› æ­¤æ–°æ•°ç»„åŒ…å«åŸå§‹æ•°ç»„çš„æ‰€æœ‰3ä¸ªå…ƒç´ ã€‚

filter
------

åœ¨è°ƒç”¨`map()`ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`Array.filter`æ–¹æ³•ã€‚

    export default function App() {
      const employees = [
        {id: 1, name: 'Alice', country: 'Austria'},
        {id: 2, name: 'Bob', country: 'Belgium'},
        {id: 3, name: 'Carl', country: 'Canada'},
        {id: 4, name: 'Delilah', country: 'Denmark'},
        {id: 5, name: 'Ethan', country: 'Egypt'},
      ];
    
      // ğŸ‘‡ï¸ map() LAST 2 elements of array
    
      return (
        <div>
          {employees
            .filter(employee => {
              return (
                employee.country === 'Belgium' || employee.country === 'Denmark'
              );
            })
            .map((employee, index) => {
              return (
                <div key={index}>
                  <h2>name: {employee.name}</h2>
                  <h2>country: {employee.country}</h2>
    
                  <hr />
                </div>
              );
            })}
        </div>
      );
    }
    

æˆ‘ä»¬ä¼ é€’ç»™`filter()`æ–¹æ³•çš„å‡½æ•°ä¼šè¢«æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥å½“å‰å¯¹è±¡æ˜¯å¦æœ‰`country`å±æ€§ç­‰äº`Belgium`æˆ–è€…`Denmark` ï¼Œå¹¶è¿”å›æ¯”è¾ƒçš„ç»“æœã€‚

> `filter()`æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åªåŒ…å«å›è°ƒå‡½æ•°è¿”å›çœŸå€¼çš„å…ƒç´ ã€‚

åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œ`map()`æ–¹æ³•åªä¼šå¯¹idå±æ€§å€¼ä¸º2å’Œ4çš„å¯¹è±¡è°ƒç”¨ã€‚

è´Ÿç´¢å¼•
---

å¦‚æœä½ æƒ³åœ¨Reactä¸­ï¼Œå¯¹æ•°ç»„çš„æœ€åNä¸ªå…ƒç´ è°ƒç”¨`map`æ–¹æ³•ï¼Œå¯ä»¥å¯¹`Array.slice()`æ–¹æ³•ä¼ é€’è´Ÿç´¢å¼•ã€‚

    export default function App() {
      const employees = [
        {id: 1, name: 'Alice', country: 'Austria'},
        {id: 2, name: 'Bob', country: 'Belgium'},
        {id: 3, name: 'Carl', country: 'Canada'},
        {id: 4, name: 'Delilah', country: 'Denmark'},
        {id: 5, name: 'Ethan', country: 'Egypt'},
      ];
    
      // ğŸ‘‡ï¸ map() LAST 2 elements of array
    
      return (
        <div>
          {employees.slice(-2).map((employee, index) => {
            return (
              <div key={index}>
                <h2>name: {employee.name}</h2>
                <h2>country: {employee.country}</h2>
    
                <hr />
              </div>
            );
          })}
        </div>
      );
    }
    

ä¸º`slice()`æ–¹æ³•ä¼ é€’è´Ÿç´¢å¼•ï¼Œè¡¨æ˜ä»æ•°ç»„å°¾éƒ¨å¼€å§‹çš„åç§»é‡ã€‚`-2`ç´¢å¼•æ„å‘³ç€ç»™æˆ‘æ•°ç»„çš„æœ€åä¸¤ä¸ªå…ƒç´ ã€‚è¿™ä¸å¯¹`slice`æ–¹æ³•ä¼ é€’`array.length - 2`å‚æ•°ä½œç”¨ç›¸åŒã€‚

    const arr = ['a', 'b', 'c', 'd', 'e'];
    
    const last2 = arr.slice(-2);
    console.log(last2); // ğŸ‘‰ï¸ ['d', 'e']
    
    const last2Again = arr.slice(arr.length - 2);
    console.log(last2Again); // ğŸ‘‰ï¸ ['d', 'e']
    

æ— è®ºå“ªç§æ–¹å¼ï¼Œæˆ‘ä»¬å‘Šè¯‰`slice`æ–¹æ³•ï¼Œå¤åˆ¶æ•°ç»„çš„æœ€åä¸¤ä¸ªå…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬æ”¾ç½®åœ¨ä¸€ä¸ªæ–°æ•°ç»„ä¸­ã€‚

å³ä½¿æˆ‘ä»¬å°è¯•è·å–æ›´å¤šæ•°ç»„åŒ…å«çš„å…ƒç´ ï¼Œ`Array.slice`ä¹Ÿä¸ä¼šæŠ›é”™ï¼Œç›¸åå®ƒä¼šè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å…ƒç´ çš„æ–°æ•°ç»„ã€‚

    const arr = ['a', 'b', 'c'];
    
    const last100 = arr.slice(-100);
    console.log(last100); // ğŸ‘‰ï¸ ['a', 'b', 'c']
    

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è¯•å›¾è·å¾—ä¸€ä¸ªåªåŒ…å«3ä¸ªå…ƒç´ çš„æ•°ç»„çš„æœ€å100ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è¯¥æ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½è¢«å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚