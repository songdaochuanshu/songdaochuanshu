---
layout: post
title: "git的介绍、git的功能特性、git工作流程、git 过滤文件、git多分支管理、远程仓库、把路飞项目传到远程仓库(非空的)、ssh链接远程仓库，协同开发"
date: "2022-11-08T12:43:46.813Z"
---
git的介绍、git的功能特性、git工作流程、git 过滤文件、git多分支管理、远程仓库、把路飞项目传到远程仓库(非空的)、ssh链接远程仓库，协同开发
==============================================================================

Git（读音为/gɪt/）是一个开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。 \[1\] 也是Linus Torvalds为了帮助管理Linux内核开发而开发的一个开放源码的版本控制软件。

分布式相比于集中式的最大区别在于开发者可以提交到本地，每个开发者通过克隆（git clone），在本地机器上拷贝一个完整的Git仓库。

git的功能特性
--------

    从一般开发者的角度来看，git有以下功能：
        1、从服务器上克隆完整的Git仓库（包括代码和版本信息）到单机上。
        2、在自己的机器上根据不同的开发目的，创建分支，修改代码。
        3、在单机上自己创建的分支上提交代码。
        4、在单机上合并分支。
        5、把服务器上最新版的代码fetch下来，然后跟自己的主分支合并。
        6、生成补丁（patch），把补丁发送给主开发者。
        7、看主开发者的反馈，如果主开发者发现两个一般开发者之间有冲突（他们之间可以合作解决的冲突），就会要求他们先解决冲突，然后再由其中一个人提交。如果主开发者可以自己解决，或者没有冲突，就通过。
        8、一般开发者之间解决冲突的方法，开发者之间可以使用pull 命令解决冲突，解决完冲突之后再向主开发者提交补丁。
    
    从主开发者的角度（假设主开发者不用开发代码）看，git有以下功能：
        1、查看邮件或者通过其它方式查看一般开发者的提交状态。
        2、打上补丁，解决冲突（可以自己解决，也可以要求开发者之间解决以后再重新提交，如果是开源项目，还要决定哪些补丁有用，哪些不用）。
        3、向公共服务器提交结果，然后通知所有开发人员。
    

git工作流程
-------

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108144136265-1057074644.png)

    '''有三个区'''
        -工作区：代码，文件存放的位置，新增，修改，删除文件，代码
        -暂存区：把工作区的更改提交到暂存区
        -版本库：把暂存区的数据，提交到版本库
    
    '''工作流程'''
        1 只要被git管理了，只要文件发生变化（新增，删除，修改），使用git就能看到它变成红色了
        2 工作区的变更，要提交到暂存区，变绿色了
        3 从暂存区提交到版本库，才会被版本管理，一旦被版本管理了，后期可以回退到某个版本
        4 可以把版本库的内容，提交到远程仓库，统一管理起来【所有开发者都可以提交】
        5 本地可以拉去远程的代码
        6 本地可以把本地代码提交到远程
    
    '''注意点'''
        1）有红色信息(工作区有内容)，就执行 add 
        2）全绿信息(内容全部在暂存区)，才执行 commit
        3）只有被版本库控制的代码，才能被监听，所以可以回滚到任何一个版本
    

git常用命令
-------

**初始化仓库:（文件夹中）--->出现 .git 隐藏文件夹**

    git init 仓库名  # 在当前文件夹再创建一个文件夹作为仓库
    git init        #当前文件夹就是仓库，就会被管理
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108144324996-2051787618.png)

**查看状态**

    git status  # 发现没有红，绿，说明，当前仓库下所有文件都已经被管理了，并且没有变化
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108144831335-1540110620.png)

**把工作区变更提交到暂存区**

    git add .  # 把工作区所有更改都提交到暂存区
    
    git add 文件名  # 把工作区当前文件的更改都提交到暂存区
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108145528791-335589248.png)

**把暂存区所有内容提交到版本库**

    git commit -m '注释内容'
    
    git status --->没有颜色
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108145809973-1847870242.png)  
发现提交不了，需要设置用户

**配置用户信息【如果局部没有，使用全局，如果全局也没有，会报错】**

    # 全局配置--->针对于所有仓库---> C:\Users\用户文件夹\.gitconfig新建用户信息，在所有仓库下都可以使用C:\Users\oldboy\.gitconfig中写入了
      git config --global user.email "1990837105@qq.com"
      git config --global user.name "zhangran"
    
    # 局部配置--->只针对于当前仓库-->当前仓库.git文件夹下的config中
      git config  user.email "zr_rbt@163.com"
      git config  user.name "zr"
    

**查看版本管理信息**

    查看当前版本及当前版本之前的版本：git log
    
    查看所有版本，不管是否回退：git reflog
    
    '''git log 和git reflog的区别:'''
        git log 命令可以显示所有提交过的版本信息如果感觉太繁琐，可以加上参数  --pretty=oneline，只会显示版本号和提交时的备注信息git reflog 可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录和 reset 的操作）# git reset --hard，--mix，--soft的区别hard (硬)-> 全部删除,会彻底返回到回退前的版本状态，了无痕迹mixed (中)-> 保留工作目录,文件回退到未commit的状态soft (软)-> 保留工作目录、暂存区 ,文件会回退到未 add（未到暂存）的状态总结：soft是撤销commit的提交，但工作区未提交的更改还是保留；mixed是撤销暂存区的提交，工作区的更改同样也保留；而hard是把工作区、暂存区、commit到仓库的三个版本都回滚了
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108150228916-1016488368.png)  
**把工作区回退到某个版本**

    git reset  --hard  版本号(重点)
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108150655577-501950770.png)  
可以在返回到原来的版本  
![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108150843016-1606509879.png)

**把当前工作区的更改（不包含新增，包含修改和删除），回退回去**

    git checkout .  # 当前所有的更改都回退，不包含新增的文件
    

**由绿变红（把暂存区拉回到工作区）**

    回退到前一百个版本：git reset -hard HEAD~100
    
    回退到上一个版本：git reset --hard HEAD^
    
    回退到上上一个版本：git reset --hard HEAD^^
    
    回退到具体的版本：git reset --hard 版本号
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108152016913-803144157.png)  
**指定开发者日志**

    git log --author author_name
    
    git reflog --author author_name
    

**查看时间点之前|之后的日志**

    git log --after 2018-6-1
    git log --before 2018-6-1
    git reflog --after 2018-6-1
    git reflog --before 2018-6-1
    

git 过滤文件
--------

以后项目中，有些文件\[.pyc\]，文件夹\[node\_modules\]\[.idea\],不需要被版本管理的，咱们就要忽略它

忽略步骤，在仓库中新建 .gitignore \[没有任何后缀名\]，在文件中配置

    1）在仓库根目录下创建该文件
    2）文件与文件夹均可以被过滤
    3）文件过滤语法
    
    """ 
    过滤文件内容:
    	文件或文件夹名：代表所有目录下的同名文件或文件夹都被过滤
    	/文件或文件夹名：代表仓库根目录下的文件或文件夹被过滤
    
    	eg：
    	a.txt：项目中所有a.txt文件和文件夹都会被过滤
    	/a.txt：项目中只有根目录下a.txt文件和文件夹会被过滤
    	/b/a.txt：项目中只有根目录下的b文件夹下的a.txt文件和文件夹会被过滤
    	*x*：名字中有一个x的都会被过滤（*代表0~n个任意字符）
    	空文件夹不会被提交，空包会被提交，包可以被提交（包中有一个init空文件）
    """
    

git多分支管理
--------

分支：通过分支，更方便协同开发，管理版本

1）查看分支：

    git branch  # * 和绿色表示你当前所在的分支，查看本地分支
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108181630346-478385627.png)

2）创建：

    git branch dev
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108181721135-129324778.png)

3）切换分支：

    git checkout dev
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108183754343-2064583617.png)

4）删除分支

    git branch -d dev  # 在其他分支上才能删它
    

5）合并分支：【可能会有冲突】

    要把dev合并到master上
    回到master上，开始执行代码
    git merge dev
    

6 ）查看远程分支：【后面会讲】

    git branch -a
    

远程仓库
----

1）新建一个远程仓库  
![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108185222539-2086878308.png)  
2）创建好一个空的仓库  
![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108185839392-2028185276.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108185945603-2136777927.png)  
3）把本地代码，上传到远程仓库，本地仓库，已经有版本管理了，远程有仓库，是空的

    本地有仓库，已经有版本管理了，远程有仓库，是空的
    设置用户名和邮箱--（如果不按照它显示的设置，在右侧贡献者看到别人头像）
        git config --global user.name "liuqingzheng"
        git config --global user.email "306334678@qq.com"
    

4）已有仓库

    -新增一个远程仓库
        git remote add origin https://gitee.com/zhang_xiao_ran/zxr.git
    
    -把本地代码推上去
        git push  origin master  # 把本地的主分支推到origin对应的远程分支
    
    -第一次推，需要输入gitee的账号和密码
    
    -以后不需要输入用户名密码了
        -凭证管理，可以删除，可以修改
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108191602649-118001246.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108191114249-19240970.png)

把路飞项目传到远程仓库(非空的)
----------------

1）创建远程仓库luffy\_api---【非空】  
![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108193340239-972840273.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108193536236-1890065350.png)

2）git clone [https://gitee.com/zhang\_xiao\_ran/luffy\_api.git](https://gitee.com/zhang_xiao_ran/luffy_api.git) # 把远程仓库内容克隆到本地

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108193721431-266762045.png)

3）把我们项目的代码，copy到 luffy\_api这个文件夹下（.git文件夹不要copy）  
4）git add .  
5）git commit -m ‘初始化仓库’  
6）git push origin master

**以后，完成了项目的某个功能就要执行下面的命令，以后你在公司中得开发提交步骤**

    -git add .
    -git commit -m '完成了xx功能，修改了xx文件' # 提交到了本地仓库
    
    每次提交【推到远端】代码之前，要拉取一下代码---》没事你就拉去一下，保证本地的版本库一直跟远端保存一样----以后冲突会变少
        -git pull origin master
    -git push origin master  # 把本地的mater分支推送到远端origin对应的地址-【可能推不上去】
    如果推不上去，说明本地不是最新版本，一定下拉去一下，成了最新版本再去提交
    

ssh链接远程仓库，协同开发
--------------

1）本地仓库和远程仓库建立关系时，建立的是https的链接，公司一般用ssh的链接

2）https和ssh的区别

    https:输入用户名密码，保存在凭据管理中
    
    ssh：配置公钥私钥
            -生成公钥私钥
            -把公钥放到gitee上
            -配好远程仓库，以后直接提交，不需要输入任何秘钥的东西
    

3）ssh的配置步骤

    按照这个步骤操作：https://gitee.com/help/articles/4181
    cmd命令行中，一路回车，会在【C:\Users\oldboy\.ssh】文件夹下生成公钥和私钥
            ssh-keygen -t ed25519 -C "1990837105@qq.com" 
    生成一个公钥，一个私钥
            id_ed25519  #私钥，千万不能泄露
            id_ed25519.pub #公钥，可以给任何人
    
    把公钥配置在gitee的配置文件中
    
    到此，你的机器和gitee互相上传下载代码，都不要认证了
    

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108201402888-1114968793.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108201705185-380980900.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108201718195-969697284.png)

![image](https://img2022.cnblogs.com/blog/2904540/202211/2904540-20221108202058742-142552932.png)

4）以后使用：免密了

    先删除origin 对应的https的链接：git remote remove origin
    
    查看一下，没有了：git remote
    
    配置成ssh的地址
         git remote add origin git@gitee.com:zhang_xiao_ran/luffy_api.git
    
    
    以后直接拉去，提交代码即可
        git pull origin master
        git push origin master