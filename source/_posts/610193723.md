---
layout: post
title: "uniappå°ç¨‹åºä½¿ç”¨é«˜å¾·åœ°å›¾apiå®ç°è·¯çº¿è§„åˆ’"
date: "2023-01-10T04:19:55.644Z"
---
uniappå°ç¨‹åºä½¿ç”¨é«˜å¾·åœ°å›¾apiå®ç°è·¯çº¿è§„åˆ’
------------------------

Posted on 2023-01-10 11:18Â  [ä¹¦ä¸­æ«å¶](https://www.cnblogs.com/zy-mg/)Â  é˜…è¯»(39)Â  è¯„è®º(0)Â  [ç¼–è¾‘](https://i.cnblogs.com/EditPosts.aspx?postid=17039609)Â  [æ”¶è—](javascript:void(0))Â  [ä¸¾æŠ¥](javascript:void(0))

è·¯çº¿è§„åˆ’
----

### ç®€ä»‹

è·¯çº¿è§„åˆ’å¸¸ç”¨äºå‡ºè¡Œè·¯çº¿çš„æå‰é¢„è§ˆï¼Œæˆ‘ä»¬æä¾›4ç§ç±»å‹çš„è·¯çº¿è§„åˆ’ï¼Œåˆ†åˆ«ä¸ºï¼šé©¾è½¦ã€æ­¥è¡Œã€å…¬äº¤å’Œéª‘è¡Œï¼Œæ»¡è¶³å„ç§çš„å‡ºè¡Œåœºæ™¯ã€‚  
[é«˜å¾·å¼€æ”¾å¹³å°](https://lbs.amap.com/)

### æœ¬ä¾‹æ˜¯é©¾è½¦è·¯çº¿è§„åˆ’åŠŸèƒ½å’Œä½ç½®é€‰æ‹©åœ°å›¾api:chooseLocation

* * *

ç¤ºä¾‹ï¼š  
![](https://img2023.cnblogs.com/blog/1924142/202301/1924142-20230110111344714-1311627859.gif)

1ã€åœ¨é¡µé¢çš„ js æ–‡ä»¶ä¸­ï¼Œå®ä¾‹åŒ– AMapWX å¯¹è±¡ï¼Œè¯·æ±‚è¿›è¡Œé©¾è½¦è·¯çº¿è§„åˆ’ã€‚

é¦–å…ˆï¼Œå¼•å…¥ amap-wx.js æ–‡ä»¶ï¼ˆamap-wx.js ä»[ç›¸å…³ä¸‹è½½](https://lbs.amap.com/api/wx/download)é¡µé¢ä¸‹è½½çš„ zip æ–‡ä»¶è§£å‹åå¾—åˆ°ï¼‰ã€‚

    import amapFile from "@/libs/amap-wx.js";
    

ç„¶ååœ¨ onLoad å®ä¾‹åŒ– AMapWX å¯¹è±¡

    onLoad() {
    	 this.myAmapFunT = new amapFile.AMapWX({
    		key: ä½ ç”³è¯·çš„key
    	 })
    	},
    

æœ€åç”Ÿæˆè¯·æ±‚è¿›è¡Œé©¾è½¦è·¯çº¿è§„åˆ’æ•°æ®

    		/**
    			 *@author ZY
    			 *@date 2023/1/9
    			 *@Description:ç”Ÿæˆè§„åˆ’è·¯çº¿
    			 *@param {string} start å¼€å§‹ä½ç½®
    			 *@param {string} end ç»“æŸä½ç½®
    			 *@param {number} strategy 10 é»˜è®¤å¤šç­–ç•¥ ç­–ç•¥ https://lbs.amap.com/api/webservice/guide/api/direction#driving
    			 *
    			 10ï¼Œè¿”å›ç»“æœä¼šèº²é¿æ‹¥å µï¼Œè·¯ç¨‹è¾ƒçŸ­ï¼Œå°½é‡ç¼©çŸ­æ—¶é—´ï¼Œä¸é«˜å¾·åœ°å›¾çš„é»˜è®¤ç­–ç•¥ä¹Ÿå°±æ˜¯ä¸è¿›è¡Œä»»ä½•å‹¾é€‰ä¸€è‡´
    			 * 4ï¼Œèº²é¿æ‹¥å µï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨ç»•è·¯çš„æƒ…å†µï¼Œè€—æ—¶å¯èƒ½è¾ƒé•¿
    			 2ï¼Œè·ç¦»ä¼˜å…ˆï¼Œä»…èµ°è·ç¦»æœ€çŸ­çš„è·¯çº¿ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨ç©¿è¶Šå°è·¯/å°åŒºçš„æƒ…å†µ
    			 */
    			getPlanningRoute(start, end, strategy = 10) {
    				let that = this
    				uni.showLoading({
    					title: 'åŠ è½½ä¸­'
    				});
    				that.myAmapFunT.getDrivingRoute({
    					origin: start,
    					destination: end,
    					strategy: strategy, //å¤‡é€‰æ–¹æ¡ˆ
    					success: function(data) {
    						// console.log('æ‰€æœ‰è·¯å¾„',data)
    						if (data.paths && data.paths[0] && data.paths[0].steps) {
    							// é»˜è®¤ 10 ä¼š å¯¹è¿”å›å¤šæ¡è·¯å¾„çš„æ–¹æ¡ˆ  æŒ‰ç…§æ—¶é—´çŸ­çš„
    							let goodRouter = data.paths.sort((a, b) => {
    								return a.duration - b.duration
    							})[0]
    
    							that.distance = (goodRouter.distance * 0.001).toFixed(2) + 'å…¬é‡Œ'
    							that.duration = 'å¤§çº¦' + (goodRouter.duration / 60).toFixed(2) + 'åˆ†é’Ÿ'
    
    							let steps = goodRouter.steps
    							let points = []
    							for (var i = 0; i < steps.length; i++) {
    								var poLen = steps[i].polyline.split(';');
    								for (var j = 0; j < poLen.length; j++) {
    									points.push({
    										longitude: parseFloat(poLen[j].split(',')[0]),
    										latitude: parseFloat(poLen[j].split(',')[1])
    									})
    								}
    							}
    							that.polyline = [{
    								points: points,
    								color: strategy === 10 ? '#0ee532' : strategy === 2 ? '#0742d9' :
    									'#ee6b06',
    								width: 8,
    							}]
    						}
    						uni.hideLoading();
    					},
    					fail: function(info) { //å¤±è´¥å›è°ƒ
    						console.log('è·¯çº¿è§„åˆ’å¤±è´¥')
    						console.log(info)
    						uni.hideLoading();
    						uni.showToast({
    							title: 'è·¯çº¿è§„åˆ’å¤±è´¥',
    							icon: 'error'
    						});
    					},
    				})
    			},
    

2.å®Œæ•´æºç ç»„ä»¶

    <template>
    	<view class="content">
    		<view class="back-button" @click="toBack">
    			<image src="http://img.wisdomtaxi.com/toBack.png" style="width: 100%; height: 100%;"></image>
    		</view>
    		<map class="order-map" :latitude="startPoint.latitude" :longitude="startPoint.longitude" show-location
    			:polyline="polyline" @markertap="markertap" :key="polyline.length + new Date().getTime()"
    			:markers="markers">
    			<cover-view slot="callout">
    				<block v-for="(item,index) in markers" :key="index">
    					<cover-view class="customCallout" :marker-id="item.id">
    						<cover-view class="customCalloutContent">
    							{{item.title}}
    						</cover-view>
    					</cover-view>
    				</block>
    			</cover-view>
    		</map>
    		<view class="order-box">
    			<view class="search-start" v-if="endPoint.address">
    				<view class="custom-style" v-for="item in btnList" :key="item.value"
    					:class="{active:flag === item.value}" @click="selectRouteType(item.value)">
    					{{item.name}}
    				</view>
    			</view>
    			<view class="search-start" v-if="distance || duration">
    				<u-icon name="file-text-fill" color="#FFA500" size="17"></u-icon>
    				<view class="start-name">
    					è·ç¦»ï¼š{{distance}} æ—¶é—´ï¼š{{duration}}
    				</view>
    			</view>
    			<view class="search-start">
    				<u-icon name="map-fill" color="#33a63b" size="17"></u-icon>
    				<view class="start-name">
    					æ‚¨å°†åœ¨ <text style="color: #33a63b">{{startPoint.name | fmtEndAddr}}</text> ä¸Šè½¦
    				</view>
    			</view>
    			<view class="search-start" v-if="endPoint.name">
    				<u-icon name="map-fill" color="#ee642b" size="17"></u-icon>
    				<view class="start-name">
    					{{endPoint.name|fmtEndAddr}}
    				</view>
    			</view>
    			<view class="search-box" @click="openChooseLocation">
    				<u-icon name="search" color="#ffa602" size="23"></u-icon>
    				<view class="search-placeholder">
    					è¯·é€‰æ‹©ç›®çš„åœ°
    				</view>
    			</view>
    			<view v-if="endPoint.name" @click="submitToDriver" class="send-btn">
    				å‘é€ç»™å¸æœº
    			</view>
    		</view>
    	</view>
    </template>
    
    <script>
    	import uniIcons from "@/components/uni-icons/uni-icons.vue";
    	import amapFile from "@/libs/amap-wx.js";
    	export default {
    		components: {
    			uniIcons
    		},
    		data() {
    			return {
    				markers: [],
    				tripInfo: {},
    				polyline: [],
    				startPoint: {
    					latitude: 26.56045894387685, //çº¬åº¦
    					longitude: 106.68005128661751, //ç»åº¦
    					name: '',
    					address: ''
    				},
    				endPoint: {},
    				myAmapFunT: null,
    				distance: 0, //è·ç¦»
    				duration: 0, //æ—¶é—´
    				flag: 10,
    				btnList: [{
    						name: 'æ¨è',
    						value: 10
    					},
    					{
    						name: 'èº²é¿æ‹¥å µ',
    						value: 4
    					},
    					{
    						name: 'è·ç¦»çŸ­',
    						value: 2
    					},
    				]
    			}
    		},
    		filters: {
    			fmtEndAddr(val) {
    				if (val === null || val === '' || val === undefined) {
    					return 'æœªçŸ¥åœ°å€';
    				}
    				return val;
    			},
    		},
    
    		onLoad() {
    			this.myAmapFunT = new amapFile.AMapWX({
    				key: ä½ ç”³è¯·çš„key
    			})
    			this.getCurrentLocation();
    		},
    		methods: {
          //è¿”å›
    			toBack() {
    				uni.navigateBack({});
    			},
    			//è·å–å½“å‰å®šä½
    			getCurrentLocation() {
    				let that = this
    				uni.getLocation({
    					type: 'gcj02',
    					success: function(res) {
    						// console.log('å½“å‰ï¼š' , res);
    						// console.log('å½“å‰ä½ç½®çš„ç»åº¦ï¼š' + res.longitude);
    						// console.log('å½“å‰ä½ç½®çš„çº¬åº¦ï¼š' + res.latitude);
    						that.startPoint.longitude = res.longitude;
    						that.startPoint.latitude = res.latitude;
    
    						that.getAddress(that.startPoint.longitude + ',' + that.startPoint.latitude)
    					}
    				});
    
    			},
    			// è§£æåœ°å€
    			getAddress(loc) {
    				var that = this;
    				var myAmapFun = this.myAmapFunT
    				if (loc !== null && loc !== '' && loc !== undefined) {
    					myAmapFun.getRegeo({
    						iconPath: 'http://img.wisdomtaxi.com/amap_icon.png',
    						width: '37.5rpx',
    						height: '37.5rpx',
    						location: loc,
    						success: function(data) { //æˆåŠŸå›è°ƒ
    							// console.log('åœ°å€è§£æ',data)
    							that.startPoint.name = data[0].name
    							that.startPoint.address = data[0].desc
    
    							that.initMap()
    						},
    						fail: function(info) { //å¤±è´¥å›è°ƒ
    							console.log(info)
    						},
    					});
    				}
    			},
    			//åˆå§‹åŒ–åœ°å›¾æ•°æ®
    			initMap() {
    				this.markers.push({
    					id: 1,
    					latitude: this.startPoint.latitude, //çº¬åº¦
    					longitude: this.startPoint.longitude, //ç»åº¦
    					iconPath: '/static/images/home/start.png', //æ˜¾ç¤ºçš„å›¾æ ‡
    					rotate: 0, // æ—‹è½¬åº¦æ•°
    					width: 30, //å®½
    					height: 30, //é«˜
    					title: this.startPoint.name, //æ ‡æ³¨ç‚¹å
    					// alpha: 0.5, //é€æ˜åº¦
    					joinCluster: true,
    					customCallout: {
    						anchorY: 0,
    						anchorX: 0,
    						display: "ALWAYS",
    					},
    				}, )
    
    			},
    			/**
    			 *@author ZY
    			 *@date 2023/1/9
    			 *@Description:é€‰æ‹©ä½ç½®
    			 *@param {Object} opt https://uniapp.dcloud.net.cn/api/location/location.html
    			 *
    			 opt : {
    			  latitude	Number	å¦	ç›®æ ‡åœ°çº¬åº¦
    			  longitude	Number	å¦	ç›®æ ‡åœ°ç»åº¦
    			 }
    			 */
    			openChooseLocation(opt) {
    				let that = this
    				uni.chooseLocation({
    					latitude: opt?.latitude || that.startPoint.latitude,
    					longitude: opt?.longitude || that.startPoint.longitude,
    					success: function(res) {
    						// console.log(res)
    						// console.log('ä½ç½®åç§°ï¼š' + res.name);
    						// console.log('è¯¦ç»†åœ°å€ï¼š' + res.address);
    						// console.log('çº¬åº¦ï¼š' + res.latitude);
    						// console.log('ç»åº¦ï¼š' + res.longitude);
    						if (!res.name) {
    							return uni.showToast({
    								title: 'è¯·é‡æ–°é€‰æ‹©ä½ç½®',
    								icon: 'none'
    							});
    						}
    						//è®¾ç½®ç»ˆç‚¹
    						that.endPoint = {
    							longitude: res.longitude,
    							latitude: res.latitude,
    							name: res.name,
    							address: res.address
    						}
    						//è®¾ç½®ç»ˆç‚¹æ ‡è®°
    						that.markers[1] = {
    							id: 2,
    							latitude: res.latitude, //çº¬åº¦
    							longitude: res.longitude, //ç»åº¦
    							iconPath: '/static/images/home/endd.png', //æ˜¾ç¤ºçš„å›¾æ ‡
    							rotate: 0, // æ—‹è½¬åº¦æ•°
    							width: 30, //å®½
    							height: 30, //é«˜
    							title: res.name, //æ ‡æ³¨ç‚¹å
    							// alpha: 0.5, //é€æ˜åº¦
    							joinCluster: true,
    							customCallout: {
    								anchorY: 0,
    								anchorX: 0,
    								display: "ALWAYS"
    							},
    						}
    
    						let start = that.startPoint.longitude + ',' + that.startPoint.latitude
    						let end = res.longitude + ',' + res.latitude
    						//æ¯æ¬¡é€‰å–ä½ç½®å®Œæˆåéƒ½ä¼šé»˜è®¤ 10 ç­–ç•¥
    						that.flag = 10
    						//ç”Ÿæˆè§„åˆ’è·¯çº¿
    						that.getPlanningRoute(start, end, 10)
    					},
    					fail: function(info) { //å¤±è´¥å›è°ƒ
    						console.log('è°ƒå–å¤±è´¥')
    						console.log(info)
    					},
    
    				})
    			},
    			// æŒ‰é’®é€‰æ‹©ç­–ç•¥
    			selectRouteType(idx) {
    				this.flag = idx
    				let start = this.startPoint.longitude + ',' + this.startPoint.latitude
    				let end = this.endPoint.longitude + ',' + this.endPoint.latitude
    				this.getPlanningRoute(start, end, idx)
    			},
    			/**
    			 *@author ZY
    			 *@date 2023/1/9
    			 *@Description:ç”Ÿæˆè§„åˆ’è·¯çº¿
    			 *@param {string} start å¼€å§‹ä½ç½®
    			 *@param {string} end ç»“æŸä½ç½®
    			 *@param {number} strategy 10 é»˜è®¤å¤šç­–ç•¥ ç­–ç•¥ https://lbs.amap.com/api/webservice/guide/api/direction#driving
    			 *
    			 10ï¼Œè¿”å›ç»“æœä¼šèº²é¿æ‹¥å µï¼Œè·¯ç¨‹è¾ƒçŸ­ï¼Œå°½é‡ç¼©çŸ­æ—¶é—´ï¼Œä¸é«˜å¾·åœ°å›¾çš„é»˜è®¤ç­–ç•¥ä¹Ÿå°±æ˜¯ä¸è¿›è¡Œä»»ä½•å‹¾é€‰ä¸€è‡´
    			 * 4ï¼Œèº²é¿æ‹¥å µï¼Œä½†æ˜¯å¯èƒ½ä¼šå­˜åœ¨ç»•è·¯çš„æƒ…å†µï¼Œè€—æ—¶å¯èƒ½è¾ƒé•¿
    			 2ï¼Œè·ç¦»ä¼˜å…ˆï¼Œä»…èµ°è·ç¦»æœ€çŸ­çš„è·¯çº¿ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨ç©¿è¶Šå°è·¯/å°åŒºçš„æƒ…å†µ
    			 */
    			getPlanningRoute(start, end, strategy = 10) {
    				let that = this
    				uni.showLoading({
    					title: 'åŠ è½½ä¸­'
    				});
    				that.myAmapFunT.getDrivingRoute({
    					origin: start,
    					destination: end,
    					strategy: strategy, //å¤‡é€‰æ–¹æ¡ˆ
    					success: function(data) {
    						// console.log('æ‰€æœ‰è·¯å¾„',data)
    						if (data.paths && data.paths[0] && data.paths[0].steps) {
    							// é»˜è®¤ 10 ä¼š å¯¹è¿”å›å¤šæ¡è·¯å¾„çš„æ–¹æ¡ˆ  æŒ‰ç…§æ—¶é—´çŸ­çš„
    							let goodRouter = data.paths.sort((a, b) => {
    								return a.duration - b.duration
    							})[0]
    
    							that.distance = (goodRouter.distance * 0.001).toFixed(2) + 'å…¬é‡Œ'
    							that.duration = 'å¤§çº¦' + (goodRouter.duration / 60).toFixed(2) + 'åˆ†é’Ÿ'
    
    							let steps = goodRouter.steps
    							let points = []
    							for (var i = 0; i < steps.length; i++) {
    								var poLen = steps[i].polyline.split(';');
    								for (var j = 0; j < poLen.length; j++) {
    									points.push({
    										longitude: parseFloat(poLen[j].split(',')[0]),
    										latitude: parseFloat(poLen[j].split(',')[1])
    									})
    								}
    							}
    							that.polyline = [{
    								points: points,
    								color: strategy === 10 ? '#0ee532' : strategy === 2 ? '#0742d9' :
    									'#ee6b06',
    								width: 8,
    							}]
    						}
    						uni.hideLoading();
    					},
    					fail: function(info) { //å¤±è´¥å›è°ƒ
    						console.log('è·¯çº¿è§„åˆ’å¤±è´¥')
    						console.log(info)
    						uni.hideLoading();
    						uni.showToast({
    							title: 'è·¯çº¿è§„åˆ’å¤±è´¥',
    							icon: 'error'
    						});
    					},
    				})
    			},
    			// ç‚¹å‡»æ ‡è®°ç‚¹
    			markertap(e) {
    				let opt = this.markers.find(el => {
    					return el.id === e.detail.markerId
    				})
    				this.openChooseLocation(opt)
    			},
    
    			// æäº¤ç»™å¸æœº
    			submitToDriver() {
    				let p = {}
    				p.idCard = uni.getStorageSync('driverInfo').idCard || ''
    				p.startLocation = this.startPoint.longitude + ',' + this.startPoint.latitude
    				p.startAddr = this.startPoint.name || 'æœªçŸ¥'
    				p.endLocation = this.endPoint.longitude + ',' + this.endPoint.latitude
    				p.endAddr = this.endPoint.name || 'æœªçŸ¥'
    				p.plan = this.flag || 10
    				p.locations = this.polyline[0].points || []
    				if (!p.idCard) {
    					return uni.showToast({
    						title: 'å¸æœºä¿¡æ¯è·å–å¤±è´¥',
    						icon: 'none'
    					});
    				}
    				uni.showLoading({
    					title: 'æäº¤ä¸­'
    				});
    				let that = this
    				this.request('api_sendDestination', p).then(res => {
    					uni.hideLoading();
    					uni.showToast({
    						title: 'å‘é€æˆåŠŸ'
    					})
              setTimeout(()=>{
                that.toBack()
              },1000)
    
    				}).catch(err => {
    					console.log(err)
    					uni.hideLoading();
    					uni.showToast({
    						title: 'å‘é€å¤±è´¥',
    						icon: 'error'
    					})
    				})
    
    			}
    
    		},
    
    	}
    </script>
    <style lang="scss" scoped>
    	.content {
    		display: flex;
    		flex-direction: column;
    		text-align: center;
    		align-content: center;
    		background: #f5f5f9;
    		height: 1600rpx;
    	}
    
    	.back-button {
    		z-index: 9;
    		position: fixed;
    		top: 95rpx;
    		left: 30rpx;
    		height: 50rpx;
    		width: 50rpx;
    		border-radius: 50%;
    		background-color: #FFA500;
    		/* box-shadow: 0 9.375rpx 28.125rpx 9.375rpx rgba(106, 66, 0, 0.2); */
    	}
    
    	.order-map {
    		width: 100%;
    		height: 100%;
    	}
    
    	.order-box {
    		position: fixed;
    		bottom: 0rpx;
    		left: 0rpx;
    		width: 100%;
    		//height: 435rpx;
    		text-align: left;
    		background-color: #FFFFFF;
    		border-top-right-radius: 10rpx;
    		border-top-left-radius: 10rpx;
    		box-sizing: border-box;
    		padding: 18rpx;
    		padding-bottom: 80rpx;
    		box-shadow: 0 9.375rpx 28.125rpx 9.375rpx rgba(106, 66, 0, 0.2);
    
    		.send-btn {
    			margin-top: 30rpx;
    			width: 100%;
    			color: white;
    			background-color: #ffa602;
    			padding: 0 24rpx;
    			font-size: 28rpx;
    			height: 80rpx;
    			line-height: 80rpx;
    			box-sizing: border-box;
    			border-radius: 12rpx;
    			text-align: center;
    		}
    
    		/*box-shadow: 0 9.375rpx 28.125rpx 9.375rpx rgba(106, 66, 0, 0.2);*/
    		.search-start {
    			font-size: 30rpx;
    			margin: 18rpx 0;
    			padding-left: 15rpx;
    			display: flex;
    			justify-content: flex-start;
    			align-items: center;
    			box-sizing: border-box;
    
    			.start-name {
    				width: 550rpx;
    				padding-left: 10rpx;
    				overflow: hidden;
    				/*æ–‡æœ¬ä¸ä¼šæ¢è¡Œ*/
    				white-space: nowrap;
    				/*å½“æ–‡æœ¬æº¢å‡ºåŒ…å«å…ƒç´ æ—¶ï¼Œä»¥çœç•¥å·è¡¨ç¤ºè¶…å‡ºçš„æ–‡æœ¬*/
    				text-overflow: ellipsis;
    			}
    
    			.custom-style {
    				margin-right: 10rpx;
    				border-radius: 6rpx;
    				border: 1rpx solid #ebedf0;
    				font-size: 24rpx;
    				padding: 8rpx 24rpx;
    
    				&:last-child {
    					margin-right: 0;
    				}
    
    				&.active {
    					color: #FFFFFF;
    					background-color: #ffa602;
    					border-color: #ffa602;
    				}
    			}
    		}
    
    		.search-box {
    			background-color: #f3f3f3;
    			border-radius: 36rpx;
    			height: 80rpx;
    			display: flex;
    			justify-content: flex-start;
    			align-items: center;
    			box-sizing: border-box;
    			padding: 0 25rpx;
    
    			.search-placeholder {
    				font-size: 28rpx;
    				color: #bbb9b9;
    				padding-left: 15rpx;
    			}
    		}
    	}
    
    	.addH {
    		height: 420rpx;
    		/*+100*/
    	}
    
    	.row {
    		display: flex;
    		flex-direction: row;
    	}
    
    	.bot {
    		margin-bottom: 10rpx;
    	}
    
    	.license {
    		position: relative;
    		left: 30rpx;
    		height: 110rpx;
    		font-weight: bold;
    		font-size: 38rpx;
    		line-height: 130rpx;
    		letter-spacing: 1.125rpx;
    		/* border: 0.01rem solid #555555; */
    	}
    
    	.time-icon {
    		height: 16rpx;
    		width: 16rpx;
    		position: relative;
    		left: 190rpx;
    		top: 59rpx;
    	}
    
    	.time-text {
    		height: 110rpx;
    		line-height: 130rpx;
    		position: relative;
    		left: 200rpx;
    		font-size: 30rpx;
    		color: #666666;
    		/* border: 0.01rem solid #555555; */
    	}
    
    	.route-icon {
    		height: 12rpx;
    		width: 12rpx;
    		position: relative;
    		left: 42rpx;
    		top: 30rpx;
    	}
    
    	.route-text {
    		height: 65rpx;
    		width: 478rpx;
    		line-height: 65rpx;
    		position: relative;
    		left: 50rpx;
    		font-size: 30rpx;
    		color: #666666;
    		overflow: hidden;
    		text-overflow: ellipsis;
    		white-space: nowrap;
    		/* border: 0.01rem solid #555555; */
    	}
    
    	.amt-box {
    		width: calc(100% - 558rpx);
    		margin-left: 40rpx;
    		display: flex;
    		flex-direction: row;
    		justify-content: flex-start;
    		align-items: center;
    		/* border: 1rpx solid #555555; */
    	}
    
    	.amt-icon {
    		margin-top: 5rpx;
    		line-height: 65rpx;
    		height: 20rpx;
    		width: 20rpx;
    	}
    
    	.amt {
    		margin-left: 10rpx;
    		line-height: 65rpx;
    
    		/*line-height: 80rpx;*/
    		font-size: 30rpx;
    		color: #666666;
    	}
    
    	.todo {
    		position: relative;
    		height: 165rpx;
    		width: 640rpx;
    		margin-left: 30rpx;
    		border-top: 0.375rpx solid #E9EAEC;
    	}
    
    	.todo-item {
    		height: 100%;
    		width: 50%;
    		text-align: center;
    		align-content: center;
    		/* border: 0.01rem solid #555555; */
    	}
    
    	.todo-item>image {
    		height: 60rpx;
    		width: 60rpx;
    		margin-top: 30rpx;
    	}
    
    	.todo-item>view {
    		color: #3F3F3F;
    		font-size: 30rpx;
    		letter-spacing: 0.375rpx;
    		/* border: 0.01rem solid #555555; */
    	}
    </style>
    
    <style>
    	/* *************************************** */
    	.customCallout {
    		box-sizing: border-box;
    		background-color: #fff;
    		border: 1px solid #ccc;
    		border-radius: 30px;
    		padding: 5px 10px;
    	}
    
    	.customCalloutContent {
    		font-size: 20rpx;
    		word-wrap: break-word;
    
    	}
    </style>
    
    

ç”Ÿæ´»çš„ä¸€åˆ‡ä¸å¦‚æ„ï¼Œéƒ½ä¼šéšæ—¶é—´æ¶ˆå¤±æ®†å°½ï¼Œæ‰¬èµ·å¾®ç¬‘ï¼Œæ¡ç´§æ‹³å¤´ä¸ºè‡ªå·±åŠ æ²¹ï¼ï¼ğŸ