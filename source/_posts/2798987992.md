---
layout: post
title: "Hugging Faceå‘å¸ƒdiffuseræ¨¡å‹AIç»˜ç”»åº“åˆå°é²œï¼"
date: "2022-10-28T10:22:50.615Z"
---
Hugging Faceå‘å¸ƒdiffuseræ¨¡å‹AIç»˜ç”»åº“åˆå°é²œï¼
=================================

![Hugging Faceå‘å¸ƒdiffuseræ¨¡å‹AIç»˜ç”»åº“åˆå°é²œï¼](https://img2022.cnblogs.com/blog/2637458/202210/2637458-20221026182843397-1136063933.png) æœ¬æ–‡è®²è§£ Hugging Face å‘å¸ƒçš„ä¸“æ³¨äº diffuser æ¨¡å‹çš„å¼€æºåº“ï¼Œä»…ä»…é€šè¿‡å‡ è¡Œä»£ç å°±å¼€å§‹ç”Ÿæˆè‡ªå·±çš„è‰ºæœ¯ä½œç”»ï¼Œå¹¶å¯¹æ¯”ç›¸åŒæ–‡æœ¬æç¤ºä¸‹å„ç§å•†ä¸šäº§å“ç”Ÿæˆçš„ç»“æœã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/143a05b90be04f7c816b08fe943b618a~tplv-k3u1fbpfcp-zoom-1.image)

> ğŸ’¡ ä½œè€…ï¼š[éŸ©ä¿¡å­](https://github.com/HanXinzi-AI)@[ShowMeAI](https://www.showmeai.tech/)  
> ğŸ“˜ [æ·±åº¦å­¦ä¹ å®æˆ˜ç³»åˆ—](https://www.showmeai.tech/tutorials/42)ï¼š[https://www.showmeai.tech/tutorials/42](https://www.showmeai.tech/tutorials/42)  
> ğŸ“˜ [TensorFlow å®æˆ˜ç³»åˆ—](https://www.showmeai.tech/tutorials/43)ï¼š[https://www.showmeai.tech/tutorials/43](https://www.showmeai.tech/tutorials/43)  
> ğŸ“˜ [æœ¬æ–‡åœ°å€](https://www.showmeai.tech/article-detail/312)ï¼š[https://www.showmeai.tech/article-detail/312](https://www.showmeai.tech/article-detail/312)  
> ğŸ“¢ å£°æ˜ï¼šç‰ˆæƒæ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»å¹³å°ä¸ä½œè€…å¹¶æ³¨æ˜å‡ºå¤„  
> ğŸ“¢ æ”¶è—[ShowMeAI](https://www.showmeai.tech/)æŸ¥çœ‹æ›´å¤šç²¾å½©å†…å®¹

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69dc3270c6cf40e88f2f60d7401db4cc~tplv-k3u1fbpfcp-zoom-1.image)

å·¥å…·åº“ transformers çš„å¼€æºæ–¹ Hugging Face åˆšåˆšå‘å¸ƒäº†ä¸€ä¸ªç”¨äºæ„å»º diffuser æ¨¡å‹çš„å…¨æ–°åº“ã€‚å¦‚æœæ‚¨ä¸çŸ¥é“diffuseræ¨¡å‹æ˜¯ä»€ä¹ˆï¼Œä½ å¯ä»¥æŸ¥çœ‹ [ShowMeAI](https://www.showmeai.tech/) çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ä»‹ç» ğŸ“˜ [**ä½ ç»™æ–‡å­—æè¿°ï¼Œ** **AI** **è‰ºæœ¯ä½œç”»ï¼Œç²¾ç¾æ— æ¯”ï¼é™„æºç ï¼Œå¿«æ¥è¯•è¯•ï¼**](https://www.showmeai.tech/article-detail/313) ã€‚

éšç€ AI æŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬ç°åœ¨åœ¨äº’è”ç½‘ä¸Šçœ‹åˆ°çš„é‚£äº›ç¾ä¸½ã€å¯Œæœ‰åˆ›æ„ã€æå…·è‰ºæœ¯ç¾æ„Ÿçš„ç»˜ç”»ä¸è§†é¢‘ï¼Œå¾ˆå¤šæ˜¯æ¥è‡ª AI ä¹‹æ‰‹ï¼å…¸å‹çš„AIè‰ºæœ¯åˆ›ä½œä¾‹å¦‚ OpenAI çš„ DALL-E2ã€è°·æ­Œçš„ Imagen å’Œ Midjourney çš„äº§å“ï¼Œæ‰€æœ‰è¿™äº›äº§å“æœåŠ¡éƒ½ä½¿ç”¨ diffuser æ¨¡å‹ï¼Œä¸‹å›¾ä¸ºä¸€äº›åˆ›ä½œç»“æœã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec4c416b49024ea38f4440df20350224~tplv-k3u1fbpfcp-zoom-1.image)

Hugging Face å‘å¸ƒäº†ä¸€ä¸ªä¸“æ³¨äº diffuser æ¨¡å‹çš„å¼€æºåº“ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºå®ƒï¼Œä»…ä»…é€šè¿‡å‡ è¡Œä»£ç å°±å¼€å§‹ç”Ÿæˆè‡ªå·±çš„è‰ºæœ¯ä½œç”»ã€‚ä¸è¿‡è¿™ä¸ª diffuser åº“æ˜¯ä¸€ä¸ªåŸºç¡€å®ç°ç‰ˆæœ¬ï¼Œè®­ç»ƒå’Œå­¦ä¹ çš„æ•°æ®ä¹Ÿæ²¡æœ‰ä¸Šé¢æåˆ°çš„å‡ ä¸ªå¤§å‚å•†ä¸šäº§å“å¤šï¼Œåœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œ[ShowMeAI](https://www.showmeai.tech/) å°±å¸¦å¤§å®¶æ¥æ¢ç´¢æ–°åº“ï¼Œå¹¶ç”Ÿæˆä¸€äº›æˆ‘ä»¬è‡ªå·±çš„è‰ºæœ¯ç”»ä½œï¼Œä¹Ÿå¯¹æ¯”ä¸€ä¸‹ç›¸åŒæ–‡æœ¬æç¤ºä¸‹çš„å¤§å‚å•†ä¸šäº§å“ç”Ÿæˆçš„ç»“æœã€‚

ğŸ’¡ å¿«é€Ÿå°é²œ
=======

æˆ‘ä»¬å…ˆåœ¨å‘½ä»¤è¡Œé€šè¿‡ `pip install diffusers` å®‰è£…æœ¬æ¬¡ä½¿ç”¨åˆ°çš„å·¥å…·åº“ï¼Œç„¶åå¯¼å…¥æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ¨¡å—å’ŒåŠŸèƒ½ï¼ˆåœ¨è¿™é‡Œæˆ‘ä»¬è°ƒç”¨æ•´ä¸ªæ‰©æ•£æ¨¡å‹æµæ°´çº¿ DiffusionPipelineï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯¼å…¥ä¸€ä¸ªå°å‹é¢„è®­ç»ƒæ¨¡å‹`ldm-text2im-large-256`ï¼š

    from diffusers import DiffusionPipeline
    
    model_id = "CompVis/ldm-text2im-large-256"
    
    # é¢„è®­ç»ƒæ¨¡å‹
    ldm = DiffusionPipeline.from_pretrained(model_id)
    

æ¥ç€æˆ‘ä»¬å°±å¯ä»¥åŸºäºè¿™ä¸ªé¢„è®­ç»ƒæ¨¡å‹ä½œç”»å•¦ï¼Œæˆ‘ä»¬å”¯ä¸€éœ€è¦åšçš„äº‹æƒ…å°±æ˜¯ç»™æ¨¡å‹ä¸€å¥æ–‡æœ¬æç¤ºï¼ˆåœ¨ diffuser æ¨¡å‹é‡Œå« prompt æç¤ºï¼‰ã€‚ä¸‹é¢æˆ‘ä»¬å°è¯•ç”Ÿæˆä¸€å¹…ã€**æ¾é¼ åƒé¦™è•‰**ã€çš„ç”»ä½œã€‚

    # ç»™å®šæ–‡æœ¬æç¤ºå’Œä½œç”»
    prompt = "A painting of a squirrel eating a banana"
    images = ldm([prompt], num_inference_steps=50, eta=.3, guidance_scale=6)
    images[0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ab7d7e6afcd42349c826b59bc8628df~tplv-k3u1fbpfcp-zoom-1.image)

ä¸Šé¢å°±æ˜¯æ¨¡å‹æœ€ç»ˆç”Ÿæˆçš„å›¾åƒï¼Œå½“ç„¶å—é™äºæˆ‘ä»¬çš„è®¡ç®—èµ„æºå’Œé¢„è®­ç»ƒæ¨¡å‹å¤§å°ï¼Œæˆ‘ä»¬ç”Ÿæˆçš„å›¾åƒä¸åƒ DALL-E 2 é‚£æ ·ä»¤äººæƒŠè‰³ï¼Œä½†æ˜¯æˆ‘ä»¬ä»…ä»…ç”¨ 5 è¡Œä»£ç ä¹Ÿç”Ÿæˆäº†ä¸€å‰¯å’Œæç¤ºæ–‡æœ¬åŒ¹é…çš„å›¾åƒï¼Œè¿˜æ˜¯å¾ˆè®©äººæ„Ÿè§‰ç¥å¥‡ã€‚

ä¸‹é¢æ˜¯ã€**æ¾é¼ åƒé¦™è•‰**ã€çš„å¦ä¸€å¹…ç”»ï¼š

    images = ldm(
        [prompt],
        num_inference_steps=100,
        eta=.3,
        guidance_scale=6
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8baba137fd0243168afd36daf520b6d8~tplv-k3u1fbpfcp-zoom-1.image)

ğŸ’¡ æ–‡æœ¬æç¤º
=======

ğŸ“Œ é«˜åˆ†è¾¨ç‡
-------

è‡ªä¸‰å¤§æ‰©æ•£æ¨¡å‹ï¼ˆDALL-E 2ã€Imagen å’Œ Midjourneyï¼‰å‘å¸ƒä»¥æ¥ï¼Œå¤§å®¶éƒ½å¼€å§‹å‘æŒ¥æƒ³è±¡åŠ›ï¼Œå°è¯•å„ç§å„æ ·çš„æ–‡æœ¬æç¤ºï¼Œè®©æ¨¡å‹ç”Ÿæˆè‰ºæœ¯å›¾ã€‚ä¾‹å¦‚ï¼Œè®¸å¤šäººå‘ç°æ·»åŠ ã€4Kç”»è´¨ã€æˆ–ã€åœ¨Unityä¸­æ¸²æŸ“ã€å¯ä»¥å¢å¼ºä¸‰å·¨å¤´ç”Ÿæˆçš„å›¾åƒçš„çœŸå®æ„Ÿï¼ˆå°½ç®¡å®ƒä»¬éƒ½æ²¡æœ‰ä»¥ 4K åˆ†è¾¨ç‡ç”Ÿæˆï¼‰ã€‚

å¦‚æœæˆ‘ä»¬å¯¹ Hugging Face çš„ diffuser æ¨¡å‹è¿›è¡ŒåŒæ ·çš„å°è¯•ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

    prompt = "a photorealistic image of a squirrel eating a banana"
    images = ldm(
        [prompt],
        num_inference_steps=100,
        eta=.3,
        guidance_scale=6
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96de856546d14c9eab222e082e561dd1~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6472bd80f0f74061a540076ef262bc89~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a11a01e0f71e43359c9c3421c0daa6c2~tplv-k3u1fbpfcp-zoom-1.image)

å¾ˆæ˜¾ç„¶å®ƒè¿˜ä¸èƒ½ç”Ÿæˆé«˜æ¸…çš„ 4K å›¾ï¼Œä½†æ˜¯å›¾åƒä¸­çš„ä¸€äº›ç»†èŠ‚æœ‰ä¸°å¯Œä¸€äº›ã€‚

ğŸ“Œ åœºæ™¯ä¸é€»è¾‘
--------

æˆ‘ä»¬æŠŠåœºæ™¯åšå¾—å¤æ‚ä¸€ç‚¹ç‚¹ï¼Œæ¯”å¦‚ç»™åˆ°çš„æ–‡æœ¬æç¤ºä¸­ï¼Œæœ‰ä¸åŒçš„ç‰©ä½“å’Œä½ç½®å…³ç³»ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¼šç”Ÿæˆä»€ä¹ˆæ ·çš„ç»“æœï¼Œæç¤ºæ–‡å­—ä¸º`an italian person eating pizza on top of the colosseum in rome`ã€‚

    prompt = "an italian person eating pizza on top of the colosseum in rome"
    images = ldm(
        [prompt],
        num_inference_steps=100,
        eta=.3,
        guidance_scale=6
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a38e215440ab486380b3ba5fe5ada853~tplv-k3u1fbpfcp-zoom-1.image)

çœ‹å¾—å‡ºæ¥ï¼Œè¿™ä¸ªç®€å•çš„ diffuser æ¨¡å‹åœ¨å¾ˆåŠªåŠ›åœ°å¤ç°æˆ‘ä»¬æ–‡æœ¬ä¸­æåˆ°çš„äººã€æ–—å…½åœºã€æŠ«è¨ï¼Œä½†æ˜¯å¯¹äºæ›´ç»†èŠ‚çš„ä½ç½®å…³ç³»ï¼Œä¼¼ä¹å®ƒè¿˜æ²¡æœ‰åšå¾—éå¸¸å¥½ï¼Œè¿™é‡Œçš„äººå¹¶æ²¡æœ‰ååœ¨ç½—é©¬æ–—å…½åœºé¡¶éƒ¨ï¼Œè€Œä¸”æ–—å…½åœºçš„æ‹±é—¨é¢œè‰²å’Œå¤©ç©ºé¢œè‰²ä¹Ÿä¸å®Œå…¨åŒ¹é…ã€‚

ğŸ“Œ æ›´æŠ½è±¡çš„æƒ…å†µ
---------

å›åˆ°æ¾é¼ ï¼Œå°è¯•ç”Ÿæˆæ›´æŠ½è±¡çš„å›¾åƒï¼Œä¾‹å¦‚ `a giant squirrel destroying a city`ã€ä¸€åªå·¨å¤§çš„æ¾é¼ æ‘§æ¯ä¸€åº§åŸå¸‚ã€ï¼Œæˆ‘ä»¬éšæœºé‡‡æ ·äº†ä¸€äº›ç»“æœå¦‚ä¸‹ï¼Œå¥½åå‚åŠï¼š

    prompt = "a giant squirrel destroying a city" 
    images = ldm(
        [prompt],
        num_inference_steps=100,
        eta=.3,
        guidance_scale=6
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/abb452c5e35d41c88c210206ee1f5ad5~tplv-k3u1fbpfcp-zoom-1.image)

    prompt = "a giant squirrel destroying a city"
    images = ldm(
        [prompt],
        num_inference_steps=50,
        eta=.3,
        guidance_scale=6
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de77cebe69f9498c8601a0149d0ff505~tplv-k3u1fbpfcp-zoom-1.image)

    prompt = "a giant squirrel destroying a city"
    images = ldm(
        [prompt],
        num_inference_steps=100,
        eta=.3,
        guidance_scale=2
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8298c7818ba54e02a8d410f258436ccb~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬ä¼¼ä¹è§‚å¯Ÿåˆ°ï¼Œç›®å‰è¿™ä¸ªå°æ¨¡å‹ä¼¼ä¹å¾ˆéš¾èåˆä¸¤ä¸ªé€šå¸¸ç›¸å…³åº¦æ²¡é‚£ä¹ˆé«˜çš„æ¦‚å¿µï¼Œå³ã€ï¼ˆå·¨å‹ï¼‰æ¾é¼ ã€å’Œã€åŸå¸‚ã€ã€‚æˆ‘ä»¬ä»ä¸€äº›ç”Ÿæˆçš„æ•ˆæœä¸æ˜¯ç‰¹åˆ«å¥½çš„å›¾ç‰‡å¯ä»¥è§‚å¯Ÿå‡ºè¿™ä¸€ç‚¹ï¼Œä¸‹é¢çš„ç»“æœä¸­ï¼Œè¦ä¹ˆå¯¹åŸå¸‚ä¸å¤©é™…çº¿åšäº†å¾ˆå¥½çš„æè¿°å´å¿½ç•¥äº†æ¾é¼ ï¼Œè¦ä¹ˆå¯¹æ¾é¼ å’Œè‡ªç„¶ç¯å¢ƒåšäº†å¾ˆå¥½çš„æè¿°ï¼Œå´æ²¡æœ‰ç‰¹åˆ«å¼ºçš„åŸå¸‚èƒŒæ™¯ï¼š

    prompt = "a landscape image showing a giant squirrel destroying a city"
    images = ldm(
        [prompt],
        num_inference_steps=50,
        eta=.8,
        guidance_scale=2
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1460dea771f14737a00bdbb35fdae02b~tplv-k3u1fbpfcp-zoom-1.image)

    prompt = "a landscape image showing a giant squirrel destroying a city"
    images = ldm(
        [prompt],
        num_inference_steps=50,
        eta=.8,
        guidance_scale=2
    )
    images['sample'][0]
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5d3301646924d12a7d0fd0331b01736~tplv-k3u1fbpfcp-zoom-1.image)

å¤šæ¬¡è¿è¡Œè¿™äº›æç¤ºåï¼Œæˆ‘ä»¬å‘ç°å½“å‰è¿™ä¸ªå°æ¨¡å‹ä¸‹ï¼Œæ€»æ˜¯åœ¨ä¸»ä½“ä¹‹é—´åˆ‡æ¢ä½†å¾ˆéš¾å°†ä¸¤è€…èåˆåœ¨ä¸€èµ·ã€‚

ğŸ’¡ DALL-E 2çš„ç»“æœ
==============

æˆ‘ä»¬æŠŠåŒæ ·çš„å†…å®¹`"a dramatic shot of a giant squirrel destroying a modern city"`çŒç»™ DALL-E 2 ï¼Œè®©å®ƒä»æç¤ºåšå›¾ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4be3e98615ca4363a98c29b3b290cb9e~tplv-k3u1fbpfcp-zoom-1.image)

æœç„¶åœ¨æ›´åºå¤§çš„AIæ¨¡å‹ä¸‹ï¼Œç”Ÿæˆçš„ç»“æœæ›´è‡ªç„¶ï¼Œä¹Ÿèƒ½æŠŠä¸åŒçš„ç»†èŠ‚å…³è”èµ·æ¥ã€‚

ğŸ’¡ æ€»ç»“
=====

è¿™å°±æ˜¯ Hugging Face æ–°åº“çš„åˆå°é²œï¼å°½ç®¡ç›®å‰å¼€æºçš„å°æ¨¡å‹ä¸Šï¼Œè¿˜æœ‰ä¸€ç³»åˆ—çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç±»æ¨¡å‹å°±åƒä¸€æŠŠé’¥åŒ™ï¼Œè§£é”ä¸€äº›ä»¤äººæ•¬ç•çš„äººå·¥æ™ºèƒ½ç±»äººçš„è‰ºæœ¯åˆ›é€ æ°´å¹³ã€‚

çŸ­æœŸçœ‹ï¼Œè¿™ä¸ªå°å°çš„é¢„è®­ç»ƒæ¨¡å‹å½“ç„¶æ— æ³•å–ä»£ DALL-E 2ã€Imagen æˆ– Midjourneyï¼Œä½†éšç€å¼€æºç¤¾åŒºçš„å¼ºå¤§ï¼Œå®ƒä¼šè¡¨ç°è¶Šæ¥è¶Šå¥½ã€‚

å‚è€ƒèµ„æ–™
====

*   ğŸ“˜ **ä½ ç»™æ–‡å­—æè¿°ï¼ŒAIè‰ºæœ¯ä½œç”»ï¼Œç²¾ç¾æ— æ¯”ï¼é™„æºç ï¼Œå¿«æ¥è¯•è¯•ï¼**ï¼š[https://www.showmeai.tech/article-detail/313](https://www.showmeai.tech/article-detail/313)

[![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9190f41b8de4af38c8a1a0c96f0513b~tplv-k3u1fbpfcp-zoom-1.image)](https://www.showmeai.tech/)