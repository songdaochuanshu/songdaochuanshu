---
layout: post
title: "【单片机入门】(一)应用层软件开发的单片机学习之路-----基础知识入门"
date: "2022-10-12T23:26:28.833Z"
---
【单片机入门】(一)应用层软件开发的单片机学习之路-----基础知识入门
====================================

引言
==

工作了五六年，一直都是以软件为主，期间也是各个方向都玩，移动端，PC端，网页端，后面在去年西安疫情的那一个月，突然觉得硬件也有很多可玩之处，相比于软件，看得见摸得着的东西可能更容易令人接受，做出成品也更容易有成就感，所以在那段时间我就去研究了一下树莓派，然后当时用node还有c#操控树莓派来进行和传感器等电子元器件进行交互，感兴趣的可以看看我之前的文章[C#控制树莓派入门 - 四处观察 - 博客园 (cnblogs.com)](https://www.cnblogs.com/1996-Chinese-Chen/p/15940379.html)，这篇文章仅仅用了做树莓派的入门，实际上，和我们这篇单片机的入门实际上也是有一些共性相通的地方。接下来，让我们一起了解一下单片机的入门基础知识吧。

何为单片机
=====

单片机。最小计算机运行系统，百度百科做的解释集成电路芯片，是采用超大规模集成电路技术把具有数据处理能力的CPU、随机存储器RAM、只读存储器ROM、多种I/O口和中断系统、定时器/计数器等功能（可能还包括显示驱动电路、脉宽调制电路、模拟多路转换器、A/D转换器等电路）集成到一块硅片上构成的一个小而完善的微型计算机系统，在工业控制领域广泛应用。从上世纪80年代，由当时的4位、8位单片机，发展到现在的300M的高速单片机。

可以看到，一个单片机基本上可以当作是一个小型计算机，具有存储，计算，输入和输出，计时定时器等能力，当然了，我们一台完整的计算机与我们进行交互，也是通过IO去进行交互，通过鼠标或者键盘连接到IO口上就可以在计算机上面进行输入输出，那普通的单片机上面的输入输出就需要通过单片机上面的IO口，就是那些针脚去进行通讯，可以看如下图，这是一个ESP32的一个单片机，上面包括了那么多的IO引脚，统称为GPIO，那么这个GPIO是何方神圣呢，GPIO的全称是General-purpose input/output，翻译过来也就是通用的输入输出接口，在这个单片机上面一共有四十个gpio接口。

单片机接口
=====

按照GPIO分类可以分为：

POWER，电源接口，下图这个开发板上面有一个3.3V和一个5V的一个电源接口，同时可以用来做输入或者输出电源，用来给单片机进行供电，或者复杂的接串联给整体项目中的所有电子元器件进行供电。

GND：电线接地端接口，上面的POWER是正极，那么GND就是电路中的负极，或者接地线路。

GPIO：就是可以作为通用的输入输出接口，可以用来和电子元器件进行交互，例如让一个LED灯亮起来，可以使用GPIO的输出高低位来进行让LED亮起来，高低位，则是给电子元器件进行释放电流或者关闭电流就是一个开关，这里不做过多解释，后面我们会做实验一步一步，让大家学会。

ADC：模数转换器，将输入的一个模拟信号的电压，转为数字，将输入的模拟电压或电流转换为表示电压或电流的大小的数字，获取到采集的数据，然后转为具体的数字，例如温度传感器，气压传感器等等，都是通过获取的模拟信号电压，转为具体的数字。

CONTROL:控制引脚，通常单片机带了一个EN的按钮用来重启单片机，如果将线路接入到这个EN引脚则可以控制单片机进行重启。

UART:串口通讯的一种，通用异步收发传输器(Universal Asynchronous Receiver/Transmitter)，同一套UART，具有两个引脚，一个是RX,一个是TX引脚，RX用来接收数据，TX引脚用来写入数据，可以看到R的全称是Receiver用来接收，T的全称是Transmitter，用来传输数据，如果我们有一个USB转TTL模块，则可以使用PC和我们的单片机进行通讯发送接收数据，忘了提一嘴，通常用来做串口通讯的时候，RX引脚必须接通讯方的TX引脚，TX引脚和RX引脚相接，即A和B两个单片机，需要进行UART串口通讯，那么A的RX接口必须和B的TX接口相接，A的TX接口必须和B的RX接口相接，A接收数据来自于B的TX，A的发送数据A的TX然后A写入到B的RX，除非电子元器件有特别改动，通常情况都是RX接TX，TX接RX。

SPI：是串行外设接口（Serial Peripheral Interface）的缩写，是一种高速的，全双工，同步的通信总线，并且在芯片的管脚上只占用四根线，分别是

     （1）MISO– Master Input Slave Output，主设备数据输入，从设备数据输出；

     （2）MOSI– Master Output Slave Input，主设备数据输出，从设备数据输入；

     （3）SCLK – Serial Clock，时钟信号，由主设备产生；

     （4）CS – Chip Select，从设备使能信号，由主设备控制。

      首先从线的数量上，SPI就比UART多了两条线，同时在设备上，SPI可以支持多设备的全双工，但是同步的通讯总线，性能上可能不如UART，但是在设备之间，SPI比UART具有更多的选择性，由一个SPI主设备，进行给从设备通过设定好的地址进行发送数据，可以使用同一个SPI线路，控制多个电子元器件。

I2C：一个多主从的串行总线，又叫I2C，是由飞利浦公司发明的通讯总线，属于半双工同步传输类型总线。IIC总线是非常常见的数据总线，仅仅使用两条线就能完成多机通讯，一条SCL时钟线，另外一条双向数据线SDA。两条线一个SDA用来传输数据，一条SCL时钟线，用来控制数据收发，应答等等。

TOUCH：ESP32板子上面带了十个不同的个电容式触摸板，

DAC：ADC的逆转，ADC为模拟信号转为数字的电子元器件，那DAC则为将数字信号转为模拟信号从而转为电压的一种元器件。

FLASH：esp32上面带了不同大小的内存，还可以自己进行分区，貌似有4M的，8M的，还有16的，用来存储一些小型文件，临时文件。

PWM：脉冲宽度调制，输入不同的波形，可以用这个控制一些电子元器件的速率或者快慢调制，通过对PWM高低电平的占空比不同，进行控制。

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012211558894-1559095667.jpg)

 以上为ESP32系列单片机的所有的GPIO功能讲解。后续我会带大家，去进行和不同的传感器进行交互来获取数据，单片机购买连接放在了最下方，我一直都是在这家店铺购买，并不是托，哈哈

     【手机天喵】https://m.tb.cn/h.UdRqdqk?tk=MoLs2BOBtEQ CZ3457 「ESP32开发板WIFI+蓝牙2合1双核ESP32核心板无线蓝牙开发板」  
       点击链接直接打开

 单片机结语
======

 其实针对于单片机，我所认为的是通过这些GPIO引脚去进行和电子元器件进行通讯，通过那些总线通讯方式进行收发数据，消息传递，同时底层是通过不同引脚的高低电平去进行控制。总之，单片机开发要懂一些常用的基础电路知识，不然很容易烧坏电路板，电子元器件，有钱可任意妄为，哈哈。

环境搭建
====

上面，我们对什么是单片机，以及单片机上面都有哪些引脚，都具备那些功能做了一个解释，那么接下来我们讲解一下ESP32开发环境在Arduino上面的一个配置。点击首选项

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012220137287-1521677490.png)

在此处可以配置项目文件夹，新建项目的存放文件夹，以及开发板的配置，点击附加的开发板网址，在弹出的界面中写入[https://dl.espressif.com/dl/package\_esp32\_index.json](https://dl.espressif.com/dl/package_esp32_index.json),这个网址，用来配置ESP32的相关开发包。然后可以在工具，开发板，开发板管理中搜索ESP32，然后点击安装即可，但是此处需要梯子才可以下载，否则下载会很慢，可以自己去GITHUB下载后然后放在Arduino本地新建一个hardware文件夹，里面文件夹名称路径就和我图的一样否则环境配置失败是无法读取配置信息。

github下载地址：[https://github.com/espressif/arduino-esp32](https://github.com/espressif/arduino-esp32),下载后将里面的文件放进hardware/espressif/esp32文件夹中去，然后点击tools/get.exe，会去下载配置环境等待结束就可以找到ESP32的开发板，这中间下载速度可能会很慢，我会把所有的东西一并上传，然后下载稍作修改后就可以使用了。

下载地址：[http://121.43.235.192:8082/s/Be88gki4eSFSMFs](http://121.43.235.192:8082/s/Be88gki4eSFSMFs)

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012220308591-59273489.png)

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012221150378-450458383.png)

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012221217750-805747157.png)

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012221227348-1399600963.png)

![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012221627575-2040674839.png)

    结语
======

其实使用VSCODE也可以开发这个在Arduino上配置好之后，在Vscode中下载Arduino插件即可使用Vscode进行配置，取决于开发者，同时VSC开发还可以直接使用原生c语言进行开发，

可以参考i乐鑫官网给出的步骤，[快速入门 - ESP32 - — ESP-IDF 编程指南 v4.4.2 文档 (espressif.com)](https://docs.espressif.com/projects/esp-idf/zh_CN/stable/esp32/get-started/index.html)，这个文档还是很不错，使用原生c语言进行开发，其难度也相较Arduino难一些，我是刚开始使用这个环境开发的，后来换成了Arduino相对简单一些，同时还可以像c#的nuget一样去搜索自己想要的库，同时也有例子，相对简单一些。

后续文章会玩一些简单的电子元器件，今年做智能小车一共做了三个，同时买的电子元器件也有很多，后续我会一一带大家去学习，去玩，然后有必要的话，也会直播做一些讲解，方便更好的入门学习，有兴趣的小伙伴可以持续关注，环境方面不懂的也可以随时加这个群找我，这个群，用来对单片机感兴趣的小伙伴的专属群，大家一起学习一起进步，目前玩的是ESP的板子，后面也会使用51或者STM系列的，有兴趣的可以一起研究，一起学习。

 ![](https://img2022.cnblogs.com/blog/2086997/202210/2086997-20221012222912121-1744169328.png)