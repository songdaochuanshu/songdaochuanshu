---
layout: post
title: "MySQL8.0 åˆ›å»ºç”¨æˆ·åŠæˆæƒ - çœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†"
date: "2023-03-24T01:07:51.897Z"
---
MySQL8.0 åˆ›å»ºç”¨æˆ·åŠæˆæƒ - çœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†
--------------------------

### ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°

*   å¯¹æ¥å¤–ç³»ç»Ÿæ—¶ï¼Œéœ€è¦ç»™å…¶ä½™ç³»ç»Ÿå¼€æ”¾è®¿é—®æƒé™
*   æœ¬ç³»ç»Ÿä¸­ï¼Œåˆ†æƒé™ç®¡ç†æ•°æ®ï¼Œé˜²æ­¢rootæƒé™åˆ åº“è·‘è·¯ğŸ˜‚

### mysqlç‰ˆæœ¬

MySql8.0+

### å…·ä½“æ­¥éª¤

#### 1.å‘½ä»¤è¡Œè¿›å…¥MySql

> ä½¿ç”¨ mysql -u#UserName -p#PassWord å‘½ä»¤è¿›å…¥MySql

**#UserName** ä»£è¡¨ä½ çš„MySqlç”¨æˆ·å  
  
**#PassWord** ä»£è¡¨ä½ çš„MySqlå¯†ç 

ğŸ¶æœ¬ç‹—çš„ç”¨æˆ·åæ˜¯root,å¯†ç æ˜¯root

    mysql -uroot -proot
    

![å‘½ä»¤è¡Œè¿›å…¥MySql.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3462676b3773415f9284de7eb2f999a1~tplv-k3u1fbpfcp-zoom-1.image)

#### 2.è¿›å…¥æ•°æ®åº“

å¦‚æœæ²¡æœ‰åˆ›å»ºæ•°æ®åº“åˆ™å…ˆä½¿ç”¨å‘½ä»¤,è‹¥å·²å­˜åœ¨æ•°æ®åº“åˆ™è·³è¿‡æ­¤æ­¥éª¤

> create database #databaseName;

**#databaseName** ä»£è¡¨ä½ æ“ä½œçš„æ•°æ®åº“

ğŸ¶æœ¬ç‹—è¦åˆ›å»ºçš„æ˜¯b2bæ•°æ®åº“,åˆ‡è®°åŠ ä¸Šåˆ†å·;

    create database b2b;
    

> use databaseName;

**#databaseName** ä»£è¡¨ä½ æ“ä½œçš„æ•°æ®åº“

ğŸ¶æœ¬ç‹—è¦æ“ä½œçš„æ˜¯b2bæ•°æ®åº“,åˆ‡è®°åŠ ä¸Šåˆ†å·;

    use b2b;
    

![è¿›å…¥æ•°æ®åº“.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7fad891099e4707b5ab4b8544c14d74~tplv-k3u1fbpfcp-zoom-1.image)

#### 3.åˆ›å»ºç”¨æˆ·

> create user '#userName'@'#host' identified by '#passWord';

**#userName** ä»£è¡¨ä½ è¦åˆ›å»ºçš„æ­¤æ•°æ®åº“çš„æ–°ç”¨æˆ·è´¦å·  
  
**#host** ä»£è¡¨è®¿é—®æƒé™ï¼Œå¦‚ä¸‹

*   %ä»£è¡¨é€šé…æ‰€æœ‰hoståœ°å€æƒé™(å¯è¿œç¨‹è®¿é—®)
*   localhostä¸ºæœ¬åœ°æƒé™(ä¸å¯è¿œç¨‹è®¿é—®)
*   æŒ‡å®šç‰¹æ®ŠIpè®¿é—®æƒé™ å¦‚10.138.106.102

**#passWord** ä»£è¡¨ä½ è¦åˆ›å»ºçš„æ­¤æ•°æ®åº“çš„æ–°ç”¨å¯†ç 

ğŸ¶æœ¬ç‹—è¦åˆ›å»ºçš„ç”¨æˆ·æ˜¯testUserï¼Œå¯†ç æ˜¯Haier...123,å¹¶ä¸”å¯è¿œç¨‹è®¿é—®  
âš ï¸å¯†ç å¼ºåº¦éœ€è¦å¤§å°å†™åŠæ•°å­—å­—æ¯ï¼Œå¦åˆ™ä¼šæŠ¥å¯†ç å¼ºåº¦ä¸ç¬¦åˆ  
âš ï¸ç”¨æˆ·åå¦‚æœé‡å¤ï¼Œä¼šæŠ¥é”™ERROR 1396 (HY000): Operation CREATE USER failed for 'testUser'@'%'

    create user 'testUser'@'%' identified by 'Haier...123';
    

![åˆ›å»ºç”¨æˆ·.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6f5091b297524f70bad17ac6ffa874f2~tplv-k3u1fbpfcp-zoom-1.image)

#### 4.æŸ¥çœ‹ç”¨æˆ·

è¿›å…¥mysqlç³»ç»Ÿæ•°æ®åº“

> use mysql;

æŸ¥çœ‹ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯

> select host, user, authentication\_string, plugin from user;

    use mysql; 
    select host, user, authentication_string, plugin from user;
    

ğŸ¶è‹¥å±•ç¤ºçš„ä¿¡æ¯ä¸­æœ‰åˆšåŠ å…¥çš„ç”¨æˆ·testUserï¼Œåˆ™æ·»åŠ æˆåŠŸã€‚åˆ‡è®°æŸ¥çœ‹å®Œè¦åˆ‡æ¢å›æ“ä½œçš„æ•°æ®åº“,æœ¬ç‹—éœ€è¦æ“ä½œçš„æ˜¯b2b

    use b2b; 
    

![æŸ¥çœ‹ç”¨æˆ·.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/807d4fe7a1f142b7b4d854dddfd74c8c~tplv-k3u1fbpfcp-zoom-1.image)

#### 5.ç”¨æˆ·æˆæƒ

> grant #auth on #databaseName.#table to '#userName'@'#host';

**#auth** ä»£è¡¨æƒé™ï¼Œå¦‚ä¸‹

*   all privileges å…¨éƒ¨æƒé™
*   select æŸ¥è¯¢æƒé™
*   select,insert,update,delete å¢åˆ æ”¹æŸ¥æƒé™
*   select,\[...\]å¢...ç­‰æƒé™

**#databaseName** ä»£è¡¨æ•°æ®åº“å  
**#table** ä»£è¡¨å…·ä½“è¡¨ï¼Œå¦‚ä¸‹

*   \*ä»£è¡¨å…¨éƒ¨è¡¨
*   A,B ä»£è¡¨å…·ä½“A,Bè¡¨

**#userName** ä»£è¡¨ç”¨æˆ·å

**#host** ä»£è¡¨è®¿é—®æƒé™ï¼Œå¦‚ä¸‹

*   %ä»£è¡¨é€šé…æ‰€æœ‰hoståœ°å€æƒé™(å¯è¿œç¨‹è®¿é—®)
*   localhostä¸ºæœ¬åœ°æƒé™(ä¸å¯è¿œç¨‹è®¿é—®)
*   æŒ‡å®šç‰¹æ®ŠIpè®¿é—®æƒé™ å¦‚10.138.106.102

ğŸ¶æœ¬ç‹—èµ‹äºˆb2bæ•°æ®åº“area\_codeè¡¨å¢åˆ æ”¹å·®æƒé™

    grant select,insert,update,delete on b2b.area_code to 'testUser'@'%';
    

![ç”¨æˆ·æˆæƒ.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15a1e1d4b8d543929a9099b183f47c01~tplv-k3u1fbpfcp-zoom-1.image)

#### 6.åˆ·æ–°

ğŸ”¥åˆ‡è®°ä¸€å®šè¦åˆ·æ–°æˆæƒæ‰å¯ç”Ÿæ•ˆ

> flush privileges;

![åˆ·æ–°.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea86e03d05eb4111889e55c283a1c43b~tplv-k3u1fbpfcp-zoom-1.image)

#### 7.æŸ¥çœ‹ç”¨æˆ·æƒé™

> show grants for '#userName'@'#host';

**#userName** ä»£è¡¨ç”¨æˆ·å

**#host** ä»£è¡¨è®¿é—®æƒé™ï¼Œå¦‚ä¸‹

*   %ä»£è¡¨é€šé…æ‰€æœ‰hoståœ°å€æƒé™(å¯è¿œç¨‹è®¿é—®)
*   localhostä¸ºæœ¬åœ°æƒé™(ä¸å¯è¿œç¨‹è®¿é—®)
*   æŒ‡å®šç‰¹æ®ŠIpè®¿é—®æƒé™ å¦‚10.138.106.102

ğŸ¶æœ¬ç‹—è¦æŸ¥çœ‹çš„æ˜¯testUser

    show grants for 'testUser'@'%';
    

![æŸ¥çœ‹ç”¨æˆ·æƒé™.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9902c46d52a049f0805387a752ea6821~tplv-k3u1fbpfcp-zoom-1.image)

#### 8.éªŒè¯

> ä½¿ç”¨navicatç­‰å¯è§†åŒ–å·¥å…·éªŒè¯

![éªŒè¯.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ae6babaf3f8444dadafdf76c89f7164~tplv-k3u1fbpfcp-zoom-1.image)

#### 9.æ’¤é”€æƒé™

> revoke #auth on #databaseName.#table from '#userName'@'#host';

**#auth** ä»£è¡¨æƒé™ï¼Œå¦‚ä¸‹

*   all privileges å…¨éƒ¨æƒé™
*   select æŸ¥è¯¢æƒé™
*   select,insert,update,delete å¢åˆ æ”¹æŸ¥æƒé™
*   select,\[...\]å¢...ç­‰æƒé™

**#databaseName** ä»£è¡¨æ•°æ®åº“å  
**#table** ä»£è¡¨å…·ä½“è¡¨ï¼Œå¦‚ä¸‹

*   \*ä»£è¡¨å…¨éƒ¨è¡¨
*   A,B ä»£è¡¨å…·ä½“A,Bè¡¨

**#userName** ä»£è¡¨ç”¨æˆ·å

**#host** ä»£è¡¨è®¿é—®æƒé™ï¼Œå¦‚ä¸‹

*   %ä»£è¡¨é€šé…æ‰€æœ‰hoståœ°å€æƒé™(å¯è¿œç¨‹è®¿é—®)
*   localhostä¸ºæœ¬åœ°æƒé™(ä¸å¯è¿œç¨‹è®¿é—®)
*   æŒ‡å®šç‰¹æ®ŠIpè®¿é—®æƒé™ å¦‚10.138.106.102

ğŸ¶æœ¬ç‹—è¦æ’¤é”€testUserç”¨æˆ·å¯¹b2bæ•°æ®åº“ä¸­çš„area\_codeè¡¨çš„å¢åˆ æ”¹å·®æƒé™

    revoke select,insert,update,delete on b2b.area_code from 'testUser'@'%';
    

ğŸ¶æœ¬ç‹—å†æŸ¥çœ‹ç”¨æˆ·æƒé™

    show grants for 'testUser'@'%';
    

![æ’¤é”€æƒé™.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/357c592cc2e048609dec24659194ac8d~tplv-k3u1fbpfcp-zoom-1.image)

#### 10.åˆ é™¤ç”¨æˆ·

> drop user '#userName'@'#host';

**#userName** ä»£è¡¨ç”¨æˆ·å

**#host** ä»£è¡¨è®¿é—®æƒé™ï¼Œå¦‚ä¸‹

*   %ä»£è¡¨é€šé…æ‰€æœ‰hoståœ°å€æƒé™(å¯è¿œç¨‹è®¿é—®)
*   localhostä¸ºæœ¬åœ°æƒé™(ä¸å¯è¿œç¨‹è®¿é—®)
*   æŒ‡å®šç‰¹æ®ŠIpè®¿é—®æƒé™ å¦‚10.138.106.102

ğŸ¶æœ¬ç‹—è¦åˆ é™¤ç”¨æˆ·æ˜¯testUser

    drop user 'testUser'@'%';
    

![åˆ é™¤ç”¨æˆ·.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9693d6887e64f6e8ee5517cfc249f50~tplv-k3u1fbpfcp-zoom-1.image)  
æˆ‘æ˜¯JavaDogï¼Œè°¢è°¢åšå‹è€å¿ƒçœ‹å®Œ, æŠ½ç©ºæ¥æˆ‘ç‹—çªğŸ•ç…ç…å‘— [blog.javadog.net](https://blog.javadog.net)

posted on 2023-03-23 20:06Â  [JavaDogç¨‹åºç‹—](https://www.cnblogs.com/javadog-net/)Â  é˜…è¯»(56)Â  è¯„è®º(0)Â  [ç¼–è¾‘](https://i.cnblogs.com/EditPosts.aspx?postid=17249269)Â  [æ”¶è—](javascript:void(0))Â  [ä¸¾æŠ¥](javascript:void(0))