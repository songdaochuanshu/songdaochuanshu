---
layout: post
title: "数据库相关知识点提要"
date: "2023-01-28T08:19:25.661Z"
---
数据库相关知识点提要
==========

关键词：
====

DESC
----

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128151540557-653578544.png)

LIMIT
-----

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128151659068-1586212379.png)

上面的limit只有一个参数值，将表中的前三条数据查询出来

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128151723460-2127622373.png)

 上面的SQL语句,limit有两个参数，第一个参数表示从第几行数据开始查，第二个参数表示查几条数据，“limit 3,2”表示从第四行数据开始，取两条数据。

（NOT）LIKE
---------

like ''%X%'和'X%'以及'%X'的区别

'abc%'找以abc开始的；

'%abc' 找以abc结尾的；  
'%abc%'找字符串里含有abc的；  
结果肯定不同！

LEFT / RIGHT / INNER JOIN
-------------------------

JOIN默认为inner JOIN

左（外）连接以左表为主

右（外）连接以右表为主

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128152254919-170660723.png)

EXISTS
------

举个栗子：  
Oracle自带的EMP、DEPT表查询，部门编号小于30的所有员工信息

Oracle语句：  
select \* from emp where deptno in (select deptno from dept where deptno <30);

select \* from emp e where exists (  
select \* from dept d where deptno <30 and d.deptno = e.deptno ；  
);

1.  首先执行外查询 select \* from emp e，然后取出第一行数据，将数据中的部门编号传给内查询
2.  内查询执行select \* from dept d where deptno <30 and d.deptno = e.deptno ；看是否查询到结果，查询到，则返回true，否则返回false；比如传来的是30，则不满足deptno <30 and d.deptno = 30，返回false
3.  内查询返回true，则该行数据保留，作为结果显示；反之，返回false，则不作结果显示
4.  逐行查询，看内查询是否查到数据，是否保留作结果显示

DELIMMITER
----------

其实就是告诉mysql解释器，该段命令是否已经结束了，mysql是否可以执行了。默认情况下，delimiter是分号;。在命令行客户端中，如果有一行命令以分号结束，那么回车后，mysql将会执行该命令。但有时候，不希望MySQL这么做。在为可能输入较多的语句，且语句中包含有分号。   
这种情况下，就需要 事先把delimiter换成其它符号，如//或$$。

PROCEDURE
---------

存储过程；程序

INSERT INTO 
------------

插入记录语句

INSERT INTO 表名称 VALUES (值1, 值2,....)

INSERT INTO table\_name (列1, 列2,...) VALUES (值1, 值2,....)

INSERT INTO Persons (LastName, Address) VALUES ('Wilson', 'Champs-Elysees')

CURSOR
------

游标用declare 语句创建。DECLARE 命名游标，并定义相应地select 语句，根据需要带where 和其他子句。

下面在存储过程中使用declare 定义一个游标,存储过程完成后游标也相应消失。

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154054805-1563137729.png)

打开和关闭游标

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154105584-1896226521.png) ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154110922-1504114887.png)

 在处理open 语句时执行查询，存储检索出地数据以供浏览和滚动游标处理后，要关闭游标

close会释放游标使用的所有内部内存和资源，所有游标使用后都要进行关闭操作

在一个游标关闭后，如果没有重新打开，则不能使用它。但是使用声明过的游标不需要再次声明，使用open 语句打开就行。

如果不明确的关闭游标，mysql 将会在到达end 语句的时候自动关闭它。

相关连接👇

[MySQL ------ 游标（CURSOR）（二十六） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/150586472)

FETCH
-----

使用游标数据的关键词

在一个游标被打开后，可以使用 fetch 语句分别访问它的每一行。

fetch 指定检索什么数据（所需的列），检索出来的数据存储在什么地方。还向前移动游标中的内部指针，使下一条fetch语句检索下一行（避免重复读取一行）。

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154231544-1010641931.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154519515-1906866165.png)

TRIGGER
-------

触发器的创建

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128154624119-1234285434.png)

表名：表示触发器监控的对象。  
BEFORE|AFTER：表示触发的时间。BEFORE 表示在事件之前触发；AFTER 表示在事件之后触发。  
INSERT|UPDATE|DELETE：表示触发的事件。  
INSERT 表示插入记录时触发；  
UPDATE 表示更新记录时触发；  
DELETE 表示删除记录时触发。  
触发器执行的语句块：可以是单条SQL语句，也可以是由BEGIN…END结构组成的复合语句块。

相关连接👇  
[(20条消息) MySQL—— 17 触发器\_有什么奇怪！的博客-CSDN博客](https://blog.csdn.net/weixin_45483328/article/details/122328260)

WHERE 1=2
---------

表示条件为否

练习题：
====

1.排序与分页
-------

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155121585-18816996.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155140358-31525173.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155152812-1608235134.png)

2.多表查询
------

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155241150-1598722269.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155301700-1892772066.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155329161-938210689.png)

3.视图![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155352721-430450569.png)
------------------------------------------------------------------------------------------------

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155404694-1617973573.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155429172-848097293.png)

 4.存储过程
-------

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155452426-1797778817.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155510250-426583595.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155530884-1276783922.png)

 5.存储函数
-------

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155602989-846546377.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155641780-1734917981.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155705485-2076074523.png)

6.流程控制![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155729817-1399193119.png)
---------------------------------------------------------------------------------------------------

7.游标的使用
-------

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155759456-1911617150.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155821541-194044996.png)

 8.触发器
------

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155852006-325732322.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155906375-863823141.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128155920211-1193902449.png)

参考答案：

1.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160004989-1819019717.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160018333-397429893.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160026300-1848375811.png)

 2.![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160109826-1708488157.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160123832-329830996.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160133834-1797286482.png)

3.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160152157-1380053797.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160222466-444649181.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160235346-1597850111.png)

 4.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160258362-537890564.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160311434-1200275647.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160322468-1105066474.png)

 5.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160350236-1015471898.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160401414-126832514.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160415195-1957897793.png)

 6.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160429559-900035392.png)

 7.![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160441726-1165124159.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160522369-318370630.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160540642-1004560979.png)

 8.

![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160558854-742777278.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160610502-754715687.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160618896-1838204871.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160628466-1903520998.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202301/2986763-20230128160637461-1243725128.png)

hello my world

本文来自博客园，作者：[slowlydance2me](https://www.cnblogs.com/slowlydance2me/)，转载请注明原文链接：[https://www.cnblogs.com/slowlydance2me/p/17070517.html](https://www.cnblogs.com/slowlydance2me/p/17070517.html)