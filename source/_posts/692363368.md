---
layout: post
title: "CSS æ¸å˜é”¯é½¿æ¶ˆå¤±æœ¯"
date: "2022-10-27T08:27:01.563Z"
---
CSS æ¸å˜é”¯é½¿æ¶ˆå¤±æœ¯
===========

åœ¨ CSS ä¸­ï¼Œæ¸å˜ï¼ˆGradientï¼‰å¯è°“æ˜¯æœ€ä¸ºå¼ºå¤§çš„ä¸€ä¸ªå±æ€§ä¹‹ä¸€ã€‚

ä½†æ˜¯ï¼Œç»å¸¸æœ‰åŒå­¦åœ¨ä½¿ç”¨æ¸å˜çš„è¿‡ç¨‹ä¸­ä¼šé‡åˆ°æ¸å˜å›¾å½¢äº§ç”Ÿçš„é”¯é½¿é—®é¢˜ã€‚

ä½•ä¸ºæ¸å˜é”¯é½¿ï¼Ÿ
-------

é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯æ¸å˜å›¾å½¢äº§ç”Ÿçš„é”¯é½¿å‘¢ï¼Ÿ

ç®€å•çš„ä¸€ä¸ª DEMOï¼š

    <div></div>
    

    div {
        width: 500px;
        height: 100px;
        background: linear-gradient(37deg), #000 50%, #f00 50%, #f00 0);
    }
    

æ•ˆæœå¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/732b451b4a3742e688cb556239c28319~tplv-k3u1fbpfcp-zoom-1.image)

å…¶å®ï¼Œé”¯é½¿æ„Ÿå·²ç»éå¸¸æ˜æ˜¾äº†ï¼Œæˆ‘ä»¬å†æ”¾å¤§äº†çœ‹ï¼Œå…¶å†…éƒ¨å…¶å®æ˜¯è¿™æ ·çš„ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd0c5e7f58904edb923fc54d46abfc62~tplv-k3u1fbpfcp-zoom-1.image)

åˆæˆ–è€…æ˜¯è¿™æ ·ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2f46cb008d5e4bc0b87d70349496a307~tplv-k3u1fbpfcp-zoom-1.image)

æœ‰æ„æ€çš„æ˜¯ï¼Œé”¯é½¿ç°è±¡åœ¨ DPR ä¸º 1 çš„å±å¹•ä¸‹ç‰¹åˆ«æ˜æ˜¾ï¼Œè€Œåœ¨ä¸€äº›é«˜æ¸…å±ï¼ˆdpr > 1ï¼‰çš„å±å¹•ä¸‹ï¼Œæ„Ÿå—ä¸ä¼šé‚£ä¹ˆæ˜æ˜¾ã€‚

> DPRï¼ˆDevice Pixel Ratioï¼‰ä¸ºè®¾å¤‡åƒç´ æ¯”ï¼ŒDPR = ç‰©ç†åƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œè®¾å¤‡åƒç´ æ¯”æè¿°çš„æ˜¯æœªç¼©æ”¾çŠ¶æ€ä¸‹ï¼Œç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ çš„åˆå§‹æ¯”ä¾‹å…³ç³»ã€‚

é‚£ä¹ˆä¸ºå•¥ä¼šäº§ç”Ÿé”¯é½¿æ„Ÿå‘¢ï¼Ÿ

ä¼ ç»Ÿç½‘é¡µçš„å‘ˆç°æ˜¯åŸºäºåƒç´ å•ä½çš„ï¼Œå¯¹äºè¿™ç§ä¸€ç§é¢œè‰²ç›´æ¥è¿‡æ¸¡å¦å¤–ä¸€ç§é¢œè‰²çŠ¶æ€çš„å›¾ç‰‡ï¼Œå®¹æ˜“å¯¼è‡´å¯è§†è´¨é‡ä¸‹é™ï¼ˆä¿¡æ¯å¤±çœŸï¼‰ã€‚å› è€Œå¯¹äºæ™®é€šçš„æ¸å˜å…ƒç´ ï¼Œåƒæ˜¯ä¸Šè¿°å†™æ³•ï¼Œäº§ç”Ÿäº†é”¯é½¿ï¼Œè¿™æ˜¯éå¸¸å¸¸è§çš„åœ¨ä½¿ç”¨æ¸å˜è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªæ£˜æ‰‹é—®é¢˜ã€‚

ç®€å•çš„è§£å†³åŠæ³•
-------

è§£å†³å¤±çœŸçš„é—®é¢˜æœ‰å¾ˆå¤šã€‚è¿™é‡Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä¸è¦ç›´æ¥è¿‡æ¸¡ï¼Œä¿ç•™ä¸€ä¸ªæå°çš„æ¸å˜è¿‡æ¸¡ç©ºé—´ã€‚

ä¸Šè¿°çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•æ”¹é€ ä¸€ä¸‹ï¼š

    div {
        width: 500px;
        height: 100px;
      - background: linear-gradient(37deg), #000 50%, #f00 50%, #f00);
      + background: linear-gradient(37deg), #000 49.5%, #f00 50.5%, #f00);
    }
    

ä»”ç»†çœ‹å…¶ä¸­çš„å˜åŒ–ï¼Œæˆ‘ä»¬ä» 50% --> 50% çš„ç›´æ¥è¿‡æ¸¡ï¼Œå˜åŒ–æˆé¢„ç•™äº† 1% çš„æ¸å˜è¿‡æ¸¡ç©ºé—´ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d55ff919a8d3402fbd2ab69a9f7c93a4~tplv-k3u1fbpfcp-zoom-1.image)

å¯ä»¥çœ‹åˆ°ï¼Œæ•ˆæœç«‹é©¬æœ‰äº†å¤§å¹…æå‡ï¼

å½“ç„¶ï¼Œå¦‚æœä¸æƒ³ä¿®æ”¹åŸä»£ç ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å åŠ ä¸€å±‚ä¼ªå…ƒç´ å®ç°ï¼Œè¿™é‡Œç»™å‡º 3 ç§æ–¹å¼çš„å¯¹æ¯”å›¾ï¼š

    <div></div>
    <div class="gradient"></div>
    <div class="pesudo"></div>
    

    
    :root {
        --deg: 37deg;
        --c1: #000;
        --c2: #f00;
        --line-width: 0.5px;
    }
    div {
        margin: auto;
        width: 500px;
        height: 100px;
        background: linear-gradient(
            var(--deg),
            var(--c1) 50%,
            var(--c2) 50%,
            var(--c2) 0
        );
    }
    // æ–¹æ³•ä¸€ï¼š
    .gradient {
        background: linear-gradient(
            var(--deg),
            var(--c1),
            var(--c1) calc(50% - var(--line-width)),
            var(--c2) calc(50% + var(--line-width)),
            var(--c2) 0
        );
    }
    // æ–¹æ³•äºŒï¼š
    .pesudo {
        position: relative;
    
        &::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                var(--deg),
                transparent,
                transparent calc(50% - var(--line-width)),
                var(--c1) calc(50% - var(--line-width)),
                var(--c2) calc(50% + var(--line-width)),
                transparent calc(50% + var(--line-width)),
                transparent
            );
        }
    }
    

é€šè¿‡ä¼ªå…ƒç´ å åŠ çš„æ„æ€æ˜¯ï¼Œåœ¨äº§ç”Ÿé”¯é½¿çš„åœ°æ–¹ï¼Œå®ç°ä¸€ä¸ªå¹³æ»‘è¿‡æ¸¡è¿›è¡Œè¦†ç›–ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12fad719f51c4f2abd70f9ea6cc71f3f~tplv-k3u1fbpfcp-zoom-1.image)

æ•ˆæœå¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/adc5f907aa914837ab7b5da46ef7d2b2~tplv-k3u1fbpfcp-zoom-1.image)

[CodePen Demo -- æ¶ˆé™¤ Gradient é”¯é½¿](https://codepen.io/Chokcoco/pen/JjZodQW?editors=1100)

åˆ’é‡ç‚¹ï¼**æ­¤æ–¹æ³•é€‚ç”¨äºçº¿æ€§æ¸å˜ã€å¾„å‘æ¸å˜ã€è§’å‘æ¸å˜**ï¼Œæ˜¯æœ€ä¸ºç®€å•çš„æ¶ˆé™¤ CSS é”¯é½¿çš„æ–¹å¼ã€‚

æ›´ä¸ºé«˜é˜¶çš„é”¯é½¿æ¶ˆé™¤æ³•
----------

å½“ç„¶ï¼Œä¹Ÿè¿˜æœ‰å…¶ä»–æ›´ä¸ºé«˜é˜¶çš„é”¯é½¿æ¶ˆé™¤æ³•ã€‚

åœ¨[ä»¿ç”Ÿç‹®å­](https://juejin.cn/user/289926800227694)çš„è¿™ç¯‡æ–‡ç« ä¸­ -- [CSS å¹»æœ¯ | æŠ—é”¯é½¿](https://juejin.cn/post/6844904180776173581)ï¼Œè¿˜ä»‹ç»äº†å¦å¤–ä¸€ç§æœ‰æ„æ€çš„æ¶ˆé™¤é”¯é½¿çš„æ–¹å¼ã€‚ä»¥ä¸‹å†…å®¹ï¼Œéƒ¨åˆ†æ‘˜å½•è‡³è¯¥æ–‡ç« ã€‚

æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ç§**è¾¹ç¼˜é”¯é½¿è¾¹ç¼˜->é‡å»ºé”¯é½¿è¾¹ç¼˜**çš„é”¯é½¿æ¶ˆé™¤æ–¹æ³•ã€‚

æˆ‘ä»¬éœ€è¦åšçš„ï¼Œå°±æ˜¯åœ¨é”¯é½¿å¤„ï¼Œå åŠ ä¸Šå¦å¤–ä¸€å±‚å†…å®¹ï¼Œè®©é”¯é½¿æ„Ÿä¸é‚£ä¹ˆå¼ºçƒˆã€‚ç§°ä¸ºåƒç´ åç§»æŠ—é”¯é½¿ï¼ˆPixel-Offset Anti-Aliasingï¼ŒPOAAï¼‰ã€‚

åœ¨ [Implementing FXAA](https://link.juejin.cn/?target=http%3A%2F%2Fblog.simonrodriguez.fr%2Farticles%2F30-07-2016_implementing_fxaa.html) è¿™ç¯‡åšå®¢ä¸­ï¼Œè§£é‡Šäº† FXAA å…·ä½“æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚å¯¹äºä¸€ä¸ªå·²ç»è¢«æ‰¾åˆ°çš„å›¾å½¢è¾¹ç¼˜ï¼Œç»è¿‡ FXAA å¤„ç†åä¼šå˜æˆè¿™æ ·ï¼Œè§ä¸‹ä¸¤å¹…å›¾ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3435dfb51fe4099a25036045b0379f1~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b733d5f42654c448eebfddbb2a21b27~tplv-k3u1fbpfcp-zoom-1.image)

> FXAAï¼ˆFast Approximate Anti-Aliasingï¼‰ï¼Œå¿«é€Ÿè¿‘ä¼¼æŠ—é”¯é½¿ï¼Œå®ƒæ‰¾åˆ°ç”»é¢ä¸­æ‰€æœ‰å›¾å½¢çš„è¾¹ç¼˜å¹¶è¿›è¡Œå¹³æ»‘å¤„ç†ã€‚

æˆ‘ä»¬å¯ä»¥è½»æ˜“æ‰¾åˆ°æ‰¾åˆ°æ¸å˜çš„è¾¹ç¼˜åœ°æ–¹ï¼Œå°±æ˜¯é‚£äº›æ¸å˜çš„é¢œè‰²æ”¹å˜çš„åœ°æ–¹ã€‚æœ‰äº†è¾¹ç¼˜ä¿¡æ¯åï¼Œæ¥ç€å°±è¦é‡å»ºè¾¹ç¼˜ã€‚é‡å»ºè¾¹ç¼˜ä¹Ÿè®¸å¯ä»¥å†æ‹†åˆ†ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

*   éœ€è¦é€šè¿‡æŸç§æ–¹æ³•å¾—åˆ°é€æ˜åº¦çš„ç‚¹
*   è¿™äº›ç‚¹éœ€è¦èƒ½å¤Ÿç»„æˆçº¿æ®µ
*   çº¿æ®µå®Œå…¨å»åˆæˆ‘ä»¬çš„ Gradient
*   ä½¿çº¿æ®µè¦†ç›–åœ¨ Gradient çš„ä¸Šä¸€å±‚ä»¥åº”ç”¨æˆ‘ä»¬çš„ä¿®æ”¹

è¿™å°±æ˜¯å¤§ä½“æ€è·¯ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å‚ä¸æµè§ˆå™¨çš„æ¸²æŸ“ï¼Œè€Œæ˜¯é€šè¿‡åƒ FXAA ä¸€æ ·çš„åå¤„ç†çš„æ–¹æ³•ã€‚åœ¨å·²æ¸²æŸ“çš„å›¾åƒä¸Šåšæ–‡ç« ã€‚

æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€å¼ å›¾ï¼š

    .circle-con {
        $c1: #cd3f4f;
        $c2: #e6a964;
        position: relative;
        height: 300px;
        background-image: repeating-radial-gradient(
            circle at 0% 50%, 
            $c1 0, 
            $c2 50px
        );
    }
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab08a0cdce894732b7cdcdbac3e0a782~tplv-k3u1fbpfcp-zoom-1.image)

è¾¹ç¼˜ä¿¡æ¯å¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/19806520308c40d898bace44f4a369a8~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯åœ¨å®ƒçš„è¾¹ç¼˜å¤„ï¼Œåˆ©ç”¨æ¸å˜å†ç”Ÿæˆä¸€æ®µæ¸å˜ï¼Œé€šè¿‡å‡†ç¡®å åŠ ï¼Œæ¶ˆé™¤æ¸å˜ï¼åŸç†å›¾å¦‚ä¸‹ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/043e6bb9fdc743ad9bc56d4370aba9e5~tplv-k3u1fbpfcp-zoom-1.image)

åŸç†å¯è¡Œï¼Œä½†æ˜¯å®æ“èµ·æ¥éå¸¸ä¹‹å¤æ‚ï¼Œè®¡ç®—é‡ä¼šæ¯”è¾ƒå¤§ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥æ‹¿è¿™æ®µä»£ç å°è¯•ä¸€ä¸‹ï¼š

    .repeat-con {
        --c1: #cd3f4f;
        --c2: #e6a964;
        --c3: #5996cc;
        position: relative;
        height: 300px;
        background-image: repeating-linear-gradient(
            var(--deg),
            var(--c1),
            var(--c1) 10px,
            var(--c2) 10px,
            var(--c2) 40px,
            var(--c1) 40px,
            var(--c1) 50px,
            var(--c3) 50px,
            var(--c3) 80px
        );
    
        &.antialiasing {
            &:after {
                --offsetX: 0.4px;
                --offsetY: -0.1px;
                --dark-alpha: 0.3;
                --light-alpha: 0.6;
                --line-width: 0.6px;
                content: '';
                position: absolute;
                top: var(--offsetY);
                left: var(--offsetX);
                width: 100%;
                height: 100%;
                opacity: 0.5;
                background-image: repeating-linear-gradient(
                    var(--deg),
                    var(--c3),
                    transparent calc(0px + var(--line-width)),
                    transparent calc(10px - var(--line-width)),
                    var(--c2) 10px,
                    var(--c1) 10px,
                    transparent calc(10px + var(--line-width)),
                    transparent calc(40px - var(--line-width)),
                    var(--c1) 40px,
                    var(--c2) 40px,
                    transparent calc(40px + var(--line-width)),
                    transparent calc(50px - var(--line-width)),
                    var(--c3) 50px,
                    var(--c1) 50px,
                    transparent calc(50px + var(--line-width)),
                    transparent calc(80px - var(--line-width)),
                    var(--c1) 80px
                );
            }
        }
    }
    

æœ€å
--

ç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬æ–‡ä»‹ç»äº†å‡ ç§ CSS ä¸­å¯è¡Œçš„æ¶ˆé™¤æ¸å˜é”¯é½¿çš„æ–¹æ³•ã€‚

å¥½äº†ï¼Œæœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ© ğŸ˜ƒ

æƒ³ Get åˆ°æœ€æœ‰æ„æ€çš„ CSS èµ„è®¯ï¼Œåƒä¸‡ä¸è¦é”™è¿‡æˆ‘çš„å…¬ä¼—å· -- **iCSSå‰ç«¯è¶£é—»** ğŸ˜„

æ›´å¤šç²¾å½© CSS æŠ€æœ¯æ–‡ç« æ±‡æ€»åœ¨æˆ‘çš„ [Github -- iCSS](https://github.com/chokcoco/iCSS) ï¼ŒæŒç»­æ›´æ–°ï¼Œæ¬¢è¿ç‚¹ä¸ª star è®¢é˜…æ”¶è—ã€‚

å¦‚æœè¿˜æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…å»ºè®®ï¼Œå¯ä»¥å¤šå¤šäº¤æµï¼ŒåŸåˆ›æ–‡ç« ï¼Œæ–‡ç¬”æœ‰é™ï¼Œæ‰ç–å­¦æµ…ï¼Œæ–‡ä¸­è‹¥æœ‰ä¸æ­£ä¹‹å¤„ï¼Œä¸‡æœ›å‘ŠçŸ¥ã€‚