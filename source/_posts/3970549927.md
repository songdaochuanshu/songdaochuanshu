---
layout: post
title: "gitç›¸å…³é—®é¢˜è§£æï¼Œä½ æƒ³è¦çš„éƒ½æœ‰ğŸ”¥"
date: "2022-12-20T12:30:30.828Z"
---
gitç›¸å…³é—®é¢˜è§£æï¼Œä½ æƒ³è¦çš„éƒ½æœ‰ğŸ”¥
==================

æˆ‘æ˜¯ç”œç‚¹ccï¼Œgitç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œåªè¦æ˜¯è½¯ä»¶å¼€å‘äººå‘˜éƒ½ä¼šä½¿ç”¨åˆ°ï¼Œäº†è§£gitçš„ä½¿ç”¨ä¼šå¸¦æ¥äº‹åŠåŠŸå€çš„æ•ˆæœï¼Œgitç›¸å…³é—®é¢˜æœ€å…¨è§£æğŸ”¥

> å®˜ç½‘æ–‡æ¡£ï¼š [https://git-scm.com/doc](https://git-scm.com/doc)

æœ¬åœ°å…‹éš†è¿œç¨‹ä»£ç ä»“åº“
==========

1.  git clone åœ°å€

**æœ¬åœ°åŒæ­¥å…¨é‡å†å²æ•°æ®**ï¼Œå…‹éš†æ‰€æœ‰æ–‡ä»¶çš„å†å²è®°å½•

2.  git clone åœ°å€ â€”depth 1

**æœ¬åœ°åŒæ­¥é»˜è®¤åˆ†æ”¯æœ€è¿‘`n`æ¬¡çš„commitä¿¡æ¯**ï¼Œå…‹éš†é»˜è®¤åˆ†æ”¯masteræœ€è¿‘ä¸€æ¬¡commit

3.  git clone åœ°å€ â€”depth 1 â€”branchÂ  dev

**æœ¬åœ°åŒæ­¥æŒ‡å®šåˆ†æ”¯æœ€è¿‘`n`æ¬¡çš„commitä¿¡æ¯**ï¼Œå…‹éš†devåˆ†æ”¯æœ€è¿‘ä¸€æ¬¡commit

ç¬¬ä¸‰ç§æ–¹å¼å…‹éš†ä¸‹æ¥åªå­˜åœ¨æŒ‡å®šçš„åˆ†æ”¯ï¼Œå¦‚æœæƒ³è¦åˆ‡æ¢åˆ†æ”¯ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ğŸ‘‡

    git remote set-branches origin 'remote_branch_name'
    git fetch --depth 1 origin remote_branch_name
    git checkout remote_branch_name
    

å¸¸ç”¨gitå‘½ä»¤ï¼ˆæ›´æ–°ä¸­...ï¼‰
===============

1.  æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº

    git shortlog -sn
    

2.  æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡

    git blame [file]
    
    eg: git blame README.md
    

> Git ä¸­çš„åˆ†æ”¯æ˜¯æŒ‡å‘æäº¤çš„**æŒ‡é’ˆ**ï¼Œæ˜¯ä»ç‰¹å®šæ—¶é—´ç‚¹å¼€å§‹çš„é¡¹ç›®åŠå…¶æ›´æ”¹çš„**å¿«ç…§**ã€‚

3.  åˆ é™¤æœ¬åœ°åˆ†æ”¯

`git branch -d local_branch_name`

4.  åˆ‡æ¢åˆ†æ”¯

å°†è¿œç«¯åˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼ˆæœ¬åœ°åˆ‡æ¢åˆ°è¿œç¨‹åˆ†æ”¯,å­˜åœ¨è¿œç«¯åˆ†æ”¯ï¼Œéœ€è¦åœ¨æœ¬åœ°ï¼‰  
`git checkout -b dev origin/dev`

5.  å…³è”è¿œç¨‹åˆ†æ”¯

å°†æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ç›¸å…³è”ï¼ˆåœ¨å½“å‰åˆ†æ”¯ä¸‹è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼‰

`git branch -u origin/åˆ†æ”¯å`

å…¶ä¸­origin/xxx xxxä¸ºè¿œç¨‹åˆ†æ”¯å

> eg: git branch -u origin/master æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹masteråˆ†æ”¯
> 
> æˆ–è€…ä½¿ç”¨ git branch --set-upstream-to origin/xxx åŒæ ·å¯ä»¥å…³è”

6.  æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„æ˜ å°„å…³ç³»ï¼ˆæŸ¥çœ‹å…³è”æ•ˆæœï¼‰

`git branch -vv`

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211709485-198093656.png)

7.  æ’¤é”€æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯çš„å…³ç³»

`git branch --unset-upstream`

8.  åˆå¹¶åˆ†æ”¯

    git  checkout master    # åˆ‡æ¢åˆ°masteråˆ†æ”¯ä¸Š
    git pull origin master  # æŠŠè¿œç¨‹åˆ†æ”¯pullä¸‹å»ï¼ŒåŠæ—¶æ›´æ–°
    git  merge dev          # æŠŠdevåˆ†æ”¯çš„ä»£ç åˆå¹¶åˆ°masterä¸Š
    git status              # æŸ¥çœ‹çŠ¶æ€
    git push origin master  # pushåˆ°è¿œç¨‹åˆ†æ”¯
    

ğŸ‘‰æœ¬åœ°ä»“åº“åŒæ—¶å…³è”å¤šä¸ªè¿œç«¯ä»“åº“ï¼ˆgitee, github, gitlab...ï¼‰
==========================================

å› ä¸º`Git`æœ¬èº«æ˜¯**åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ**ï¼Œå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸€ä¸ªè¿œç¨‹åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŒæ­¥åˆ°å¦å¤–ä¸¤ä¸ªè¿œç¨‹åº“ã€‚

ä½¿ç”¨å¤šä¸ªè¿œç¨‹åº“æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„ï¼Œgitç»™è¿œç¨‹åº“èµ·çš„é»˜è®¤åç§°æ˜¯**origin**ï¼Œå¦‚æœæœ‰å¤šä¸ªè¿œç¨‹åº“ï¼Œæˆ‘ä»¬éœ€è¦ç”¨**ä¸åŒçš„åç§°**æ¥æ ‡è¯†ä¸åŒçš„è¿œç¨‹åº“ï¼Œ å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

1.  å…ˆåˆ é™¤å·²å…³è”çš„åä¸º`origin`çš„è¿œç¨‹åº“ï¼š

    git remote rm origin
    

2.  å†å…³è”`GitHub`çš„è¿œç¨‹åº“ï¼š

    git remote add github git@github.com:all-smile/pc-web.git
    

> **æ³¨æ„**ï¼š è¿œç¨‹åº“çš„åç§°å«githubï¼Œä¸å«originäº†ã€‚

3.  æ¥ç€ï¼Œå†å…³è”`Gitee`çš„è¿œç¨‹åº“ï¼š

    git remote add gitee git@gitee.com:hey-u/pc-web.git
    

> åŒæ ·æ³¨æ„ï¼Œè¿œç¨‹åº“çš„åç§°å«giteeï¼Œä¸å«originã€‚

4.  æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯

    git remote -v
    gitee   git@gitee.com:hey-u/pc-web.git (fetch)
    gitee   git@gitee.com:hey-u/pc-web.git (push)
    github  git@github.com:all-smile/pc-web.git (fetch)
    github  git@github.com:all-smile/pc-web.git (push)
    

5.  æœ¬åœ°ä¿®æ”¹æ¨é€åˆ°è¿œç«¯

*   æ¨é€åˆ°GitHub

    git push github master
    

*   æ¨é€åˆ°Gitee

    git push gitee master
    

ä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨`NPM`åŒ…ç®¡ç†å·¥å…·çš„é¡¹ç›®æ·»åŠ å¦‚ä¸‹`scripts`è„šæœ¬

    "scripts": {
        "pull": "git pull github master && git pull gitee master",
        "push": "git push github master && git push gitee master"
    },
    

æ‹‰å–/æ¨é€çš„æ—¶å€™ä½¿ç”¨

    npm run pull
    npm run push
    

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211709886-34674661.png)

å°†è¿œç¨‹ URL ä» HTTPS åˆ‡æ¢åˆ° SSH
=======================

*   æ‰“å¼€Â Terminalï¼ˆç»ˆç«¯ï¼‰ã€‚
*   å°†å½“å‰å·¥ä½œç›®å½•æ›´æ”¹ä¸ºæ‚¨çš„æœ¬åœ°ä»“åº“ã€‚
*   åˆ—å‡ºç°æœ‰è¿œç¨‹ä»“åº“ä»¥è·å–è¦æ›´æ”¹çš„è¿œç¨‹ä»“åº“çš„åç§°ã€‚

    git remote -v
    origin Â https://github.com/USERNAME/REPOSITORY.git(fetch)
    origin Â https://github.com/USERNAME/REPOSITORY.git(push)
    

*   ä½¿ç”¨Â `git remote set-url`Â å‘½ä»¤å°†è¿œç¨‹çš„ URL ä» HTTPS æ›´æ”¹ä¸º SSHã€‚

    git remote set-url origin git@github.com:USERNAME/REPOSITORY.git
    

*   éªŒè¯è¿œç¨‹ URL æ˜¯å¦å·²æ›´æ”¹ã€‚

    git remote -v
    origin Â git@github.com:USERNAME/REPOSITORY.git (fetch)
    origin Â git@github.com:USERNAME/REPOSITORY.git (push)
    

å°†è¿œç¨‹ URL ä» SSH åˆ‡æ¢åˆ° HTTPS
=======================

*   æ‰“å¼€Â Terminalï¼ˆç»ˆç«¯ï¼‰ã€‚
*   å°†å½“å‰å·¥ä½œç›®å½•æ›´æ”¹ä¸ºæ‚¨çš„æœ¬åœ°ä»“åº“ã€‚
*   åˆ—å‡ºç°æœ‰è¿œç¨‹ä»“åº“ä»¥è·å–è¦æ›´æ”¹çš„è¿œç¨‹ä»“åº“çš„åç§°ã€‚

    git remote -v
    origin Â git@github.com:USERNAME/REPOSITORY.git (fetch)
    origin Â git@github.com:USERNAME/REPOSITORY.git (push)
    

*   ä½¿ç”¨Â `git remote set-url`Â å‘½ä»¤å°†è¿œç¨‹çš„ URL ä» SSH æ›´æ”¹ä¸º HTTPSã€‚

    git remote set-url origin https://github.com/USERNAME/REPOSITORY.git
    

*   éªŒè¯è¿œç¨‹ URL æ˜¯å¦å·²æ›´æ”¹ã€‚

    git remote -v
    origin Â https://github.com/USERNAME/REPOSITORY.git (fetch)
    origin Â https://github.com/USERNAME/REPOSITORY.git (push)
    

è®¾ç½®gitæäº¤ç”¨æˆ·ä¿¡æ¯
===========

è¿™é‡Œç‰µæ¶‰åˆ°æäº¤ä»£ç çš„ä¸€äº›æ•°æ®ç»Ÿè®¡ï¼Œäº†è§£ä¸€ä¸‹ä¼šå¾ˆæœ‰å¸®åŠ©çš„ï¼Œå¯ä»¥çœ‹ä¸‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š  
ğŸ‘‰[è¯­é›€ï¼šgithub/gitlab/gitee ä¸ªäººä¸»é¡µæ— æ³•ç»Ÿè®¡æäº¤è®°å½•](https://www.yuque.com/xiaojt/izub4k/xuho3x)

åæ¥æœ‰æ¬¡å±…å®¶åŠå…¬ï¼Œè·ŸåŒäº‹å…¬ç”¨ä¸€å°è™šæ¡Œï¼Œä¸ºäº†æŠŠä¸€äº›â€œæ•°æ®â€åšçš„å¥½çœ‹äº›ï¼Œä¸å¾—ä¸åˆ‡æ¢æœ¬åœ°çš„sshé…ç½®ã€‚å‘ç°gitlabä¸Šä»£ç çš„æ•°æ®ç»Ÿè®¡é‡‡é›†æ•°æ®çš„æ–¹å¼åº”è¯¥ä¸å”¯ä¸€ï¼Œå…·ä½“æè¿°å¦‚ä¸‹ï¼š

1.  æˆ‘ç»™åç«¯é¡¹ç›®è®¾ç½®äº†é¡¹ç›®çº§çš„gitç”¨æˆ·é…ç½®ï¼Œåç«¯åŒäº‹æäº¤çš„æ—¶å€™ç›´æ¥æ
2.  å‰ç«¯é¡¹ç›®æäº¤ä½¿ç”¨ç³»ç»Ÿçº§çš„gitç”¨æˆ·é…ç½®  
    åšå®Œè¿™äº›ä¹‹åå‘ç°ï¼Œgitlabä¸Šé¡¹ç›®é‡Œçš„æäº¤ä¿¡æ¯ç»Ÿè®¡çš„æ˜¯æ­£ç¡®çš„ï¼ˆçŒœæµ‹å°±æ˜¯å–å¾—commitä¿¡æ¯è€Œå·²ï¼‰ï¼Œåœ¨profileä¸»é¡µç¡®æ²¡æœ‰ç»Ÿè®¡åˆ°æäº¤è®°å½•ï¼ˆæµ‹è¯•å‘ç°åº”è¯¥æ˜¯è·Ÿæ¨é€è¿œç¨‹ä»“åº“æ—¶ä½¿ç”¨å¾—sshå¯†é’¥æœ‰å…³ç³»ï¼‰ï¼Œå…·ä½“çš„è®¾ç½®è¯·çœ‹ğŸ‘‰[å¸¸ç”¨çš„SSHï¼Œä½ äº†è§£å¤šå°‘ï¼Ÿ](https://www.yuque.com/xiaojt/izub4k/ys893v)

**å¦‚ä½•æŸ¥çœ‹".gitconfig"æ–‡ä»¶**

åœ¨"Git Bash"å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥â€œcd && ls -aâ€ä¾¿å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯  
å†é€šè¿‡â€œview .gitconfigâ€å‘½ä»¤æ‰“å¼€.gitconfigæ–‡ä»¶ï¼Œå³å¯æŸ¥çœ‹è¯¥é…ç½®æ–‡ä»¶å†…å®¹ï¼š

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211710382-1113636816.png)

git log ä¸èƒ½æ­£ç¡®æ˜¾ç¤ºä¸­è‹±æ–‡
=================

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211710878-806291617.png)

`git config --global core.quotepath false`

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211711237-1137294567.png)

`git config --global core.pager more`

tag æ ‡ç­¾
======

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211711699-1456658586.png)

    git tag -a <tagnameï¼šv1.0.0> -m "æ ‡ç­¾æè¿°"
    
    # å°†tagæ˜¾ç¤ºçš„æ¨é€åˆ°è¿œç¨‹ä»“åº“
    git push origin v1.0.0
    
    #-------------------
    # æ‰“ tag (tagæŒ‡å‘commit ID)
    git tag -a <tagnameï¼šv1.0.0> -m "æ ‡ç­¾æè¿°"
    
    eg: git tag -a v1.0.0 -m "test"
    
    # æ¨é€tag
    git push github v1.0.0
    git push gitee v1.0.0
    
    # è·å–tag
    git tag
    
    # åˆ é™¤æœ¬åœ°`tag`
    
    git tag -d æ ‡ç­¾å
    
    egï¼šgit tag -d v3.1.0
    
    
    # åˆ é™¤è¿œç¨‹`tag`
    
    git push origin :refs/tags/æ ‡ç­¾å
    
    egï¼šgit push origin :refs/tags/v3.1.0
    
    

æ›´æ–°tagï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰
------------

æœ‰å‰¯ä½œç”¨ï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯åˆ é™¤ tagï¼Œ é‡æ–°æ‰“ï¼Œæˆ–è€…é€’å¢tagå€¼

    git tag -a -f <tagåç§°> <æ–°çš„commit ID>
    

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211712823-1924500018.png)

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211713331-1583356016.png)

git commit ä¿¡æ¯çš„è§„èŒƒè®¾ç½®
==================

1.  ğŸ‘‰[commitlint é…ç½®](https://www.yuque.com/xiaojt/izub4k/zmxgt9)

*   feat: æ–°åŠŸèƒ½ã€æ–°ç‰¹æ€§
*   fix: ä¿®æ”¹ bug
*   perf: æ›´æ”¹ä»£ç ï¼Œä»¥æé«˜æ€§èƒ½
*   refactor: ä»£ç é‡æ„ï¼ˆé‡æ„ï¼Œåœ¨ä¸å½±å“ä»£ç å†…éƒ¨è¡Œä¸ºã€åŠŸèƒ½ä¸‹çš„ä»£ç ä¿®æ”¹ï¼‰
*   docs: æ–‡æ¡£ä¿®æ”¹
*   style: ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹ï¼ˆä¾‹å¦‚åˆ†å·ä¿®æ”¹ï¼‰
*   test: æµ‹è¯•ç”¨ä¾‹æ–°å¢ã€ä¿®æ”¹
*   build: å½±å“é¡¹ç›®æ„å»ºæˆ–ä¾èµ–é¡¹ä¿®æ”¹
*   revert: æ¢å¤ä¸Šä¸€æ¬¡æäº¤
*   ci: æŒç»­é›†æˆç›¸å…³æ–‡ä»¶ä¿®æ”¹
*   chore: å…¶ä»–ä¿®æ”¹ï¼ˆä¸åœ¨ä¸Šè¿°ç±»å‹ä¸­çš„ä¿®æ”¹ï¼‰
*   release: å‘å¸ƒæ–°ç‰ˆæœ¬
*   workflow: å·¥ä½œæµç›¸å…³æ–‡ä»¶ä¿®æ”¹
*   ...

å¦‚æœæƒ³è¿›ä¸€æ­¥è®¾ç½®ä»£ç çš„ä¹¦å†™è§„èŒƒï¼Œè¯·çœ‹è¿™é‡Œï¼šğŸ‘‰[perttier+eslint+husky ä½¿ç”¨](https://www.yuque.com/xiaojt/izub4k/obh3ns)

fatal: refusing to merge unrelated histories
============================================

git pull çš„æ—¶å€™æŠ¥é”™ æ‹’ç»åˆå¹¶æ— å…³å†å²è®°å½•  
ç²—æš´è§£å†³:

    ä½¿ç”¨å¼ºåˆ¶å‘½ä»¤
    
    git pull origin master --allow-unrelated-historie 
    

ç”Ÿæˆsshå¯†é’¥å¯¹
========

1.  å³é”® git bash  
    `ssh-keygen -o -t rsa -C "your.email@example.com" -b 4096`ä¸€è·¯å›è½¦
    
2.  æ‹·è´å…¬é’¥åˆ°å‰ªåˆ‡æ¿
    

`cat ~/.ssh/id_rsa.pub | clip`

3.ç™»å½•gitlapé…ç½®å…¬é’¥

vscoseé…ç½®git bash
================

1.  vscodeé…ç½®bash  
    å³é”®git bash here  
    æ‰§è¡Œå‘½ä»¤ï¼š where bash : è·å–bashåº”ç”¨ç¨‹åºè·¯å¾„
    
2.  vsä¸­æ‰“å¼€è®¾ç½®ï¼Œæœç´¢ shellï¼Œé€‰æ‹©Automation Shell: Windows, åœ¨setting.jsonä¸­ç¼–è¾‘
    
3.  æ·»åŠ é…ç½®é¡¹
    

"terminal.integrated.shell.windows": "å¡«å†™è·å–åˆ°çš„bashè·¯å¾„"ï¼Œ  
"terminal.integrated.automationShell.windows": "å¡«å†™è·å–åˆ°çš„bashè·¯å¾„"

where bash å‘½ä»¤åœ¨å®‰å…¨è´¦æˆ·ï¼ˆå¤šè´¦æˆ·ä¸‹ï¼‰æœ‰å…¼å®¹é—®é¢˜  
å»æ‰usrè·¯å¾„  
D:/Git/usr/bin/bash.exe -> D:/Git/bin/bash.exe

ğŸ‘‰å¿…è¦çš„git bashé…ç½®
===============

    git config --global user.name "xxx"
    git config --global user.email "xxx@123.com"
    git config --global core.autocrlf false   // ä¸åŒå¹³å°mac/windows/linuxä¸‹æ¢è¡Œç¬¦(\n, \r\n, \r)ä¸ä¸€è‡´çš„é—®é¢˜ 
    git config --global core.longpaths true
    git config --global core.quotepath false
    git config --global i18n.logoutputencoding utf-8
    git config --global i18n.commitencoding utf-8
    git config --global gui.encoding utf-8
    echo "export LANG=zh_CN.UTF-8" >> ~/.bash_profile
    echo "export LESSCHARSET=UTF-8" >> ~/.bash_profile
    

ä»£ç æ¢è¡Œç¬¦å‘Šè­¦é—®é¢˜
=========

å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡ï¼šğŸ‘‰[Delete `â`eslint(prettier/prettier) é”™è¯¯çš„è§£å†³æ–¹æ¡ˆ](https://www.yuque.com/xiaojt/izub4k/osk3wg)

ä¸Šé¢çš„éƒ½æ˜¯é€šè¿‡è§„èŒƒä¸ªäººçš„è¡Œä¸ºæ¥ä¿æŒç‰ˆæœ¬åº“çš„ç»Ÿä¸€ï¼Œä½†å›¢é˜Ÿå¼€å‘ä¸­è¿˜æ˜¯ä¼šæœ‰äººä¸éµå®ˆè§„èŒƒï¼Œå¯¼è‡´å‡ºç°ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥æœ€ç»ˆçš„å¤„ç†æ–¹æ¡ˆåº”è¯¥æ˜¯è·Ÿéšé¡¹ç›®æä¾›ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ˆğŸ‘‰[**.gitattributes**](https://git-scm.com/docs/gitattributes)ï¼‰ï¼Œå¹¶ä¸”ç»™ä»¥æœ€é«˜çš„ä¼˜å…ˆçº§ï¼ˆåƒeslinté…ç½®ä¸€æ ·ï¼‰ï¼ŒğŸ‘‰[gitattributesè¿™é‡Œ](https://github.com/alexkaratarakis/gitattributes)æä¾›äº†ä¸€ç³»åˆ—é’ˆå¯¹å„ç§å¼€å‘ç¯å¢ƒï¼Œå·²ç»å†™å¥½äº†çš„ \`\`.gitattributes\` æ–‡ä»¶ã€‚

> *   å‚è€ƒç½‘ç»œæ–‡ç« ï¼š ğŸ‘‰[https://www.jianshu.com/p/fa4d5963b6c8](https://www.jianshu.com/p/fa4d5963b6c8)
>     
> *   å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡è¯¦è§£ï¼š ğŸ‘‰[.gitattributes æ–‡ä»¶ä½œç”¨è¯¦ç»†è®²è§£](https://www.yuque.com/xiaojt/izub4k/za3qkt)
>     

*   .gitattributes å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œæ— è®ºä½ æ˜¯å¦è®¾ç½®ç›¸å…³çš„æ¢è¡Œç¬¦é£æ ¼è½¬åŒ–å±æ€§ï¼Œä½ éƒ½å¯ä»¥å’Œå›¢é˜Ÿä¿æŒä¸€è‡´ï¼›
    
*   ä½¿ç”¨ \* text=auto å¯ä»¥å®šä¹‰å¼€å¯å…¨å±€çš„æ¢è¡Œç¬¦è½¬æ¢ï¼›
    
*   ä½¿ç”¨ \*.bat text eol=crlf å°±å¯ä»¥ä¿è¯ Windows çš„æ‰¹å¤„ç†æ–‡ä»¶åœ¨ checkout è‡³å·¥ä½œåŒºæ—¶ï¼Œå§‹ç»ˆè¢«è½¬æ¢ä¸º CRLF é£æ ¼çš„æ¢è¡Œç¬¦ï¼›
    
*   ä½¿ç”¨ \*.sh text eol=lf å°±å¯ä»¥ä¿è¯ Bash è„šæœ¬æ— è®ºåœ¨å“ªä¸ªå¹³å°ä¸Šï¼Œåªè¦è¢« checkout è‡³å·¥ä½œåŒºï¼Œå§‹ç»ˆè¢«ä¿æŒ LF é£æ ¼çš„æ¢è¡Œç¬¦ï¼›
    
*   ä½¿ç”¨ \*.jpg -text å¯ä»¥ç¦æ­¢ Git å°† jpg æ–‡ä»¶è¯†åˆ«ä¸ºæ–‡æœ¬æ–‡ä»¶ï¼Œä»è€Œé¿å…ç”±äºæ¢è¡Œç¬¦è½¬æ¢å¼•å…¥çš„æ•°æ®æŸåï¼›
    

**Windows**

**Linux/Mac**

**Old Mac(pre-OSX)**

CRLF

LF

CR

'\\n\\r'

'\\n'

'\\r'

Windows æäº¤æ—¶è½¬æ¢ä¸ºLFï¼Œæ£€å‡ºæ—¶è½¬æ¢ä¸ºCRLF

    git config --local core.autocrlf true
    

å¤šä¸ªgithubè´¦å·ä¸‹ï¼Œç”Ÿæˆçš„keyä¸èƒ½åŒæ—¶åœ¨ä¸¤ä¸ªgithubä¸‹é¢ä½¿ç”¨ï¼Œå¯¼è‡´æ·»åŠ å¤±è´¥ï¼šKey is already in use
================================================================

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211713752-1365366640.png)

è¿™æ—¶å€™åœ¨æ‰§è¡Œ`ssh-keygen -o -t rsa -C "your.email@example.com" -b 4096`å‘½ä»¤çš„æ—¶å€™å°±ä¸èƒ½é»˜è®¤å›è½¦äº†

å¯ä»¥ä¿®æ”¹ç”Ÿæˆkeyçš„æ–‡ä»¶åï¼Œé»˜è®¤æ–‡ä»¶åæ˜¯`id_rsa`ï¼Œç”Ÿæˆå¤šä¸ªä¸åŒæ–‡ä»¶å‘½åçš„`key`å°±å¯ä»¥æ·»åŠ ä½¿ç”¨äº†ã€‚

> ä¸åŒçš„ä»£ç ä»“åº“å¹³å°å¯ä»¥é‡‡ç”¨è®¾ç½® `ssh config`çš„æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒğŸ‘‰[å¸¸ç”¨çš„SSHï¼Œä½ äº†è§£å¤šå°‘ï¼Ÿ](https://www.yuque.com/xiaojt/izub4k/ys893v)è‡ªå·±å°è¯•ä¸€ä¸‹

æ·»åŠ sshä¹‹å git clone xxxè¿˜ä¸è¡Œ
========================

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211714159-941389231.png)

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211714611-289161646.png)

å°è¯•ä¸€ï¼š
----

é…ç½®ssh config

    # gitcode - csdn
    Host gitcode.net
      HostName gitcode.net
      PreferredAuthentications publickey
      IdentityFile ~/.ssh/gitcode
    
    # gitlab
    Host gitlab.com
      HostName gitlab.com
      PreferredAuthentications publickey
      IdentityFile ~/.ssh/gitlab-rsa
    
    # github
    Host github.com
      HostName github.com
      PreferredAuthentications publickey
      IdentityFile ~/.ssh/id_rsa
    
    # gitee
    Host gitee.com
      HostName gitee.com
      PreferredAuthentications publickey
      IdentityFile ~/.ssh/id_rsa
    
    # å…¬å…±é…ç½®
    # Host *
    #   key value
    
    # å…¶å®ƒå¯†é’¥å¯¹è¯´æ˜
    # 18143945157 : github-cli ä½¿ç”¨çš„
    # gh-pages : hexo deploy_key è®¾ç½®
    

å†æ¬¡æµ‹è¯•è¿æ¥

    ssh -T git@gitlab.com
    

å°è¯•äºŒ
---

    ssh-keygen -R ä½ è¦è®¿é—®çš„IPåœ°å€
    
    ssh-keygen -R git@gitlab.com:all-smile/gitbook.git
    Host git@gitlab.com:all-smile/gitbook.git not found in /c/Users/xiao/.ssh/known_hosts
    

ä¿®æ”¹ known\_hosts çš„æ–‡ä»¶åå­—ï¼Œä¹Ÿå°±æ˜¯è®©å®ƒä¸èµ·ä½œç”¨ã€‚ï¼ˆhostï¼‰

é‡æ–°clone ,ç”Ÿæˆæ–°çš„ known\_hosts

    ping gitlab.com
    

ä¿®æ”¹commitæäº¤ä¿¡æ¯
============

æƒ…å†µä¸€ã€ä¿®æ”¹æœ€åä¸€æ¬¡çš„æäº¤ä¿¡æ¯
---------------

1.  `git commit --amend`

ç„¶åå†vimç¼–è¾‘å™¨é‡Œé¢ï¼ˆå…·ä½“ä»¥ä»€ä¹ˆæ–¹å¼æ‰“å¼€è¦çœ‹git bashçš„é…ç½®ï¼Œå¯ä»¥é…ç½®æˆ `notepad++`ï¼Œ æˆ–è€…ä½¿ç”¨ `Git Extensions`ï¼‰ä¿®æ”¹ä¿å­˜å³å¯

2.  `git push`

æƒ…å†µäºŒã€ä¿®æ”¹æŒ‡å®šcommitçš„æäº¤ä¿¡æ¯
-------------------

1.  git log æŸ¥çœ‹ä¿¡æ¯ï¼Œè·å–åˆ°commmit-id
    
2.  git rebase -i 6579ghjk^
    

å˜åŸºåˆ°æŒ‡å®šçš„commit-idç‰ˆæœ¬, å¹¶è¿›å…¥åˆ°ä¸€ä¸ªå¯ç¼–è¾‘çš„ç•Œé¢ã€‚åœ¨ç¼–è¾‘åŒºé¡¶éƒ¨ï¼Œä¼šåˆ—å‡ºè¿™æ¬¡ rebase æ“ä½œæ‰€æ¶‰åŠçš„æ‰€æœ‰ commit æäº¤è®°å½•çš„æ‘˜è¦ï¼Œå®ƒä»¬æ¯ä¸€è¡Œé»˜è®¤éƒ½æ˜¯ä»¥ pick å¼€å¤´çš„ã€‚æ‰¾åˆ°ä½ æƒ³è¦ä¿®æ”¹çš„é‚£ä¸ª commitï¼Œå°†è¡Œé¦–çš„ pick å…³é”®å­—ä¿®æ”¹ä¸º editã€‚ç„¶åä¿å­˜å¹¶é€€å‡ºã€‚è¿™ä¹ˆåšå¯ä»¥åœ¨æ‰§è¡Œå’ŒæŒ‡å®š commit æœ‰å…³çš„ rebase æ“ä½œæ—¶æš‚åœä¸‹æ¥è®©æˆ‘ä»¬å¯¹è¯¥ commit çš„ä¿¡æ¯è¿›è¡Œä¿®æ”¹

3.  git commit --amend ä¿®æ”¹commitä¿¡æ¯
    
4.  æ‰§è¡Œ git rebase --continue å‘½ä»¤å®Œæˆå‰©ä½™çš„ rebase æ“ä½œã€‚
    

å¦‚æœéœ€è¦ä¿®æ”¹å¤šä¸ªæäº¤è®°å½•çš„ä¿¡æ¯ï¼Œåˆ™é‡å¤æ‰§è¡Œ 2ã€3æ­¥éª¤ï¼Œç›´åˆ°å‡ºç°ä»¥ä¸‹è¾“å‡ºï¼š

    git rebase --continue
    Successfully rebased and updated refs/heads/develop
    

åˆ°è¿™é‡Œå·²ç»å®Œæˆäº†å˜åŸºæ“ä½œçš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œ

5.  æ‰§è¡Œ `git log` å‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬åˆšæ‰çš„ä¿®æ”¹æƒ…å†µï¼Œç¡®è®¤å·²ä¿®æ”¹çš„å†…å®¹å’Œé¢„æœŸä¸€è‡´ã€‚
    
6.  git push
    

Gitæœ¬åœ°æœ‰å››ä¸ªå·¥ä½œåŒºåŸŸ
============

å·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€gitä»“åº“(Remote Directory)ã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211715082-1965262969.png)

*   Workspaceï¼š å·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹
    
*   Index / Stageï¼š æš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯
    
*   Repositoryï¼š ä»“åº“åŒºï¼ˆæˆ–ç‰ˆæœ¬åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬
    
*   Remoteï¼š è¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢
    

é‡ç½®æäº¤
====

æƒ…å†µä¸€ã€æ²¡æœ‰pushåˆ°è¿œç¨‹çš„æƒ…å†µï¼ˆåªæ˜¯åœ¨æœ¬åœ°commitï¼‰
-----------------------------

    git reset --soft|--mixed|--hard <commit_id>
    git push develop develop --force  (æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯éƒ½æ˜¯ develop)
    

*   `--mixed` ä¸ºé»˜è®¤ï¼Œå¯ä»¥ä¸ç”¨å¸¦è¯¥å‚æ•°ï¼Œç”¨äºé‡ç½®æš‚å­˜åŒºçš„æ–‡ä»¶ä¸ä¸Šä¸€æ¬¡çš„æäº¤(commit)ä¿æŒä¸€è‡´ï¼Œå·¥ä½œåŒºæ–‡ä»¶å†…å®¹ä¿æŒä¸å˜ã€‚åªæ˜¯å°†git commitå’Œindex ä¿¡æ¯å›é€€åˆ°äº†æŸä¸ªç‰ˆæœ¬ã€‚
    
*   `--soft` ä¿ç•™æºç ,åªå›é€€åˆ°commitä¿¡æ¯åˆ°æŸä¸ªç‰ˆæœ¬.ä¸æ¶‰åŠindexçš„å›é€€,å¦‚æœè¿˜éœ€è¦æäº¤,ç›´æ¥commitå³å¯ã€‚  
    `git reset --soft HEAD`
    
*   `--hard` å‚æ•°æ’¤é”€å·¥ä½œåŒºä¸­æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹å†…å®¹ï¼Œå°†æš‚å­˜åŒºä¸å·¥ä½œåŒºéƒ½å›åˆ°ä¸Šä¸€æ¬¡ç‰ˆæœ¬ï¼Œå¹¶åˆ é™¤ä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯æäº¤ã€‚
    

æƒ…å†µäºŒã€å·²ç»pushåˆ°è¿œç¨‹çš„æƒ…å†µ
----------------

å¯¹äºå·²ç»æŠŠä»£ç pushåˆ°çº¿ä¸Šä»“åº“,ä½ å›é€€æœ¬åœ°ä»£ç å…¶å®ä¹Ÿæƒ³åŒæ—¶å›é€€çº¿ä¸Šä»£ç ï¼Œå›æ»šåˆ°æŸä¸ªæŒ‡å®šçš„ç‰ˆæœ¬ï¼Œçº¿ä¸Šçº¿ä¸‹ä»£ç ä¿æŒä¸€è‡´ï¼Œä½ è¦ç”¨åˆ°ä¸‹é¢çš„å‘½ä»¤

    git revert <commit_id>
    

`revert` ä¹‹åä½ çš„æœ¬åœ°ä»£ç ä¼šå›æ»šåˆ°æŒ‡å®šçš„å†å²ç‰ˆæœ¬ï¼Œè¿™æ—¶ä½ å† git push æ—¢å¯ä»¥æŠŠçº¿ä¸Šçš„ä»£ç æ›´æ–°ã€‚

git revertæ˜¯ç”¨ä¸€æ¬¡æ–°çš„commitæ¥å›æ»šä¹‹å‰çš„commit

HEAD è¯´æ˜ï¼š
--------

*   HEAD è¡¨ç¤ºå½“å‰ç‰ˆæœ¬
*   HEAD^ ä¸Šä¸€ä¸ªç‰ˆæœ¬
*   HEAD^^ ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬
*   HEAD^^^ ä¸Šä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬
*   ä»¥æ­¤ç±»æ¨...

å¯ä»¥ä½¿ç”¨ ï½æ•°å­—è¡¨ç¤º

*   HEAD~0 è¡¨ç¤ºå½“å‰ç‰ˆæœ¬
*   HEAD~1 ä¸Šä¸€ä¸ªç‰ˆæœ¬
*   HEAD^2 ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬
*   HEAD^3 ä¸Šä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬
*   ä»¥æ­¤ç±»æ¨...

å…¶å®ƒç›¸å…³æ–‡ç« æ¨è
========

*   [git submodule](https://www.yuque.com/xiaojt/sfegqs/xhqy08)
*   [jsè·å–gitåˆ†æ”¯ä¿¡æ¯](https://www.yuque.com/xiaojt/izub4k/myoxmb)
*   [git ç»„åˆæäº¤ä¿¡æ¯](https://www.yuque.com/xiaojt/izub4k/gavalk)
*   [ä»Gitè®¾è®¡åŸç†åˆ°ä¸šåŠ¡ç³»ç»Ÿè®¾è®¡ä¸å¼€å‘](https://www.yuque.com/xiaojt/izub4k/eyu2po)

![](https://img2023.cnblogs.com/blog/1037867/202212/1037867-20221213211716037-1034940250.png)

æˆ‘æ˜¯ [**ç”œç‚¹cc**](https://blog.i-xiao.space/)â˜­

å¾®ä¿¡å…¬ä¼—å·ï¼šã€çœ‹è§å¦ä¸€ç§å¯èƒ½ã€‘

ä¸“æ³¨å‰ç«¯å¼€å‘ï¼Œä¹Ÿå–œæ¬¢ä¸“ç ”å„ç§è·Ÿæœ¬èŒå·¥ä½œå…³ç³»ä¸å¤§çš„æŠ€æœ¯ï¼ŒæŠ€æœ¯ã€äº§å“å…´è¶£å¹¿æ³›ä¸”æµ“åšã€‚æœ¬å·ä¸»è¦è‡´åŠ›äºåˆ†äº«ä¸ªäººç»éªŒæ€»ç»“ï¼Œå¸Œæœ›å¯ä»¥ç»™ä¸€å°éƒ¨åˆ†äººä¸€äº›å¾®å°å¸®åŠ©ã€‚

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[ç”œç‚¹cc](https://www.cnblogs.com/all-smile/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/all-smile/p/16994701.html](https://www.cnblogs.com/all-smile/p/16994701.html)