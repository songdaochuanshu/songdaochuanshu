---
layout: post
title: "2023年windows DockerDeskTop最新款4.18.0 全程保姆级安装"
date: "2023-04-20T01:05:01.715Z"
---
2023年windows DockerDeskTop最新款4.18.0 全程保姆级安装
===========================================

目录

*   [前景提示](#前景提示)
*   [windows 10 内置的linux系统](#windows-10-内置的linux系统)
    *   [1.这个内置系统一定要在windows store里安装，否则，无法使用,这是重点。进入商店，搜索linux。](#1这个内置系统一定要在windows-store里安装否则无法使用这是重点进入商店搜索linux)
    *   [2.一般画圈这些都可以使用。](#2一般画圈这些都可以使用)
    *   [4.安装会让你输入微软账户密码（首次）。](#4安装会让你输入微软账户密码首次)
    *   [5.静静等待，本作的这个大概550M左右。](#5静静等待本作的这个大概550m左右)
    *   [6.装好后,会生成一个图标(像应用程序一样,双击打开).](#6装好后会生成一个图标像应用程序一样双击打开)
    *   [7.需要开启 设置--> 应用程序 --> 相关设置(程序与功能),点击启动与关闭windows功能,把这个对勾点上.](#7需要开启-设置---应用程序----相关设置程序与功能点击启动与关闭windows功能把这个对勾点上)
    *   [8.启动Unbuntu的linux.(首次进入,需要等待一下,然后,创建账户名和密码,这个版本中不给用户超级管理员权限,必须自己新建一个账户,否则无法使用.)](#8启动unbuntu的linux首次进入需要等待一下然后创建账户名和密码这个版本中不给用户超级管理员权限必须自己新建一个账户否则无法使用)
    *   [9.第三方工具连接本机的linux系统.(这里使用MobaXterm)](#9第三方工具连接本机的linux系统这里使用mobaxterm)
*   [WSl 安装遇到的问题。](#wsl-安装遇到的问题)
    *   [1.打开管理员权限的powershell，快捷键win + x](#1打开管理员权限的powershell快捷键win--x)
    *   [2.输入查看版本命令。](#2输入查看版本命令)
    *   [3.修改命令很多，有用的只有这个命令](#3修改命令很多有用的只有这个命令)
*   [最新版的DockerDeskTop安装](#最新版的dockerdesktop安装)
    *   [1\. 官网搜索或直接访问 : Docker: Accelerated, Containerized Application Development(https://www.docker.com/)](#1-官网搜索或直接访问--docker-accelerated-containerized-application-developmenthttpswwwdockercom)
    *   [2.选则系统,这里是windows.](#2选则系统这里是windows)
    *   [3.浏览器下载会在下载位置弹出下载选择,选择下载就好了.](#3浏览器下载会在下载位置弹出下载选择选择下载就好了)
    *   [4.开启系统的虚拟服务,还是设置--> 应用程序 --> 相关设置(程序与功能),点击启动与关闭windows功能,把这个对勾点上.](#4开启系统的虚拟服务还是设置---应用程序----相关设置程序与功能点击启动与关闭windows功能把这个对勾点上)
    *   [5.安装位置转移](#5安装位置转移)
    *   [6.找到下好的位置后,双击其.exe](#6找到下好的位置后双击其exe)
    *   [7.进入安装界面,安装成功后不要点击右上角的×,要点中间的stop和restart(自动关机重启,记得保存好当前操作的其他事情再点击).装好后必须关机重启,否则点击也无法启动.](#7进入安装界面安装成功后不要点击右上角的要点中间的stop和restart自动关机重启记得保存好当前操作的其他事情再点击装好后必须关机重启否则点击也无法启动)
    *   [8.关机重启后,再桌面找到如图的图标,双击启动](#8关机重启后再桌面找到如图的图标双击启动)
    *   [9.进入同意界面和一个问答界面,点击就可以了.](#9进入同意界面和一个问答界面点击就可以了)
    *   [10、稍微卡顿一下就进入主页了，看到主页，点击下其他选项，无误就是安装成功了。（需要登录和注册账户）](#10稍微卡顿一下就进入主页了看到主页点击下其他选项无误就是安装成功了需要登录和注册账户)
    *   [11.相关设置。](#11相关设置)
*   [彩蛋](#彩蛋)
*   [后续](#后续)

前景提示
----

*   想在windows10上安装一个docker容器的desktop版本，但是，总是安装wsl不好使，同时，windows store没有了，用命令行安装的linux系统无法启动，也无法连接，之前想到的方案是安装旧的版本，然后，快速关闭wsl的验证功能，勉强可以跑起来，但是，存在大量问题和功能无法使用。
    
*   最终一跺脚，一狠心决定重装操作系统，将系统恢复到了出厂状态，然后，又在系统更新了选择了更新，遇到最坑的问题就是window安全中心在实时运行，旧的版本的软件不让运行，有破解的软件的破解脚本全部被认证为病毒和垃圾文件，最后，找到了Microsoft Defender Antivirus Service这个服务，开机就会启动，启动就会一直检测，很耗费cpu资源和内存，找到其路径。
    

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203703132-415281874.png)

本来的目标是改变其文件的名称，然后，在任务管理器里关闭，或者关机重启干掉它，但是，它不让你改文件的权限。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203709861-1282739489.png)

最后下载火绒，将MsMpEng.exe这个改不了，关不掉的程序暴力粉碎了，才彻底关闭了这个安全服务。

记录下经常玩系统，经常给系统整崩溃的操作，这个华为的操作系统很多绑定的，类似于在后台一直扫描定时操作，一旦关闭不当就会cpu执行100%，然后要么关机，要么重做系统，这也是以前没遇到的操作系统,(华为Matebook D 14)系统装的都是家庭版，但是，开发很多需要专业或者旗舰企业版才有的功能，因此，只能魔改升级。

windows 10 内置的linux系统
---------------------

### 1.这个内置系统一定要在windows store里安装，否则，无法使用,这是重点。进入商店，搜索linux。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203757141-95130436.png)

### 2.一般画圈这些都可以使用。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203819283-394429524.png)

3.这里选择的最新版安装。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203836517-44149112.png)

### 4.安装会让你输入微软账户密码（首次）。

### 5.静静等待，本作的这个大概550M左右。

### 6.装好后,会生成一个图标(像应用程序一样,双击打开).

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203852051-534110670.png)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418203922793-1855399996.png)

### 7.需要开启 设置--> 应用程序 --> 相关设置(程序与功能),点击启动与关闭windows功能,把这个对勾点上.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204028580-1453040732.png)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204040356-2038649558.png)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204055947-1630731719.png)

### 8.启动Unbuntu的linux.(首次进入,需要等待一下,然后,创建账户名和密码,这个版本中不给用户超级管理员权限,必须自己新建一个账户,否则无法使用.)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204117871-41483949.png)

### 9.第三方工具连接本机的linux系统.(这里使用MobaXterm)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204132216-266233993.png)

*   这个会自动连接自带的系统,如何手动.(点击session)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204149389-1218239738.png)

*   点击wsl(说明其内部也是wsl文件连接的)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204204724-1553514697.png)

*   选择下拉框,选择Unbuntu.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204222972-179790217.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204232804-613857849.png)

*   选择ok,就可以了.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204258794-1304347908.png)

*   成功界面.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204313104-772330084.png)

WSl 安装遇到的问题。
------------

### 1.打开管理员权限的powershell，快捷键win + x

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204405285-343339459.png)

### 2.输入查看版本命令。

    wsl -l -v
    
    

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204422596-733527036.png)

### 3.修改命令很多，有用的只有这个命令

    wsl --set-default Ubuntu-22.04 2
    
    

*   wsl --set-default 后边接的是你下载的本地的linux的版本号，最后的2是wsl的版本。
    
*   这个命令有时候不好使，会出现如下的内容，或者没什么反应就是没成功.(下图两种情况都是失败了)
    

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204446426-70129000.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204455599-1990897635.png)

*   这时候，需要访问官网:([Install WSL | Microsoft Learn](https://learn.microsoft.com/en-us/windows/wsl/install#step-4---download-the-linux-kernel-update-package))(([https://learn.microsoft.com/en-us/windows/wsl/install#step-4---download-the-linux-kernel-update-package](https://learn.microsoft.com/en-us/windows/wsl/install#step-4---download-the-linux-kernel-update-package))

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204522782-1976738916.png)

*   这里选择旧版本安装。代开后向下找到setp 4，点击如图二位置的下载，下载后就下一步下一步安装。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204541031-1249725509.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204547185-2140007825.png)

4、重新执行步骤三的命令，安装后再次再命令行执行命令这个没看到相关文章介绍，官网也没说，官网让执行命令：**wsl --set-default-version 2**，这个命令本作者的机器一直无效，然后，输入完命令正常会卡顿一会下载，耐心等待，卡顿结束就是安装好了。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204603679-1269080631.png)

5、这个命令就没好使过，不知道其他人如何，反正作者这里没有好使过。

    wsl --set-default-version 2
    
    

最新版的DockerDeskTop安装
-------------------

### 1\. 官网搜索或直接访问 : [Docker: Accelerated, Containerized Application Development](https://www.docker.com/)([https://www.docker.com/](https://www.docker.com/))

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204639171-146953809.png)

### 2.选则系统,这里是windows.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204653848-948703338.png)

### 3.浏览器下载会在下载位置弹出下载选择,选择下载就好了.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204707960-882401827.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204713373-693148436.png)

### 4.开启系统的虚拟服务,还是设置--> 应用程序 --> 相关设置(程序与功能),点击启动与关闭windows功能,把这个对勾点上.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204758311-1706317959.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204805554-217437755.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204825107-1513282564.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204831969-675117557.png)

### 5.安装位置转移

*   docker会默认全部安装在C盘，会不断占用操作系统的资源，所以这里采用创建快捷键绑定的方式，让其转移到其他盘符。
    
*   打开管理员权限下的命令cmd,输入如下的命令。
    

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204856745-1548699231.png)

    
    # 修改实际安装目录
    mklink /j "C:\Program Files\Docker" "D:\Program Files\Docker"
    
    
    # 修改相关文件安装目录
    mklink /j "C:\Users\你的用户名\AppData\Local\Docker" "D:\Program Files\Docker\Local"
    
    mklink /j "C:\Users\你的用户名\AppData\Roaming\Docker" "D:\Program Files\Docker\Roaming\Docker"
    
    mklink /j "C:\Users\你的用户名\AppData\Roaming\Docker Desktop" "D:\Program Files\Docker\Roaming\Docker Desktop"
    

​ **问题**

​ 1.“当文件已存在，无法创建”：保证相同路径下没有同名文件夹（c盘那些路径里）

​ 2.”找不到指定路径“ ：说明前后输入的路径有错误，仔细检查下。

### 6.找到下好的位置后,双击其.exe

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204918740-396122624.png)

### 7.进入安装界面,安装成功后不要点击右上角的×,要点中间的stop和restart(自动关机重启,记得保存好当前操作的其他事情再点击).装好后必须关机重启,否则点击也无法启动.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204946100-537761342.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418204956808-204906472.png)

### 8.关机重启后,再桌面找到如图的图标,双击启动

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205041216-1346891544.png)

### 9.进入同意界面和一个问答界面,点击就可以了.

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205059418-1849972988.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205104596-1576802160.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205110342-1131205954.png)

### 10、稍微卡顿一下就进入主页了，看到主页，点击下其他选项，无误就是安装成功了。（需要登录和注册账户）

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205145093-648785451.png)

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205128710-1152162184.png)

### 11.相关设置。

*   点击进入设置

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205211138-429862362.png)

*   常规设置（还可以自行设置界面是黑色的）

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205238900-521884439.png)

*   资源设置。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205258076-1895454516.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205305324-1456747888.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205311026-1326758725.png)

*   拉去镜像设置。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205327329-69038291.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205332689-364652885.png)

**完整文档。**

    {
      "builder": {
        "gc": {
          "defaultKeepStorage": "20GB",
          "enabled": true
        }
      },
      "experimental": false,
      "features": {
        "buildkit": true
      },
      ## 这里是主要添加的
      "registry-mirrors": [
        "http://mirrors.aliyun.com",
        "https://mirrors.tuna.tsinghua.edu.cn",
         "https://1nj0zren.mirror.aliyuncs.com",
        "https://docker.mirrors.ustc.edu.cn",
        "http://f1361db2.m.daocloud.io",
        "https://registry.docker-cn.com"
      ]
    }
    

*   关闭自动更新。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205349291-126369869.png)  
![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205353910-1306792029.png)

彩蛋
--

*   Windows 10 的可视化。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205408620-1614487110.png)

*   可以任意拖拽有没有很开心。

![](https://img2023.cnblogs.com/blog/994129/202304/994129-20230418205420742-1117443622.png)

后续
--

*   docker安装很多问题都是操作系统本身问题，所以要做好在源头解决问题，不是把问题一步步拖到最后，越到最后，问题难度越会升级，作为开发，最好的解决问题就是源头解决问题。

十年磨一剑，一剑破万法