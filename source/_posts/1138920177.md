---
layout: post
title: "SmartDialogè¿ç§»è‡³4.0ï¼šä¸€ä»½çœŸè¯šçš„è¿ç§»è¯´æ˜"
date: "2022-05-04T15:21:10.519Z"
---
SmartDialogè¿ç§»è‡³4.0ï¼šä¸€ä»½çœŸè¯šçš„è¿ç§»è¯´æ˜
===========================

å‰è¨€
==

ä¸€ä¸ªå¼€æºåº“ï¼Œéšç€ä¸æ–­çš„è¿­ä»£ä¼˜åŒ–ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€ä¸ªå¾ˆç—›è‹¦çš„é—®é¢˜

*   æœ€åˆçš„è®¾è®¡å¹¶ä¸æ˜¯å¾ˆåˆç†ï¼šæƒ³æ·»åŠ çš„å¾ˆå¤šæ–°åŠŸèƒ½éƒ½å—æ­¤æ£è‚˜

æƒ³ä½¿å¾—è¯¥åº“æ›´åŠ çš„å¼ºå¤§å’Œå¥å£®ï¼Œå¿…é¡»è¦åšä¸€ä¸ªé‡æ„

*   å› ä¸ºé‡æ„æ¶‰åŠåˆ°å¯¹å¤–æš´éœ²çš„apiï¼Œæ‰€ä»¥å¤§å®¶ä¼šé‡åˆ°ä¸€ä¸ªæ¯”è¾ƒçƒ¦èºçš„é—®é¢˜ï¼šæ›´æ–°ç‰ˆæœ¬åï¼Œä¼šå¤§é¢ç§¯æŠ¥é”™
*   æˆ‘è€ƒè™‘äº†å¾ˆä¹…ï¼Œåˆ°åº•æ€ä¹ˆå¸®å¤§å®¶å¿«é€Ÿè¿ç§»å‘¢ï¼Ÿæœ€ç»ˆæƒ³åˆ°äº†ä¸€ä¸ªè¿˜ç®—åˆç†çš„æ–¹æ¡ˆ

å¯¹äºflutter\_smart\_dialog 4.0ç‰ˆæœ¬çš„æ”¹åŠ¨ï¼Œå¾ˆå¤šæ˜¯ä¸ºäº†è§£å†³è‡ªå·±ä»¥å‰è€ƒè™‘ä¸å‘¨çš„å†å²é—ç•™ï¼Œä»¥å‰è¿™ä¸ªåº“çš„åˆå¿ƒï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³loadingå’Œdialogç©¿é€é—®é¢˜ï¼›ç°åœ¨æ‰©å±•åˆ°ï¼šcustom dialogï¼Œattach dialogï¼Œloadingï¼Œtoastï¼Œæœ€åˆçš„è®¾è®¡çœŸçš„åŠ›ä¸ä»å¿ƒäº†ï¼Œconfigä¸­çš„apiéš¾ä»¥å»ç»†åˆ†çš„æ§åˆ¶è¿™å››ä¸ªæ¨¡å—åŠŸèƒ½ï¼Œä¸€äº›å‚æ•°çš„è®¾è®¡åŸºäºç°åœ¨çš„åŠŸèƒ½å’Œåœºæ™¯ä¹Ÿä¸å¤ªåˆç†ç­‰ç­‰

å¸Œæœ›å¤§å®¶èƒ½å¤Ÿç†è§£æˆ‘ä¸ºä»€ä¹ˆè¦é‡æ„ğŸ¥ºï¼Œæˆ‘ç»å¯¹ä¸æ˜¯åœ¨æäº‹æƒ…ğŸ¥º

å¿«é€Ÿè¿ç§»æŒ‡å—
======

å…¼å®¹APIï¼ˆå¿…é¡»ï¼‰â­ï¸
-----------

> **è¯´æ˜**

*   showæ–¹æ³•å¿«é€Ÿå…¼å®¹

    SmartDialog.compatible.show();
    SmartDialog.compatible.showAttach();
    SmartDialog.compatible.showLoading();
    SmartDialog.compatible.showToast();
    

*   configå¿«é€Ÿå…¼å®¹

    SmartDialog.compatible.config;
    

å¢åŠ `compatible`ä¸­é—´å˜é‡ï¼Œå¯å¿«é€Ÿå…¼å®¹æ”¹åŠ¨çš„å„ç§å‚æ•°

> **å¿«é€Ÿæ“ä½œ**

*   ä½¿ç”¨å…¨å±€æ›¿æ¢åŠŸèƒ½å¿«é€Ÿè¿ç§»ï¼š`SmartDialog.show` \---> `SmartDialog.compatible.show`
    *   Macï¼šcommand + shift + r
    *   Windowsï¼šctrl + shift + r

![image-20220501230620406](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/202205012337244.png)

*   Configï¼š`SmartDialog.config` ---> `SmartDialog.compatible.config`
    *   Macï¼šcommand + shift + r
    *   Windowsï¼šctrl + shift + r

![image-20220501230830221](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/202205012338535.png)

å‚æ•°ç§»é™¤ï¼ˆå¿…é¡»ï¼‰â­ï¸
----------

*   4.0ç‰ˆæœ¬åˆ é™¤äº†å°‘é‡å‚æ•°

æ–¹æ³•

è¯´æ˜

showLoading(...)

åˆ é™¤`background`å‚æ•°ï¼ˆcompatibleä¸å…¼å®¹è¯¥å‚æ•°ï¼‰

showToast(...)

åˆ é™¤`alignment`å‚æ•°ï¼ˆcompatibleä¸å…¼å®¹è¯¥å‚æ•°ï¼‰

showAttach(...)

åˆ é™¤`highlight`å‚æ•°ï¼ˆcompatibleå…¼å®¹è¯¥å‚æ•°ï¼‰

*   åˆ é™¤äº†è¿™äº›å‚æ•°ï¼Œåˆå§‹åŒ–è‡ªå®šä¹‰loadingå’Œtoastçš„æ—¶å€™ï¼Œéœ€è¦åšä¸€ç‚¹ç‚¹è°ƒæ•´

    void main() => runApp(MyApp());
    
    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        return MaterialApp(
          home: HomePage,
          // here
          navigatorObservers: [FlutterSmartDialog.observer],
          // here
          builder: FlutterSmartDialog.init(
            //default toast widget
            toastBuilder: (String msg) => CustomToastWidget(msg: msg),
            //default loading widget
            loadingBuilder: (String msg) => CustomLoadingWidget(msg: msg),
          ),
        );
      }
    }
    

> **è¯´æ˜**

`background`å’Œ`alignment`è¿™ä¿©ä¸ªå‚æ•°å®åœ¨æ²¡ä»€ä¹ˆç”¨ï¼Œç”¨åˆ°çš„é¢‘ç‡å®åœ¨å¤ªä½äº†

ä¸€èˆ¬éƒ½æ˜¯è‡ªå®šä¹‰toastå’Œloadingæ ·å¼ï¼Œæƒ³æ€ä¹ˆç”»å°±æ€ä¹ˆç”»ï¼›å¦‚æœåªæ˜¯ç®€å•ç”¨ä¸‹toastå’Œloadingï¼Œè¿™ä¿©ä¸ªå‚æ•°åšä¸åˆ°å¾ˆå¼ºçš„è‡ªå®šä¹‰æ•ˆæœï¼Œå®åœ¨è¿‡äºç´¯èµ˜ï¼Œç´¢æ€§åˆ é™¤äº†

å‚æ•°åå˜åŠ¨ï¼ˆå¯é€‰ï¼‰
---------

é€šè¿‡ä¸Šé¢`å…¼å®¹API`å’Œ`å‚æ•°ç§»é™¤`å°±å¯ä»¥å®Œæ•´è¿ç§»äº†

è¿™é‡Œæˆ‘å°†å˜åŠ¨çš„å‚æ•°åå®Œæ•´çš„å†™ä¸‹ï¼Œå¤§å®¶å¯ä»¥å¯¹ç…§ä¸‹

åŸå‚æ•°å

å˜åŠ¨å‚æ•°å

widget

builderï¼šå’Œè·¯ç”±dialogå‚æ•°å¯¹é½ï¼ˆå…·ä½“è§ä¸‹é¢builderå‚æ•°è¯´æ˜ï¼‰

isLoading / isLoadingTemp

animationTypeï¼šæ–¹ä¾¿åæœŸæ‰©å±•å¤šç§åŠ¨ç”»ç±»å‹

isPenetrate / isPenetrateTemp

usePenetrateï¼štrueï¼ˆç‚¹å‡»äº‹ä»¶å°†ç©¿é€èƒŒæ™¯ï¼‰ï¼Œfalseï¼ˆä¸ç©¿é€ï¼‰

isUseAnimation / isUseAnimationTemp

useAnimationï¼štrueï¼ˆä½¿ç”¨åŠ¨ç”»ï¼‰ï¼Œfalseï¼ˆä¸ä½¿ç”¨ï¼‰

clickBgDismiss / clickBgDismissTemp

clickMaskDismissï¼štrueï¼ˆç‚¹å‡»é®ç½©åï¼Œå…³é—­dialogï¼‰ï¼Œfalseï¼ˆä¸å…³é—­ï¼‰

animationDuration / animationDurationTemp

animationTimeï¼šåŠ¨ç”»æŒç»­æ—¶é—´

alignmentTemp

alignmentï¼šæ§åˆ¶å¼¹çª—çš„ä½ç½®

maskColorTemp

maskColorï¼šé®ç½©é¢œè‰²

maskWidgetTemp

maskWidgetï¼šå¯é«˜åº¦å®šåˆ¶é®ç½©

debounceTemp

debounceï¼šé˜²æŠ–åŠŸèƒ½

builderå‚æ•°è¯´æ˜ï¼ˆé‡è¦ï¼‰
---------------

4.0ç‰ˆæœ¬å¯¹è‡ªå®šä¹‰æ§ä»¶å‚æ•°åšäº†å¾ˆå¤§æ”¹å˜

*   è€ç‰ˆæœ¬

    SmartDialog.show(
      widget: Container(
        height: 80,
        width: 180,
        decoration: BoxDecoration(
          color: Colors.black,
          borderRadius: BorderRadius.circular(10),
        ),
        alignment: Alignment.center,
        child: Text(
          'easy custom dialog',
          style: TextStyle(color: Colors.white),
        ),
      ),
    );
    

*   4.0ç‰ˆæœ¬

    SmartDialog.show(builder: (context) {
      return Container(
        height: 80,
        width: 180,
        decoration: BoxDecoration(
          color: Colors.black,
          borderRadius: BorderRadius.circular(10),
        ),
        alignment: Alignment.center,
        child: Text(
          'easy custom dialog',
          style: TextStyle(color: Colors.white),
        ),
      );
    });
    

è¿™ä¸ªæ”¹åŠ¨è™½ç„¶ä¼šè®©ä½¿ç”¨éº»çƒ¦äº†ä¸€ç‚¹ï¼Œä½†æ˜¯æœ‰å¾ˆé‡è¦çš„æ„ä¹‰

*   é¦–å…ˆæ˜¯ä¸ºäº†å’Œè·¯ç”±dialogçš„apiå¯¹é½ï¼Œè·¯ç”±dialogè‡ªå®šä¹‰æ§ä»¶å‚æ•°ä¹Ÿæ˜¯builder
*   ç„¶åè§£å†³è‡ªå®šä¹‰dialogè‡ªèº«åŠ¨æ€åˆ·æ–°é—®é¢˜ï¼šè‡ªå®šä¹‰å¸ƒå±€æœ‰TextFieldï¼Œé”®ç›˜å¼¹èµ·çš„æ—¶å€™ï¼Œè‡ªå®šä¹‰dialogå¸ƒå±€å¯ä»¥åŠ¨æ€è°ƒæ•´è·ç¦»ï¼ˆéœ€è¦ä½¿ç”¨ç›¸åº”widgetï¼‰

4.0ç‰ˆæœ¬æ–°å¢åŠŸèƒ½
=========

å¼ºå¤§çš„Config
---------

*   å¯ä»¥ä½¿ç”¨configè·å–dialogæ˜¯å¦å­˜åœ¨æƒ…å†µ

    // è‡ªå®šä¹‰dialogï¼Œattachæˆ–loadingï¼Œæ˜¯å¦å­˜åœ¨åœ¨ç•Œé¢ä¸Š
    SmartDialog.config.isExist;
    // è‡ªå®šä¹‰dialogæˆ–attachæ˜¯å¦å­˜åœ¨åœ¨ç•Œé¢ä¸Š
    SmartDialog.config.isExistDialog;
    // loadingæ˜¯å¦å­˜åœ¨ç•Œé¢ä¸Š
    SmartDialog.config.isExistLoading;
    // toastæ˜¯å¦å­˜åœ¨åœ¨ç•Œé¢ä¸Š
    SmartDialog.config.isExistToast;
    

*   configå¯ä»¥æ›´ç»†è‡´çš„æ§åˆ¶showï¼ŒshowAttachï¼ŒshowLoadingï¼ŒshowToastç­‰å¼¹çª—
    *   SmartConfigXxx()é»˜è®¤å‚æ•°éƒ½æ˜¯æˆ‘ç»è¿‡æ·±æ€åè®¾ç½®çš„ï¼Œæ— ç‰¹æ®Šè¦æ±‚å¯ä»¥ä¸ç”¨é¢å¤–è®¾ç½®
    *   å¦‚æœä¸éœ€è¦è‡ªå®šä¹‰configæ•°å€¼ï¼Œä¸‹æ–¹åˆå§‹åŒ–ä»£ç æ— éœ€å†™

    SmartDialog.config
      ..custom = SmartConfigCustom()
      ..attach = SmartConfigAttach()
      ..loading = SmartConfigLoading()
      ..toast = SmartConfigToast();
    

*   å¯ä»¥è‡ªå®šä»»æ„configä¸­çš„æ•°å€¼ï¼Œä»¥æ»¡è¶³ç›¸åº”çš„éœ€æ±‚
    *   ä¸‹æ–¹ä»£ç æ˜¯æ¼”ç¤ºè‡ªå®šä¹‰å‚æ•°
    *   å¤§å®¶å¯ä»¥æŒ‰éœ€è®¾ç½®

    SmartDialog.config
      ..custom = SmartConfigCustom(
        maskColor: Colors.black.withOpacity(0.35),
        useAnimation: true,
      )
      ..attach = SmartConfigAttach(
        animationType: SmartAnimationType.scale,
        usePenetrate: false,
      )
      ..loading = SmartConfigLoading(
        clickMaskDismiss: false,
        leastLoadingTime: const Duration(milliseconds: 0),
      )
      ..toast = SmartConfigToast(
        intervalTime: const Duration(milliseconds: 100),
        displayTime: const Duration(milliseconds: 2000),
      );
    

bindPage
--------

> **è¯´æ˜**

è¿™ä¸ªå‚æ•°çš„å«ä¹‰æ˜¯å°†SmartDialogå°†pageç»‘å®šï¼šå¦‚æœåœ¨SmartDialogä¸Šè·³è½¬é¡µé¢

*   å’Œå½“å‰é¡µé¢ç»‘å®šSmartDialogä¼šè‡ªåŠ¨éšè—
*   å›åˆ°ç»‘å®šé¡µé¢çš„æ—¶å€™ï¼ŒSmartDialogå°†ä¼šæ˜¾ç¤º

å…³äºåœ¨Dialogä¸Šé¢è·³è½¬é¡µé¢çš„é—®é¢˜ï¼Œ4.0ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨`useSystem`å‚æ•°è§£å†³

*   ä½¿ç”¨`useSystem`å‚æ•°æ—¶ï¼Œæœ¬è´¨æ˜¯ä½¿ç”¨è‡ªå¸¦dialogä½œä¸ºè½½ä½“ï¼Œè¿™æ ·å°±å¯ä»¥åˆç†çš„å’Œpageäº¤äº’
*   ä½†æ˜¯å› ä¸ºè‡ªå¸¦dialogçš„å„ç§å±€é™ï¼Œä½¿ç”¨`useSystem`æ—¶ï¼š`usePenetrate`ï¼Œ`tag`ï¼Œ`KeepSingle`ï¼Œ `permanent`éƒ½è¢«ç¦æ­¢ä½¿ç”¨äº†

4.0ç‰ˆæœ¬å¼•å…¥çš„bindPageçš„é€»è¾‘ï¼Œå¯ä»¥é¿å…ä½¿ç”¨`useSystem`æ—¶çš„å„ç§é™åˆ¶

bindPageæ˜¯é»˜è®¤å¼€å¯çš„ï¼ˆå¯åœ¨configä¸­é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨showå’ŒshowAttachæ—¶æ‰‹åŠ¨å…³é—­æˆ–å¼€å¯ï¼›åœ¨ç‰¹æ®Šçš„ä¸šåŠ¡åœºæ™¯ï¼ŒæŒ‰éœ€ä½¿ç”¨`bindPage`å’Œ`useSystem`å³å¯

> **ä½¿ç”¨æ•ˆæœ**

*   å†™ä¸ªæ¼”ç¤ºdemoï¼Œè¿™ä¸ªå°±æ˜¯æ­£å¸¸åœ¨å¼¹çª—ä¸Šè·³è½¬é¡µé¢æ“ä½œ

    void _dialogBindPage() async {
      var index = 0;
      Function()? showDialog;
    
      toNewPage(bool useSystem) async {
        Get.to(
          () {
            return Scaffold(
              appBar: AppBar(title: Text('New Page ${++index}')),
              body: Container(
                color: randomColor(),
                alignment: Alignment.center,
                child: ElevatedButton(
                  onPressed: () => showDialog?.call(),
                  child: Text('test bindPage $index'),
                ),
              ),
            );
          },
          preventDuplicates: false,
        );
      }
    
      showDialog = () {
        SmartDialog.show(builder: (_) {
          return Container(
            width: 300,
            height: 170,
            alignment: Alignment.center,
            decoration: BoxDecoration(
              color: Colors.white,
              borderRadius: BorderRadius.circular(20),
            ),
            child: ElevatedButton(
              onPressed: () => toNewPage(false),
              child: Text('test bindPage $index'),
            ),
          );
        });
      };
    
      showDialog();
    }
    

*   æ¥çœ‹çœ‹æ•ˆæœ
    *   è€å®è¯´ï¼Œæ²¡æœ‰ä½¿ç”¨useSystemåŠŸèƒ½æ—¶çš„æ•ˆæœä¸æ»‘
    *   ä½†æ˜¯bindPageä¹Ÿè§£å†³äº†å¼¹çª—ä¸Šè·³è½¬é¡µé¢çš„é—®é¢˜ï¼ŒåŒæ—¶åˆä¿ç•™äº†usePenetrateï¼Œtagï¼ŒKeepSingleï¼Œpermanentç­‰åŠŸèƒ½
    *   å¤§å®¶æŒ‰éœ€ä½¿ç”¨

![bindPage](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235600.gif)

å…³é—­å¼¹çª—æ—¶æºå¸¦æ•°æ®
---------

è¯¥åŠŸèƒ½å’Œflutterè·¯ç”±å…³é—­ï¼Œæºå¸¦è¿”å›æ•°æ®åŠŸèƒ½å¯¹é½

*   çœ‹ä¸‹demoï¼šç‚¹å‡»`show result`æŒ‰é’®ï¼Œå…³é—­å¼¹çª—ï¼Œå¹¶å°†è¾“å…¥æ¡†ä¸­çš„æ•°æ®è¿”å›

    void _dialogCarryResult() async {
      var result = await SmartDialog.show(
        builder: (_) {
          var message = '';
          return Container(
            width: 300,
            height: 170,
            alignment: Alignment.center,
            decoration: BoxDecoration(
              color: Colors.white,
              borderRadius: BorderRadius.circular(20),
            ),
            child: Column(mainAxisSize: MainAxisSize.min, children: [
              Container(
                width: 100,
                margin: EdgeInsets.only(bottom: 30),
                child: TextField(onChanged: (msg) => message = msg),
              ),
              ElevatedButton(
                onPressed: () => SmartDialog.dismiss(result: message),
                child: Text('show result'),
              )
            ]),
          );
        },
      );
    
      SmartDialog.showToast("$result");
    }
    

*   æ•ˆæœ

![carryResult](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235546.gif)

æ°¸ä¹…åŒ–Dialog
---------

å°†`permanent`å‚æ•°è®¾ç½®æˆtrueï¼Œæ‰“å¼€çš„dialogå°†å˜æˆæ°¸ä¹…åŒ–dialogï¼Œæ¡†æ¶å†…éƒ¨æ‰€åšçš„æ‰€æœ‰å…œåº•å…³é—­æ“ä½œï¼ˆè¿”å›äº‹ä»¶ï¼Œè·¯ç”±popï¼Œç‚¹å‡»é®ç½©ç­‰ï¼‰å°†å¤±æ•ˆï¼Œåªèƒ½æ‰‹åŠ¨å…³é—­

è¯¥åŠŸèƒ½è¯·ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯ä½¿ç”¨ï¼Œè¯·å‹¿æ»¥ç”¨

*   æ‰“å¼€ä¸€ä¸ªæ°¸ä¹…åŒ–dialog

    SmartDialog.show(
      permanent: true,
      usePenetrate: true,
      builder: (_) => Container(width: 150, height: 150, color: Colors.black),
    );
    

*   å…³é—­æ°¸ä¹…åŒ–dialog

    SmartDialog.dismiss(force: true);
    

*   æ¥çœ‹ä¸‹demo

    void _dialogPermanent() async {
      openPermanentDialog() {
        SmartDialog.show(
          permanent: true,
          alignment: Alignment.centerRight,
          usePenetrate: true,
          clickMaskDismiss: false,
          builder: (_) {
            return Container(
              width: 150,
              height: double.infinity,
              alignment: Alignment.center,
              decoration: BoxDecoration(
                color: Colors.white,
                borderRadius: BorderRadius.only(
                  topLeft: Radius.circular(20),
                  bottomLeft: Radius.circular(20),
                ),
                boxShadow: [
                  BoxShadow(color: Colors.grey, blurRadius: 8, spreadRadius: 0.2)
                ],
              ),
              child: Text('permanent dialog'),
            );
          },
        );
      }
    
      SmartDialog.show(builder: (_) {
        return Container(
          width: 300,
          height: 170,
          alignment: Alignment.center,
          decoration: BoxDecoration(
            color: Colors.white,
            borderRadius: BorderRadius.circular(20),
          ),
          child: Wrap(spacing: 20, children: [
            ElevatedButton(
              onPressed: () => openPermanentDialog(),
              child: Text('open'),
            ),
            ElevatedButton(
              onPressed: () => SmartDialog.dismiss(force: true),
              child: Text('close'),
            )
          ]),
        );
      });
    }
    

*   æ•ˆæœï¼šå¯ä»¥çœ‹è§popè·¯ç”±ï¼Œç‚¹å‡»é®ç½©å’Œè¿”å›äº‹ä»¶ï¼Œéƒ½ä¸èƒ½å…³é—­`permanent dialog`

![permanentDialog](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235530.gif)

æœ€å°åŠ è½½æ—¶é—´
------

configä¸­loadingä¸­æœ‰ä¸ª`leastLoadingTime`å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶æœ€å°çš„åŠ è½½æ—¶é—´

è¿™ä¸ªåŠŸèƒ½æ˜¯ä¸ºäº†è§£å†³æ¥å£è¯·æ±‚å¤ªå¿«ï¼Œå¯¼è‡´loadingå¼¹çª—ä¸€é—ªè€Œè¿‡çš„é—®é¢˜

*   ä½¿ç”¨ï¼šè¯¥å‚æ•°è¯·ç»“åˆå®é™…ä¸šåŠ¡åœºæ™¯è®¾ç½®åˆé€‚çš„æ•°æ®ï¼ŒleastLoadingTimeé»˜è®¤æ•°å€¼ä¸º0ç§’
    *   æ­¤å¤„ä»…åšæ¼”ç¤ºï¼Œæ‰åœ¨æ­¤å¤„ç»™config.loadingé‡æ–°èµ‹å€¼ï¼Œä¸€èˆ¬å»ºè®®åœ¨appåˆå§‹åŒ–ä½ç½®å°±å®šå¥½å‚æ•°
    *   showLoading()ä¹‹åç«‹é©¬è°ƒç”¨dismissï¼Œloadingä¼šä¸€é—ªè€Œè¿‡
    *   è®¾ç½®äº†leastLoadingTimeä¸º2ç§’ï¼Œloadingä¼šå¼ºåˆ¶ç­‰å¾…ä¿©ç§’ä¹‹åï¼Œdismissæ‰ä¼šç”Ÿæ•ˆ

    void _loadingLeastTime() async {
      SmartDialog.config.loading = SmartConfigLoading(
        leastLoadingTime: const Duration(seconds: 2),
      );
      SmartDialog.showLoading();
      SmartDialog.dismiss();
      SmartDialog.config.loading = SmartConfigLoading();
    }
    

*   æ•ˆæœ

![leastTime](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235524.gif)

è¿ç»­toastæ˜¾ç¤ºé—´éš”æ—¶é—´
-------------

å½“å¤šä¸ªtoastè¿ç»­æ˜¾ç¤ºçš„æ—¶å€™ï¼Œå‰ä¸€ä¸ªtoastå’Œåä¸€ä¸ªtoastæ˜¾ç¤ºæ— é—´éš”æ—¶é—´ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹çªå…€

æ­¤å¤„åœ¨`SmartConfigToast`ä¸­å¢åŠ äº†ä¸€ä¸ª`intervalTime`å‚æ•°ï¼Œç”¨ä»¥æ§åˆ¶é—´éš”æ—¶é—´

é»˜è®¤çš„`intervalTime`å·²ç»æ˜¯ä¸ªåˆç†å‚æ•°ï¼Œå¦‚æ— å¿…è¦ï¼Œæœ€å¥½ä¸è¦æ›´æ”¹

*   æ¥çœ‹ä¸‹æ•ˆæœï¼Œä»…åšæ¼”ç¤ºï¼Œ`intervalTime`æ•°å€¼å°±è®¾ç½®ç¨å¾®å¤§ä¸€äº›

    void _toastIntervalTime() async {
      SmartDialog.config.toast = SmartConfigToast(
        intervalTime: const Duration(milliseconds: 800),
      );
      for (var i = 0; i < 3; i++) {
        SmartDialog.showToast("toast $i").then((value) {
          if (!SmartDialog.config.isExistToast) {
            SmartDialog.config.toast = SmartConfigToast();
          }
        });
      }
    }
    

*   æ•ˆæœå›¾

![intervalTime](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235517.gif)

æ€»ç»“
==

SmartDialog 4.0ç‰ˆæœ¬æ˜¯ä¸ªéå¸¸é‡è¦çš„ç‰ˆæœ¬ï¼Œæ ‡å¿—ç€SmartDialogå‘Šåˆ«äº†ç¾æ¶©ï¼Œèµ°å‘äº†æˆç†Ÿ

ç»è¿‡è¿™æ¬¡é‡æ„ï¼Œæˆ‘ä¹Ÿæœ‰äº†ä¿¡å¿ƒï¼Œå»é¢å¯¹æ›´åŠ å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿›è¡Œå„ç§æ‹“å±•

è¿™æ¬¡é‡æ„æˆ‘åšäº†å¾ˆå¤šæ€è€ƒï¼Œä¹Ÿéå¸¸æ„Ÿè°¢å¤§å®¶ç»™æˆ‘æä¸ªå„ç§`issues`ï¼Œæ˜¯ä½ ä»¬å¯å‘äº†æˆ‘ï¼

![img](https://cdn.jsdelivr.net/gh/xdd666t/MyData@master/pic/flutter/blog/20220503235619.gif)