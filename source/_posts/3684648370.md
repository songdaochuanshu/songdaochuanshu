---
layout: post
title: "A. And Matching"
date: "2022-04-09T03:26:14.684Z"
---
A. And Matching
---------------

Posted on 2022-04-09 11:16  [ZheyuHarry](https://www.cnblogs.com/ZheyuHarry/)  阅读(0)  评论(0)  [编辑](https://i.cnblogs.com/EditPosts.aspx?postid=16121229)  [收藏](javascript:void(0))  [举报](javascript:void(0))

![](https://img2022.cnblogs.com/blog/2739426/202204/2739426-20220409105817107-417850307.png)

 ![](https://img2022.cnblogs.com/blog/2739426/202204/2739426-20220409105834176-1777724405.png)

 分析题目：这道题的题目是说给定一个2的幂次n，然后要求我们从0~n-1这n个数中不重复的挑选两个进行配对，要求配对后的每一对按位与之和为k；

  而且k的话还是从0~n-1都有的；

  既然题目都这样说了，那么这道题就肯定要转换为二进制来观察了，我们可以发现因为n始终是2的幂次，所以n-1的二进制表示就是111.....11，那么我们就可以知道了对于n位的一个二进制数有着000……00~111……11这样的全排列，那么我们就可以得知，对于范围内任意的数a总存在一个未被使用过的数b按位与为0（因为按位与为0是一一配对的，所以所有的数都没有遗漏），所以我们可以定义一个com函数，返回参数的按位或的值；

  这样的话，k == 0的情况就已经被我们考虑了；接下来我们考虑k∈（1，n-1）的范围，我们已知0和n-1是配对的，n-1&x == x， 0&x == 0，得知这个特性后，我们只要让k和n-1配对，0和com（k）配对即可；因为com（n-1） == 0，所以k == n-1的时候要单独考虑；

  接下来，我们就来探讨一下k == n-1的情况，我们可以发现，n-1和n-2配对得到n-2，还需要1，所以让n-3和1配对得到1，再让0和2配对得到0，按位与之和就为n-1了；

启示；这道题告诉我们，我们要让所有配对处于一个比较特殊的条件下（先找到全部为0），然后根据需要进行调换配对！！！

代码：[Submission #152942889 - Codeforces](https://codeforces.com/contest/1630/submission/152942889)