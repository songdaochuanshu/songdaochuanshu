---
layout: post
title: "使用小黄鸟(HttpCanary)+模拟器(VMOS Pro)对手机APP进行抓包"
date: "2023-01-17T17:14:38.984Z"
---
使用小黄鸟(HttpCanary)+模拟器(VMOS Pro)对手机APP进行抓包
=========================================

 最近接触app开发，苦于app端不能像网页端可以F12看请求信息，对于后端来说当接口出现异常却不能拿到请求参数是很苦恼的，

因为之前了解过逍遥模拟器，先使用了模拟器对appj进行抓包，但发现这一款app在模拟器上面卡的很,根本玩不转。

后面找到了一个可以在手机上直接抓包的工具——httpcanary（小黄鸟）。

起初我使用的是一个比较老一点的安卓机(安卓机A)，版本低，直接安装了小黄鸟，跟着小黄鸟上面的提示安装好对应的证书就可以直接抓包。

后面在使用安卓机A的过程中，屏幕小，性能不高，于是出巨资买了一个版本较高的安卓机B之后发现直接安装小黄鸟竟然不能抓包了。

经过了解才知道高版本的安卓机B没有开发者权限，如果需要打开开发者权限又需要一系列的申请和刷机操作，

后面了解到VMOS PRO 虚拟机可以解决此问题。

软件下载地址(百度网盘):

链接：https://pan.baidu.com/s/1jUtzlaqUahFdGarRSwLWKA?pwd=1f1g  
提取码：1f1g  
  

以下这3个就是我们需要用到的手机软件 :

![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117184548636-467219042.png)

安装成功之后的app图标，JustTrustMe是没有图标的哦。          

 ![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117201738055-652363661.png)                            

**1、安装：JustTrustMe**

    在真机上安装JustTrustMe.apk

**2、安装虚拟机：VMOS Pro**

![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117182727171-2040705591.png)                         

![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117193711785-1927400953.png)

 ![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117201259169-413083163.png)

 ![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117190028843-1137919054.png)

 1) 选择创新全自动 

 2) 进入虚拟机桌面->设置->打开超级用户和Xposed

 3) 虚拟机桌面添加->导入JustTrustMe和需要被抓包的app

 4) 虚拟机桌面Xposed->模块->添加JustTrustMe

 5) 关闭虚拟机回到真实机桌面

 注:如果在安装的过程中提示让模拟机更新，不要更新，

 更新后超级用户和Xposed需要付费才能使用，

如果介意此版本不是正版的朋友可以去app商店下载正版，付费开超级用户和Xposed。

**3、安装小黄鸟:HttpCanary**

安装HttpCanary.apk在**真实机**上(这个不是安装在虚拟机里面的哦)

![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117191235104-6930978.png)

HttpCanary->设置->目标应用->需要被抓包的软件(VMOS Pro)。

**4、进入抓包流程**

打开虚拟机(VMOS Pro)->打开真机上的小黄鸟(HttpCanary)->在虚拟机中操作需要被抓包的app；

注意:一定要先打开虚拟机再打开小黄鸟，不然无法抓包哦。

![](https://img2023.cnblogs.com/blog/732886/202301/732886-20230117192937738-1233409359.png)

最后这个抓包就完成了，成功拿到我们需要的接口请求参数了。

小编啰嗦几句：

小黄鸟+虚拟机的组合在安卓系统和鸿蒙系统中都可以使用。

苹果系统的用户自己试一试罗(本人没有试过苹果系统是否也能抓包)