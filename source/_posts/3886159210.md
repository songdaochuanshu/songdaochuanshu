---
layout: post
title: "BeautifulSoup4åº“"
date: "2022-05-09T20:20:07.788Z"
---
BeautifulSoup4åº“
===============

![BeautifulSoup4åº“](https://img2022.cnblogs.com/blog/2608072/202205/2608072-20220509231042027-2112032722.png) éå†æ–‡æ¡£æ ‘&æœç´¢æ–‡æ¡£æ ‘&CSSé€‰æ‹©å™¨ğŸ‘†

BeautifulSoup4åº“
===============

![image](https://img2022.cnblogs.com/blog/2608072/202205/2608072-20220509230931719-1420553952.png)

å’Œ lxml ä¸€æ ·ï¼ŒBeautiful Soup ä¹Ÿæ˜¯ä¸€ä¸ªHTML/XMLçš„è§£æå™¨ï¼Œä¸»è¦çš„åŠŸèƒ½ä¹Ÿæ˜¯å¦‚ä½•è§£æå’Œæå– HTML/XML æ•°æ®ã€‚

lxml åªä¼šå±€éƒ¨éå†ï¼Œè€ŒBeautiful Soup æ˜¯åŸºäºHTML DOMï¼ˆDocument Object Modelï¼‰çš„ï¼Œä¼šè½½å…¥æ•´ä¸ªæ–‡æ¡£ï¼Œè§£ææ•´ä¸ªDOMæ ‘ï¼Œå› æ­¤æ—¶é—´å’Œå†…å­˜å¼€é”€éƒ½ä¼šå¤§å¾ˆå¤šï¼Œæ‰€ä»¥æ€§èƒ½è¦ä½äºlxmlã€‚

Beautiful Soup 3 ç›®å‰å·²ç»åœæ­¢å¼€å‘ï¼Œæ¨èç°åœ¨çš„é¡¹ç›®ä½¿ç”¨Beautiful Soup 4ã€‚

å®‰è£…å’Œæ–‡æ¡£ï¼š
------

å®‰è£…ï¼š`pip install bs4`

ä¸­æ–‡æ–‡æ¡£ï¼š[https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html](https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html)

å‡ å¤§è§£æå·¥å…·å¯¹æ¯”ï¼š
---------

![image-20220509203742373](https://s2.loli.net/2022/05/09/cEWQ7DH1fygnq8G.png)

å®‰è£…è§£æå™¨
-----

1.  pip install lxml ï¼ˆæ¨èï¼‰
2.  pip install html5lib

![image-20220509205344311](https://s2.loli.net/2022/05/09/KyBhHwz5q1f8cua.png)

æ¨èä½¿ç”¨lxmlä½œä¸ºè§£æå™¨,å› ä¸ºæ•ˆç‡æ›´é«˜. åœ¨Python2.7.3ä¹‹å‰çš„ç‰ˆæœ¬å’ŒPython3ä¸­3.2.2ä¹‹å‰çš„ç‰ˆæœ¬,å¿…é¡»å®‰è£…lxmlæˆ–html5lib, å› ä¸ºé‚£äº›Pythonç‰ˆæœ¬çš„æ ‡å‡†åº“ä¸­å†…ç½®çš„HTMLè§£ææ–¹æ³•ä¸å¤Ÿç¨³å®š.

æç¤º: å¦‚æœä¸€æ®µHTMLæˆ–XMLæ–‡æ¡£æ ¼å¼ä¸æ­£ç¡®çš„è¯,é‚£ä¹ˆåœ¨ä¸åŒçš„è§£æå™¨ä¸­è¿”å›çš„ç»“æœå¯èƒ½æ˜¯ä¸ä¸€æ ·çš„,æŸ¥çœ‹ [è§£æå™¨ä¹‹é—´çš„åŒºåˆ«](https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html#id49) äº†è§£æ›´å¤šç»†èŠ‚

ç®€å•ä½¿ç”¨ï¼š
-----

    from bs4 import BeautifulSoup
    
    html = """
    <html><head><title>The Dormouse's story</title></head>
    <body>
    <p class="title" name="dromouse"><b>The Dormouse's story</b></p>
    <p class="story">Once upon a time there were three little sisters; and their names were
    <a href="http://example.com/elsie" class="sister" id="link1"><!-- Elsie --></a>,
    <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
    <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
    and they lived at the bottom of a well.</p>
    <p class="story">...</p>
    """
    
    soup = BeautifulSoup(html,'lxml')
    print(soup.prettify())
    

å¸¸è§çš„å››ç§å¯¹è±¡ï¼š
--------

### 1.Tagï¼š

Tag é€šä¿—ç‚¹è®²å°±æ˜¯ HTML ä¸­çš„ä¸€ä¸ªä¸ªæ ‡ç­¾ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ `soup` åŠ æ ‡ç­¾åè½»æ¾åœ°è·å–è¿™äº›æ ‡ç­¾çš„å†…å®¹ï¼Œè¿™äº›å¯¹è±¡çš„ç±»å‹æ˜¯`bs4.element.Tag`ã€‚ä½†æ˜¯æ³¨æ„ï¼Œå®ƒæŸ¥æ‰¾çš„æ˜¯åœ¨æ‰€æœ‰å†…å®¹ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ ‡ç­¾ã€‚

### 2.NavigableStringï¼š

å¦‚æœæ‹¿åˆ°æ ‡ç­¾åï¼Œè¿˜æƒ³è·å–æ ‡ç­¾ä¸­çš„å†…å®¹ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡`tag.string`è·å–æ ‡ç­¾ä¸­çš„æ–‡å­—ï¼Œåº•å±‚ç»§æ‰¿äº†`str`å¯¹è±¡ï¼Œå¯ä»¥å½“ä½œå­—ç¬¦ä¸²æ¥ä½¿ç”¨

    from bs4.element import NavigableString
    

### 3\. BeautifulSoupï¼š

BeautifulSoup å¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ–‡æ¡£çš„å…¨éƒ¨å†…å®¹.å¤§éƒ¨åˆ†æ—¶å€™,å¯ä»¥æŠŠå®ƒå½“ä½œ Tag å¯¹è±¡ï¼Œå› ä¸ºåº•å±‚ç»§æ‰¿äº†Tagå¯¹è±¡ï¼Œå®ƒæ”¯æŒ **éå†æ–‡æ¡£æ ‘** å’Œ **æœç´¢æ–‡æ¡£æ ‘** ä¸­æè¿°çš„å¤§éƒ¨åˆ†çš„æ–¹æ³•.

    from bs4 import BeautifulSoup
    

### 4.Commentï¼š

Tag , NavigableString , BeautifulSoup å‡ ä¹è¦†ç›–äº†htmlå’Œxmlä¸­çš„æ‰€æœ‰å†…å®¹,ä½†æ˜¯è¿˜æœ‰ä¸€äº›ç‰¹æ®Šå¯¹è±¡.å®¹æ˜“è®©äººæ‹…å¿ƒçš„å†…å®¹æ˜¯æ–‡æ¡£çš„æ³¨é‡Šéƒ¨åˆ†  
Comment å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„ NavigableString å¯¹è±¡ï¼Œåº•å±‚ç»§æ‰¿äº†`NavigableString` ï¼›

    from bs4.element import Comment
    

éå†æ–‡æ¡£æ ‘ï¼š
------

### contentså’Œchildrenï¼š

1.  **contents**å’Œ**children**ï¼š
    
    *   **contents**ï¼šè¿”å›æ‰€æœ‰å­èŠ‚ç‚¹çš„åˆ—è¡¨
    *   **children**ï¼šè¿”å›æ‰€æœ‰å­èŠ‚ç‚¹çš„è¿­ä»£å™¨
    
    **å¼‚åŒï¼š**è¿”å›æŸä¸ªæ ‡ç­¾ä¸‹çš„ç›´æ¥å­å…ƒç´ ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬å­—ç¬¦ä¸²ã€‚ä»–ä»¬ä¸¤çš„åŒºåˆ«æ˜¯ï¼šcontentsè¿”å›æ¥çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œchildrenè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚
    
2.  **strings** å’Œ **stripped\_strings**
    
    *   **strings**ï¼šå¦‚æœtagä¸­åŒ…å«å¤šä¸ªå­—ç¬¦ä¸² ï¼Œå¯ä»¥ä½¿ç”¨ `.strings` æ¥å¾ªç¯è·å–
    *   **stripped\_strings**ï¼šè¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œ,ä½¿ç”¨ `.stripped_strings` å¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹

stringå’Œstringsã€stripped\_stringså±æ€§ä»¥åŠget\_textæ–¹æ³•
-----------------------------------------------

1.  stringï¼šè·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„éæ ‡ç­¾å­—ç¬¦ä¸²ã€‚è¿”å›æ¥çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœè¿™ä¸ªæ ‡ç­¾ä¸‹æœ‰å¤šè¡Œå­—ç¬¦ï¼Œé‚£ä¹ˆå°±ä¸èƒ½è·å–åˆ°äº†ã€‚
2.  stringsï¼šè·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ã€‚è¿”å›æ¥çš„æ˜¯ä¸ªç”Ÿæˆå™¨ã€‚
3.  stripped\_stringsï¼šè·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä¼šå»æ‰ç©ºç™½å­—ç¬¦ã€‚è¿”å›æ¥çš„æ˜¯ä¸ªç”Ÿæˆå™¨ã€‚
4.  get\_textï¼šè·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä»¥æ™®é€šå­—ç¬¦ä¸²å½¢å¼è¿”å›

    from bs4 import BeautifulSoup
    
    html = """
    <html><head><title>The Dormouse's story</title></head>
    <body>
    <p class="title" name="dromouse"><b>The Dormouse's story</b></p>
    <p class="story">Once upon a time there were three little sisters; and their names were
    <a href="http://example.com/elsie" class="sister" id="link1"><!-- Elsie --></a>,
    <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
    <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
    and they lived at the bottom of a well.</p>
    <p class="story">...</p>
    <footer><!--æ³¨é‡Šå†…å®¹--></footer>   
    """
    # å®ä¾‹åŒ–
    # soup=BeautifulSoup(html,'html.parser')
    soup = BeautifulSoup(html,'lxml')
    
    # print(soup)   # è‡ªåŠ¨è¡¥å…¨
    # print(soup.prettify())   # ç¾åŒ–è¾“å‡º
    '''Tagå¯¹è±¡'''
    # print(type(soup.p))   # <class 'bs4.element.Tag'> ---> Tagå¯¹è±¡
    # print(soup.p)   # è¿”å›ç¬¬ä¸€ä¸ªpæ ‡ç­¾
    # print(soup.p.text)  # The Dormouse's story
    
    # print(soup.p.name)  # è¾“å‡ºpæ ‡ç­¾çš„åå­— ---> p
    # print(soup.title.name) # è¾“å‡ºtitleæ ‡ç­¾çš„åå­—  --->title
    # print(soup.p.attrs)  # è¾“å‡ºpæ ‡ç­¾å±æ€§   ----->   {'class': ['title'], 'name': 'dromouse'}
    # print(soup.p.get('class')) # å› ä¸ºclasså¯èƒ½æœ‰å¤šä¸ªï¼Œæ‰€ä»¥æ˜¯åˆ—è¡¨
    # print(soup.p['class'])   #  è¾“å‡ºpæ ‡ç­¾çš„å±æ€§å€¼  ----> ['title']
    
    '''NavigableStringå¯¹è±¡ï¼Œå¦‚æœpæ ‡ç­¾å†…å¥—äº†æ ‡ç­¾éœ€è¦æ³¨æ„'''
    # print(type(soup.p.string))  # <class 'bs4.element.NavigableString'>
    # print(soup.p.string)   # è·å–æ ‡ç­¾å†…å®¹ï¼Œå½“æ ‡ç­¾åªæœ‰æ–‡æœ¬æˆ–è€…åªæœ‰ä¸€ä¸ªå­æ–‡æœ¬æ‰è¿”å›ï¼Œå¦‚æœæœ‰å¤šä¸ªæ–‡æœ¬æˆ–æ ‡ç­¾è¿”å›None----->None
    # print(soup.p.text)  # å½“å‰æ ‡ç­¾å’Œå­å­å­™çš„æ–‡æœ¬å†…å®¹æ‹¼åˆ°ä¸€èµ·   ----->HammerZeThe Dormouse's story
    # print(soup.p.strings) # æŠŠå­å­å­™å­™çš„æ–‡æœ¬å†…å®¹æ”¾åˆ°generator  -----><generator object _all_strings at 0x0000028DDAE8FA40>
    # print(list(soup.p.strings)) # --> ['HammerZe', "The Dormouse's story"]
    
    '''BeautifulSoupå¯¹è±¡'''
    # print(type(soup))  # <class 'bs4.BeautifulSoup'>
    
    '''Commentå¯¹è±¡'''
    from bs4.element import Comment
    # print(soup.footer.string)  # --->æ³¨é‡Šå†…å®¹
    # print(type(soup.footer.string))  # <class 'bs4.element.Comment'>
    
    # åµŒå¥—é€‰æ‹©
    # print(soup.head.title.string)  # The Dormouse's story
    
    # å­èŠ‚ç‚¹ã€å­å­™èŠ‚ç‚¹
    # head_tag = soup.head
    # print(head_tag.contents)  # è¿”å›å­èŠ‚ç‚¹---->[<title>The Dormouse's story</title>]
    # print(soup.p.contents)  # pä¸‹æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œæ”¾åˆ°åˆ—è¡¨ä¸­ --->[<b>The Dormouse's story</b>]
    # print(list(soup.p.children)) # å¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨,åŒ…å«pä¸‹æ‰€æœ‰å­èŠ‚ç‚¹,è·Ÿcontentsæœ¬è´¨ä¸€æ ·ï¼Œåªæ˜¯èŠ‚çº¦å†…å­˜  ---> [<b>The Dormouse's story</b>]
    # print(list(soup.p.descendants)) # è·å–å­å­™èŠ‚ç‚¹,pä¸‹æ‰€æœ‰çš„æ ‡ç­¾éƒ½ä¼šé€‰æ‹©å‡ºæ¥  å­å­å­™å­™  --->   [<b>The Dormouse's story</b>, "The Dormouse's story"]
    # for i,child in enumerate(soup.p.children):
    #     print(i,child)
    # for i,child in enumerate(soup.p.descendants):
    #     print(i,child)
    
    # çˆ¶èŠ‚ç‚¹ã€ç¥–å…ˆèŠ‚ç‚¹
    # print(soup.a.parent) # è·å–aæ ‡ç­¾çš„çˆ¶èŠ‚ç‚¹
    # print(soup.a.parents) # <generator object parents at 0x000002042AD6FA40>
    # print(list(soup.a.parents)) # æ‰¾åˆ°aæ ‡ç­¾æ‰€æœ‰çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œçˆ¶äº²çš„çˆ¶äº²ï¼Œçˆ¶äº²çš„çˆ¶äº²çš„çˆ¶äº²...
    
    # å…„å¼ŸèŠ‚ç‚¹
    print(soup.a.next_sibling) # ä¸‹ä¸€ä¸ªå…„å¼Ÿ
    print(soup.a.previous_sibling) # ä¸Šä¸€ä¸ªå…„å¼Ÿ
    
    print(list(soup.a.next_siblings)) # ä¸‹é¢çš„å…„å¼Ÿä»¬=>ç”Ÿæˆå™¨å¯¹è±¡
    print(soup.a.previous_siblings) # ä¸Šé¢çš„å…„å¼Ÿä»¬=>ç”Ÿæˆå™¨å¯¹è±¡
    

æœç´¢æ–‡æ¡£æ ‘ï¼š
------

### findã€find\_allçš„ä½¿ç”¨ï¼š

**findå’Œfind\_allæ–¹æ³•ï¼š**

*   æœç´¢æ–‡æ¡£æ ‘ï¼Œä¸€èˆ¬ç”¨å¾—æ¯”è¾ƒå¤šçš„å°±æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯findï¼Œä¸€ä¸ªæ˜¯find\_allã€‚
    
*   findæ–¹æ³•æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾åå°±ç«‹å³è¿”å›ï¼Œåªè¿”å›ä¸€ä¸ªå…ƒç´ ã€‚
    
*   find\_allæ–¹æ³•æ˜¯æŠŠæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾éƒ½é€‰åˆ°ï¼Œç„¶åè¿”å›å›å»ã€‚
    

### findä¸find\_allçš„åŒºåˆ«ï¼š

1.  findï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾å°±è¿”å›ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯åªä¼šè¿”å›ä¸€ä¸ªå…ƒç´ ã€‚
2.  find\_all:å°†æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾éƒ½è¿”å›ã€‚è¯´ç™½äº†ï¼Œä¼šè¿”å›å¾ˆå¤šæ ‡ç­¾ï¼ˆä»¥åˆ—è¡¨çš„å½¢å¼ï¼‰ã€‚

ä½¿ç”¨findå’Œfind\_allçš„è¿‡æ»¤æ¡ä»¶ï¼š
----------------------

1.  å…³é”®å­—å‚æ•°ï¼šå°†å±æ€§çš„åå­—ä½œä¸ºå…³é”®å­—å‚æ•°çš„åå­—ï¼Œä»¥åŠå±æ€§çš„å€¼ä½œä¸ºå…³é”®å­—å‚æ•°çš„å€¼è¿›è¡Œè¿‡æ»¤ã€‚
2.  attrså‚æ•°ï¼šå°†å±æ€§æ¡ä»¶æ”¾åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œä¼ ç»™attrså‚æ•°ã€‚

è·å–æ ‡ç­¾çš„å±æ€§ï¼š
--------

1.  é€šè¿‡ä¸‹æ ‡è·å–ï¼šé€šè¿‡æ ‡ç­¾çš„ä¸‹æ ‡çš„æ–¹å¼ã€‚
    
        href = a['href']
        
    
2.  é€šè¿‡attrså±æ€§è·å–ï¼šç¤ºä¾‹ä»£ç ï¼š
    
        href = a.attrs['href']
        
    
    **demo1**
    

    #--coding:utf-8--
    
    from bs4 import BeautifulSoup
    
    html = """
    <table class="tablelist" cellpadding="0" cellspacing="0">
        <tbody>
            <tr class="h">
                <td class="l" width="374">èŒä½åç§°</td>
                <td>èŒä½ç±»åˆ«</td>
                <td>äººæ•°</td>
                <td>åœ°ç‚¹</td>
                <td>å‘å¸ƒæ—¶é—´</td>
            </tr>
            <tr class="even">
                <td class="l square"><a target="_blank" href="position_detail.php?id=33824&keywords=python&tid=87&lid=2218">22989-é‡‘èäº‘åŒºå—é“¾é«˜çº§ç ”å‘å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-25</td>
            </tr>
            <tr class="odd">
                <td class="l square"><a target="_blank" href="position_detail.php?id=29938&keywords=python&tid=87&lid=2218">22989-é‡‘èäº‘é«˜çº§åå°å¼€å‘</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>2</td>
                <td>æ·±åœ³</td>
                <td>2017-11-25</td>
            </tr>
            <tr class="even">
                <td class="l square"><a target="_blank" href="position_detail.php?id=31236&keywords=python&tid=87&lid=2218">SNG16-è…¾è®¯éŸ³ä¹è¿è¥å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>2</td>
                <td>æ·±åœ³</td>
                <td>2017-11-25</td>
            </tr>
            <tr class="odd">
                <td class="l square"><a target="_blank" href="position_detail.php?id=31235&keywords=python&tid=87&lid=2218">SNG16-è…¾è®¯éŸ³ä¹ä¸šåŠ¡è¿ç»´å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-25</td>
            </tr>
            <tr class="even">
                <td class="l square"><a target="_blank" href="position_detail.php?id=34531&keywords=python&tid=87&lid=2218">TEG03-é«˜çº§ç ”å‘å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
            <tr class="odd">
                <td class="l square"><a target="_blank" href="position_detail.php?id=34532&keywords=python&tid=87&lid=2218">TEG03-é«˜çº§å›¾åƒç®—æ³•ç ”å‘å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
            <tr class="even">
                <td class="l square"><a target="_blank" href="position_detail.php?id=31648&keywords=python&tid=87&lid=2218">TEG11-é«˜çº§AIå¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>4</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
            <tr class="odd">
                <td class="l square"><a target="_blank" href="position_detail.php?id=32218&keywords=python&tid=87&lid=2218">15851-åå°å¼€å‘å·¥ç¨‹å¸ˆ</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
            <tr class="even">
                <td class="l square"><a target="_blank" href="position_detail.php?id=32217&keywords=python&tid=87&lid=2218">15851-åå°å¼€å‘å·¥ç¨‹å¸ˆ</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
            <tr class="odd">
                <td class="l square"><a id="test" class="test" target='_blank' href="position_detail.php?id=34511&keywords=python&tid=87&lid=2218">SNG11-é«˜çº§ä¸šåŠ¡è¿ç»´å·¥ç¨‹å¸ˆï¼ˆæ·±åœ³ï¼‰</a></td>
                <td>æŠ€æœ¯ç±»</td>
                <td>1</td>
                <td>æ·±åœ³</td>
                <td>2017-11-24</td>
            </tr>
        </tbody>
    </table>
    """
    
    soup = BeautifulSoup(html,'lxml')
    
    # 1. è·å–æ‰€æœ‰træ ‡ç­¾
    # trs = soup.find_all('tr')  # åˆ—è¡¨
    # for tr in trs:
    #     print(tr)
    #     print('-'*50)
    
    # 2. è·å–ç¬¬2ä¸ªtræ ‡ç­¾
    # print(soup.find_all('tr', limit=2)[1])
    
    # 3. è·å–æ‰€æœ‰classç­‰äºevençš„træ ‡ç­¾
    # trs = soup.find_all('tr',class_ = 'even')
    # trs = soup.find_all('tr',attrs={'class':'even'})
    # for tr in trs:
    #     print(tr)
    #     print('-'*50)
    
    # 4. å°†æ‰€æœ‰idç­‰äºtestï¼Œclassä¹Ÿç­‰äºtestçš„aæ ‡ç­¾æå–å‡ºæ¥ã€‚
    # list = soup.find_all('a',id= 'test',class_='test')
    # for a in list:
    #     print(a)
    
    # 5. è·å–æ‰€æœ‰aæ ‡ç­¾çš„hrefå±æ€§
    # alist = soup.find_all('a')
    # for a in alist:
    #     #1.
    #     # href = a['href']
    #     # print(href)
    #     #2.
    #     href = a.attrs['href']
    #     print(href)
    
    
    # 6. è·å–æ‰€æœ‰çš„èŒä½ä¿¡æ¯ï¼ˆçº¯æ–‡æœ¬ï¼‰
    trs = soup.find_all('tr')[1:]
    # print(trs)
    lists = []
    for tr in trs:
        info = {}
        tds = tr.find_all('td')
        # print(tds)
        name = tds[0].string
        category = tds[1].string
        info['name']=name
        info['category']=category
        # infos = list(tr.stripped_strings)
        infos =tr.get_text()
        print(infos)
    
        lists.append(info)
    print(lists)
    

**demo2**

    from bs4 import BeautifulSoup
    
    html_doc = """
    <html><head><title>The Dormouse's story</title></head>
    <body>
    <p class="title" id="id_p">lqz<b>The Dormouse's story</b></p>
    
    <p class="story">Once upon a time there were three little sisters; and their names were
    <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
    <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
    <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
    and they lived at the bottom of a well.</p>
    
    <p class="story">...</p>
    """
    soup = BeautifulSoup(html_doc, 'lxml')
    
    
    # 1ã€äº”ç§è¿‡æ»¤å™¨: å­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼ã€åˆ—è¡¨ã€Trueã€æ–¹æ³•
    # findï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª      find_allï¼šæ‰¾æ‰€æœ‰
    
    # å­—ç¬¦ä¸²  --->valueå€¼æ˜¯å­—ç¬¦ä¸²
    # res=soup.find_all(name='p')
    # res=soup.find(id='id_p')
    # res=soup.find_all(class_='story')
    # res=soup.find_all(name='p',class_='story')  # andæ¡ä»¶
    # res=soup.find(name='a',id='link2').text
    # res=soup.find(name='a',id='link2').attrs.get('href')
    # res=soup.find(attrs={'id':'link2','class':'sister'}).attrs.get('href')
    # print(res)
    
    
    # æ­£åˆ™è¡¨è¾¾å¼--->valueæ˜¯æ­£åˆ™è¡¨è¾¾å¼
    # import re
    #
    # # res=soup.find_all(name=re.compile('^b'))
    # # res=soup.find_all(href=re.compile('^http'))
    # res=soup.find_all(class_=re.compile('^s'))
    # print(res)
    
    
    # åˆ—è¡¨  valueå€¼æ˜¯åˆ—è¡¨
    # res=soup.find_all(name=['body','a'])
    # res=soup.find_all(class_=['sister','story'])
    # res=soup.find_all(id=['link2','link3'])
    # print(res)
    
    # True   valueå€¼æ˜¯True
    # res=soup.find_all(name=True)
    # res=soup.find_all(id=True)
    # res=soup.find_all(href=True)
    # print(res)
    
    
    # æ–¹æ³•
    
    # def has_class_but_no_id(tag):
    #     return tag.has_attr('class') and not tag.has_attr('id')
    #
    # print(soup.find_all(name=has_class_but_no_id))  # æœ‰classä½†æ˜¯æ²¡æœ‰idçš„æ ‡ç­¾
    
    
    #1 htmlé¡µé¢ä¸­ï¼Œåªè¦æœ‰çš„ä¸œè¥¿ï¼Œé€šè¿‡bs4éƒ½å¯ä»¥è§£æå‡ºæ¥
    #2 éå†æ–‡æ¡£æ ‘+æœç´¢æ–‡æ¡£æ ‘æ··ç”¨
    # def has_class_but_no_id(tag):
    #     return tag.has_attr('class') and not tag.has_attr('id')
    # print(soup.find(name=has_class_but_no_id).a.text)
    
    # 3 find_allçš„å…¶ä»–å‚æ•°limit:é™åˆ¶å–å‡ æ¡  recursiveï¼šæ˜¯å¦é€’å½’æŸ¥æ‰¾
    
    # def has_class_but_no_id(tag):
    #     return tag.has_attr('class') and not tag.has_attr('id')
    # res=soup.find_all(name=has_class_but_no_id,limit=1)
    #
    # print(res)
    #
    # res=soup.find_all(name='a',recursive=False)  #ä¸é€’å½’æŸ¥æ‰¾,é€Ÿåº¦å¿«ï¼Œåªæ‰¾ä¸€å±‚
    # print(res)
    

CSSé€‰æ‹©å™¨ï¼š
-------

### selectæ–¹æ³•ï¼š

ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•å¯ä»¥æ–¹ä¾¿çš„æ‰¾å‡ºå…ƒç´ ã€‚ä½†æœ‰æ—¶å€™ä½¿ç”¨`css`é€‰æ‹©å™¨çš„æ–¹å¼å¯ä»¥æ›´åŠ çš„æ–¹ä¾¿ã€‚ä½¿ç”¨`css`é€‰æ‹©å™¨çš„è¯­æ³•ï¼Œåº”è¯¥ä½¿ç”¨`select`æ–¹æ³•ã€‚ä»¥ä¸‹åˆ—å‡ºå‡ ç§å¸¸ç”¨çš„`css`é€‰æ‹©å™¨æ–¹æ³•ï¼š

#### ï¼ˆ1ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾ï¼š

    print(soup.select('a'))
    

#### ï¼ˆ2ï¼‰é€šè¿‡ç±»åæŸ¥æ‰¾ï¼š

é€šè¿‡ç±»åï¼Œåˆ™åº”è¯¥åœ¨ç±»çš„å‰é¢åŠ ä¸€ä¸ª`.`ã€‚æ¯”å¦‚è¦æŸ¥æ‰¾`class=sister`çš„æ ‡ç­¾ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    print(soup.select('.sister'))
    

#### ï¼ˆ3ï¼‰é€šè¿‡idæŸ¥æ‰¾ï¼š

é€šè¿‡idæŸ¥æ‰¾ï¼Œåº”è¯¥åœ¨idçš„åå­—å‰é¢åŠ ä¸€ä¸ªï¼ƒå·ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    print(soup.select("#link1"))
    

#### ï¼ˆ4ï¼‰ç»„åˆæŸ¥æ‰¾ï¼š

ç»„åˆæŸ¥æ‰¾å³å’Œå†™ class æ–‡ä»¶æ—¶ï¼Œæ ‡ç­¾åä¸ç±»åã€idåè¿›è¡Œçš„ç»„åˆåŸç†æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚æŸ¥æ‰¾ p æ ‡ç­¾ä¸­ï¼Œid ç­‰äº link1çš„å†…å®¹ï¼ŒäºŒè€…éœ€è¦ç”¨ç©ºæ ¼åˆ†å¼€ï¼š

    print(soup.select("p #link1"))
    

ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾ï¼Œåˆ™ä½¿ç”¨ > åˆ†éš”ï¼š

    print(soup.select("head > title"))
    

#### ï¼ˆ5ï¼‰é€šè¿‡å±æ€§æŸ¥æ‰¾ï¼š

æŸ¥æ‰¾æ—¶è¿˜å¯ä»¥åŠ å…¥å±æ€§å…ƒç´ ï¼Œå±æ€§éœ€è¦ç”¨ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ³¨æ„å±æ€§å’Œæ ‡ç­¾å±äºåŒä¸€èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸­é—´ä¸èƒ½åŠ ç©ºæ ¼ï¼Œå¦åˆ™ä¼šæ— æ³•åŒ¹é…åˆ°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    print(soup.select('a[href="http://example.com/elsie"]'))
    

#### ï¼ˆ6ï¼‰è·å–å†…å®¹

ä»¥ä¸Šçš„ select æ–¹æ³•è¿”å›çš„ç»“æœéƒ½æ˜¯åˆ—è¡¨å½¢å¼ï¼Œå¯ä»¥éå†å½¢å¼è¾“å‡ºï¼Œç„¶åç”¨ get\_text() æ–¹æ³•æ¥è·å–å®ƒçš„å†…å®¹ã€‚

    soup = BeautifulSoup(html, 'lxml')
    print(type(soup.select('title')))
    print(soup.select('title')[0].get_text())
    
    for title in soup.select('title'):
        print(title.get_text())
    

#### (7) é¡µé¢å¤åˆ¶

    # ç»ˆæå¤§æ‹›
    import requests
    response=requests.get('https://www.runoob.com/cssref/css-selectors.html')
    soup=BeautifulSoup(response.text,'lxml')
    res=soup.select_one('#content > table > tbody > tr:nth-child(2) > td:nth-child(3)').text
    print(res)