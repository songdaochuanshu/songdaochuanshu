---
layout: post
title: "Blazor å…¨å±æŒ‰é’®/å…¨å±æœåŠ¡ (BootstrapBlazorç»„ä»¶åº“)"
date: "2022-04-06T23:18:33.455Z"
---
Blazor å…¨å±æŒ‰é’®/å…¨å±æœåŠ¡ (BootstrapBlazorç»„ä»¶åº“)
=====================================

Blazor ç®€ä»‹
---------

Blazor æ˜¯ä¸€ä¸ªä½¿ç”¨ .NET ç”Ÿæˆçš„äº¤äº’å¼å®¢æˆ·ç«¯ Web UI çš„æ¡†æ¶ã€‚å’Œå‰ç«¯åŒå­¦æ‰€ç†ŸçŸ¥çš„ Vueã€Reactã€Angular æœ‰å·¨å¤§å·®å¼‚ã€‚

å…¶æœ€å¤§çš„ç‰¹è‰²æ˜¯ä½¿ç”¨ C# ä»£ç ï¼ˆç†è®ºä¸Šå¯ä»¥æ˜¯ .NET ç”Ÿæ€çš„ä»»ä½•è¯­è¨€ï¼‰ä»£æ›¿ JavaScript æ¥å®ç°é€»è¾‘ã€‚

*   ä½¿ç”¨ C# ä»£æ›¿ JavaScript æ¥åˆ›å»ºä¿¡æ¯ä¸°å¯Œçš„äº¤äº’å¼ UIã€‚
*   å…±äº«ä½¿ç”¨ .NET ç¼–å†™çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯åº”ç”¨é€»è¾‘ã€‚
*   å°† UI å‘ˆç°ä¸º HTML å’Œ CSSï¼Œä»¥æ”¯æŒä¼—å¤šæµè§ˆå™¨ï¼Œå…¶ä¸­åŒ…æ‹¬ç§»åŠ¨æµè§ˆå™¨ã€‚
*   ä¸æ–°å¼æ‰˜ç®¡å¹³å°ï¼ˆå¦‚ Dockerï¼‰é›†æˆã€‚
*   ä½¿ç”¨ .NET å’Œ Blazor ç”Ÿæˆæ··åˆæ¡Œé¢å’Œç§»åŠ¨åº”ç”¨ã€‚

ä½¿ç”¨ .NET è¿›è¡Œå®¢æˆ·ç«¯ Web å¼€å‘å¯æä¾›ä»¥ä¸‹ä¼˜åŠ¿ï¼š

*   ä½¿ç”¨ C# ä»£æ›¿ JavaScript æ¥ç¼–å†™ä»£ç ã€‚
*   åˆ©ç”¨ç°æœ‰çš„ .NET åº“ç”Ÿæ€ç³»ç»Ÿã€‚
*   åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´å…±äº«åº”ç”¨é€»è¾‘ã€‚
*   å—ç›Šäº .NET çš„æ€§èƒ½ã€å¯é æ€§å’Œå®‰å…¨æ€§ã€‚
*   ä½¿ç”¨å¼€å‘ç¯å¢ƒï¼ˆä¾‹å¦‚ Visual Studio æˆ– Visual Studio Codeï¼‰ä¿æŒ Windowsã€Linux æˆ– macOS ä¸Šçš„å·¥ä½œæ•ˆç‡ã€‚
*   ä»¥ä¸€ç»„ç¨³å®šã€åŠŸèƒ½ä¸°å¯Œä¸”æ˜“ç”¨çš„é€šç”¨è¯­è¨€ã€æ¡†æ¶å’Œå·¥å…·ä¸ºåŸºç¡€æ¥è¿›è¡Œç”Ÿæˆã€‚

æœ‰ä¸¤ç§ä¸åŒå¼€å‘æ¨¡å¼

Blazor WebAssemblyï¼Œ C# ä»£ç è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚  
Blazor Serverï¼ŒC# ä»£ç åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œï¼Œä½¿ç”¨ SignalR åŒæ­¥åˆ°æµè§ˆå™¨è¿›è¡Œæ›´æ–°ã€‚

Blazor æ¶‰åŠæŠ€æœ¯
-----------

Blazor æ˜¯ apt.net core ç”Ÿæ€çš„ç»„æˆéƒ¨åˆ†ï¼Œæ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯ä¹Ÿå¤§éƒ¨åˆ†å’Œ .net ç›¸å…³ã€‚

è§†å›¾å±‚ï¼Œä½¿ç”¨ Razor 3 æŠ€æœ¯è¿›è¡Œå‰ç«¯çš„ç¼–æ’æ¸²æŸ“ã€‚Razoræ˜¯ä¸€ç§æ ‡è®°è¯­æ³•ï¼Œæ˜¯ asp.net core çš„é»˜è®¤è§†å›¾è¯­æ³•ï¼Œæœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯å¼ºç±»å‹ï¼ˆC#ã€VBç­‰ï¼‰çš„ä»£ç å¯ä»¥å’Œ HTML å†™åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ†å¼€ã€‚åœ¨ razor æ–‡ä»¶ä¸­ï¼Œ@ç¬¦å·åé¢çš„éƒ½æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå¯ä»¥æ˜¯ä¸€è¡Œä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€æ•´è¡Œï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ®µè½ã€‚åœ¨ asp.net core ä¸­çš„å¤§è‡´åšæ³•æ˜¯æŠŠ VBã€C# ç­‰å¼ºç±»å‹è¯­è¨€åµŒå…¥åˆ°ç½‘é¡µï¼Œå½“ç½‘é¡µè¢«è¯·æ±‚çš„æ—¶å€™ï¼Œåœ¨æœåŠ¡å™¨ç«¯æ‰§è¡ŒåµŒå…¥çš„ä»£ç ï¼ŒåŠ¨æ€ç”Ÿæˆé¡µé¢ã€‚

ä»¥ Blazor WebAssembly å¼€å‘æ–¹å¼è¿è¡Œæ—¶ï¼Œä¾èµ– WebAssembly 4 æŠ€æœ¯ï¼Œå¯ä»¥åšæˆé™æ€é¡µé¢ä¸ä¾èµ–ä»»ä½•åç«¯æœåŠ¡å™¨ã€‚

ä»¥ Blazor Server æ–¹å¼å¼€å‘è¿è¡Œæ—¶ï¼Œä¾èµ– SignalR 5 æŠ€æœ¯ï¼Œå¹¶ä¸”éœ€è¦åç«¯æœåŠ¡å™¨ç«¯é…åˆã€‚

Bootstrap é£æ ¼çš„ Blazor UI ç»„ä»¶åº“ - BootstrapBlazor
---------------------------------------------

[https://www.blazor.zone/index](https://www.blazor.zone/index)

åŸºäº Bootstrap æ ·å¼åº“ç²¾å¿ƒæ‰“é€ ï¼Œå¹¶ä¸”é¢å¤–å¢åŠ äº† 100 å¤šç§å¸¸ç”¨çš„ç»„ä»¶ï¼Œä¸ºæ‚¨å¿«é€Ÿå¼€å‘é¡¹ç›®å¸¦æ¥éä¸€èˆ¬çš„æ„Ÿè§‰.

Element.requestFullscreen()
---------------------------

å‚è€ƒèµ„æ–™ [https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen)

Element.requestFullscreen() æ–¹æ³•ç”¨äºå‘å‡ºå¼‚æ­¥è¯·æ±‚ä½¿å…ƒç´ è¿›å…¥å…¨å±æ¨¡å¼ã€‚

è°ƒç”¨æ­¤APIå¹¶ä¸èƒ½ä¿è¯å…ƒç´ ä¸€å®šèƒ½å¤Ÿè¿›å…¥å…¨å±æ¨¡å¼ã€‚å¦‚æœå…ƒç´ è¢«å…è®¸è¿›å…¥å…¨å±å¹•æ¨¡å¼ï¼Œè¿”å›çš„Promiseä¼šresolveï¼Œå¹¶ä¸”è¯¥å…ƒç´ ä¼šæ”¶åˆ°ä¸€ä¸ªfullscreenchange (en-US)äº‹ä»¶ï¼Œé€šçŸ¥å®ƒå·²ç»è¿›å…¥å…¨å±æ¨¡å¼ã€‚å¦‚æœå…¨å±è¯·æ±‚è¢«æ‹’ç»ï¼Œè¿”å›çš„promiseä¼šå˜æˆrejectedå¹¶ä¸”è¯¥å…ƒç´ ä¼šæ”¶åˆ°ä¸€ä¸ªfullscreenerror (en-US)äº‹ä»¶ã€‚å¦‚æœè¯¥å…ƒç´ å·²ç»ä»åŸæ¥çš„æ–‡æ¡£ä¸­åˆ†ç¦»ï¼Œé‚£ä¹ˆè¯¥æ–‡æ¡£å°†ä¼šæ”¶åˆ°è¿™äº›äº‹ä»¶ã€‚

æ—©æœŸçš„Fullscreen APIå®ç°æ€»æ˜¯ä¼šæŠŠè¿™äº›äº‹ä»¶å‘é€ç»™documentï¼Œè€Œä¸æ˜¯è°ƒç”¨çš„å…ƒç´ ï¼Œæ‰€ä»¥ä½ è‡ªå·±å¯èƒ½éœ€è¦å¤„ç†è¿™æ ·çš„æƒ…å†µã€‚å‚è€ƒ Browser compatibility in \[Page not yet written\] æ¥å¾—çŸ¥å“ªäº›æµè§ˆå™¨åšäº†è¿™ä¸ªæ”¹åŠ¨ã€‚

æ³¨æ„ï¼šè¿™ä¸ªæ–¹æ³•åªèƒ½åœ¨ç”¨æˆ·äº¤äº’æˆ–è€…è®¾å¤‡æ–¹å‘æ”¹å˜çš„æ—¶å€™è°ƒç”¨ï¼Œå¦åˆ™å°†ä¼šå¤±è´¥ã€‚

**è¯­æ³•**

var Promise = Element.requestFullscreen(options);

**å‚æ•°**

options å¯é€‰

ä¸€ä¸ªFullscreenOptions (en-US)å¯¹è±¡æä¾›åˆ‡æ¢åˆ°å…¨å±æ¨¡å¼çš„æ§åˆ¶é€‰é¡¹ã€‚ç›®å‰ï¼Œå”¯ä¸€çš„é€‰é¡¹æ˜¯navigationUI (en-US)ï¼Œè¿™æ§åˆ¶äº†æ˜¯å¦åœ¨å…ƒç´ å¤„äºå…¨å±æ¨¡å¼æ—¶æ˜¾ç¤ºå¯¼èˆªæ¡UIã€‚é»˜è®¤å€¼æ˜¯"auto"ï¼Œè¡¨æ˜è¿™å°†ç”±æµè§ˆå™¨æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºå¯¼èˆªæ¡ã€‚

**è¿”å›å€¼**

åœ¨å®Œæˆåˆ‡æ¢å…¨å±æ¨¡å¼åï¼Œè¿”å›ä¸€ä¸ªå·²ç»ç”¨å€¼ undefined resolvedçš„Promise

**å¼‚å¸¸**

requestFullscreen() é€šè¿‡æ‹’ç»è¿”å›çš„ Promiseæ¥ç”Ÿæˆé”™è¯¯æ¡ä»¶ï¼Œè€Œä¸æ˜¯æŠ›å‡ºä¸€ä¸ªä¼ ç»Ÿçš„å¼‚å¸¸ã€‚æ‹’ç»æ§åˆ¶å™¨æ¥æ”¶ä»¥ä¸‹çš„æŸä¸€ä¸ªå€¼ï¼š

TypeError

åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹ï¼Œä¼šæŠ›å‡ºTypeErrorï¼š  
æ–‡æ¡£ä¸­åŒ…å«çš„å…ƒç´ æœªå®Œå…¨æ¿€æ´»ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸æ˜¯å½“å‰æ´»åŠ¨çš„å…ƒç´ ã€‚  
å…ƒç´ ä¸åœ¨æ–‡æ¡£ä¹‹å†…ã€‚  
å› ä¸ºåŠŸèƒ½ç­–ç•¥é™åˆ¶é…ç½®æˆ–å…¶ä»–è®¿é—®æ§åˆ¶ï¼Œå…ƒç´ ä¸è¢«å…è®¸ä½¿ç”¨"fullscreen"åŠŸèƒ½ã€‚  
å…ƒç´ å’Œå®ƒçš„æ–‡æ¡£æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚

åˆæ­¥æ„å»ºç»„ä»¶
------

### 1.å»ºç«‹jsè„šæœ¬

            bb_Fullscreen: function (ele) {
                ele.requestFullscreen() ||
                    ele.webkitRequestFullscreen ||
                    ele.mozRequestFullScreen ||
                    ele.msRequestFullscreen;
            },
            bb_ExitFullscreen: function () {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                }
                else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                }
                else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            }
        });
    

### 2.å»ºç«‹Razoré¡µé¢æµ‹è¯•

ä»¥ä¸‹ä¸ºç®€åŒ–ä»£ç ,è¿è¡Œæµ‹è¯•ä¸€ä¸‹åŠŸèƒ½æ˜¯å¦è¾¾åˆ°éœ€æ±‚.

    <button @onclick="FullScreen">å…¨å±</button>
    <button @onclick="ExitFullScreen">é€€å‡ºå…¨å±</button>
    
    @code{
    [Inject] IJSRuntime? JSRuntime{ get; set; }
    
      //è¿›å…¥å…¨å±
      private Task FullScreen() => await JSRuntime.InvokeVoidAsync("bb_Fullscreen");
    
      //é€€å‡ºå…¨å±
      private Task ExitFullScreen() => await JSRuntime.InvokeVoidAsync("bb_ExitFullscreen");
    }
    

### 3.ä¼˜åŒ–é€»è¾‘,æ·»åŠ å•æŒ‰é’®å…¨å±åˆ‡æ¢é€»è¾‘,æ·»åŠ é’ˆå¯¹å•ç‹¬å…ƒç´ çš„å…¨å±é€»è¾‘

JSå®Œæ•´ä»£ç 

    (function ($) {
        $.extend({
            bb_toggleFullscreen: function (el, id) {
                var ele = el;
                if (!ele || ele === '') {
                    if (id) {
                        ele = document.getElementById(id);
                    }
                    else {
                        ele = document.documentElement;
                    }
                }
                if ($.bb_IsFullscreen()) {
                    $.bb_ExitFullscreen();
                    ele.classList.remove('fs-open');
                }
                else {
                    $.bb_Fullscreen(ele);
                    ele.classList.add('fs-open');
                }
            },
            bb_Fullscreen: function (ele) {
                ele.requestFullscreen() ||
                    ele.webkitRequestFullscreen ||
                    ele.mozRequestFullScreen ||
                    ele.msRequestFullscreen;
            },
            bb_ExitFullscreen: function () {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                }
                else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                }
                else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
            },
            bb_IsFullscreen: function () {
                return document.fullscreen ||
                    document.webkitIsFullScreen ||
                    document.webkitFullScreen ||
                    document.mozFullScreen ||
                    document.msFullScreent;
            }
        });
    })(jQuery);
    

æµ‹è¯•åŠŸèƒ½

    <button @onclick="ToggleFullScreen">å…¨å±</button>
    
    @code{
    [Inject] IJSRuntime? JSRuntime{ get; set; }
    
      //å…¨å±æ–¹æ³•ï¼Œå·²ç»å…¨å±æ—¶å†æ¬¡è°ƒç”¨åé€€å‡ºå…¨å±
      private Task ToggleFullScreen() => await JSRuntime.InvokeVoidAsync("bb_toggleFullscreen");
    }
    

### 4.å°è£…ä¸ºæœåŠ¡

å†æ¬¡è¿›è¡Œæ€è€ƒ,å¦‚æœå°†ä¸€é¢—æŒ‰é’®å°è£…ä¸ºç»„ä»¶,é‚£åªæœ‰UIç•Œé¢æ‰èƒ½è°ƒç”¨,è€Œä¸”å¼æ ·ä»€ä¹ˆçš„éƒ½ä¸ç®—æœ€çµæ´»,ä¸ºä½•ä¸åšæˆä¸€ä¸ªæœåŠ¡,ä¸UIåˆ†å¼€è§£è€¦å‘¢? åˆ«ç€æ€¥, é©¬ä¸Šå¼€å¹².

æˆ‘ä½œä¸ºä¸€ä¸ªblazorçˆ±å¥½è€…,æ¯ä¸€ä¸ªæƒ³æ³•,è½¬åŒ–ä¸ºä¸€ä¸ªç»„ä»¶å,æ˜¯å€¼å¾—æäº¤åˆ°ä¾‹å¦‚BootstrapBlazorä¹‹ç±»ç»„ä»¶åº“å¤§å®¶ä¸€èµ·å­¦ä¹ ä¸€èµ·è¿›æ­¥çš„,è‡ªä»æˆ‘2020-09-25æŠŠZXingBlazorç»„ä»¶æäº¤åˆ°BootstrapBlazorä¹‹å,ä»è‡ªå—¨åˆ°å›¢é˜Ÿåˆä½œ,çœŸçš„å­¦ä¹ åˆ°äº†å¾ˆå¤šçŸ¥è¯†å’ŒæŠ€å·§,åœ¨å­¦ä¹ BBçš„æºç çš„è¿‡ç¨‹ä¸­,æ·±åˆ»ä½“ä¼šåˆ°äº†é‚£å¥è¯çš„ç²¾é«“:"æ¯å…¥ä¸€å¯¸å°±æœ‰ä¸€å¯¸çš„æƒŠå–œ!".

é¡¹ç›®è´Ÿè´£äººArgoä½œä¸ºä¸€ä½å¾®è½¯MVPå’Œä¸šå†…äººå£«,å¯¹æ•´ä¸ªå¾®è½¯æŠ€æœ¯æ ˆæœ‰å¾ˆæ·±åˆ»çš„è®¤è¯†å’Œæ€è€ƒ,å¯¹æˆ‘æœ¬äººæ›´æ˜¯å¸®åŠ©å·¨å¤§,åœ¨æ­¤è°¢è°¢Argo, ğŸ˜ƒ

æœ€åç‰ˆæœ¬ä»£ç å·²ç»æäº¤ä¸ºç»„ä»¶åº“é‡Œé¢çš„ä¸€ä¸ªç»„ä»¶,æ‰€ä»¥æœ‰äº›ä»£ç ç»§æ‰¿äº†ç»„ä»¶åº“çš„åŠŸèƒ½,å¦‚æœè¿è¡Œè·Ÿé»˜è®¤Blazorå·¥ç¨‹æœ‰ä¸ä¸€è‡´çš„åœ°æ–¹,å¤§å®¶å¯ä»¥Forkåˆ°è‡ªå·±ä»“åº“å»è¯•éªŒ,ä»¥ä¸‹æ–‡ç« ä¸å†èµ˜è¿°.

æ„å»ºæœåŠ¡ `FullScreenService.cs`

    using Microsoft.AspNetCore.Components;
    
    namespace BootstrapBlazor.Components;
    
    /// <summary>
    /// FullScreen æœåŠ¡
    /// </summary>
    public class FullScreenService : BootstrapServiceBase<FullScreenOption>
    {
        /// <summary>
        /// å…¨å±æ–¹æ³•ï¼Œå·²ç»å…¨å±æ—¶å†æ¬¡è°ƒç”¨åé€€å‡ºå…¨å±
        /// </summary>
        /// <param name="option"></param>
        /// <returns></returns>
        public Task Toggle(FullScreenOption? option = null) => Invoke(option ?? new());
    
        /// <summary>
        /// é€šè¿‡ ElementReference å°†æŒ‡å®šå…ƒç´ è¿›è¡Œå…¨å±
        /// </summary>
        /// <param name="element"></param>
        /// <returns></returns>
        public Task ToggleByElement(ElementReference element) => Invoke(new() { Element = element });
    
        /// <summary>
        /// é€šè¿‡å…ƒç´  Id å°†æŒ‡å®šå…ƒç´ è¿›è¡Œå…¨å±
        /// </summary>
        /// <param name="id"></param>
        /// <returns></returns>
        public Task ToggleById(string id) => Invoke(new() { Id = id });
    }
    

å…¨å±æœåŠ¡ç±» `FullScreenOption.cs`

    using Microsoft.AspNetCore.Components;
    
    namespace BootstrapBlazor.Components;
    
    /// <summary>
    /// FullScreen é…ç½®ç±»
    /// </summary>
    public class FullScreenOption
    {
        /// <summary>
        /// 
        /// </summary>
        public ElementReference Element { get; set; }
    
        /// <summary>
        /// 
        /// </summary>
        public string? Id { get; set; }
    }
    

æ³¨å†ŒæœåŠ¡

     services.TryAddScoped<FullScreenService>();
    

`FullScreen.cs`

    using Microsoft.AspNetCore.Components;
    
    namespace BootstrapBlazor.Components;
    
    /// <summary>
    /// FullScreen ç»„ä»¶éƒ¨åˆ†ç±»
    /// </summary>
    public class FullScreen : BootstrapComponentBase, IDisposable
    {
        /// <summary>
        /// DialogServices æœåŠ¡å®ä¾‹
        /// </summary>
        [Inject]
        [NotNull]
        private FullScreenService? FullScreenService { get; set; }
    
        /// <summary>
        /// OnInitialized æ–¹æ³•
        /// </summary>
        protected override void OnInitialized()
        {
            base.OnInitialized();
    
            // æ³¨å†Œ FullScreen å¼¹çª—äº‹ä»¶
            FullScreenService.Register(this, Show);
        }
    
        /// <summary>
        /// OnAfterRenderAsync æ–¹æ³•
        /// </summary>
        /// <param name="firstRender"></param>
        /// <returns></returns>
        protected override async Task OnAfterRenderAsync(bool firstRender)
        {
            await base.OnAfterRenderAsync(firstRender);
    
            if (Option != null)
            {
                await JSRuntime.InvokeVoidAsync(Option.Element.Context != null ? Option.Element : "", "bb_toggleFullscreen", Option.Id ?? "");
                Option = null;
            }
        }
    
        private FullScreenOption? Option { get; set; }
    
        private Task Show(FullScreenOption option)
        {
            Option = option;
            StateHasChanged();
            return Task.CompletedTask;
        }
    
        /// <summary>
        /// Dispose æ–¹æ³•
        /// </summary>
        /// <param name="disposing"></param>
        protected virtual void Dispose(bool disposing)
        {
            if (disposing)
            {
                FullScreenService.UnRegister(this);
            }
        }
    
        /// <summary>
        /// Dispose æ–¹æ³•
        /// </summary>
        public void Dispose()
        {
            Dispose(disposing: true);
            GC.SuppressFinalize(this);
        }
    }
    

ç»„ä»¶æ–¹å¼è°ƒç”¨ \[ç®€åŒ–ç‰ˆ\] `FullScreenButton.Razor`

    @namespace BootstrapBlazor.Components
    @inherits TooltipComponentBase
    
    <a @attributes="AdditionalAttributes" id="@Id" class="@ClassString" @onclick="ToggleFullScreen">
        <i class="@ButtonIconString"></i>
        <i class="@FullScreenIconString"></i>
    </a>
    
    <CascadingValue Value="this" IsFixed="true">
        <Tooltip Title="@Title" />
    </CascadingValue>
    
    @code{ 
    
        [Inject]
        [NotNull]
        private FullScreenService? FullScrenService { get; set; }
    
        private Task ToggleFullScreen() => FullScrenService.Toggle();
    }
    

### 5.FullScreens å…¨å±ç¤ºä¾‹ä»£ç 

Razor

    @page "/fullscreens"
    @inject IStringLocalizer<FullScreens> Localizer
    
    <h3>@Localizer["Title"]</h3>
    
    <h4>@((MarkupString)Localizer["H1"].Value)</h4>
    
    <DemoBlock Title="@Localizer["Block1Title"]" Introduction="@Localizer["Block1Intro"]" Name="Normal">
        <Button Text="@Localizer["ButtonText1"]" OnClick="ToggleFullScreen"></Button>
    </DemoBlock>
    
    <DemoBlock Title="@Localizer["Block2Title"]" Introduction="@Localizer["Block2Intro"]" Name="Title">
        <ul class="ul-demo mb-3">
            <li>@((MarkupString)Localizer["Li1"].Value)</li>
            <li>@((MarkupString)Localizer["Li2"].Value)</li>
        </ul>
        <FullScreenButton Title="@Localizer["Button1Text"]" FullScreenIcon="fa fa-fa" />
        <Pre class="mt-3">&lt;@Localizer["Pre"]" /&gt;</Pre>
    </DemoBlock>
    

csä»£ç 

    using BootstrapBlazor.Components;
    using Microsoft.AspNetCore.Components;
    
    namespace BootstrapBlazor.Shared.Samples;
    
    /// <summary>
    /// FullScreens å…¨å±ç¤ºä¾‹ä»£ç 
    /// </summary>
    public partial class FullScreens
    {
        [Inject]
        [NotNull]
        private FullScreenService? FullScreenService { get; set; }
    
        private async Task ToggleFullScreen()
        {
            await FullScreenService.Toggle();
        }
    }
    

### æœ€ç»ˆç‰ˆæœ¬

![](https://img2022.cnblogs.com/blog/1980213/202204/1980213-20220407051648833-934119122.jpg)

![](https://img2022.cnblogs.com/blog/1980213/202204/1980213-20220407052320794-1960275027.gif)

BootstrapBlazoræäº¤ç»„ä»¶ç®€å•æ­¥éª¤
-----------------------

![](https://img2022.cnblogs.com/blog/1980213/202204/1980213-20220407052306590-1124457988.jpg)

### ç¤ºä¾‹æ–‡æ¡£

1.  æ·»åŠ å¯¹åº”ç»„ä»¶ä¸­æ–‡èµ„æºåˆ° `BootstrapBlazor.Shared/Locales/zh.json` æ–‡ä»¶

    "BootstrapBlazor.Shared.Pages.Coms": {
      ...
      "FullScreenText": "å…¨å±ç»„ä»¶ FullScreen",
      ...
    },
    "BootstrapBlazor.Shared.Samples.FullScreens": {
      "Title": "FullScreen å…¨å±",
      "Block1Title": "åŸºæœ¬ç”¨æ³•",
      ...
    }
    

2.  æ·»åŠ å¯¹åº”ç»„ä»¶ä¸­æ–‡èµ„æºåˆ° `BootstrapBlazor.Shared/Locales/en.json` æ–‡ä»¶

    "BootstrapBlazor.Shared.Pages.Coms": {
      ...
      "FullScreenText": "FullScreen",
      ...
    },
    "BootstrapBlazor.Shared.Samples.FullScreens": {
      "Title": "FullScreen",
      "Block1Title": "Basic usage",
      ...
    }
    

3.  æ·»åŠ ç¤ºä¾‹åˆ°["ç»„ä»¶"](https://www.blazor.zone/components) é¡µé¢
    
    `BootstrapBlazor.Shared/Pages/Coms.razor`æ–‡ä»¶,æ‰¾åˆ°æŸä¸ªç»„ä»¶å¤§ç±»åˆ«,ä¾‹å¦‚å¯¼èˆªç»„ä»¶ `<ComponentCategory Text="@Localizer["Text2"]">`
    

    <ComponentCategory Text="@Localizer["Text2"]">
      ...
      <ComponentCard Text="@Localizer["FullScreenText"]" Image="FullScreen.jpg" Url="fullscreens"></ComponentCard>
      ...
    </ComponentCategory>
    

4.  `BootstrapBlazor.Shared/docs.json`æ·»åŠ 

    "fullscreens": "FullScreens",
    

5.  `NavMenu.razor`

        private void AddNavigation(DemoMenuItem item)
        {
            item.Items = new List<DemoMenuItem>
            {
                ...
                new()
                {
                    IsNew = true,
                    Text = Localizer["FullScreen"],
                    Url = "fullscreens"
                },
                ...
            };
    
            AddBadge(item);
        }
    

6.  ç¤ºä¾‹æ–‡ä»¶ `BootstrapBlazor.Shared/Samples/FullScreens.razor`

    @page "/fullscreens"
    @inject IStringLocalizer<FullScreens> Localizer
    
    <h3>@Localizer["Title"]</h3>
    
    <DemoBlock Title="@Localizer["Block1Title"]" Introduction="@Localizer["Block1Intro"]" Name="Normal">
        <Button Text="@Localizer["ButtonText1"]" OnClick="ToggleFullScreen"></Button>
    </DemoBlock>
    
    <DemoBlock Title="@Localizer["Block2Title"]" Introduction="@Localizer["Block2Intro"]" Name="Title">
        <FullScreenButton Title="@Localizer["Button1Text"]" FullScreenIcon="fa fa-fa" />
    </DemoBlock>
    

7.  ç¤ºä¾‹æ–‡ä»¶ `BootstrapBlazor.Shared/Samples/FullScreens.razor.cs`

    using BootstrapBlazor.Components;
    using Microsoft.AspNetCore.Components;
    
    namespace BootstrapBlazor.Shared.Samples;
    
    /// <summary>
    /// FullScreens å…¨å±ç¤ºä¾‹ä»£ç 
    /// </summary>
    public partial class FullScreens
    {
        [Inject]
        [NotNull]
        private FullScreenService? FullScreenService { get; set; }
    
        private async Task ToggleFullScreen()
        {
            await FullScreenService.Toggle();
        }
    }
    

å‚è€ƒèµ„æ–™
----

ASP.NET Core Blazor [https://docs.microsoft.com/zh-cn/aspnet/core/blazor/?view=aspnetcore-6.0](https://docs.microsoft.com/zh-cn/aspnet/core/blazor/?view=aspnetcore-6.0)  
äº”åˆ†é’Ÿäº†è§£ Blazor [https://segmentfault.com/a/1190000040800253](https://segmentfault.com/a/1190000040800253)  
Element.requestFullscreen() [https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen)  
Bootstrap é£æ ¼çš„ Blazor UI ç»„ä»¶åº“ [https://www.blazor.zone/index](https://www.blazor.zone/index)  
!1821 feat(#I48WXD): add FullScreen component [https://gitee.com/LongbowEnterprise/BootstrapBlazor/commit/30caa995eba38e91d15b8a5465c6c9c738db068f](https://gitee.com/LongbowEnterprise/BootstrapBlazor/commit/30caa995eba38e91d15b8a5465c6c9c738db068f)

#### é¡¹ç›®æºç 

[Github](https://github.com/densen2014/Blazor100) | [Gitee](https://gitee.com/densen2014/Blazor100)

#### å…³è”é¡¹ç›®

BA & Blazor QQç¾¤ï¼š795206915ã€675147445

#### çŸ¥è¯†å…±äº«è®¸å¯åè®®

æœ¬ä½œå“é‡‡ç”¨ [çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®](https://creativecommons.org/licenses/by-nc-sa/4.0/) è¿›è¡Œè®¸å¯ã€‚æ¬¢è¿è½¬è½½ã€ä½¿ç”¨ã€é‡æ–°å‘å¸ƒï¼Œä½†åŠ¡å¿…ä¿ç•™æ–‡ç« ç½²åAlexChowï¼ˆåŒ…å«é“¾æ¥ï¼š [https://github.com/densen2014](https://github.com/densen2014) ï¼‰ï¼Œä¸å¾—ç”¨äºå•†ä¸šç›®çš„ï¼ŒåŸºäºæœ¬æ–‡ä¿®æ”¹åçš„ä½œå“åŠ¡å¿…ä»¥ç›¸åŒçš„è®¸å¯å‘å¸ƒã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·[ä¸æˆ‘è”ç³»](zhouchuanglin@gmail.com) ã€‚

#### AlexChow

[ä»Šæ—¥å¤´æ¡](https://www.toutiao.com/c/user/token/MS4wLjABAAAAGMBzlmgJx0rytwH08AEEY8F0wIVXB2soJXXdUP3ohAE/?) | [åšå®¢å›­](https://www.cnblogs.com/densen2014) | [çŸ¥ä¹](https://www.zhihu.com/people/alex-chow-54) | [Gitee](https://gitee.com/densen2014) | [GitHub](https://github.com/densen2014)