---
layout: post
title: "【MRTK】HoloLens 项目部署的几种方法"
date: "2023-03-07T01:20:32.063Z"
---
【MRTK】HoloLens 项目部署的几种方法
========================

关于 HoloLens 应用部署的三种方法

前言
==

如果在项目部署过程中遇到报错 **Unity.IL2CPP.Building.BuilderFailedException: Lump\_libil2cpp\_vm.cpp**，可以查看我之前的文章

[【MRTK】解决 Unity.IL2CPP.Building.BuilderFailedException: Lump\_libil2cpp\_vm.cpp 报错问题 - 千叶Christa - 博客园 (cnblogs.com)](https://www.cnblogs.com/Christa/p/17183960.html)

当前适用版本：

*   Unity 版本：2021.3.7f1c1
*   MRTK 版本：2.8.3
*   Visual Studio 版本：Visual Studio Comunity 2022（17.5.1）

文章最近更新日期：2023.03.06

* * *

1  前置工作
=======

在 HoloLens 设备中打开设置 > 更新与安全 > 面向开发人员，打开“面向开发人员”、“设备发现”和“设备门户”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306111304938-1767438092.png)

在计算机上打开设置 > 隐私和安全性 > 开发者选项，打开“开发人员模式”、“设备门户”和“设备发现”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306114526458-768787296.png)

2  项目部署
=======

若想要将项目部署到 HoloLens 上，计算机必须与 HoloLens 进行设备配对，否则就会出现“目标计算机积极拒绝”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306170444292-329992442.png)

如果计算机与 HoloLens 未配对（即第一次进行部署），在部署过程中计算机上会自动弹出配对窗口

在对应位置填入 HoloLens 中随机生成的配对码就就可以了（配对码在“面向开发人员”选项卡中）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306181803628-370923950.png)

2.1  通过本地设备部署
-------------

找到项目打包生成的 .sln 文件，用 Visual Studio 打开（2022 与 2019 均可）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105125761-1975613714.png)

选择 Release、ARM64 体系结构、并将“设备”作为目标（如果要部署到 HoloLens 一代，体系结构应该选择 x86）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306172519796-299528548.png)

如果目标选项里没有“设备”，可以打开解决方案资源管理器，选择项目文件 > 右键 > 设为启动项目，就可以在目标中找到“设备”了

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105346260-1629766105.png)

设置完成之后，找到导航栏 > 调试 > 开始执行，或直接使用快捷键 Ctrl+F5 进行部署

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105702648-2048395448.png)

这是最常用的部署方法，但是有几率无法呼出设备配对弹窗。如果本方法部署不成功，可以尝试通过远程计算机进行部署（见 2.2）

2.2  通过远程计算机部署
--------------

找到项目打包生成的 .sln 文件，用 Visual Studio 打开（2022 与 2019 均可）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105125761-1975613714.png)

选择 Release、ARM 体系结构、并将“远程计算机”作为目标

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306172611451-1840988198.png)

在解决方案资源管理器中找到项目文件 > 右键 > 属性，打开属性窗口，然后找到“调试”选项卡，选择计算机名

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306115916920-2060924922.png)

如果计算机可以自动检测到 HoloLens 设备，直接选择设备对应的检测结果就可以了，不需要手动填写

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306171602100-177855185.png)

完成之后是这个样子，点击“确定”即可

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306171726741-1737185559.png)

如果检测不到 HoloLens，也可以手动填写。输入 HoloLens 设备的 IPV4 地址，然后点击“选择”按钮

HoloLens 的 IPV4 地址可以在 HoloLens 设备的设置  > 网络和 Internet > WLAN > 适配器属性 > 属性 > IPV4地址处找到

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306135008891-1203274003.png)

填写完成之后，点击“确定”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306172911045-831846775.png)

设置完成之后，找到导航栏 > 调试 > 开始执行，或直接使用快捷键 Ctrl+F5 进行部署

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105702648-2048395448.png)

2.3  通过设备门户部署
-------------

找到项目打包生成的 .sln 文件，用 Visual Studio 打开（2022 与 2019 均可）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306105125761-1975613714.png)

在导航栏 > 项目 > 发布 > 创建应用程序包，打开选项卡，选择“旁加载”，点击“下一步”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306142234011-888677704.png)

使用当前证书，然后点击“下一步”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306142628471-2140202043.png)

体系结构只勾选“ARM64”，其他都不要选，然后点击创建

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306142825640-1262918676.png)

应用程序包创建之后关闭选项卡即可

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306174137726-233052203.png)

这就是我们需要的安装包

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306174524067-834272393.png)

接下来通过浏览器进入设备门户，设备门户地址就是 HoloLens 设备的 IPV4 地址

点击“高级”>“继续访问”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306181204565-1387174837.png)

登录之后会进入到设备门户界面

在侧边导航栏找到 Views > Apps，点击“选择文件”，选择刚刚生成的 APPX 文件，然后点击“Install”

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306180622446-1200569653.png)

等待安装（安装时必须保证设备是 Online 状态，如果是 Sleeping 状态会安装失败）

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306175823505-777698140.png)

安装完成！

![](https://img2023.cnblogs.com/blog/2975590/202303/2975590-20230306180314623-677244993.png)