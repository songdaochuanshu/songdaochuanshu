---
layout: post
title: "å‘˜å·¥ç¦»èŒå›°æ‰°ï¼Ÿæ¥çœ‹AIå¦‚ä½•è§£å†³ï¼ŒåŸºäºäººåŠ›èµ„æºåˆ†æçš„ ML æ¨¡å‹æ„å»ºå…¨æ–¹æ¡ˆ â›µ"
date: "2022-09-05T02:11:10.680Z"
---
å‘˜å·¥ç¦»èŒå›°æ‰°ï¼Ÿæ¥çœ‹AIå¦‚ä½•è§£å†³ï¼ŒåŸºäºäººåŠ›èµ„æºåˆ†æçš„ ML æ¨¡å‹æ„å»ºå…¨æ–¹æ¡ˆ â›µ
======================================

![å‘˜å·¥ç¦»èŒå›°æ‰°ï¼Ÿæ¥çœ‹AIå¦‚ä½•è§£å†³ï¼ŒåŸºäºäººåŠ›èµ„æºåˆ†æçš„ ML æ¨¡å‹æ„å»ºå…¨æ–¹æ¡ˆ â›µ](https://img2022.cnblogs.com/blog/2637458/202208/2637458-20220826151731477-81160611.png) æœ¬æ–‡é€šè¿‡æ•°æ®ç§‘å­¦å’ŒAIçš„æ–¹æ³•ï¼Œåˆ†ææŒ–æ˜äººåŠ›èµ„æºæµå¤±é—®é¢˜ï¼Œæ„å»ºåŸºäºæœºå™¨å­¦ä¹ çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶é€šè¿‡å¯¹AIæ¨¡å‹çš„åå‘è§£é‡Šï¼Œæ·±å…¥ç†è§£å¯¼è‡´äººå‘˜æµå¤±çš„ä¸»è¦å› ç´ ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7bbd1313e38406a9cc7e4c61ec5e5c0~tplv-k3u1fbpfcp-zoom-1.image)

> ğŸ’¡ ä½œè€…ï¼š[éŸ©ä¿¡å­](https://github.com/HanXinzi-AI)@[ShowMeAI](https://www.showmeai.tech/)  
> ğŸ“˜ [æ•°æ®åˆ†æå®æˆ˜ç³»åˆ—](https://www.showmeai.tech/tutorials/40)ï¼š[https://www.showmeai.tech/tutorials/40](https://www.showmeai.tech/tutorials/40)  
> ğŸ“˜ [æœºå™¨å­¦ä¹ å®æˆ˜ç³»åˆ—](https://www.showmeai.tech/tutorials/41)ï¼š[https://www.showmeai.tech/tutorials/41](https://www.showmeai.tech/tutorials/41)  
> ğŸ“˜ [æœ¬æ–‡åœ°å€](https://www.showmeai.tech/article-detail/308)ï¼š[https://www.showmeai.tech/article-detail/308](https://www.showmeai.tech/article-detail/308)  
> ğŸ“¢ å£°æ˜ï¼šç‰ˆæƒæ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»å¹³å°ä¸ä½œè€…å¹¶æ³¨æ˜å‡ºå¤„  
> ğŸ“¢ æ”¶è—[ShowMeAI](https://www.showmeai.tech/)æŸ¥çœ‹æ›´å¤šç²¾å½©å†…å®¹

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd0dee7c47e84c939c0c797f14f1bf64~tplv-k3u1fbpfcp-zoom-1.image)

äººåŠ›èµ„æºæ˜¯ç»„ç»‡çš„ä¸€ä¸ªéƒ¨é—¨ï¼Œè´Ÿè´£å¤„ç†å‘˜å·¥çš„æ‹›è˜ã€åŸ¹è®­ã€ç®¡ç†å’Œç¦åˆ©ã€‚ä¸€ä¸ªç»„ç»‡æ¯å¹´éƒ½ä¼šé›‡ä½£å‡ åå‘˜å·¥ï¼Œå¹¶æŠ•å…¥å¤§é‡æ—¶é—´ã€é‡‘é’±å’Œèµ„æºæ¥æé«˜å‘˜å·¥çš„ç»©æ•ˆå’Œæ•ˆç‡ã€‚æ¯å®¶å…¬å¸éƒ½å¸Œæœ›èƒ½å¤Ÿå¸å¼•å’Œç•™ä½ä¼˜ç§€çš„å‘˜å·¥ï¼Œå¤±å»ä¸€åå‘˜å·¥å¹¶å†æ¬¡é›‡ä½£ä¸€åæ–°å‘˜å·¥çš„æˆæœ¬æ˜¯éå¸¸é«˜çš„ï¼ŒHRéƒ¨é—¨éœ€è¦çŸ¥é“é›‡ç”¨å’Œç•™ä½é‡è¦å’Œä¼˜ç§€å‘˜å·¥çš„æ ¸å¿ƒå› ç´ æ˜¯ä»€ä¹ˆï¼Œé‚£é‚£ä¹ˆå¯ä»¥åšå¾—æ›´å¥½ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dbfab7aacd8043edb1d86002eb71941b~tplv-k3u1fbpfcp-zoom-1.image)

åœ¨æœ¬é¡¹ç›®ä¸­ï¼ŒShowMeAI å¸¦å¤§å®¶é€šè¿‡æ•°æ®ç§‘å­¦å’ŒAIçš„æ–¹æ³•ï¼Œåˆ†ææŒ–æ˜äººåŠ›èµ„æºæµå¤±é—®é¢˜ï¼Œå¹¶åŸºäºæœºå™¨å­¦ä¹ æ„å»ºè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹AIæ¨¡å‹çš„åå‘è§£é‡Šï¼Œå¯ä»¥æ·±å…¥ç†è§£å¯¼è‡´äººå‘˜æµå¤±çš„ä¸»è¦å› ç´ ï¼ŒHRéƒ¨é—¨ä¹Ÿå¯ä»¥æ ¹æ®åˆ†æåšå‡ºæ­£ç¡®çš„å†³å®šã€‚

æœ¬ç¯‡æ¶‰åŠåˆ°çš„æ•°æ®é›†å¤§å®¶å¯ä»¥é€šè¿‡ [ShowMeAI](https://www.showmeai.tech/) çš„ç™¾åº¦ç½‘ç›˜åœ°å€è·å–ã€‚

> ğŸ† **å®æˆ˜æ•°æ®é›†ä¸‹è½½ï¼ˆç™¾åº¦ç½‘ç›˜ï¼‰**ï¼šå…¬ä¼—å·ã€ShowMeAIç ”ç©¶ä¸­å¿ƒã€å›å¤ã€**å®æˆ˜**ã€ï¼Œæˆ–è€…ç‚¹å‡» [**è¿™é‡Œ**](https://www.showmeai.tech/article-detail/305) è·å–æœ¬æ–‡ [\[17\]äººåŠ›èµ„æºæµå¤±åœºæ™¯æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸è°ƒä¼˜](https://www.showmeai.tech/article-detail/308) ã€**HR-Employee-Attrition æ•°æ®é›†**ã€

> â­ **ShowMeAIå®˜æ–¹GitHub**ï¼š[https://github.com/ShowMeAI-Hub](https://github.com/ShowMeAI-Hub)

ğŸ’¡ æ¢ç´¢æ€§æ•°æ®åˆ†æ
==========

å’Œ ShowMeAI ä¹‹å‰ä»‹ç»è¿‡çš„æ‰€æœ‰AIé¡¹ç›®ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹åœºæ™¯æ•°æ®åšä¸€ä¸ªæ·±åº¦ç†è§£ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æåˆ°çš„EDAï¼ˆExploratory Data Analysisï¼Œæ¢ç´¢æ€§æ•°æ®åˆ†æï¼‰è¿‡ç¨‹ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f98b041bd6c40b5b4f72998727bbb6f~tplv-k3u1fbpfcp-zoom-1.image)

> EDAéƒ¨åˆ†æ¶‰åŠçš„å·¥å…·åº“ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ[ShowMeAI](https://www.showmeai.tech/)åˆ¶ä½œçš„å·¥å…·åº“é€ŸæŸ¥è¡¨å’Œæ•™ç¨‹è¿›è¡Œå­¦ä¹ å’Œå¿«é€Ÿä½¿ç”¨ã€‚  
> ğŸ“˜[**æ•°æ®ç§‘å­¦å·¥å…·åº“é€ŸæŸ¥è¡¨ | Pandas é€ŸæŸ¥è¡¨**](https://www.showmeai.tech/article-detail/101)  
> ğŸ“˜[**æ•°æ®ç§‘å­¦å·¥å…·åº“é€ŸæŸ¥è¡¨ | Seaborn é€ŸæŸ¥è¡¨**](https://www.showmeai.tech/article-detail/105)  
> ğŸ“˜[**å›¾è§£æ•°æ®åˆ†æï¼šä»å…¥é—¨åˆ°ç²¾é€šç³»åˆ—æ•™ç¨‹**](https://www.showmeai.tech/tutorials/33)

ğŸ“Œ æ•°æ®&å­—æ®µè¯´æ˜
----------

æˆ‘ä»¬æœ¬æ¬¡ä½¿ç”¨åˆ°çš„æ•°æ®é›†å­—æ®µåŸºæœ¬è¯´æ˜å¦‚ä¸‹ï¼š

åˆ—å

å«ä¹‰

Age

å¹´é¾„

Attrition

ç¦»èŒ

BusinessTravel

å‡ºå·®ï¼š0-ä¸å‡ºå·®ã€1-å¶å°”å‡ºå·®ã€2-ç»å¸¸å‡ºå·®

Department

éƒ¨é—¨ï¼š1-äººåŠ›èµ„æºã€2-ç§‘ç ”ã€3-é”€å”®

DistanceFromHome

ç¦»å®¶è·ç¦»

Education

æ•™è‚²ç¨‹åº¦ï¼š1-å¤§å­¦ä¸€ä¸‹ã€2-å¤§å­¦ã€3-å­¦å£«ã€4-ç¡•å£«ã€5-åšå£«

EducationField

æ•™è‚²é¢†åŸŸ

EnvironmentSatisfaction

ç¯å¢ƒæ»¡æ„åº¦

Gender

æ€§åˆ«ï¼š1-Maeç”·ã€0- Femaleå¥³

Joblnvolvement

å·¥ä½œæŠ•å…¥

JobLevel

èŒä½ç­‰çº§

JobRole

å·¥ä½œå²—ä½

JobSatisfaction

å·¥ä½œæ»¡æ„åº¦

Maritalstatus

å©šå§»çŠ¶å†µï¼š0- Divorcedç¦»å©šã€1- Singleæœªå©šã€2-å·²å©š

Monthlylncome

æœˆæ”¶å…¥

NumCompaniesWorked

æœåŠ¡è¿‡å‡ å®¶å…¬å¸

OverTime

åŠ ç­

RelationshipSatisfaction

å…³ç³»æ»¡æ„åº¦

StockOptionLevel

è‚¡æƒç­‰çº§

TotalworkingYears

æ€»å·¥ä½œå¹´é™

TrainingTimesLastYear

ä¸Šä¸€å¹´åŸ¹è®­æ¬¡æ•°

WorkLifeBalance

å·¥ä½œç”Ÿæ´»å¹³è¡¡

YearsAtCompany

å·¥ä½œæ—¶é•¿

YearsInCurrentRole

å½“å‰å²—ä½åœ¨èŒæ—¶é•¿

YearsSinceLastPromotion

ä¸Šæ¬¡å‡èŒæ—¶é—´

YearsWithCurrManager

å’Œç°ä»»ç»ç†æ—¶é•¿

ğŸ“Œ æ•°æ®é€Ÿè§ˆ
-------

ä¸‹é¢æˆ‘ä»¬å…ˆå¯¼å…¥æ‰€éœ€å·¥å…·åº“ã€åŠ è½½æ•°æ®é›†å¹¶æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯ï¼š

    import pandas as pd
    import numpy as np
    import matplotlib as mpl
    import matplotlib.pyplot as plt
    import seaborn as sns
    sns.set_style("darkgrid")
    
    import warnings
    warnings.filterwarnings("ignore")
    pd.set_option('display.max_columns',100)
    print("import complete")
    

    # è¯»å–æ•°æ®
    data = pd.read_csv("HR-Employee-Attrition.csv")  
    data.head()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2277d5a1f5c4508bb390da71f604208~tplv-k3u1fbpfcp-zoom-1.image)

æŸ¥çœ‹å‰ 5 æ¡æ•°æ®è®°å½•åï¼Œæˆ‘ä»¬äº†è§£äº†ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼š

â‘  æ•°æ®åŒ…å«ã€æ•°å€¼å‹ã€å’Œã€ç±»åˆ«å‹ã€ä¸¤ç§ç±»å‹çš„ç‰¹å¾ã€‚  
â‘¡ æœ‰ä¸å°‘ç¦»æ•£çš„æ•°å€¼ç‰¹å¾ã€‚

ğŸ“Œ æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯
-----------

æ¥ä¸‹æ¥æˆ‘ä»¬å€ŸåŠ©å·¥å…·åº“è¿›ä¸€æ­¥æ¢ç´¢æ•°æ®ã€‚

    # å­—æ®µã€ç±»å‹ã€ç¼ºå¤±æƒ…å†µ
    data.info()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab0ad46acc2943c1b8b7431695f86f76~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ `data.info``()` æ¥è·å–æ•°æ®çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ€»è¡Œæ•°ï¼ˆæ ·æœ¬æ•°ï¼‰å’Œæ€»åˆ—æ•°ï¼ˆå­—æ®µæ•°ï¼‰ã€å˜é‡çš„æ•°æ®ç±»å‹ã€æ•°æ®é›†ä¸­éç¼ºå¤±çš„æ•°é‡ä»¥åŠå†…å­˜ä½¿ç”¨æƒ…å†µã€‚

ä»æ•°æ®é›†çš„ä¿¡æ¯å¯ä»¥çœ‹å‡ºï¼Œä¸€å…±æœ‰ 35 ä¸ªç‰¹å¾ï¼ŒAttrition æ˜¯ç›®æ ‡å­—æ®µï¼Œ26 ä¸ªå˜é‡æ˜¯æ•´æ•°ç±»å‹å˜é‡ï¼Œ9 ä¸ªæ˜¯å¯¹è±¡ç±»å‹å˜é‡ã€‚

ğŸ“Œ ç¼ºå¤±å€¼æ£€æµ‹&å¤„ç†
-----------

æˆ‘ä»¬å…ˆæ¥åšä¸€ä¸‹ç¼ºå¤±å€¼æ£€æµ‹ä¸å¤„ç†ï¼Œç¼ºå¤±å€¼çš„å­˜åœ¨å¯èƒ½ä¼šé™ä½æ¨¡å‹æ•ˆæœï¼Œä¹Ÿå¯èƒ½å¯¼è‡´æ¨¡å‹å‡ºç°åå·®ã€‚

    # æŸ¥çœ‹ç¼ºå¤±å€¼æƒ…å†µ
    data.isnull().sum()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55704dfffe3e416586b74c77eeb07895~tplv-k3u1fbpfcp-zoom-1.image)

ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ•°æ®é›†ä¸­æ²¡æœ‰ç¼ºå¤±å€¼ã€‚

ğŸ“Œ ç‰¹å¾ç¼–ç 
-------

å› ä¸ºç›®æ ‡ç‰¹å¾â€œAttritionâ€æ˜¯ä¸€ä¸ªç±»åˆ«å‹å˜é‡ï¼Œä¸ºäº†åˆ†ææ–¹ä¾¿ä»¥åŠèƒ½å¤Ÿé¡ºåˆ©å»ºæ¨¡ï¼Œæˆ‘ä»¬å¯¹å®ƒè¿›è¡Œç±»åˆ«ç¼–ç ï¼ˆæ˜ å°„ä¸ºæ•´æ•°å€¼ï¼‰ã€‚

    #since Attrition is a categotical in nature so will be mapping it with integrs variables for further analysis
    data.Attrition = data.Attrition.map({"Yes":1,"No":0})
    

ğŸ“Œ æ•°æ®ç»Ÿè®¡æ¦‚è¦
---------

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å€ŸåŠ©äºpandasçš„describeå‡½æ•°æ£€æŸ¥æ•°å€¼ç‰¹å¾çš„ç»Ÿè®¡æ‘˜è¦ï¼š

    #checking statistical summary
    data.describe().T
    

> æ³¨æ„è¿™é‡Œçš„â€œ.Tâ€æ˜¯è·å–æ•°æ®å¸§çš„è½¬ç½®ï¼Œä»¥ä¾¿æ›´å¥½åœ°åˆ†æã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a52b1cf663cb463dbc8c5f824950b22d~tplv-k3u1fbpfcp-zoom-1.image)

ä»ç»Ÿè®¡æ‘˜è¦ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®çš„ä¸­å¿ƒè¶‹åŠ¿â€”â€”å¹³å‡å€¼ã€ä¸­ä½æ•°ã€ä¼—æ•°å’Œæ•£å¸ƒæ ‡å‡†å·®å’Œç™¾åˆ†ä½æ•°ï¼Œæœ€å°å€¼å’Œæœ€å¤§å€¼ç­‰ã€‚

ğŸ“Œ æ•°å€¼å‹ç‰¹å¾åˆ†æ
----------

æˆ‘ä»¬è¿›ä¸€æ­¥å¯¹æ•°å€¼å‹å˜é‡è¿›è¡Œåˆ†æ

    # é€‰å‡ºæ•°å€¼å‹ç‰¹å¾
    numerical_feat = data.select_dtypes(include=['int64','float64'])
    numerical_feat
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95b8d1e8039c4016836e2c7f1ba513e5~tplv-k3u1fbpfcp-zoom-1.image)

    print(numerical_feat.columns)
    print("No. of numerical variables :",len(numerical_feat.columns))
    print("Number of unique values \n",numerical_feat.nunique())
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f782431b40824267a182d7c6b1e46aa1~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬æœ‰ä»¥ä¸‹è§‚å¯Ÿç»“è®ºï¼š

â‘  å…±æœ‰27ä¸ªæ•°å€¼å‹ç‰¹å¾å˜é‡  
â‘¡ æœˆæ”¶å…¥ã€æ—¥è´¹ç‡ã€å‘˜å·¥äººæ•°ã€æœˆè´¹ç‡ç­‰ä¸ºè¿ç»­æ•°å€¼  
â‘¢ å…¶ä½™å˜é‡ä¸ºç¦»æ•£æ•°å€¼ï¼ˆå³æœ‰å›ºå®šé‡çš„å€™é€‰å–å€¼ï¼‰

æˆ‘ä»¬å€ŸåŠ©äº seaborn å·¥å…·åŒ…ä¸­çš„åˆ†å¸ƒå›¾æ–¹æ³• `sns.distplot()` æ¥ç»˜åˆ¶æ•°å€¼åˆ†å¸ƒå›¾

    # æ•°æ®åˆ†æ&åˆ†å¸ƒç»˜åˆ¶
    plt.figure(figsize=(25,30))
    plot = 1
    for var in numerical_feat:
        plt.subplot(9,3,plot)
        sns.distplot(data[var],color='skyblue')
        plot+=1
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3482765d75fe4c70ae7c63253abeded5~tplv-k3u1fbpfcp-zoom-1.image)

é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬è·å¾—ä»¥ä¸‹ä¸€äº›åŸºæœ¬è§‚å¯Ÿå’Œç»“è®ºï¼š

*   å¤§å¤šæ•°å‘˜å·¥éƒ½æ˜¯ 30 å¤šå²æˆ– 40 å¤šå²
*   å¤§å¤šæ•°å‘˜å·¥å…·æœ‰ 3 çº§æ•™è‚²
*   å¤§å¤šæ•°å‘˜å·¥å°†ç¯å¢ƒæ»¡æ„åº¦è¯„ä¸º 3 å’Œ 4
*   å¤§å¤šæ•°å‘˜å·¥çš„å·¥ä½œå‚ä¸åº¦ä¸º 3 çº§
*   å¤§å¤šæ•°å‘˜å·¥æ¥è‡ªå·¥ä½œçº§åˆ« 1 å’Œ 2
*   å¤§å¤šæ•°å‘˜å·¥å°†å·¥ä½œæ»¡æ„åº¦è¯„ä¸º 3 å’Œ 4
*   å¤§å¤šæ•°å‘˜å·¥åªåœ¨ 1 ä¸ªå…¬å¸å·¥ä½œè¿‡
*   å¤§å¤šæ•°å‘˜å·¥çš„ç»©æ•ˆç­‰çº§ä¸º 3
*   å¤§å¤šæ•°å‘˜å·¥è¦ä¹ˆæ²¡æœ‰è‚¡ç¥¨æœŸæƒï¼Œè¦ä¹ˆæ²¡æœ‰ä¸€çº§è‚¡ç¥¨æœŸæƒ
*   å¤§å¤šæ•°å‘˜å·¥æœ‰ 5-10 å¹´çš„å·¥ä½œç»éªŒ
*   å¤§å¤šæ•°å‘˜å·¥çš„å·¥ä½œä¸ç”Ÿæ´»å¹³è¡¡è¯„åˆ†ä¸º 3

æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ç›®æ ‡å˜é‡åšç‚¹åˆ†æï¼š

    # ç›®æ ‡å˜é‡åˆ†å¸ƒ
    sns.countplot('Attrition',data=data)
    plt.title("Distribution of Target Variable")
    plt.show()
    print(data.Attrition.value_counts())
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0f219ac4eeb4136b41d57ba4b75f9d4~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®é›†ä¸­å­˜åœ¨ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ï¼ˆæµå¤±çš„ç”¨æˆ·å æ¯”å°‘ï¼‰ã€‚ç±»åˆ«ä¸å‡è¡¡æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦é€‰æ‹©æ›´æœ‰æ•ˆçš„è¯„ä¼°æŒ‡æ ‡ï¼ˆå¦‚aucå¯èƒ½æ¯”accuracyæ›´æœ‰æ•ˆï¼‰ï¼ŒåŒæ—¶åœ¨å»ºæ¨¡è¿‡ç¨‹ä¸­åšä¸€äº›ä¼˜åŒ–å¤„ç†ã€‚

æˆ‘ä»¬åˆ†åˆ«å¯¹å„ä¸ªå­—æ®µå’Œç›®æ ‡å­—æ®µè¿›è¡Œè”åˆå…³è”åˆ†æã€‚

    # Age ä¸ attrition
    age=pd.crosstab(data.Age,data.Attrition)
    age.div(age.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(14,7),cmap='spring')
    plt.title("Age vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc27cc121e1c4d80b9bf786c381854fb~tplv-k3u1fbpfcp-zoom-1.image)

    # Distance from home ä¸ attrition
    dist=pd.crosstab(data.DistanceFromHome,data.Attrition)
    dist.div(dist.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7))
    plt.title("Distance From Home vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e71c14e6ca3e4797a9d4c9d8fac625ff~tplv-k3u1fbpfcp-zoom-1.image)

    # Education ä¸ Attrition
    edu=pd.crosstab(data.Education,data.Attrition)
    edu.div(edu.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7))
    plt.title("Education vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/793fdafa95784b2dba860cf8c6677bf8~tplv-k3u1fbpfcp-zoom-1.image)

    # Environment Satisfaction ä¸ Attrition
    esat=pd.crosstab(data.EnvironmentSatisfaction,data.Attrition)
    esat.div(esat.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='BrBG')
    plt.title("Environment Satisfaction vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee6a95b3e46a40ceb16b6447471f62a7~tplv-k3u1fbpfcp-zoom-1.image)

    # Job Involvement ä¸ Attrition
    job_inv=pd.crosstab(data.JobInvolvement,data.Attrition)
    job_inv.div(job_inv.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Spectral')
    plt.title("Job Involvement vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/57ad96d37a7341c0829d533598474980~tplv-k3u1fbpfcp-zoom-1.image)

    # Job Level ä¸ Attrition
    job_lvl=pd.crosstab(data.JobLevel,data.Attrition)
    job_lvl.div(job_lvl.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='prism_r')
    plt.title("Job Level vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/500c04b2762742a68c412b10aa26598c~tplv-k3u1fbpfcp-zoom-1.image)

    # Job Satisfaction ä¸ Attrition
    job_sat=pd.crosstab(data.JobSatisfaction,data.Attrition)
    job_sat.div(job_sat.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='inferno')
    plt.title("Job Satisfaction vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64f93518bc734280a0e14b44a6afc56f~tplv-k3u1fbpfcp-zoom-1.image)

    # Number of Companies Worked ä¸ Attrition
    num_org=pd.crosstab(data.NumCompaniesWorked,data.Attrition)
    num_org.div(num_org.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='cividis_r')
    plt.title("Number of Companies Worked vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56829cd0f66f4ea998e4f5abc9d1aa7c~tplv-k3u1fbpfcp-zoom-1.image)

    # Percent Salary Hike ä¸ Attrition
    sal_hike_percent=pd.crosstab(data.PercentSalaryHike,data.Attrition)
    sal_hike_percent.div(sal_hike_percent.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='RdYlBu')
    plt.title("Percent Salary Hike vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c5db35f6ebc497db85db03aa35d5ada~tplv-k3u1fbpfcp-zoom-1.image)

    # Performance Rating ä¸ Attrition
    performance=pd.crosstab(data.PerformanceRating,data.Attrition)
    performance.div(performance.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='viridis_r')
    plt.title("Performance Rating vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d09140bfb6349f6a503c8a11d99f79a~tplv-k3u1fbpfcp-zoom-1.image)

    # Relationship Satisfaction ä¸ Attrition
    rel_sat=pd.crosstab(data.RelationshipSatisfaction,data.Attrition)
    rel_sat.div(rel_sat.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='brg_r')
    plt.title("Relationship Satisfaction vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0821b86d7f049a1ab5b343b460a2510~tplv-k3u1fbpfcp-zoom-1.image)

    # Stock Option Level ä¸ Attrition
    stock_opt=pd.crosstab(data.StockOptionLevel,data.Attrition)
    stock_opt.div(stock_opt.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Accent')
    plt.title("Stock Option Level vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/deaba8cb93e14b9f9adb600480142c35~tplv-k3u1fbpfcp-zoom-1.image)

    # Training Times Last Year ä¸ Attrition
    tr_time=pd.crosstab(data.TrainingTimesLastYear,data.Attrition)
    tr_time.div(tr_time.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='coolwarm')
    plt.title("Training Times Last Year vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b152733d7f444dc8c0f3faaf94f3273~tplv-k3u1fbpfcp-zoom-1.image)

    # Work Life Balance ä¸ Attrition
    work=pd.crosstab(data.WorkLifeBalance,data.Attrition)
    work.div(work.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='gnuplot')
    plt.title("Work Life Balance vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/222a16baec724fc897693994210e39f3~tplv-k3u1fbpfcp-zoom-1.image)

    # Years With Curr Manager ä¸ Attrition
    curr_mang=pd.crosstab(data.YearsWithCurrManager,data.Attrition)
    curr_mang.div(curr_mang.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='OrRd_r')
    plt.title("Years With Curr Manager vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3586d9c0408d41a6aa4263d9e8622a4a~tplv-k3u1fbpfcp-zoom-1.image)

    # Years Since Last Promotion ä¸ Attrition
    prom=pd.crosstab(data.YearsSinceLastPromotion,data.Attrition)
    prom.div(prom.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='PiYG_r')
    plt.title("Years Since Last Promotion vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5abad4d60dfd418ea0b1d2ce18c55d9d~tplv-k3u1fbpfcp-zoom-1.image)

    # Years In Current Role ä¸ Attrition
    role=pd.crosstab(data.YearsInCurrentRole,data.Attrition)
    role.div(role.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='terrain')
    plt.title("Years In Current Role vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ca8fc6368a84b8aade8c91c559b8bc1~tplv-k3u1fbpfcp-zoom-1.image)

è¿™äº›å †ç§¯æ¡å½¢å›¾æ˜¾ç¤ºäº†å‘˜å·¥æµå¤±æƒ…å†µä¸å„ä¸ªå­—æ®µå–å€¼çš„å…³ç³»ï¼Œä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹åŸºæœ¬ç»“è®ºï¼š

*   30 å²ä»¥ä¸‹æˆ–ç‰¹åˆ«æ˜¯å¹´è½»çš„å‘˜å·¥æ¯”å¹´é•¿å‘˜å·¥çš„æµå¤±ç‡æ›´é«˜ã€‚
*   ç¦»å®¶è¾ƒè¿œçš„å‘˜å·¥çš„æµå¤±ç‡è¾ƒé«˜ï¼Œå³å¦‚æœå‘˜å·¥ä½åœ¨é™„è¿‘ï¼Œä»–æˆ–å¥¹ç¦»å¼€å…¬å¸çš„æœºä¼šè¾ƒå°ã€‚
*   3 çº§å’Œ1 çº§æ•™è‚²çš„æµå¤±ç‡è¾ƒé«˜ï¼Œ5 çº§æ•™è‚²çš„æµå¤±ç‡æœ€ä½ï¼Œé«˜ç­‰æ•™è‚²æ°´å¹³çš„å€™é€‰äººç¨³å®šæ€§æ›´é«˜ã€‚
*   ç¯å¢ƒæ»¡æ„åº¦ä½ä¼šå¯¼è‡´è¾ƒé«˜çš„äººå‘˜æµå¤±ç‡ï¼Œæ»¡æ„åº¦1 çº§çš„äººå‘˜æµå¤±ç‡è¾ƒé«˜ï¼Œ4 çº§äººå‘˜çš„æµå¤±ç‡æœ€ä½ã€‚
*   å·¥ä½œå‚ä¸çº§åˆ« 1 çš„å‘˜å·¥æµå¤±ç‡è¾ƒé«˜ï¼Œçº§åˆ« 4 çš„å‘˜å·¥æµå¤±ç‡æœ€ä½ï¼Œè¿™æ„å‘³ç€å·¥ä½œå‚ä¸åº¦æ›´é«˜çš„å‘˜å·¥ç¦»èŒæœºä¼šè¾ƒä½ã€‚
*   çº§åˆ« 1 å’Œçº§åˆ« 3 çš„å‘˜å·¥æµå¤±ç‡è¾ƒé«˜ï¼Œçº§åˆ« 5 çš„å‘˜å·¥æµå¤±ç‡æœ€ä½ï¼Œå³èŒä½çº§åˆ«è¾ƒé«˜çš„å‘˜å·¥æµå¤±çš„å¯èƒ½æ€§è¾ƒå°ã€‚
*   å·¥ä½œæ»¡æ„åº¦çº§åˆ« 1 çš„å‘˜å·¥æµå¤±ç‡è¾ƒé«˜ï¼Œçº§åˆ« 4 çš„å‘˜å·¥æµå¤±ç‡æœ€ä½ï¼Œå·¥ä½œæ»¡æ„åº¦è¾ƒé«˜çš„å‘˜å·¥æµå¤±çš„å¯èƒ½æ€§è¾ƒå°ã€‚
*   åœ¨è¶…è¿‡å››å®¶å…¬å¸å·¥ä½œè¿‡çš„å‘˜å·¥æµå¤±ç‡è¾ƒé«˜ï¼Œè¿™ä¸ªå­—æ®µæœ¬èº«åœ¨ä¸€å®šç¨‹åº¦ä¸Šä½“ç°äº†å‘˜å·¥çš„ç¨³å®šæ€§ã€‚
*   1 çº§å…³ç³»æ»¡æ„åº¦è¾ƒé«˜ï¼Œ4 çº§æœ€å°‘ï¼Œè¿™æ„å‘³ç€ä¸é›‡ä¸»å…³ç³»å¥½çš„å‘˜å·¥æµå¤±å¯èƒ½æ€§è¾ƒä½ã€‚
*   è‚¡ç¥¨æœŸæƒçº§åˆ«ä¸º 0 çš„å‘˜å·¥æµå¤±ç‡è¾ƒé«˜ï¼Œè€Œçº§åˆ« 1 å’Œ 2 çš„å‘˜å·¥æµå¤±ç‡è¾ƒä½ï¼Œè¿™æ„å‘³ç€å¦‚æœå‘˜å·¥æŒæœ‰è‚¡ç¥¨ï¼Œä¼šæ›´å€¾å‘äºç•™ä¸‹
*   å·¥ä½œä¸ç”Ÿæ´»å¹³è¡¡æ°´å¹³ä¸º 1 çš„å‘˜å·¥æµå¤±ç‡é«˜ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥è¯´å·¥ä½œä¸ç”Ÿæ´»å¹³è¡¡ä½çš„å‘˜å·¥æ›´å¯èƒ½æµå¤±ã€‚
*   è‡ªè¿‡å» 8 å¹´ä»¥æ¥æœªæ™‹å‡çš„å‘˜å·¥æœ‰å¤§é‡æµå¤±ã€‚
*   éšç€ä¸ç»ç†ç›¸å¤„çš„æ—¶é—´å˜é•¿ï¼Œå‘˜å·¥æµå¤±ç‡ä¼šä¸‹é™ã€‚

ğŸ“Œ ç±»åˆ«å‹ç‰¹å¾åˆ†æ
----------

ç°åœ¨æˆ‘ä»¬å¯¹ç±»åˆ«å‹ç‰¹å¾è¿›è¡Œåˆ†æï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é¥¼å›¾å’Œå †ç§¯æ¡å½¢å›¾æ¥åˆ†æå®ƒä»¬çš„åˆ†å¸ƒä»¥åŠå®ƒä»¬å’Œç›®æ ‡å˜é‡çš„ç›¸å…³æ€§ã€‚

    # åˆ†æBuisness Travel 
    colors=['red','green','blue']
    size = data.BusinessTravel.value_counts().values
    explode_list=[0,0.05,0.1]
    plt.figure(figsize=(15,10))
    plt.pie(size,labels=None,explode=explode_list,colors=colors,autopct="%1.1f%%",pctdistance=1.15)
    plt.title("Business Travel",fontsize=15)
    plt.legend(labels=['Travel_Rarely','Travel_Frequently','Non-Travel'],loc='upper left') 
    plt.show()
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1202deea187a4f6fa13e1879f565e8f2~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1202deea187a4f6fa13e1879f565e8f2~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

    # åˆ†æDepartment
    colors=['orchid','gold','olive']
    size = data.Department.value_counts().values
    explode_list=[0,0.05,0.06]
    plt.figure(figsize=(15,10))
    plt.pie(size,labels=None,explode=explode_list,colors=colors,autopct="%1.1f%%",pctdistance=1.1)
    plt.title("Department",fontsize=15)
    plt.legend(labels=['Sales','Research & Development','Human Resources'],loc='upper left') 
    plt.show()
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a70b20dbddf248629a5797342d302480~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a70b20dbddf248629a5797342d302480~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

    # åˆ†æEducation Field
    colors=["cyan","orange","hotpink","green","navy","grey"]
    size = data.EducationField.value_counts().values
    explode_list=[0,0.05,0.05,0.08,0.08,0.1]
    plt.figure(figsize=(15,10))
    plt.pie(size,labels=None,explode=explode_list,colors=colors,autopct="%1.1f%%",pctdistance=1.1)
    plt.title("Education Field",fontsize=15)
    plt.legend(labels=['Life Sciences','Other','Medical','Marketing','Technical Degree','Human Resources'],loc='upper left') 
    plt.show()
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4fcd92a5e5b41fb8230c88a336196d6~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4fcd92a5e5b41fb8230c88a336196d6~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

    # åˆ†æå©šå§»çŠ¶å†µ
    colors=["red","orange","magenta","green","navy","grey","cyan","blue","black"]
    size = data.JobRole.value_counts().values
    explode_list=[0,0.05,0.05,0.05,0.08,0.08,0.08,0.1,0.1]
    plt.figure(figsize=(15,10))
    plt.pie(size,labels=None,explode=explode_list,colors=colors,autopct="%1.1f%%",pctdistance=1.1)
    plt.title("Job Role",fontsize=15)
    plt.legend(labels=['Sales Executive','Research Scientist','Laboratory Technician','Manufacturing Director','Healthcare Representative','Manager','Sales Representative','Research Director','Human Resources'],loc='upper left') 
    plt.show()
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea22f43ca2244414ab7254e87eaec9f7~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ea22f43ca2244414ab7254e87eaec9f7~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

    # åˆ†ægenderæ€§åˆ«
    plt.figure(figsize=(10,9))
    plt.title('Gender distribution',fontsize=15)
    sns.countplot('Gender',data=data,palette='magma')
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2caef3d3dae2417996540fe359e4f883~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2caef3d3dae2417996540fe359e4f883~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

ä»ä¸Šé¢çš„å›¾ä¸­ï¼Œæˆ‘ä»¬è·å¾—äº†ä¸€äº›ä¿¡æ¯ï¼š

*   å¤§éƒ¨åˆ†å‘˜å·¥å¾ˆå°‘å‡ºå·®ã€‚
*   é”€å”®éƒ¨é—¨æ˜¯å…¬å¸çš„ä¸»ä½“ï¼Œç ”å‘å å…¬å¸çš„30%å·¦å³ï¼ŒäººåŠ›èµ„æºå æ¯”æœ€å°ã€‚
*   æ‹¥æœ‰ç”Ÿå‘½ç§‘å­¦æ•™è‚²èƒŒæ™¯çš„å‘˜å·¥æ•°é‡è¾ƒå¤šï¼Œè€ŒäººåŠ›èµ„æºæ•™è‚²èƒŒæ™¯çš„å‘˜å·¥æ•°é‡è¾ƒå°‘ã€‚
*   å¤§éƒ¨åˆ†å‘˜å·¥æ¥è‡ªé”€å”®èŒä½ï¼Œæœ€å°‘æ¥è‡ªäººåŠ›èµ„æºéƒ¨é—¨ã€‚
*   å¤§éƒ¨åˆ†å‘˜å·¥æœªå©šã€‚
*   å…¬å¸ä¸­ç”·æ€§çš„æ•°é‡å¤šäºå¥³æ€§ã€‚

ä¸‹é¢åšå…³è”åˆ†æï¼š

    # Business Travel ä¸ Attrition
    trav = pd.crosstab(data.BusinessTravel,data.Attrition)
    trav.div(trav.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Set1')
    plt.title("Business Travel vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/130e3399dbed43958f807857c0b990c6~tplv-k3u1fbpfcp-zoom-1.image)

    # Department ä¸ Attrition
    dept = pd.crosstab(data.Department,data.Attrition)
    dept.div(dept.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Set1')
    plt.title("Department vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59362c8659a74ab281e144aa65e4ac13~tplv-k3u1fbpfcp-zoom-1.image)

    # Education Field ä¸ Attrition
    edu_f = pd.crosstab(data.EducationField,data.Attrition)
    edu_f.div(edu_f.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Set1')
    plt.title("Education Field vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7307605697794db9a3a708d29120c3c3~tplv-k3u1fbpfcp-zoom-1.image)

    # Job Role ä¸ Attrition
    jobrole = pd.crosstab(data.JobRole,data.Attrition)
    jobrole.div(jobrole.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Set1')
    plt.title("Job Role vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd753a560c964c4d93072119f54fdaaf~tplv-k3u1fbpfcp-zoom-1.image)

    # Marital Status ä¸ Attrition
    mary = pd.crosstab(data.MaritalStatus,data.Attrition)
    mary.div(mary.sum(1),axis=0).plot(kind='bar',stacked=True,figsize=(12,7),cmap='Set1')
    plt.title("Marital Status vs Attrition",fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/754bc78c0d644bbd91b7a3ffb3426a54~tplv-k3u1fbpfcp-zoom-1.image)

    # gender ä¸ Attrition
    plt.figure(figsize=(10,9))
    plt.title('Gender distribution',fontsize=15)
    sns.countplot('Gender',data=data,palette='magma')
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53d9583627f4444aaef15d3f95b73864~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/53d9583627f4444aaef15d3f95b73864~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

ä¸Šå›¾ååº”äº†ä¸€äº›ä¿¡æ¯ï¼š

*   ç»å¸¸å‡ºå·®å‘˜å·¥çš„ç¦»èŒç‡è¾ƒé«˜ï¼Œéå‡ºå·®å‘˜å·¥ç¦»èŒç‡è¾ƒä½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»å¸¸å‡ºå·®çš„å‘˜å·¥æ›´æœ‰å¯èƒ½æµå¤±ã€‚
*   é”€å”®å’ŒäººåŠ›èµ„æºçš„æµå¤±ç‡è¾ƒé«˜ï¼Œè€Œç ”å‘çš„æµå¤±ç‡è¾ƒä½ã€‚
*   äººåŠ›èµ„æºæ•™è‚²èƒŒæ™¯çš„æµå¤±ç‡è¾ƒé«˜ï¼Œè€ŒåŒ»å­¦å’Œå…¶ä»–æ•™è‚²èƒŒæ™¯çš„æµå¤±ç‡æœ€ä½ã€‚ï¼ŒåŒ»å­¦å’Œå…¶ä»–æ•™è‚²èƒŒæ™¯çš„å‘˜å·¥ç¦»èŒçš„å¯èƒ½æ€§è¾ƒå°ã€‚
*   é”€å”®ä»£è¡¨ã€äººåŠ›èµ„æºå’Œå®éªŒå®¤æŠ€æœ¯äººå‘˜çš„æµå¤±ç‡æœ€é«˜ã€‚
*   æœªå©šå‘˜å·¥ç¦»èŒç‡è¾ƒé«˜ï¼Œç¦»å©šå‘˜å·¥ç¦»èŒç‡æœ€ä½ã€‚
*   ç”·æ€§å‘˜å·¥çš„æµå¤±ç‡æ›´é«˜ã€‚

ğŸ“Œ ç›¸å…³æ€§åˆ†æ
--------

æˆ‘ä»¬è®¡ç®—ç‰¹å¾ä¹‹é—´çš„ç›¸å…³ç³»æ•°å¹¶ç»˜åˆ¶çƒ­åŠ›å›¾ï¼š

    # è®¡ç®—ç›¸å…³åº¦çŸ©é˜µå¹¶ç»˜åˆ¶çƒ­åŠ›å›¾
    plt.figure(figsize=(20,15))
    sns.heatmap(data.corr(method='spearman'),annot=True,cmap='Accent')
    plt.title('Correlation of features',fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2da3f30df6242af8cc8231abd98c394~tplv-k3u1fbpfcp-zoom-1.image)

    # ç›¸å…³åº¦æ’åº
    plt.figure(figsize=(15,9))
    correlation = data . corr(method='spearman')
    correlation.Attrition.sort_values(ascending=False).drop('Attrition').plot.bar(color='r')
    plt.title('Correlation of independent features with target feature',fontsize=20)
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e1f1d7ec5d144789709bb4ad4e76638~tplv-k3u1fbpfcp-zoom-1.image)

ğŸ“Œ å¼‚å¸¸å€¼æ£€æµ‹ä¸å¤„ç†
-----------

ä¸‹é¢æˆ‘ä»¬æ£€æµ‹ä¸€ä¸‹æ•°æ®é›†ä¸­çš„å¼‚å¸¸å€¼ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ç®±çº¿å›¾æ¥å¯è§†åŒ–åˆ†å¸ƒå¹¶æ£€æµ‹å¼‚å¸¸å€¼ã€‚

    # ç»˜åˆ¶ç®±çº¿å›¾
    plot=1
    plt.figure(figsize=(15,30))
    for i in numerical_feat.columns:
        plt.subplot(9,3,plot)
        sns.boxplot(data[i],color='navy')
        plt.xlabel(i)
        plot+=1
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/092c157862684c7ba29fec34f2d0322d~tplv-k3u1fbpfcp-zoom-1.image)

ç®±çº¿å›¾æ˜¾ç¤ºæ•°æ®é›†ä¸­æœ‰ä¸å°‘å¼‚å¸¸å€¼ï¼Œä¸è¿‡è¿™é‡Œçš„å¼‚å¸¸å€¼ä¸»è¦æ˜¯å› ä¸ºç¦»æ•£å˜é‡ï¼ˆå¯èƒ½æ˜¯å–å€¼è¾ƒå°‘çš„å€™é€‰ï¼‰ï¼Œæˆ‘ä»¬å°†ä¿ç•™å®ƒä»¬ï¼ˆä¸ç„¶ä¼šæŸå¤±æ‰è¿™äº›æ ·æœ¬ä¿¡æ¯ï¼‰ï¼Œä¸è¿‡æˆ‘ä»¬æ³¨æ„åˆ°æœˆæ”¶å…¥çš„å¼‚å¸¸å€¼æ¯”è¾ƒå¥‡æ€ªï¼Œè¿™å¯èƒ½æ˜¯ç”±äºæ•°æ®æ”¶é›†é”™è¯¯é€ æˆçš„ï¼Œå¯ä»¥æ¸…æ´—ä¸€ä¸‹ã€‚

ğŸ’¡ ç‰¹å¾å·¥ç¨‹
=======

> å…³äºæœºå™¨å­¦ä¹ ç‰¹å¾å·¥ç¨‹ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ [ShowMeAI](https://www.showmeai.tech/) æ•´ç†çš„ç‰¹å¾å·¥ç¨‹æœ€å…¨è§£è¯»æ•™ç¨‹ã€‚
> 
> ğŸ“˜[**æœºå™¨å­¦ä¹ å®æˆ˜ | æœºå™¨å­¦ä¹ ç‰¹å¾å·¥ç¨‹æœ€å…¨è§£è¯»**](https://www.showmeai.tech/article-detail/208)

ğŸ“Œ ç±»åˆ«å‡è¡¡å¤„ç†
---------

ä¸‹é¢æˆ‘ä»¬æ¥å®Œæˆç‰¹å¾å·¥ç¨‹çš„éƒ¨åˆ†ï¼Œä»åŸå§‹æ•°æ®ä¸­æŠ½å–å¼ºè¡¨å¾çš„ä¿¡æ¯ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½æ›´ç›´æ¥é«˜æ•ˆåœ°æŒ–æ˜å’Œå»ºæ¨¡ã€‚

æˆ‘ä»¬åœ¨EDAè¿‡ç¨‹ä¸­å‘ç° MonthlyIncomeã€JobLevel å’Œ YearsAtCompany ä»¥åŠ YearsInCurrentRole é«˜åº¦ç›¸å…³ï¼Œå¯èƒ½ä¼šå¸¦æ¥å¤šé‡å…±çº¿æ€§é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåšä¸€äº›ç­›é€‰ï¼ŒåŒæ—¶æˆ‘ä»¬ä¼šåˆ é™¤ä¸€äº›ä¸ EmployeeCountã€StandardHours ç­‰å˜é‡ä¸ç›¸å…³çš„ç‰¹å¾ï¼Œå¹¶å‰”é™¤ä¸€äº›å¯¹é¢„æµ‹ä¸é‡è¦çš„ç‰¹å¾ã€‚

    dataset = data.copy()
    # åˆ é™¤ä¸ç›®æ ‡ç›¸å…³æ€§ä½çš„Employee count å’Œ standard hoursç‰¹å¾
    dataset.drop(['EmployeeCount','StandardHours'],inplace=True,axis=1)
    dataset.head(2)
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae59015b05db4a0e8f36dc72f0c7f1cd~tplv-k3u1fbpfcp-zoom-1.image)

ä¸‹é¢æˆ‘ä»¬å¯¹ç±»åˆ«å‹ç‰¹å¾è¿›è¡Œç¼–ç ï¼ŒåŒ…æ‹¬æ•°å­—æ˜ å°„ä¸ç‹¬çƒ­å‘é‡ç¼–ç ã€‚

    # æŒ‰ç…§å‡ºå·®çš„é¢‘åº¦è¿›è¡Œç¼–ç 
    dataset.BusinessTravel = dataset.BusinessTravel.replace({
                            'Non-Travel':0,'Travel_Rarely':1,'Travel_Frequently':2
                            })
    
    # æ€§åˆ«ä¸overtimeç¼–ç 
    dataset.Gender = dataset.Gender.replace({'Male':1,'Female':0})
    dataset.OverTime = dataset.OverTime.replace({'Yes':1,'No':0})
    
    # ç‹¬çƒ­å‘é‡ç¼–ç   
    new_df = pd.get_dummies(data=dataset,columns=['Department','EducationField','JobRole', 'MaritalStatus'])
    new_df
    

å¤„ç†ä¸è½¬æ¢åçš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef154beac78d4ea3a820e6e618b88da5~tplv-k3u1fbpfcp-zoom-1.image)

åœ¨å‰é¢çš„æ•°æ®æ¢ç´¢åˆ†æè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°ç›®æ ‡å˜é‡æ˜¯ç±»åˆ«ä¸å¹³è¡¡çš„ï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´æ¨¡å‹åå‘å¤šæ•°ç±»è€Œå¸¦æ¥åå·®ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä¼šåº”ç”¨è¿‡é‡‡æ ·æŠ€æœ¯ SMOTEï¼ˆåˆæˆå°‘æ•°ç±»åˆ«çš„æ ·æœ¬è¡¥å……ï¼‰æ¥å¤„ç†æ•°æ®é›†ä¸­çš„ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜ã€‚

æˆ‘ä»¬æŠŠæ•°æ®å…ˆåˆ‡åˆ†ä¸ºç‰¹å¾å’Œæ ‡ç­¾ï¼Œå¤„ç†ä¹‹å‰çš„æ ‡ç­¾ç±»åˆ«æ¯”ä¾‹å¦‚ä¸‹ï¼š

    # åˆ‡åˆ†ç‰¹å¾å’Œæ ‡ç­¾
    X = new_df.drop(['Attrition'],axis=1)
    Y = new_df.Attrition
    
    # æ ‡ç­¾01å–å€¼æ¯”ä¾‹
    sns.countplot(data=new_df,x=Y,palette='Set1')
    plt.show()
    print(Y.value_counts())
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2665749a4bfa46199cc9fc94e556f83f~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2665749a4bfa46199cc9fc94e556f83f~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

åº”ç”¨è¿‡é‡‡æ ·æŠ€æœ¯ SMOTEï¼š

    # SMOTEå¤„ç†ç±»åˆ«ä¸å‡è¡¡
    from imblearn.over_sampling import SMOTE
    sm = SMOTE(sampling_strategy='minority')
    x,y = sm.fit_resample(X,Y)
    print(x.shape," \t ",y.shape)
    # (2466, 45) (2466,)
    

è¿‡é‡‡æ ·å

    # è¿‡é‡‡æ ·ä¹‹åçš„æ¯”ä¾‹
    sns.countplot(data=new_df,x=y,palette='Set1')
    plt.show()
    print(y.value_counts())
    

!\[\]([https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81fc7f8493c34adb809e60a8058ee726~tplv-k3u1fbpfcp-zoom-1.image](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81fc7f8493c34adb809e60a8058ee726~tplv-k3u1fbpfcp-zoom-1.image)" width="50%" referrerpolicy="no-referrer">

ğŸ“Œ ç‰¹å¾å¹…åº¦ç¼©æ”¾
---------

ç°åœ¨æ•°æ®é›†å·²ç»ç±»åˆ«å‡è¡¡äº†ï¼Œæˆ‘ä»¬åšä¸€ç‚¹ç‰¹å¾å·¥ç¨‹å¤„ç†ï¼Œæ¯”å¦‚æœ‰äº›æ¨¡å‹å¯¹äºç‰¹å¾å€¼çš„å¹…åº¦æ˜¯æ•æ„Ÿçš„ï¼Œæˆ‘ä»¬åšä¸€ç‚¹å¹…åº¦ç¼©æ”¾ï¼Œè¿™é‡Œæˆ‘ä»¬è°ƒç”¨sklearn.preprocessing ç±»ä¸­çš„ MinMaxScaler æ–¹æ³•ã€‚

    # ç‰¹å¾å¹…åº¦ç¼©æ”¾
    from sklearn.preprocessing import MinMaxScaler
    scaler = MinMaxScaler()
    x_scaled = scaler.fit_transform(x)
    x_scaled = pd.DataFrame(x_scaled, columns=x.columns)
    x_scaled
    

å¤„ç†åæˆ‘ä»¬çš„æ•°æ®é›†çœ‹èµ·æ¥åƒè¿™æ ·

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1e819fbd3514fd39f7cad65bdb19eba~tplv-k3u1fbpfcp-zoom-1.image)

æ‰€æœ‰å–å€¼éƒ½å·²è°ƒæ•´åˆ° 0 -1 çš„å¹…åº¦èŒƒå›´å†…ã€‚

ğŸ’¡ åˆ†æç‰¹å¾é‡è¦æ€§
==========

é€šå¸¸åœ¨ç‰¹å¾å·¥ç¨‹ä¹‹åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°éå¸¸å¤šçš„ç‰¹å¾ï¼Œå¤ªå¤šç‰¹å¾ä¼šå¸¦æ¥æ¨¡å‹è®­ç»ƒæ€§èƒ½ä¸Šçš„é—®é¢˜ï¼Œä¸ç›¸å…³çš„å·®ç‰¹å¾ç”šè‡³ä¼šæ‹‰ä½æ¨¡å‹çš„æ•ˆæœã€‚

æˆ‘ä»¬å¾ˆå¤šæ—¶å€™ä¼šè¿›è¡Œç‰¹å¾é‡è¦åº¦åˆ†æçš„å·¥ä½œï¼Œç­›é€‰å’Œä¿ç•™æœ‰æ•ˆç‰¹å¾ï¼Œè€Œå¯¹å…¶ä»–ç‰¹å¾è¿›è¡Œå‰”é™¤ã€‚æˆ‘ä»¬å…ˆå°†æ•°æ®é›†æ‹†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå†åŸºäºäº’ä¿¡æ¯åˆ¤å®šç‰¹å¾é‡è¦åº¦ã€‚

    ## è®­ç»ƒé›†æµ‹è¯•é›†åˆ‡åˆ†
    from sklearn.model_selection import train_test_split
    
    xtrain,xtest,ytrain,ytest = train_test_split(x_scaled,y,test_size=0.3,random_state=1)
    

æˆ‘ä»¬ä½¿ç”¨ sklearn.feature\_selection ç±»ä¸­çš„mutual\_info\_classif æ–¹æ³•æ¥è·å¾—ç‰¹å¾é‡è¦åº¦ã€‚Mutual \_info\_classifçš„å·¥ä½œåŸç†æ˜¯ç±»ä¼¼ä¿¡æ¯å¢ç›Šã€‚

    from sklearn.feature_selection import mutual_info_classif
    
    mutual_info = mutual_info_classif(xtrain,ytrain)
    mutual_info
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1efb3be8783a49b98221bf05817595ec~tplv-k3u1fbpfcp-zoom-1.image)

ä¸‹é¢æˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸‹ç‰¹å¾é‡è¦æ€§

    mutual_info = pd.Series(mutual_info)
    mutual_info.index = xtrain.columns
    mutual_info.sort_values(ascending=False)
    
    plt.title("Feature Importance",fontsize=20)
    mutual_info.sort_values().plot(kind='barh',figsize=(12,9),color='r')
    plt.show()
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/518959c83da7421b9f503bf820dcb67f~tplv-k3u1fbpfcp-zoom-1.image)

> å½“ç„¶ï¼Œå®é™…åˆ¤å®šç‰¹å¾é‡è¦åº¦çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œç”šè‡³ç»“æœä¹Ÿä¼šæœ‰ä¸€äº›ä¸åŒï¼Œæˆ‘ä»¬åªæ˜¯åŸºäºè¿™ä¸ªæ­¥éª¤ï¼Œè¿›è¡Œä¸€å®šçš„ç‰¹å¾ç­›é€‰ï¼ŒæŠŠæœ€ä¸ç›¸å…³çš„ç‰¹å¾å‰”é™¤ã€‚

ğŸ’¡ æ¨¡å‹æ„å»ºå’Œè¯„ä¼°
==========

> å…³äºå»ºæ¨¡ä¸è¯„ä¼°ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ [ShowMeAI](https://www.showmeai.tech/) çš„æœºå™¨å­¦ä¹ ç³»åˆ—æ•™ç¨‹ä¸æ¨¡å‹è¯„ä¼°åŸºç¡€çŸ¥è¯†æ–‡ç« ã€‚  
> ğŸ“˜[**å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•ï¼šä»å…¥é—¨åˆ°ç²¾é€šç³»åˆ—æ•™ç¨‹**](https://www.showmeai.tech/tutorials/34)  
> ğŸ“˜[**å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•(1) | æœºå™¨å­¦ä¹ åŸºç¡€çŸ¥è¯†**](https://www.showmeai.tech/article-detail/185)  
> ğŸ“˜[**å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•(2) | æ¨¡å‹è¯„ä¼°æ–¹æ³•ä¸å‡†åˆ™**](https://www.showmeai.tech/article-detail/186)

å¥½ï¼Œæˆ‘ä»¬å‰åºå·¥ä½œå°±ç®—å®Œæ¯•å•¦ï¼ä¸‹é¢è¦å¼€å§‹æ„å»ºæ¨¡å‹äº†ã€‚åœ¨å»ºæ¨¡ä¹‹å‰ï¼Œæœ‰ä¸€ä»¶éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œæ˜¯æˆ‘ä»¬éœ€è¦é€‰æ‹©åˆé€‚çš„è¯„ä¼°æŒ‡æ ‡å¯¹æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œè¿™èƒ½ç»™æˆ‘ä»¬æŒ‡æ˜æ¨¡å‹ä¼˜åŒ–çš„æ–¹å‘ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œï¼Œé’ˆå¯¹åˆ†ç±»é—®é¢˜ï¼Œå°½é‡è¦†ç›–åœ°é€‰æ‹©äº†ä¸‹é¢è¿™äº›è¯„ä¼°æŒ‡æ ‡

*   å‡†ç¡®åº¦å¾—åˆ†
*   æ··æ·†çŸ©é˜µ
*   precision
*   recall
*   F1-score
*   Auc-Roc

æˆ‘ä»¬è¿™é‡Œé€‰ç”¨äº†8ä¸ªæ¨¡å‹æ„å»ºbaselineï¼Œå¹¶åº”ç”¨äº¤å‰éªŒè¯ä»¥è·å¾—å¯¹æ¨¡å‹æ— åçš„è¯„ä¼°ç»“æœã€‚

    # å¯¼å…¥å·¥å…·åº“
    from sklearn.linear_model import LogisticRegression
    from sklearn.tree import DecisionTreeClassifier
    from sklearn.svm import SVC
    from sklearn.neighbors import KNeighborsClassifier
    from sklearn.naive_bayes import BernoulliNB
    from sklearn.ensemble import RandomForestClassifier
    from sklearn.ensemble import AdaBoostClassifier
    from sklearn.ensemble import GradientBoostingClassifier
    from sklearn.model_selection import cross_val_score,cross_validate
    from sklearn.metrics import classification_report,confusion_matrix,accuracy_score,plot_roc_curve,roc_curve,auc,roc_auc_score,precision_score,r
    
    # åˆå§‹åŒ–baselineæ¨¡å‹ï¼ˆä½¿ç”¨é»˜è®¤å‚æ•°ï¼‰
    LR = LogisticRegression()
    KNN = KNeighborsClassifier()
    SVC = SVC()
    DTC = DecisionTreeClassifier()
    BNB = BernoulliNB()
    RTF = RandomForestClassifier()
    ADB = AdaBoostClassifier()
    GB = GradientBoostingClassifier()
    
    # æ„å»ºæ¨¡å‹åˆ—è¡¨
    models = [("Logistic Regression ",LR),
              ("K Nearest Neighbor classifier ",KNN),
              ("Support Vector classifier ",SVC),
              ("Decision Tree classifier ",DTC),
              ("Random forest classifier ",RTF),
              ("AdaBoost classifier",ADB),
              ("Gradient Boosting classifier ",GB),
              ("Naive Bayes classifier",BNB)]
    

æ¥ä¸‹æ¥æˆ‘ä»¬éå†è¿™äº›æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œè¯„ä¼°ï¼š

    for name,model in models:
        model.fit(xtrain,ytrain)
        print(name," trained")
    
    # éå†è¯„ä¼°
    train_scores=[]
    test_scores=[]
    Model = []
    for name,model in models:
        print("******",name,"******")
        train_acc = accuracy_score(ytrain,model.predict(xtrain))
        test_acc = accuracy_score(ytest,model.predict(xtest))
        print('Train score : ',train_acc)
        print('Test score : ',test_acc)
        train_scores.append(train_acc)
        test_scores.append(test_acc)
        Model.append(name)
    
    # ä¸åŒçš„è¯„ä¼°å‡†åˆ™
    precision_ =[]
    recall_ = []
    f1score = []
    rocauc = []
    for name,model in models:
        print("******",name,"******")
        cm = confusion_matrix(ytest,model.predict(xtest))
        print("\n",cm)
        fpr,tpr,thresholds=roc_curve(ytest,model.predict(xtest))
        roc_auc= auc(fpr,tpr)
        print("\n","ROC_AUC_SCORE : ",roc_auc)
        rocauc.append(roc_auc)
        print(classification_report(ytest,model.predict(xtest)))
        precision = precision_score(ytest, model.predict(xtest))
        print('Precision: ', precision)
        precision_.append(precision)
        recall = recall_score(ytest, model.predict(xtest))
        print('Recall: ', recall)
        recall_.append(recall)
        f1 = f1_score(ytest, model.predict(xtest))
        print('F1 score: ', f1)
        f1score.append(f1)
        plt.figure(figsize=(10,20))
        plt.subplot(211)
        print(sns.heatmap(cm,annot=True,fmt='d',cmap='Accent'))
        plt.subplot(212)
        plt.plot([0,1],'k--')
        plt.plot(fpr,tpr)
        plt.xlabel('false positive rate')
        plt.ylabel('true positive rate')
        plt.show()
    

æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è¯„ä¼°ç»“æœæ±‡æ€»ï¼Œå¾—åˆ°ä¸€ä¸ªæ¨¡å‹ç»“æœå¯¹æ¯”è¡¨å•

    # æ„å»ºä¸€ä¸ªDataframeå­˜å‚¨æ‰€æœ‰æ¨¡å‹çš„è¯„ä¼°æŒ‡æ ‡
    evaluate = pd.DataFrame({})
    evaluate['Model'] = Model
    evaluate['Train score'] = train_scores
    evaluate['Test score'] = test_scores
    evaluate['Precision'] = precision_
    evaluate['Recall'] = recall_
    evaluate['F1 score'] = f1score
    evaluate['Roc-Auc score'] = rocauc
    
    evaluate
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb857be6b0094b4db74a5ff00e2e250b~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬ä»ä¸Šè¿°baselineæ¨¡å‹çš„æ±‡æ€»è¯„ä¼°ç»“æœé‡Œçœ‹åˆ°ï¼š

*   é€»è¾‘å›å½’å’Œéšæœºæ£®æ—åœ¨æ‰€æœ‰æ¨¡å‹ä¸­è¡¨ç°æœ€å¥½ï¼Œå…·æœ‰æœ€é«˜çš„è®­ç»ƒå’Œæµ‹è¯•å‡†ç¡®åº¦å¾—åˆ†ï¼Œå¹¶ä¸”å®ƒå…·æœ‰ä½æ–¹å·®çš„æ³›åŒ–æ€§
*   ä»precisionç²¾åº¦æ¥çœ‹ï¼Œé€»è¾‘å›å½’0.976ã€éšæœºæ£®æ—0.982ï¼Œä¹Ÿéå¸¸å‡ºè‰²
*   ä»recallå¬å›ç‡æ¥çœ‹ï¼ŒAdaboostã€é€»è¾‘å›å½’ã€KNNè¡¨ç°éƒ½ä¸é”™
*   F1-scoreä¼šç»¼åˆprecisionå’Œrecallè®¡ç®—ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¸Šï¼Œé€»è¾‘å›å½’ã€éšæœºæ£®æ—ã€Adaboostè¡¨ç°éƒ½ä¸é”™
*   Roc-Aucè¯„ä¼°çš„æ˜¯æ’åºæ•ˆæœï¼Œå®ƒå¯¹äºç±»åˆ«ä¸å‡è¡¡çš„åœºæ™¯ï¼Œè¯„ä¼°éå¸¸å‡†ç¡®ï¼Œè¿™ä¸ªæŒ‡æ ‡ä¸Šï¼Œé€»è¾‘å›å½’å’Œéšæœºæ£®æ—ã€Adaboostéƒ½ä¸é”™

æˆ‘ä»¬è¦çœ‹ä¸€ä¸‹æœ€ç»ˆçš„äº¤å‰éªŒè¯å¾—åˆ†æƒ…å†µ

    # æŸ¥çœ‹äº¤å‰éªŒè¯å¾—åˆ†
    for name,model in models:
        print("******",name,"******")
        cv_= cross_val_score(model,x_scaled,y,cv=5).mean()
        print(cv_)
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d3d03962551d47c9985b2f31e6da8dde~tplv-k3u1fbpfcp-zoom-1.image)

ä»äº¤å‰éªŒè¯ç»“æœä¸Šçœ‹ï¼Œéšæœºæ£®æ—è¡¨ç°æœ€ä¼˜ï¼Œæˆ‘ä»¬æŠŠå®ƒé€‰ä¸ºæœ€ä½³æ¨¡å‹ï¼Œå¹¶å°†è¿›ä¸€æ­¥å¯¹å®ƒè¿›è¡Œè°ƒä¼˜ä»¥è·å¾—æ›´é«˜çš„å‡†ç¡®æ€§ã€‚

ğŸ’¡ è¶…å‚æ•°è°ƒä¼˜
========

> å…³äºå»ºæ¨¡ä¸è¯„ä¼°ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ[ShowMeAI](https://www.showmeai.tech/)çš„ç›¸å…³æ–‡ç« ã€‚
> 
> ğŸ“˜[**æ·±åº¦å­¦ä¹ æ•™ç¨‹(7) | ç½‘ç»œä¼˜åŒ–ï¼šè¶…å‚æ•°è°ƒä¼˜ã€æ­£åˆ™åŒ–ã€æ‰¹å½’ä¸€åŒ–å’Œç¨‹åºæ¡†æ¶**](https://www.showmeai.tech/article-detail/218)

æˆ‘ä»¬åˆšæ‰å»ºæ¨¡è¿‡ç¨‹ï¼Œä½¿ç”¨çš„éƒ½æ˜¯æ¨¡å‹çš„é»˜è®¤è¶…å‚æ•°ï¼Œå®é™…è¶…å‚æ•°çš„å–å€¼ä¼šå½±å“æ¨¡å‹çš„æ•ˆæœã€‚æˆ‘ä»¬æœ‰ä¸¤ç§æœ€å¸¸ç”¨çš„æ–¹æ³•æ¥è¿›è¡Œè¶…å‚æ•°è°ƒä¼˜ï¼š

*   ç½‘æ ¼æœç´¢ï¼šæ¨¡å‹é’ˆå¯¹å…·æœ‰ä¸€å®šèŒƒå›´å€¼çš„è¶…å‚æ•°ç½‘æ ¼è¿›è¡Œè¯„ä¼°ï¼Œå°è¯•å‚æ•°å€¼çš„æ¯ç§ç»„åˆï¼Œå¹¶å®éªŒä»¥æ‰¾åˆ°æœ€ä½³è¶…å‚æ•°ï¼Œè®¡ç®—æˆæœ¬å¾ˆé«˜ã€‚
*   éšæœºæœç´¢ï¼šè¿™ç§æ–¹æ³•è¯„ä¼°æ¨¡å‹çš„è¶…å‚æ•°å€¼çš„éšæœºç»„åˆä»¥æ‰¾åˆ°æœ€ä½³å‚æ•°ï¼Œè®¡ç®—æˆæœ¬ä½äºç½‘æ ¼æœç´¢ã€‚

ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä½¿ç”¨éšæœºæœç´¢è°ƒå‚ä¼˜åŒ–ã€‚

    from sklearn.model_selection import RandomizedSearchCV
    
    params = {'n_estimators': [int(x) for x in np.linspace(start = 100, stop = 1200, num = 12)],
              'criterion':['gini','entropy'],
             'max_features': ['auto', 'sqrt'],
             'max_depth': [int(x) for x in np.linspace(5, 30, num = 6)],
             'min_samples_split': [2, 5, 10, 15, 100],
             'min_samples_leaf': [1, 2, 5, 10]
             }
    random_search=RandomizedSearchCV(RTF,param_distributions=params,n_jobs=-1,cv=5,verbose=5)
    random_search.fit(xtrain,ytrain)
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce1c96bdc8f542eda044356a67575589~tplv-k3u1fbpfcp-zoom-1.image)

æ‹Ÿåˆéšæœºæœç´¢åï¼Œæˆ‘ä»¬å–å‡ºæœ€ä½³å‚æ•°å’Œæœ€ä½³ä¼°è®¡å™¨ã€‚

    random_search.best_params_
    

    random_search.best_estimator_
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00abdb8f446c4d2482a4d66bb99072d3~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬å¯¹æœ€ä½³ä¼°è®¡å™¨è¿›è¡Œè¯„ä¼°

    # æœ€ç»ˆæ¨¡å‹
    final_mod = RandomForestClassifier(max_depth=10, max_features='sqrt', n_estimators=500)
    final_mod.fit(xtrain,ytrain)
    final_pred = final_mod.predict(xtest)
    print("Accuracy Score",accuracy_score(ytest,final_pred))
    cross_val = cross_val_score(final_mod,x_scaled,y,scoring='accuracy',cv=5).mean()
    print("Cross val score",cross_val)
    plot_roc_curve(final_mod,xtest,ytest)
    

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/490169f582414f51b8d5329e59d2c397~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¶…å‚æ•°è°ƒä¼˜åï¼š

*   æ¨¡å‹çš„æ•´ä½“æ€§èƒ½æœ‰æ‰€æå‡ã€‚
*   å‡†ç¡®åº¦å’Œäº¤å‰ä¸¥é‡åˆ†æ•°æé«˜äº†ã€‚
*   Auc å¾—åˆ†è¾¾åˆ°äº†97%ã€‚

ğŸ’¡ ä¿å­˜æ¨¡å‹
=======

æœ€åæˆ‘ä»¬å¯¹æ¨¡å‹è¿›è¡Œå­˜å‚¨ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨æˆ–è€…éƒ¨ç½²ä¸Šçº¿ã€‚

    import joblib
    joblib.dump(final_mod,'hr_attrition.pkl')
    # ['hr_attrition.pkl']
    

å‚è€ƒé“¾æ¥
====

*   ğŸ“˜ **å›¾è§£æ•°æ®åˆ†æï¼šä»å…¥é—¨åˆ°ç²¾é€šç³»åˆ—æ•™ç¨‹**ï¼š[https://www.showmeai.tech/tutorials/33](https://www.showmeai.tech/tutorials/33)
*   ğŸ“˜ **æ•°æ®ç§‘å­¦å·¥å…·åº“é€ŸæŸ¥è¡¨ | Pandas é€ŸæŸ¥è¡¨**ï¼š[https://www.showmeai.tech/article-detail/101](https://www.showmeai.tech/article-detail/101)
*   ğŸ“˜ **æ•°æ®ç§‘å­¦å·¥å…·åº“é€ŸæŸ¥è¡¨ | Seaborn é€ŸæŸ¥è¡¨**ï¼š[https://www.showmeai.tech/article-detail/105](https://www.showmeai.tech/article-detail/105)
*   ğŸ“˜ **å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•ï¼šä»å…¥é—¨åˆ°ç²¾é€šç³»åˆ—æ•™ç¨‹**ï¼š[https://www.showmeai.tech/tutorials/34](https://www.showmeai.tech/tutorials/34)
*   ğŸ“˜ **å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•(1) | æœºå™¨å­¦ä¹ åŸºç¡€çŸ¥è¯†**ï¼š[https://www.showmeai.tech/article-detail/185](https://www.showmeai.tech/article-detail/185)
*   ğŸ“˜ **å›¾è§£æœºå™¨å­¦ä¹ ç®—æ³•(2) | æ¨¡å‹è¯„ä¼°æ–¹æ³•ä¸å‡†åˆ™**ï¼š[https://www.showmeai.tech/article-detail/186](https://www.showmeai.tech/article-detail/186)
*   ğŸ“˜ **æœºå™¨å­¦ä¹ å®æˆ˜ | æœºå™¨å­¦ä¹ ç‰¹å¾å·¥ç¨‹æœ€å…¨è§£è¯»**ï¼š[https://www.showmeai.tech/article-detail/208](https://www.showmeai.tech/article-detail/208)
*   ğŸ“˜ **æ·±åº¦å­¦ä¹ æ•™ç¨‹(7) | ç½‘ç»œä¼˜åŒ–ï¼šè¶…å‚æ•°è°ƒä¼˜ã€æ­£åˆ™åŒ–ã€æ‰¹å½’ä¸€åŒ–å’Œç¨‹åºæ¡†æ¶**ï¼š[https://www.showmeai.tech/article-detail/218](https://www.showmeai.tech/article-detail/218)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9190f41b8de4af38c8a1a0c96f0513b~tplv-k3u1fbpfcp-zoom-1.image)