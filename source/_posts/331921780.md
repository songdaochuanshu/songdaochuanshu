---
layout: post
title: "ReactæŠ¥é”™ä¹‹React.Children.only expected to receive single React element child"
date: "2022-12-21T22:15:21.546Z"
---
ReactæŠ¥é”™ä¹‹React.Children.only expected to receive single React element child
==========================================================================

æ€»è§ˆ
--

å½“æˆ‘ä»¬æŠŠå¤šä¸ªå­å…ƒç´ ä¼ é€’ç»™ä¸€ä¸ªåªæœŸæœ›æœ‰ä¸€ä¸ªReactå­å…ƒç´ çš„ç»„ä»¶æ—¶ï¼Œä¼šäº§ç”Ÿ"React.Children.only expected to receive single React element child"é”™è¯¯ã€‚ä¸ºäº†è§£å†³è¯¥é”™è¯¯ï¼Œå°†æ‰€æœ‰å…ƒç´ åŒ…è£…åœ¨ä¸€ä¸ªReactç‰‡æ®µæˆ–ä¸€ä¸ªå°é—­`div`ä¸­ã€‚

![react-children-only-expected-receive-single-child.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6f596381521946b2a7e4eb8ba43f1e09~tplv-k3u1fbpfcp-watermark.image?)

è¿™é‡Œæœ‰ä¸ªç¤ºä¾‹æ¥å±•ç¤ºé”™è¯¯æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚

    // App.js
    
    import React from 'react';
    
    function Button(props) {
      // ğŸ‘‡ï¸ expects single child element
      return React.Children.only(props.children);
    }
    
    export default function App() {
      return (
        <Button>
          <button
            onClick={() => {
              console.log('Button clicked');
            }}
          >
            Click
          </button>
          <button
            onClick={() => {
              console.log('Button clicked');
            }}
          >
            Click
          </button>
        </Button>
      );
    }
    

`Button`å…ƒç´ æœŸæœ›ä¼ é€’å•ä¸ªå­å…ƒç´ ï¼Œä½†æˆ‘ä»¬åœ¨åŒçº§ä¸‹ä¼ é€’äº†2ä¸ªå­å…ƒç´ ã€‚

Reactç‰‡æ®µ
-------

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Reactç‰‡æ®µæ¥è§£å†³è¯¥é”™è¯¯ã€‚

    import React from 'react';
    
    function Button(props) {
      // ğŸ‘‡ï¸ expects single child element
      return React.Children.only(props.children);
    }
    
    export default function App() {
      return (
        <Button>
          <>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
          </>
        </Button>
      );
    }
    

å½“æˆ‘ä»¬éœ€è¦å¯¹å­èŠ‚ç‚¹åˆ—è¡¨è¿›è¡Œåˆ†ç»„ï¼Œè€Œä¸éœ€è¦å‘DOMæ·»åŠ é¢å¤–çš„èŠ‚ç‚¹æ—¶ï¼Œå°±ä¼šä½¿ç”¨`Fragments`ã€‚

ä½ å¯èƒ½è¿˜ä¼šçœ‹åˆ°ä½¿ç”¨äº†æ›´è¯¦ç»†çš„ç‰‡æ®µè¯­æ³•ã€‚

    import React from 'react';
    
    function Button(props) {
      // ğŸ‘‡ï¸ expects single child element
      return React.Children.only(props.children);
    }
    
    export default function App() {
      return (
        <Button>
          <React.Fragment>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
          </React.Fragment>
        </Button>
      );
    }
    

ä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­è¾¾åˆ°äº†ç›¸åŒçš„ç»“æœ--å®ƒä»¬å¯¹å­å…ƒç´ åˆ—è¡¨è¿›è¡Œåˆ†ç»„ï¼Œè€Œæ²¡æœ‰å‘DOMä¸­æ·»åŠ é¢å¤–çš„èŠ‚ç‚¹ã€‚

> ç°åœ¨å¤§å¤šæ•°ä»£ç ç¼–è¾‘å™¨éƒ½æ”¯æŒæ›´ç®€æ˜çš„è¯­æ³•ï¼Œå› æ­¤æ›´å¸¸ç”¨ã€‚

DOMå…ƒç´ 
-----

å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å°†å­å…ƒç´ åŒ…è£¹åœ¨å¦ä¸€ä¸ªDOMå…ƒç´ ä¸­ï¼Œä¾‹å¦‚ä¸€ä¸ª`div`ã€‚

    import React from 'react';
    
    function Button(props) {
      // ğŸ‘‡ï¸ expects single child element
      return React.Children.only(props.children);
    }
    
    export default function App() {
      return (
        <Button>
          <div>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
            <button
              onClick={() => {
                console.log('Button clicked');
              }}
            >
              Click
            </button>
          </div>
        </Button>
      );
    }
    

è¿™æ ·å°±è§£å†³äº†é”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬ç°åœ¨å‘`Button`ç»„ä»¶ä¼ é€’äº†å•ä¸€çš„å­å…ƒç´ ã€‚

> è¿™ç§æ–¹æ³•åªæœ‰åœ¨æ·»åŠ ä¸€ä¸ªé¢å¤–çš„`div`è€Œä¸ä¼šç ´åä½ çš„å¸ƒå±€æ—¶æ‰æœ‰æ•ˆï¼Œå¦åˆ™å°±ä½¿ç”¨ä¸€ä¸ªç‰‡æ®µï¼Œå› ä¸ºç‰‡æ®µä¸ä¼šå‘DOMæ·»åŠ ä»»ä½•é¢å¤–çš„æ ‡è®°ã€‚

è¿™æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œå› ä¸º`Button`ç»„ä»¶ä½¿ç”¨`React.Children.only`å‡½æ•°æ¥éªŒè¯`children`å±æ€§æ˜¯å¦åªæœ‰ä¸€ä¸ªå­å…ƒç´ ï¼Œå¹¶è¿”å›å®ƒã€‚å¦åˆ™è¯¥æ–¹æ³•ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚

`React.Children.only`æ–¹æ³•ç»å¸¸è¢«ç”¨äºç¬¬ä¸‰æ–¹åº“ï¼Œä»¥ç¡®ä¿APIçš„æ¶ˆè´¹è€…åœ¨ä½¿ç”¨è¯¥ç»„ä»¶æ—¶åªæä¾›ä¸€ä¸ªå­å…ƒç´ ã€‚