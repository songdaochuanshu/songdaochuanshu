---
layout: post
title: "Javaé›†åˆ  Map é›†åˆ ä¸ æ“ä½œé›†åˆçš„å·¥å…·ç±»: Collections çš„è¯¦ç»†è¯´æ˜"
date: "2023-02-04T06:19:24.731Z"
---
Javaé›†åˆ Map é›†åˆ ä¸ æ“ä½œé›†åˆçš„å·¥å…·ç±»: Collections çš„è¯¦ç»†è¯´æ˜
===========================================

Map æ¥å£ä¸ Collection å¹¶åˆ—å­˜åœ¨çš„ï¼Œç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼škey-value è¢«ç§°ä¸º é”®å€¼å¯¹ ã€‚Javaé›†åˆå¯åˆ†ä¸º Collection å’Œ Map ä¸¤ç§ä½“ç³»ã€‚Map ä¸­çš„ key å’Œ value éƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®ã€‚Map ä¸­çš„ key ç”¨ Set é›†åˆå­˜å‚¨çš„ï¼Œä¸å…è®¸é‡å¤ã€‚å³åŒä¸€ä¸ª Map å¯¹è±¡æ‰€å¯¹åº”çš„ç±»ï¼Œå¿…é¡»é‡å†™hashCode() å’Œ equals() æ–¹æ³•ã€‚ä½†æ˜¯å…¶ä¸­çš„ value å€¼æ˜¯å¯ä»¥å­˜å‚¨é‡å¤çš„æ•°æ®çš„ã€‚è€Œ value å€¼åˆ™æ˜¯è¢« Collection æ¥å£é›†åˆå­˜å‚¨çš„ã€‚

Javaé›†åˆ Map é›†åˆ ä¸ æ“ä½œé›†åˆçš„å·¥å…·ç±»: Collections çš„è¯¦ç»†è¯´æ˜
===========================================

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f100d7098cff444b8d45cf58ca7d4bc1.png)

* * *

æ¯åšä¸€æ–‡æ¡ˆ
-----

    åˆ«æŠŠäººç”Ÿï¼Œè¾“ç»™å¿ƒæƒ…
    å¸ˆçˆ¶è¯´ï¼šå¿ƒæƒ…ä¸æ˜¯äººç”Ÿçš„å…¨éƒ¨ï¼Œå´èƒ½å·¦å³äººç”Ÿçš„å…¨éƒ¨ã€‚
    ä½ æœ‰æ²¡æœ‰ä½“ä¼šåˆ°ï¼Œå½“ä½ å¿ƒæƒ…å¥½çš„æ—¶å€™ï¼Œç”Ÿæ´»ä»¿ä½›é˜³å…‰ç¿çƒ‚ï¼Œé¡ºé£é¡ºæ°´ï¼Œ
    å½“ä½ å¿ƒæƒ…ä¸å¥½çš„æ—¶å€™ï¼Œä¼¼ä¹å‘¨å›´çš„ä¸€åˆ‡éƒ½ç³Ÿç³•é€äº†ã€‚
    æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æ˜¯è¾“ç»™äº†åˆ«äººï¼Œè€Œæ˜¯è´¥ç»™äº†åå¿ƒæƒ…çš„è‡ªå·±ã€‚
    äººæ´»ç€å°±åƒä¸€ä¸ªé™€èºï¼Œä¸ºäº†ç”Ÿæ´»ä¸åœçš„è½¬åŠ¨ï¼Œæ°¸è¿œéƒ½æœ‰å¿™ä¸å®Œçš„äº‹ã€‚
    æœ‰æ—¶å€™åˆåƒæ²™æ¼ ä¸­çš„éª†é©¼ï¼ŒèƒŒè´Ÿç€é‡æ‹…åŠªåŠ›åœ°å‰è¡Œï¼Œå´ä¸çŸ¥é“å“ªé‡Œæ‰æ˜¯ç»ˆç‚¹ã€‚
    å…ˆç°åœ¨æƒ…ç»ªä½è½ï¼Œåªæ˜¯å› ä¸ºé™·è¿›äº†è‡ªæˆ‘çº ç¼ çš„é™·é˜±ï¼Œç­‰åˆ°ç†¬è¿‡äº†è¿™æ®µè‹¦éš¾ï¼Œ
    ä½ ä¼šå‘ç°ä½ æ‰€çº ç»“çš„ä¸œè¥¿ï¼ŒçœŸçš„åªæ˜¯æ— å…³ç—›ç—’çš„å°äº‹ã€‚
    ç”Ÿæ´»å°±åƒå¤©æ°”ï¼Œä¸ä¼šæ€»æ˜¯æ™´å¤©ï¼Œä¹Ÿä¸ä¼šä¸€ç›´é˜´é›¨ï¼Œå–œæ¬¢å’Œè®¨åŒæ˜¯æ¬¡è¦çš„ï¼Œå…³é”®æ˜¯ä½ è¦å­¦ä¼šè°ƒæ•´è‡ªå·±ã€‚
    å¿ƒé™äº†ï¼Œæ‰èƒ½å¬è§è‡ªå·±çš„å¿ƒå£°ï¼Œå¿ƒæ¸…äº†ï¼Œæ‰èƒ½ç…§è§ä¸‡ç‰©çš„æœ¬æ€§ã€‚
    å‡å¦‚ä»»ç”±åæƒ…ç»ªç´¯ç§¯å’Œè”“å»¶ï¼Œå¾ˆå¤šäº‹åªä¼šå˜å¾—è¶Šæ¥è¶Šç³Ÿç³•ï¼Œ
    æ—¢ç„¶åšä¸åˆ°è®©æ‰€æœ‰äººéƒ½æ»¡æ„ï¼Œä¸ºä½•ä¸åŠªåŠ›è®©è‡ªå·±å¼€å¿ƒï¼Ÿ
    ç”Ÿæ´»æ˜¯ä½ è‡ªå·±çš„ï¼Œå–œæ€’æ‚²æ¬¢éƒ½ç”±ä½ è‡ªå·±å†³å®šï¼Œè®°å¾—åˆ«è¢«åæƒ…ç»ªæŸç¼šä½ï¼Œ
    ä¸è¦è®©ä½ çš„äººç”Ÿï¼Œè¾“ç»™äº†å¿ƒæƒ…ã€‚
                                          â€”â€”â€”â€”â€”â€”   ä¸€ç¦…å¿ƒçµåº™è¯­
    

ç›®å½•

*   [Javaé›†åˆ Map é›†åˆ ä¸ æ“ä½œé›†åˆçš„å·¥å…·ç±»: Collections çš„è¯¦ç»†è¯´æ˜](#javaé›†åˆ--map-é›†åˆ-ä¸-æ“ä½œé›†åˆçš„å·¥å…·ç±»-collections-çš„è¯¦ç»†è¯´æ˜)
    *   [æ¯åšä¸€æ–‡æ¡ˆ](#æ¯åšä¸€æ–‡æ¡ˆ)
    *   [1\. Mapæ¥å£æ¦‚è¿°](#1-mapæ¥å£æ¦‚è¿°)
    *   [2\. Mapæ¥å£ï¼šå¸¸ç”¨æ–¹æ³•](#2-mapæ¥å£å¸¸ç”¨æ–¹æ³•)
    *   [3\. Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap](#3-mapå®ç°ç±»ä¹‹ä¸€hashmap)
        *   [3.1 HashMapçš„å­˜å‚¨ç»“æ„](#31-hashmapçš„å­˜å‚¨ç»“æ„)
        *   [3.2 HashMapæºç ä¸­çš„é‡è¦å¸¸é‡](#32-hashmapæºç ä¸­çš„é‡è¦å¸¸é‡)
        *   [3.3 HashMapçš„å­˜å‚¨ç»“æ„ï¼šJDK 1.8ä¹‹å‰ / JDK 1.8ä¹‹å](#33-hashmapçš„å­˜å‚¨ç»“æ„jdk-18ä¹‹å‰--jdk-18ä¹‹å)
            *   [3.3.1 JDk 1.8 ä¹‹å‰](#331-jdk-18-ä¹‹å‰)
            *   [3.3.2 JDk 1.8 åŠä¹‹å](#332-jdk-18-åŠä¹‹å)
            *   [3.3.3 JDK8 HashMap é›†åˆæ·»åŠ å…ƒç´ çš„è¿‡ç¨‹](#333-jdk8-hashmap-é›†åˆæ·»åŠ å…ƒç´ çš„è¿‡ç¨‹)
            *   [3.3.4 JDK8 HashMap è¿›è¡Œ "æ‰©å®¹"å’Œ "æ ‘å½¢åŒ–"](#334--jdk8--hashmap-è¿›è¡Œ-æ‰©å®¹å’Œ-æ ‘å½¢åŒ–)
            *   [3.3.5 æ€»ç»“ï¼šJDK1.8 ç›¸è¾ƒäºä¹‹å‰çš„å˜åŒ–ï¼š](#335-æ€»ç»“jdk18-ç›¸è¾ƒäºä¹‹å‰çš„å˜åŒ–)
    *   [4\. Mapå®ç°ç±»ä¹‹äºŒï¼šLinkedHashMap](#4-mapå®ç°ç±»ä¹‹äºŒlinkedhashmap)
    *   [5\. Mapå®ç°ç±»ä¹‹ä¸‰ï¼šTreeMap](#5-mapå®ç°ç±»ä¹‹ä¸‰treemap)
    *   [6\. Mapå®ç°ç±»ä¹‹å››ï¼šHashtable](#6-mapå®ç°ç±»ä¹‹å››hashtable)
    *   [7\. Mapå®ç°ç±»ä¹‹äº”ï¼šProperties](#7-mapå®ç°ç±»ä¹‹äº”properties)
    *   [8\. Map æ¥å£ä¸‹çš„é›†åˆéå†æ–¹å¼](#8-map-æ¥å£ä¸‹çš„é›†åˆéå†æ–¹å¼)
    *   [9\. Collectionså·¥å…·ç±»](#9-collectionså·¥å…·ç±»)
        *   [9.1 Collectionså¸¸ç”¨æ–¹æ³•](#91-collectionså¸¸ç”¨æ–¹æ³•)
    *   [10\. æ€»ç»“ï¼š](#10-æ€»ç»“)
    *   [11\. æœ€åï¼š](#11-æœ€å)

1\. Mapæ¥å£æ¦‚è¿°
-----------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/401374cf1a6a49f2a3e213fecb93174a.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7ad136ed2d16402a8c0853d11d05deee.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4b12b200bb354659ab5c9bc1cc88919c.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20191114201003492.png#pic_center)

*   **Map** æ¥å£ä¸ **Collection** å¹¶åˆ—å­˜åœ¨çš„ï¼Œç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼š**key-value** è¢«ç§°ä¸º **é”®å€¼å¯¹** ã€‚
    
*   **Javaé›†åˆå¯åˆ†ä¸º Collection å’Œ Map ä¸¤ç§ä½“ç³»ã€‚**
    
    *   **Collection** æ¥å£ï¼šå•ä¾‹æ•°æ®ï¼Œå®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•çš„é›†åˆã€‚
        *   **List** ï¼š å…ƒç´ æœ‰åºï¼Œå¯é‡å¤çš„é›†åˆã€‚
        *   **Set** ï¼šå…ƒç´ æ— åºï¼Œä¸å¯é‡å¤çš„é›†åˆã€‚
    *   **Map** æ¥å£ï¼šåŒåˆ—æ•°æ®ï¼Œä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»**â€key-valueå¯¹â€œ** çš„é›†åˆã€‚
*   **Map** ä¸­çš„ **key** å’Œ **value** éƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®ã€‚
    
    *   **key** å’Œ **value** éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œéƒ½æ˜¯å­˜å‚¨å¯¹è±¡çš„å†…å­˜åœ°å€çš„ã€‚ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚
    *   å…¶ä¸­ **key** èµ·åˆ°ä¸»å¯¼åœ°ä½ï¼Œ**value** æ˜¯ **key** çš„ä¸€ä¸ªé™„å±å“ã€‚
*   **Map** ä¸­çš„ **key** ç”¨ **Set** é›†åˆå­˜å‚¨çš„ï¼Œ**ä¸å…è®¸é‡å¤**ã€‚å³åŒä¸€ä¸ª **Map** å¯¹è±¡æ‰€å¯¹åº”çš„ç±»ï¼Œ**å¿…é¡»é‡å†™hashCode() å’Œ equals()** æ–¹æ³•ã€‚ä½†æ˜¯å…¶ä¸­çš„ **value** å€¼æ˜¯å¯ä»¥å­˜å‚¨é‡å¤çš„æ•°æ®çš„ã€‚è€Œ value å€¼åˆ™æ˜¯è¢« **Collection** æ¥å£é›†åˆå­˜å‚¨çš„ã€‚
    
*   å¸¸ç”¨ **String** ç±»ä½œä¸º **Map** çš„ â€é”®â€œã€‚
    
*   **key** å’Œ **value** ä¹‹é—´å­˜åœ¨å•å‘ä¸€å¯¹ä¸€å…³ç³»ï¼Œå³é€šè¿‡æŒ‡å®šçš„ **key** æ€»èƒ½æ‰¾åˆ°å”¯ä¸€çš„ï¼Œç¡®å®šçš„ **value** ã€‚
    
*   **Map** æ¥å£çš„å¸¸ç”¨å®ç°ç±»ï¼š
    
    *   **HashMap** ä½œä¸ºMapçš„ä¸»è¦å®ç°ç±»ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼Œå¯ä»¥å­˜å‚¨ null çš„key å’Œ valueã€‚HashMapæ˜¯ Map æ¥å£ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å®ç°ç±»
    *   **LinkedHashMap** ä¿è¯å†éå†Mapå…ƒç´ æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ çš„é¡ºåºå®ç°éå†ï¼ŒåŸå› : åœ¨åŸæœ‰çš„HashMapåº•å±‚ç»“æ„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº†ä¸€å¯¹æŒ‡é’ˆï¼ŒæŒ‡å‘å‰ä¸€ä¸ªå’Œåä¸€ä¸ªå…ƒç´ ã€‚å¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼Œæ­¤ç±»æ‰§è¡Œæ•ˆç‡é«˜äºHashMap
    *   **TreeMap** ä¿è¯æŒ‰ç…§æ·»åŠ çš„ key-valueé”®å€¼å¯¹è¿›è¡Œæ’åºï¼Œå®ç°æ’åºéå†.æ­¤æ—¶è€ƒè™‘keyçš„è‡ªç„¶æ’åºæˆ–å®šåˆ¶æ’åºï¼Œåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘:
    *   **Hashtalbe** ä½œä¸ºå¤è€çš„å®ç°ç±»ï¼Œçº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½,ä¸å¯ä»¥å­˜å‚¨ null
    *   **Properties** ä¸»è¦ç”¨äºé…ç½®æ–‡ä»¶çš„è¯»å–ã€‚
*   **é”®å€¼å¯¹çš„ç¤ºå›¾ï¼š**
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c1144691ed4c4f40a58778d4d16dd0d8.png)

2\. Mapæ¥å£ï¼šå¸¸ç”¨æ–¹æ³•
--------------

**æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ“ä½œï¼š**

*   **put(K key, V value)** ï¼š å°†æŒ‡å®šçš„ key å’Œ value å€¼æ·»åŠ /ä¿®æ”¹åˆ°è¯¥é›†åˆå½“ä¸­ã€‚

    V put(K key,V value);  // å°†æŒ‡å®šçš„ key å’Œ value å€¼æ·»åŠ /ä¿®æ”¹åˆ°è¯¥é›†åˆå½“ä¸­ã€‚
    

*   **putAll(Map m)** : å°† m ä¸­æ‰€æœ‰çš„key-value å€¼å­˜æ”¾åˆ°å½“å‰ å¯¹è±¡é›†åˆå½“ä¸­ã€‚

    void putAll(Map<? extends K,? extends V> m);  // å°†mä¸­çš„æ‰€æœ‰key-valueå¯¹å­˜æ”¾åˆ°å½“å‰mapé›†åˆå½“ä¸­
    

*   **remove(Object key)** : ç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›valueã€‚

    V remove(Object key);  // ç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›value
    

*   **clear()** : æ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®ã€‚

    void clear();  // æ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®
    

*   **size()** ï¼š è¿”å›æ­¤é›†åˆä¸­å­˜å‚¨çš„å…ƒç´ æ•°æ®(é”®å€¼å¯¹)çš„æ•°é‡ã€‚

    int size();  // è¿”å›æ­¤é›†åˆä¸­å­˜å‚¨çš„å…ƒç´ æ•°æ®(é”®å€¼å¯¹)çš„æ•°é‡ã€‚
    

**ä¸¾ä¾‹ï¼š**

    import java.util.HashMap;
    import java.util.Map;
    
    public class MapTest {
        public static void main(String[] args) {
            // Map æ¥å£ , HashMapå®ç°ç±»ï¼Œå¤šæ€,<String,Integer> æ³›å‹
            Map<String,Integer> map = new HashMap<String,Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®:
            map.put("zhangsan",66);
            map.put("lisi",89);
            map.put("wangwu",97);
            map.put("lihua",99);
    
            System.out.println(map);
            int size = map.size();  // è¿”å›è¯¥é›†åˆä¸­å­˜å‚¨çš„é”®å€¼å¯¹çš„æ•°é‡ã€‚
            System.out.println(size);
    
            System.out.println("*********************");
    
            Integer zhangsan = map.remove("zhangsan");  // ç§»é™¤key = zhangsançš„å…ƒç´ æ•°æ®,å¹¶è¿”å›è¯¥ç§»é™¤çš„valueå€¼ã€‚
            System.out.println(zhangsan);
            System.out.println(map);
    
            map.clear();  // æ¸…ç©ºè¯¥Map é›†åˆå½“ä¸­çš„å­˜å‚¨çš„å…ƒç´ æ•°æ®
            System.out.println(map.size());
    
    
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/595cb9338aa74f368c0567ae8f60f662.png)

**ä¸¾ä¾‹**

    import java.util.HashMap;
    import java.util.Map;
    
    public class MapTest {
        public static void main(String[] args) {
            // Map æ¥å£ , HashMapå®ç°ç±»ï¼Œå¤šæ€,<String,Integer> æ³›å‹
            Map<String,Integer> map = new HashMap<String,Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®:
            map.put("zhangsan",66);
            map.put("lisi",89);
            
            Map<String,Integer> map2 = new HashMap<String,Integer>();
            map2.put("wangwu",97);
            map2.put("lihua",99);
            
            map.putAll(map2);  // å°† map2 é›†åˆä¸­æ‰€æœ‰çš„key-valueé”®å€¼å¯¹æ·»åŠ åˆ°æ­¤ mapé›†åˆå½“ä¸­å»
                               // æ³¨æ„ï¼šä¸¤è€…é›†åˆå­˜å‚¨çš„å…ƒç´ æ•°æ®ç±»å‹å¿…é¡»æ˜¯ä¸€è‡´çš„æ‰å¯ä»¥æ·»åŠ æˆåŠŸã€‚
            System.out.println(map);
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f1f2cae229fd464581f2c837eff5cf95.png)

**å…ƒç´ æŸ¥è¯¢çš„æ“ä½œï¼š**

*   **get(Object key)** : è·å–æŒ‡å®škeyå¯¹åº”çš„valueã€‚

    V get(Object key);  // è·å–æŒ‡å®škeyå¯¹åº”çš„value
    

*   **containsKey(Object key)** : åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ keyå€¼ã€‚

    boolean containsKey(Object key);  // åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ key å€¼ã€‚
    

*   **containsValue(Object key)** : åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ value å€¼ã€‚

    boolean containsValue(Object value); // åˆ¤æ–­åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ value å€¼ã€‚
    

*   **isEmpty()** : åˆ¤æ–­æ­¤é›†åˆæ˜¯å¦ä¸º ç©ºï¼Œæ˜¯è¿”å› true,ä¸æ˜¯è¿”å› falseã€‚

    boolean isEmpty();  // åˆ¤æ–­æ­¤é›†åˆæ˜¯å¦ä¸º ç©ºï¼Œæ˜¯è¿”å› true,ä¸æ˜¯è¿”å› false;
    

*   **equals(Object o) :** åˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡ o æ˜¯å¦ç›¸ç­‰ã€‚

    boolean equals(Object o); // åˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡ o æ˜¯å¦ç›¸ç­‰
    

**ä¸¾ä¾‹ï¼š**

    import java.util.HashMap;
    import java.util.Map;
    
    public class MapTest {
        public static void main(String[] args) {
            // Map æ¥å£ , HashMapå®ç°ç±»ï¼Œå¤šæ€,<String,Integer> æ³›å‹
            Map<String,Integer> map = new HashMap<String,Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®:
            map.put("zhangsan",66);
            map.put("lisi",89);
            map.put("wangwu",97);
            map.put("lihua",99);
    
            System.out.println(map.get("zhangsan"));  // è·å–åˆ°å¯¹åº” keyä¸Šçš„ valueå€¼
            System.out.println(map.containsKey("zhangsan"));  // åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦å­˜åœ¨ key = zhangsançš„é”®å€¼å¯¹
            System.out.println(map.containsValue(99));  // åˆ¤æ–­è¯¥é›†åˆå½“ä¸­æ˜¯å¦å­˜åœ¨ value = 99çš„é”®å€¼å¯¹
            System.out.println(map.isEmpty());  // åˆ¤æ–­è¯¥é›†åˆæ˜¯å¦ä¸ºç©º
            System.out.println(map.equals(map)); //  åˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡ o æ˜¯å¦ç›¸ç­‰
    
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5b96ba01fd484ef9ac6718c49580f960.png)

**å…ƒè§†å›¾æ“ä½œçš„æ–¹æ³•ï¼š**

*   **keySet()** : è¿”å›æ‰€æœ‰keyæ„æˆçš„Seté›†åˆã€‚ä»è¯¥æ–¹æ³•ä¸­å¯ä»¥çœ‹å‡º **Map** æ¥å£ä¸‹çš„é›†åˆä¸­çš„ **key** å€¼æ˜¯å­˜å‚¨åœ¨ **Set** æ¥å£é›†åˆå½“ä¸­çš„ã€‚

    Set<K> keySet();  // è¿”å›æ‰€æœ‰keyæ„æˆçš„Seté›†åˆ
    

*   **values()** : è¿”å›æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆã€‚ä»è¯¥æ–¹æ³•ä¸­å¯ä»¥çœ‹å‡º **Map** æ¥å£ä¸‹çš„é›†åˆä¸­çš„ **value** å€¼æ˜¯å­˜å‚¨åœ¨ **Collection** æ¥å£é›†åˆå½“ä¸­çš„ã€‚

    Collection<V> values();  // è¿”å›æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆ
    

**ä¸¾ä¾‹:**

    import java.util.Collection;
    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class MapTest {
        public static void main(String[] args) {
            // Map æ¥å£ , HashMapå®ç°ç±»ï¼Œå¤šæ€,<String,Integer> æ³›å‹
            Map<String,Integer> map = new HashMap<String,Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®:
            map.put("zhangsan",66);
            map.put("lisi",89);
            map.put("wangwu",97);
            map.put("lihua",99);
    
            Set<String> keys = map.keySet();  // è¿”å›æ­¤é›†åˆå½“ä¸­æ‰€æœ‰çš„ key å€¼å­˜å‚¨åˆ° Set é›†åˆå½“ä¸­
            for (String s : keys) {
                System.out.println(s);
            }
    
            System.out.println("****************");
            Collection<Integer> values = map.values();  // è¿”å›æ­¤é›†åˆå½“ä¸­æ‰€æœ‰çš„ value å€¼å­˜å‚¨åˆ° Collection é›†åˆå½“ä¸­
            // Collection æ¥å£é›†åˆå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨
            Iterator<Integer> iterator = values.iterator();
            while(iterator.hasNext()) {
                System.out.println(iterator.next());
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a65d0712b2de4a21a72c9f68df77d04f.png)

*   **entrySet()** : è¿”å›è¯¥é›†åˆå½“ä¸­çš„æ‰€æœ‰ key-valueé”®å€¼å¯¹ï¼Œå¹¶å­˜å‚¨åˆ° Set é›†åˆå½“ä¸­åï¼Œå†è¿”å›ä¸€ä¸ª Set é›†åˆå¯¹è±¡(è¯¥é›†åˆå­˜å‚¨äº†æ‰€æœ‰çš„key-value) å€¼ã€‚

    Set<Map.Entry<K,V>> entrySet();  // è¿”å›æ‰€æœ‰key-valueå¯¹æ„æˆçš„Seté›†åˆ
    

å…¶ä¸­çš„ **Map.Entry** è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç±»ã€‚

    *   Set<Map.Entry<K,V>> entrySet() å°† Mapé›†åˆè½¬æ¢æˆ Seté›†åˆ
    *   å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ª Mapé›†åˆ ï¼Œå¦‚ä¸‹æ‰€ç¤º:
    *     map1 é›†åˆå¯¹è±¡
    *     key               value
    *     1                 zhangsan
    *     2                 lisi
    *     3                 wangwu
    *     4                 zhaoliu
    *
    *     Set set = mop1.entrySet();
    *     set é›†åˆå¯¹è±¡
    *     1=zhangsan
    *     2=lisi
    *     3=wangwu
    *     4=zhaoliu
    

Map.Entry<Kï¼ŒV> çš„å›¾ç¤ºï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/11aff74198cc4f228bb05fb64db5d24f.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/467bd61104f84d75b17577ec1eb139ff.png)

**ä¸¾ä¾‹:**

    import java.util.Collection;
    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class MapTest {
        public static void main(String[] args) {
            // Map æ¥å£ , HashMapå®ç°ç±»ï¼Œå¤šæ€,<String,Integer> æ³›å‹
            Map<String,Integer> map = new HashMap<String,Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®:
            map.put("zhangsan",66);
            map.put("lisi",89);
            map.put("wangwu",97);
            map.put("lihua",99);
    
            Set<Map.Entry<String, Integer>> entries = map.entrySet();
            Iterator<Map.Entry<String, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                Map.Entry<String, Integer> entry = iterator.next();
                // getKey()è·å– key å€¼ï¼ŒgetValue()è·å–valueå€¼
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f2e3861edd634388af3a36318c1f7bd0.png)

3\. Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap
--------------------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c910449ead4e4df2b2e9ba20607ee4b1.png)  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b04fa7c3f85746dc90b3e65dc6b48187.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2020102620352855.png?#pic_center)

*   **HashMap** æ˜¯ **Map** æ¥å£ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å®ç°ç±»ã€‚
    
*   **HashMap** å…è®¸å­˜å‚¨ null å€¼ï¼Œkey å¯ä»¥ä¸º null ,ä½†ä»…ä»…åªèƒ½æœ‰ä¸€ä¸ªï¼Œå› ä¸ºä¸å¯é‡å¤ï¼Œvalue å¯ä»¥ä¸º null ã€‚æ— åº
    
*   **HashMap** ä¸­æ‰€æœ‰çš„ **key** æ„æˆçš„é›†åˆæ˜¯å­˜å‚¨åœ¨ **Set** å½“ä¸­çš„ï¼Œæ— åºçš„ï¼Œä¸å¯é‡å¤çš„ï¼Œæ‰€ä»¥ï¼š**key æ‰€åœ¨ç±»å’Œ Set é›†åˆæ˜¯ä¸€æ ·çš„å¿…é¡»é‡å†™ euqlas() å’Œ hashCode()** æ–¹æ³•ã€‚å…¶ä¸­ Javaå½“ä¸­çš„åŒ…è£…ç±»å’ŒString ç±»éƒ½é‡å†™äº† equals() å’Œ hashCode()æ–¹æ³•ã€‚åŸºæœ¬ä¸Šåªæœ‰æˆ‘ä»¬è‡ªå®šçš„ç±»éœ€è¦é‡å†™ã€‚
    
*   ä¸€ä¸ª**key-value** æ„æˆä¸€ä¸ª `Map.Entry`ã€‚
    
*   æ‰€æœ‰çš„ **Map.Entry** æ„æˆçš„é›†åˆæ˜¯ **Set** æ— åºçš„ï¼Œä¸å¯é‡å¤çš„ã€‚
    
*   **HashMap** `åˆ¤æ–­ä¸¤ä¸ª key ç›¸ç­‰çš„æ ‡å‡†æ˜¯` : ä¸¤ä¸ª**key** é€šè¿‡ **equals()** æ–¹æ³•è¿”å› **true** , **hashCode** å€¼ä¹Ÿç›¸ç­‰ã€‚
    
*   **HashMap** `åˆ¤æ–­ä¸¤ä¸ª value ç›¸ç­‰çš„æ ‡å‡†` æ˜¯ï¼š ä¸¤ä¸ª **value** é€šè¿‡ **equals()** æ–¹æ³•è¿”å› trueã€‚
    
*   **HashMap** é›†åˆåº•å±‚æ˜¯å“ˆå¸Œè¡¨çš„æ•°æ®ç»“æ„
    
    *   å“ˆå¸Œè¡¨æ˜¯ä¸€ä¸ª**æ•°ç»„ + å•å‘é“¾è¡¨** çš„ç»“åˆä½“ã€‚
    *   æ•°ç»„ï¼šåœ¨æŸ¥è¯¢æ–¹é¢æ•ˆç‡å¾ˆé«˜ï¼Œéšæœºå¢åˆ æ–¹é¢å¾ˆä½ã€‚
    *   é“¾è¡¨ï¼šåœ¨éšæœºå¢åˆ æ–¹é¢æ•ˆç‡è¾ƒé«˜ï¼Œåœ¨æŸ¥è¯¢æ–¹é¢æ•ˆç‡ä½ã€‚
    *   è€Œå“ˆå¸Œè¡¨ï¼šå°†ä»¥ä¸Šä¸¤ç§æ•°æ®ç»“æ„èåˆåœ¨ä¸€èµ·ï¼Œå……åˆ†å‘æŒ¥å®ƒä»¬å„è‡ªçš„ä¼˜ç‚¹ã€‚
*   å¯¹äº **HashMap** ä¸­çš„æ–¹æ³•åŸºæœ¬ä¸Šéƒ½æ˜¯ç»§æ‰¿äº†å¯¹åº”çš„ **Map** æ¥å£çš„æ–¹æ³•ï¼Œä¸Šé¢å·²ç»è¯´æ˜äº†ï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ã€‚
    

**ä¸¾ä¾‹ï¼š**

å¦‚ä¸‹æ˜¯ Set ä¸­çš„ Key å­˜å‚¨è‡ªå®šä¹‰ç±» Person5 ï¼Œå…¶ä¸­å¹¶æ²¡æœ‰é‡å†™Object ä¸­çš„ equals() æ–¹æ³•å’Œ hashCode()æ–¹æ³•ã€‚ä¼šå‡ºç° **Key** å­˜å‚¨åˆ°é‡å¤çš„æ•°æ®ã€‚

    package blogs.blogs7;
    
    import java.util.HashMap;
    import java.util.Map;
    import java.util.Set;
    
    public class HashMapTest {
        public static void main(String[] args) {
            HashMap<Person5,Integer> hashMap = new HashMap<Person5, Integer>();
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("zhangsan",23),4);
            hashMap.put(new Person5("lihua",20),5);
    
           // éå†HashMap é›†åˆ
            Set<Map.Entry<Person5,Integer>> entries = hashMap.entrySet();
            for (Map.Entry<Person5,Integer> entry : entries) {
                System.out.println(entry);
            }
    
        }
    }
    
    
    class Person5 {
        String name;
        int age;
    
        public Person5() {
        }
    
        public Person5(String name, int age) {
            this.name = name;
            this.age = age;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public void setAge(int age) {
            this.age = age;
        }
    
        @Override
        public String toString() {
            return "Person5{" +
                    "name='" + name + '\'' +
                    ", age=" + age +
                    '}';
        }
    }
    
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/828ef897731e45b6bcc116f3678cbd30.png)

* * *

**ä¿®æ”¹ï¼š** é‡å†™å…¶ä¸­çš„ **Key** å€¼çš„ Set é›†åˆä¸­å­˜å‚¨çš„ ç±»ä¸­çš„ equals() å’Œ hashCode() æ–¹æ³•ã€‚

    package blogs.blogs7;
    
    import java.util.HashMap;
    import java.util.Map;
    import java.util.Objects;
    import java.util.Set;
    
    public class HashMapTest {
        public static void main(String[] args) {
            HashMap<Person5,Integer> hashMap = new HashMap<Person5, Integer>();
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("Tom",19),1);
            hashMap.put(new Person5("zhangsan",23),4);
            hashMap.put(new Person5("lihua",20),5);
    
           // éå†HashMap é›†åˆ
            Set<Map.Entry<Person5,Integer>> entries = hashMap.entrySet();
            for (Map.Entry<Person5,Integer> entry : entries) {
                System.out.println(entry);
            }
    
        }
    }
    
    
    class Person5 {
        String name;
        int age;
    
        public Person5() {
        }
    
        public Person5(String name, int age) {
            this.name = name;
            this.age = age;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public void setAge(int age) {
            this.age = age;
        }
    
        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (!(o instanceof Person5)) return false;
            Person5 person5 = (Person5) o;
            return age == person5.age &&
                    Objects.equals(name, person5.name);
        }
    
        @Override
        public int hashCode() {
            return Objects.hash(name, age);
        }
    
        @Override
        public String toString() {
            return "Person5{" +
                    "name='" + name + '\'' +
                    ", age=" + age +
                    '}';
        }
    }
    
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/63e2caef33a245f0805388592caf0f7b.png)

**HashMapä¸­çš„ Keyå€¼å¯ä»¥å­˜å‚¨æ·»åŠ  null å€¼ï¼Œä½†æ˜¯ä»…ä»…åªèƒ½æ·»åŠ ä¸€ä¸ª null ,å› ä¸º Key ä¸­çš„æ•°æ®å­˜å‚¨åœ¨ Seté›†åˆå½“ä¸­çš„ï¼Œä¸å¯é‡å¤ï¼Œè€Œ Value å€¼ä¹Ÿå¯ä»¥å­˜å‚¨ nullå€¼ï¼Œè€Œä¸”å¯ä»¥å­˜å‚¨å¤šä¸ª null å€¼ï¼Œå› ä¸º Value å€¼æ•°æ®åº•å±‚æ˜¯å­˜å‚¨åœ¨Collectioné›†åˆå½“ä¸­çš„**ã€‚

**ä¸¾ä¾‹:**

    import java.util.HashMap;
    import java.util.Map;
    import java.util.Objects;
    import java.util.Set;
    
    public class HashMapTest {
        public static void main(String[] args) {
            HashMap<String,Integer> hashMap = new HashMap<String, Integer>();
            hashMap.put(null,null);
            hashMap.put(null,null);
            hashMap.put(null,null);
            hashMap.put("1",null);
            hashMap.put("2",null);
            hashMap.put("3",null);
    
            // éå†HashMap é›†åˆ
            Set<Map.Entry<String,Integer>> entries = hashMap.entrySet();
            for (Map.Entry<String,Integer> entry : entries) {
                System.out.println(entry);
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d4b1e7260c6a4d71b5bf0e47093ef1c5.png)

**å¸¸ç”¨æ–¹æ³•æ€»ç»“ï¼š**

*   **æ·»åŠ :** put(Object key,Object value)
*   **åˆ é™¤:** remove(object key)
*   \*\*ä¿®æ”¹: \*\*put(Object key,Object value)
*   **æŸ¥è¯¢:** get(Object key)
*   **é•¿åº¦:** size();
*   **éå†:** keySet()/values()/entrySet()

### 3.1 HashMapçš„å­˜å‚¨ç»“æ„

**JDK 7åŠä»¥å‰ç‰ˆæœ¬ï¼šHashMapæ˜¯æ•°ç»„+é“¾è¡¨ç»“æ„(å³ä¸ºé“¾åœ°å€æ³•)**

**JDK 8ç‰ˆæœ¬å‘å¸ƒä»¥åï¼šHashMapæ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/aee3c8eaccf44e749cc0e1eb4f0689ad.png)

**å¦‚ä¸‹æ˜¯ JDK8 çš„HashMap** ç»“æ„å›¾

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201026200119635.png?#pic_center)

### 3.2 HashMapæºç ä¸­çš„é‡è¦å¸¸é‡

    /**
     * The default initial capacity - MUST be a power of two.
    */
    static final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16  HashMapçš„é»˜è®¤å®¹é‡æ˜¯ 16
    -----------------------------------------------------------------------------------
     /**
    * The maximum capacity, used if a higher value is implicitly specified
    * by either of the constructors with arguments.
    * MUST be a power of two <= 1<<30.
    */
    static final int MAXIMUM_CAPACITY = 1 << 30;  // HashMapçš„æœ€å¤§æ”¯æŒå®¹é‡ï¼Œ2^30
    -----------------------------------------------------------------------------------
    /**
    * The load factor used when none specified in constructor.
    */
    static final float DEFAULT_LOAD_FACTOR = 0.75f;  // HashMapçš„é»˜è®¤åŠ è½½å› å­
    -----------------------------------------------------------------------------------
     /**
    * The bin count threshold for using a tree rather than list for a
    * bin.  Bins are converted to trees when adding an element to a
    * bin with at least this many nodes. The value must be greater
    * than 2 and should be at least 8 to mesh with assumptions in
    * tree removal about conversion back to plain bins upon
    * shrinkage.
    */
    static final int TREEIFY_THRESHOLD = 8;  // Bucketä¸­é“¾è¡¨é•¿åº¦å¤§äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘
    -----------------------------------------------------------------------------------
    /**
    * The bin count threshold for untreeifying a (split) bin during a
    * resize operation. Should be less than TREEIFY_THRESHOLD, and at
    * most 6 to mesh with shrinkage detection under removal.
    */
    static final int UNTREEIFY_THRESHOLD = 6; // Bucketä¸­çº¢é»‘æ ‘å­˜å‚¨çš„Nodeå°äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºé“¾è¡¨
    -----------------------------------------------------------------------------------
    /**
    * The smallest table capacity for which bins may be treeified.
    * (Otherwise the table is resized if too many nodes in a bin.)
    * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts
    * between resizing and treeification thresholds.
    */
    static final int MIN_TREEIFY_CAPACITY = 64; // æ¡¶ä¸­çš„Nodeè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡ã€‚(å½“æ¡¶ä¸­Nodeçš„æ•°é‡å¤§åˆ°éœ€è¦å˜çº¢é»‘æ ‘æ—¶ï¼Œè‹¥hashè¡¨å®¹é‡å°äºMIN_TREEIFY_CAPACITYæ—¶ï¼Œæ­¤æ—¶åº”æ‰§è¡Œresizeæ‰©å®¹æ“ä½œè¿™ä¸ªMIN_TREEIFY_CAPACITYçš„å€¼è‡³å°‘æ˜¯TREEIFY_THRESHOLDçš„4å€ã€‚)
    -----------------------------------------------------------------------------------
    /**
    * The table, initialized on first use, and resized as
    * necessary. When allocated, length is always a power of two.
    * (We also tolerate length zero in some operations to allow
    * bootstrapping mechanics that are currently not needed.)
    */
    transient Node<K,V>[] table;  // å­˜å‚¨å…ƒç´ çš„æ•°ç»„ï¼Œæ€»æ˜¯2çš„næ¬¡å¹‚
    -----------------------------------------------------------------------------------
    /**
    * Holds cached entrySet(). Note that AbstractMap fields are used
    * for keySet() and values().
    */
    transient Set<Map.Entry<K,V>> entrySet;  // å­˜å‚¨å…·ä½“å…ƒç´ çš„é›†åˆ
    -----------------------------------------------------------------------------------
    /**
    * The number of key-value mappings contained in this map.
    */
    transient int size;  // HashMapä¸­å®é™…å­˜å‚¨çš„é”®å€¼å¯¹çš„æ•°é‡
    -----------------------------------------------------------------------------------
    /**
    * The number of times this HashMap has been structurally modified
    * Structural modifications are those that change the number of mappings in
    * the HashMap or otherwise modify its internal structure (e.g.,
    * rehash).  This field is used to make iterators on Collection-views of
    * the HashMap fail-fast.  (See ConcurrentModificationException).
    */
    transient int modCount;  // HashMapæ‰©å®¹å’Œç»“æ„æ”¹å˜çš„æ¬¡æ•°ã€‚
    -----------------------------------------------------------------------------------
    /**
    * The next size value at which to resize (capacity * load factor).
    *
    * @serial
    */
    // (The javadoc description is true upon serialization.
    // Additionally, if the table array has not been allocated, this
    // field holds the initial array capacity, or zero signifying
    // DEFAULT_INITIAL_CAPACITY.)
    int threshold;  // æ‰©å®¹çš„ä¸´ç•Œå€¼ï¼Œ=å®¹é‡ * å¡«å……å› å­
    -----------------------------------------------------------------------------------
    /**
    * The load factor for the hash table.
    *
    * @serial
    */
    final float loadFactor;  // å¡«å……å› å­
    

### 3.3 HashMapçš„å­˜å‚¨ç»“æ„ï¼šJDK 1.8ä¹‹å‰ / JDK 1.8ä¹‹å

#### 3.3.1 JDk 1.8 ä¹‹å‰

*   **HashMap** å†…éƒ¨å­˜å‚¨ç»“æ„å…¶å®æ˜¯ `æ•°ç»„ + é“¾è¡¨`çš„ç»“åˆã€‚å½“å®ä¾‹åŒ–ä¸€ä¸ª **new HashMap()** æ—¶ï¼Œå®é™…ä¸Šä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º **Capacity** çš„ **Entry** æ•°ç»„ã€‚è¿™ä¸ªé•¿åº¦åœ¨ å“ˆå¸Œè¡¨ä¸­ç§°ä¸º **å®¹é‡(Capacity)** ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­å¯ä»¥å­˜æ”¾å…ƒç´ çš„ä½ç½®ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **â€æ¡¶â€œ (bucket)** ,æ¯ä¸ª **bucket** éƒ½æœ‰è‡ªå·±çš„ç´¢å¼•ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®ç´¢å¼•å¿«é€Ÿçš„æŸ¥æ‰¾ **bucket** ä¸­çš„å…ƒç´ ã€‚
    
*   æ¯ä¸ª**bucket** ä¸­å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œå³ ä¸€ä¸ª **Entry** å¯¹è±¡å†…éƒ¨ç±» ï¼Œä½†æ¯ä¸€ä¸ª **Entry** å¯¹è±¡å¯ä»¥å¸¦ ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œç”¨äºæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ª**æ¡¶ (bucket)** ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ª **Entry** é“¾ã€‚è€Œä¸”**æ–°æ·»åŠ çš„å…ƒç´ ä½œä¸ºé“¾è¡¨çš„ head** ã€‚
    
*   **JDK7 æºç åˆ†æå¦‚ä¸‹ï¼š**
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/33430b7d92a34efe8747fcfd8c86cc9d.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0161c5bac058410582ac945923721645.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/752b632593614bebbde46544d7e03dce.png)

#### 3.3.2 JDk 1.8 åŠä¹‹å

JDK8ï¼š **HashMap** çš„å†…éƒ¨å­˜å‚¨ç»“æ„å…¶å®æ˜¯ï¼š`æ•°ç»„+é“¾è¡¨+æ ‘` çš„ç»“åˆã€‚å½“å®ä¾‹åŒ–ä¸€ä¸ª **new HashMap** æ—¶ï¼Œä¼šåˆå§‹åŒ– **initilCapacity** å’Œ **loadFactor** ï¼Œåœ¨ **put()** ç¬¬ä¸€å¯¹æ˜ å°„å…³ç³»(é”®å€¼å¯¹)æ·»åŠ æ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º **initilCapacity** çš„ **Node** æ•°ç»„ ï¼Œè¿™ä¸ªé•¿åº¦åœ¨å“ˆå¸Œè¡¨ä¸­è¢«ç§°ä¸º **â€å®¹é‡" (Capacity)**ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­å¯ä»¥å­˜æ”¾å…ƒç´ çš„ä½ç½®ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **â€œæ¡¶â€(bucket)** ï¼Œæ¯ä¸ª **bucket** éƒ½æœ‰è‡ªå·±çš„ç´¢å¼•ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®ç´¢å¼•å¿«é€Ÿçš„æŸ¥æ‰¾ **bucket** ä¸­çš„å…ƒç´ ã€‚

æ¯ä¸ª**bucket** ä¸­å­˜å‚¨ä¸€ä¸ªå…ƒç´ æ•°æ®ï¼Œæ—¢ ä¸€ä¸ª **Node** å¯¹è±¡ï¼Œä½†æ¯ä¸€ä¸ª **Node** å¯¹è±¡å¯ä»¥å¸¦ä¸€ä¸ªå¼•ç”¨å˜é‡ **next** ï¼Œç”¨äºæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ª **Node** é“¾è¡¨ã€‚ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ª**TreeNode** å¯¹è±¡ï¼Œæ¯ä¸€ä¸ª**TreeNode** å¯¹è±¡å¯ä»¥æœ‰ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ **left** å’Œ **right** ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ª **TreeNode** æ ‘ã€‚è€Œæ–°æ·»åŠ çš„å…ƒç´ ä½œä¸ºé“¾è¡¨çš„ **last** ï¼Œæˆ–æ ‘çš„å¶å­èŠ‚ç‚¹ã€‚

**JDK1.8 æºç åˆ†æï¼š**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6f37aa9171574f85a84c30944888cb49.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c2536ab9f99341c78940c2d355396d94.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4d6c30f7cd3c4c539f1d8512ba44abe0.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/25a9e51edf88465283e406f34d634827.png)

#### 3.3.3 JDK8 HashMap é›†åˆæ·»åŠ å…ƒç´ çš„è¿‡ç¨‹

å‘ **HashMap** é›†åˆä¸­æ·»åŠ  **put(key1,value1)** é”®å€¼å¯¹ï¼Œ é¦–å…ˆè°ƒç”¨ å…ƒç´  **key1** æ‰€åœ¨ç±»çš„ **hashCode()** æ–¹æ³•ï¼Œæ¥å¾—åˆ°è¯¥ **key1**å¯¹è±¡çš„ **hashCode**(å“ˆå¸Œ) å€¼ã€‚

ç„¶åå†æ ¹æ®å¾—åˆ°çš„ **hashCode** (å“ˆå¸Œ)å€¼ï¼Œé€šè¿‡æŸç§**æ•£åˆ—å‡½æ•°** è®¡ç®—é™¤è¯¥å¯¹è±¡åœ¨ **HashSet** é›†åˆä¸­åº•å±‚**Node\[\]** æ•°ç»„çš„å­˜å‚¨ä½ç½®(å³ä¸ºï¼šç´¢å¼•ä¸‹æ ‡ä½ç½®)ï¼Œ(è¿™ä¸ªæ•£åˆ—å‡½æ•°ä¼šä¸åº•å±‚æ•°ç»„çš„é•¿åº¦ç›¸è®¡ç®—å¾—åˆ°åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå¹¶ä¸”è¿™ç§æ•£åˆ—å‡½æ•°è®¡ç®—è¿˜å°½å¯èƒ½ä¿è¯èƒ½å‡åŒ€å­˜å‚¨å…ƒç´ ï¼Œè¶Šæ˜¯æ•£åˆ—åˆ†å¸ƒï¼Œè¯¥æ•£åˆ—å‡½æ•°è®¾è®¡çš„è¶Šå¥½)ã€‚

*   åˆ¤æ–­æ­¤è®¡ç®—å¤„ç†å¾—åˆ°çš„æ•°ç»„ä¸‹æ ‡ä½ç½®ä¸Šæ˜¯å¦å·²ç»æœ‰å…ƒç´ å­˜å‚¨äº† :
    
    *   å¦‚æœ**æ²¡æœ‰**å…¶ä»–å…ƒç´ æ•°æ®å­˜å‚¨ï¼Œåˆ™ å…ƒç´  **key1-value1**æ·»åŠ åˆ°è¯¥ä½ç½®ä¸Šã€‚ â€”â€” **æƒ…å†µ1**
    *   å¦‚æœ**æœ‰**å…¶å®ƒå…ƒç´ æ•°æ®å­˜å‚¨(æˆ–ä»¥é“¾è¡¨å½¢å¼å­˜å‚¨çš„å¤šä¸ªå…ƒç´ ) ï¼š åˆ™æ¯”è¾ƒ**key1**å’Œå·²ç»å­˜åœ¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®çš„å“ˆå¸Œå€¼)ï¼š
        *   å¦‚æœ **key1**çš„hashCode() å“ˆå¸Œå€¼ä¸å·²ç»å­˜åœ¨çš„æ•°æ®çš„å“ˆå¸Œå€¼éƒ½ **ä¸ç›¸ç­‰**ï¼Œ åˆ™å…ƒç´  **key1-value1**æ·»åŠ åˆ°è¯¥æ•°ç»„é“¾è¡¨ä¸Šã€‚â€”â€” **æƒ…å†µ2**
            
        *   å¦‚æœ **key1** çš„hashCode() å“ˆå¸Œå€¼ ä¸ å·²ç»å­˜åœ¨çš„æ•°æ®çš„å“ˆå¸Œå€¼éƒ½ **ç›¸ç­‰**ï¼Œ åˆ™è°ƒç”¨ **key1** å…ƒç´ æ‰€åœ¨ç±»çš„ **equals()** æ–¹æ³•,ï¼Œ åˆ¤æ–­æ¯”è¾ƒæ‰€å­˜å‚¨çš„å†…å®¹æ˜¯å¦å’Œé›†åˆä¸­å­˜å‚¨çš„ç›¸ç­‰ã€‚
            
            *   å¦‚æœ **ä¸ç›¸ç­‰** ä¹Ÿå°±æ˜¯ **equals()** æ–¹æ³•ï¼Œè¿”å› **false** ï¼Œåˆ™æ­¤æ—¶ **key1-value1**æ·»åŠ æˆåŠŸã€‚â€”â€” **æƒ…å†µ3**
            *   å¦‚æœ **ç›¸ç­‰** ä¹Ÿå°±æ˜¯ **equals()**æ–¹æ³•ï¼Œè¿”å› **true**ï¼Œä¸æ·»åŠ ï¼Œæ›¿æ¢æ‰å…¶ä¸­å­˜æ”¾çš„ **value** å€¼ä¸º **value1** ï¼Œå› ä¸º **key1** æ˜¯å”¯ä¸€çš„ä¸å¯é‡å¤çš„ï¼Œä½†æ˜¯å…¶ å¯¹åº”çš„ **value** å€¼æ˜¯å¯ä»¥é‡å¤çš„ã€‚
*   å¯¹åº”ä¸Šè¿° æ·»åŠ æˆåŠŸçš„ **æƒ…å†µ2** å’Œ **æƒ…å†µ3** è€Œè¨€ï¼Œå…³äºæƒ…å†µ2å’Œæƒ…å†µ3ï¼šæ­¤æ—¶**key1-value1**å’ŒåŸæ¥çš„æ•°æ®ä»¥é“¾è¡¨çš„æ–¹å¼å­˜å‚¨
    
*   å¦‚ä¸‹æ˜¯ æ·»åŠ é”®å€¼å¯¹çš„è¿‡ç¨‹çš„å›¾ç¤ºï¼š
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201026201919867.png?#pic_center)

**å¦‚ä¸‹æ˜¯æŸ¥æ‰¾å›¾ç¤ºï¼š**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201101193652569.png?#pic_center)

**å‡è®¾å°†æ‰€æœ‰çš„hashCode()æ–¹æ³•è¿”å›è®¾å®šä¸ºä¸ä¸€æ ·çš„å€¼ï¼Œå¯ä»¥å—ï¼Ÿï¼Œæœ‰ä»€ä¹ˆé—®é¢˜ï¼š**

> ä¸è¡Œï¼Œå› ä¸ºè¿™æ ·çš„è¯ï¼Œå°±å¯¼è‡´ HashMap é›†åˆåº•å±‚çš„å“ˆå¸Œè¡¨å°±æˆä¸ºäº†ä¸€ç»´æ•°ç»„äº†ï¼Œæ²¡æœ‰é“¾è¡¨çš„æ¦‚å¿µäº†ï¼Œæ›´æ²¡æœ‰å“ˆå¸Œè¡¨çš„æ¦‚å¿µäº†ã€‚

**å‡è®¾å°†æ‰€æœ‰çš„hashCode()æ–¹æ³•è¿”å›è®¾è¿”å›å€¼å›ºå®šä¸ºæŸä¸ªå€¼ï¼Œå¯ä»¥å—ï¼Ÿï¼Œæœ‰ä»€ä¹ˆé—®é¢˜ï¼š**

> ç­”ï¼šä¸å¯ä»¥ï¼Œè®¾å°†æ‰€æœ‰çš„hashCode()æ–¹æ³•ï¼Œè¿”å›å€¼å›ºå®šä¸ºæŸä¸ªå€¼ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´åº•å±‚å“ˆå¸Œè¡¨å˜æˆäº†çº¯å•å‘é“¾è¡¨ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ç§°ä¸ºï¼šæ•£åˆ—åˆ†åˆ«ä¸å‡åŒ€ã€‚
> 
> ä»€ä¹ˆæ—¶æ•£åˆ—åˆ†å¸ƒä¸å‡åŒ€
> 
> å‡è®¾æˆ‘ä»¬æœ‰ 100 ä¸ªå…ƒç´ ï¼Œ10ä¸ªå•å‘é“¾è¡¨ï¼Œé‚£ä¹ˆæ¯ä¸ªå•å‘é“¾è¡¨ä¸Šæœ‰10ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ˜¯æœ€å¥½çš„ï¼Œæ˜¯æ•£åˆ—åˆ†å¸ƒå‡åŒ€çš„

#### 3.3.4 JDK8 HashMap è¿›è¡Œ "æ‰©å®¹"å’Œ "æ ‘å½¢åŒ–"

**æ‰©å®¹**

å½“ **put(Key1ï¼Œvalue1)** æ·»åŠ é”®å€¼å¯¹ä¸ªæ•°è¶…è¿‡ æ•°ç»„å¤§å°(æ•°ç»„æ€»å¤§å° **length** ï¼Œä¸æ˜¯æ•°ç»„ä¸­å®é™…å­˜æ”¾çš„é”®å€¼å¯¹ä¸ªæ•° size)ï¼Œæ—¶ï¼Œå°±ä¼šè¿›è¡Œæ•°ç»„æ‰©å®¹ã€‚**loadFactor** çš„é»˜è®¤å€¼ï¼š**DEFAULT\_LOAD\_FACTOR)ä¸º0.75**ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ˜ä¸­çš„å–å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„å¤§å°**(DEFAULT\_INITIAL\_CAPACITY)ä¸º16** ï¼Œé‚£ä¹ˆå½“ **HashMap** ä¸­å…ƒç´ ä¸ªæ•°è¶…è¿‡ `16 * 0.75 = 12` (è¿™ä¸ªå€¼å°±æ˜¯ä»£ç ä¸­çš„ **threshold**å€¼ï¼Œä¹Ÿå«ä¸´ç•Œå€¼)çš„æ—¶å€™ï¼Œå°±æŠŠæ•°ç»„çš„å¤§å°æ‰©å±•ä¸º `2 * 16 = 32` ,å³æ‰©å¤§ **1å€** ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„æ“ä½œã€‚æ‰€ä»¥**åœ¨å¼€å‘ä¸­å¦‚æœæˆ‘ä»¬å¯ä»¥é¢„ä¼°è®¡å…¶å­˜å‚¨çš„æ•°æ®é‡ï¼Œä¹Ÿå°±æ˜¯ HashMapä¸­å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±è°ƒç”¨å…¶HashMap(int num) è®¾å®šå­˜å‚¨å®¹é‡çš„å¤§å°ï¼Œå‡å°‘æ‰©å®¹æ¬¡æ•°ï¼Œæé«˜ HashMapçš„æ€§èƒ½** ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201101193609921.png?#pic_center)

**æ ‘å½¢åŒ–**

å½“**HashMap**ä¸­çš„å…¶ä¸­ä¸€ä¸ªé“¾çš„å¯¹è±¡ä¸ªæ•°å¦‚æœè¾¾åˆ°äº†8ä¸ªï¼Œæ­¤æ—¶å¦‚æœ**capacity**æ²¡æœ‰è¾¾åˆ°**64**ï¼Œé‚£ä¹ˆ**HashMap**ä¼šå…ˆæ‰©å®¹è§£å†³ï¼Œå¦‚æœå·²ç»è¾¾åˆ°äº†**64**ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾ä¼šå˜æˆ**æ ‘**ï¼Œç»“ç‚¹ç±»å‹ç”±**Node**å˜æˆ**TreeNode**ç±»å‹ã€‚å½“ç„¶ï¼Œå¦‚æœå½“æ˜ å°„å…³ç³»è¢«ç§»é™¤åï¼Œä¸‹æ¬¡**resize**æ–¹æ³•æ—¶åˆ¤æ–­æ ‘çš„ç»“ç‚¹ä¸ªæ•°**ä½äº6**ä¸ªï¼Œä¹Ÿä¼šæŠŠæ ‘å†è½¬ä¸º**é“¾è¡¨**ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2020102821204928.png?#pic_center)

**è¡¥å……ï¼š**

**å…³äºæ˜ å°„å…³ç³»çš„keyæ˜¯å¦å¯ä»¥ä¿®æ”¹ ï¼Ÿï¼Ÿï¼Ÿ**

> answerï¼šä¸è¦ä¿®æ”¹ï¼Œæ˜ å°„å…³ç³»å­˜å‚¨åˆ° **HashMap** ä¸­ä¼šå­˜å‚¨ **key** çš„ **å“ˆå¸Œå€¼** ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡æŸ¥æ‰¾æ—¶ï¼Œé‡æ–°è®¡ç®—æ¯ä¸€ä¸ª **Entry** æˆ– **Node** (**TreeNode**)çš„ å“ˆå¸Œå€¼äº†ï¼Œå› æ­¤å¦‚æœå·²ç» **put** åˆ° **Map** ä¸­çš„æ˜ å°„å…³ç³»ï¼Œå†ä¿®æ”¹ **key** çš„å±æ€§ï¼Œè€Œè¿™ä¸ªå±æ€§æœ‰å‚ä¸ **hashCode**å€¼çš„è®¡ç®—ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´åŒ¹é…ä¸ä¸Šã€‚

**ä¸ºä»€ä¹ˆHashMapæ‰©å®¹æ—¶ï¼Œä¸æ˜¯æ•°ç»„æ»¡äº†çš„æ—¶å€™æ‰©å®¹è€Œæ˜¯è¾¾åˆ°ä¸€ä¸ªçš„ 0.75 çš„é¢åº¦æ‰æ‰©å®¹ ï¼Ÿï¼Ÿï¼Ÿ**

> å› ä¸º**HashMap** é›†åˆçš„åº•å±‚æ—¶ç”± é“¾è¡¨ + æ•°ç»„ + æ ‘ æ„æˆçš„ã€‚ç”±äºé“¾è¡¨çš„å­˜åœ¨ï¼Œ**HashMap** å½“ä¸­çš„æ•°ç»„ä¸ä¸€å®šä¼šå­˜å‚¨æ»¡äº†ã€‚
> 
> ä»¥åŠæ¶‰åŠåˆ° **HashMap** é›†åˆæ€§èƒ½æœ€ä¼˜çš„æ•ˆæœï¼Œæ•£åˆ—å‡åŒ€åˆ†å¸ƒï¼Œæ‰€ä»¥æ˜¯åˆ°è¾¾ä¸€å®šé¢åº¦ 0.75 æ˜¯æœ€å¥½çš„æƒ…å†µäº†.
> 
> ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20201026202455865.png?#pic_center)

**è´Ÿè½½å› å­å€¼çš„å¤§å°ï¼Œå¯¹HashMapæœ‰ä»€ä¹ˆå½±å“ ï¼Ÿï¼Ÿï¼Ÿ**

>     /**
>     * The load factor used when none specified in constructor.
>     */
>     static final float DEFAULT_LOAD_FACTOR = 0.75f;  // HashMapçš„é»˜è®¤åŠ è½½å› å­
>     
> 
> è´Ÿè½½å› å­çš„å¤§å°å†³å®šäº†**HashMap**çš„æ•°æ®å¯†åº¦ã€‚
> 
> è´Ÿè½½å› å­è¶Šå¤§å¯†åº¦è¶Šå¤§ï¼Œå‘ç”Ÿç¢°æ’çš„å‡ ç‡è¶Šé«˜ï¼Œæ•°ç»„ä¸­çš„é“¾è¡¨è¶Šå®¹æ˜“é•¿,
> 
> é€ æˆæŸ¥è¯¢æˆ–æ’å…¥æ—¶çš„æ¯”è¾ƒæ¬¡æ•°å¢å¤šï¼Œæ€§èƒ½ä¼šä¸‹é™ã€‚
> 
> è´Ÿè½½å› å­è¶Šå°ï¼Œå°±è¶Šå®¹æ˜“è§¦å‘æ‰©å®¹ï¼Œæ•°æ®å¯†åº¦ä¹Ÿè¶Šå°ï¼Œæ„å‘³ç€å‘ç”Ÿç¢°æ’çš„
> 
> å‡ ç‡è¶Šå°ï¼Œæ•°ç»„ä¸­çš„é“¾è¡¨ä¹Ÿå°±è¶ŠçŸ­ï¼ŒæŸ¥è¯¢å’Œæ’å…¥æ—¶æ¯”è¾ƒçš„æ¬¡æ•°ä¹Ÿè¶Šå°ï¼Œæ€§èƒ½ä¼šæ›´é«˜ã€‚ä½†æ˜¯ä¼šæµªè´¹ä¸€å®šçš„å†…å®¹ç©ºé—´ã€‚è€Œä¸”ç»å¸¸æ‰©å®¹ä¹Ÿä¼šå½±å“æ€§èƒ½ï¼Œå»ºè®®åˆå§‹åŒ–é¢„è®¾å¤§ä¸€ç‚¹çš„ç©ºé—´ã€‚
> 
> æŒ‰ç…§å…¶ä»–è¯­è¨€çš„å‚è€ƒåŠç ”ç©¶ç»éªŒï¼Œä¼šè€ƒè™‘å°†è´Ÿè½½å› å­è®¾ç½®ä¸º0.7~0.75ï¼Œæ­¤æ—¶å¹³å‡æ£€ç´¢é•¿åº¦æ¥è¿‘äºå¸¸æ•°ã€‚

#### 3.3.5 æ€»ç»“ï¼šJDK1.8 ç›¸è¾ƒäºä¹‹å‰çš„å˜åŒ–ï¼š

*   **JDK8** ï¼šHashMap map = new HashMap() ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯ä¸ä¼šå…ˆåˆ›å»ºé•¿åº¦ä¸º 16 çš„ æ•°ç»„çš„ï¼Œè€Œæ˜¯é¦–å…ˆè°ƒç”¨ **map.put()** æ·»åŠ é”®å€¼å¯¹çš„æ—¶å€™åˆ›å»º é•¿åº¦ä¸º 16çš„æ•°ç»„(ç±»æ¯”ï¼šå•ä¾‹æ¨¡å¼ä¸­çš„é¥¿æ±‰å¼)ã€‚ **JDK7** åˆ™æ˜¯é»˜è®¤å…ˆåˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 16çš„æ•°ç»„(ç±»æ¯”ï¼šå•ä¾‹æ¨¡å¼ä¸­çš„æ‡’æ±‰å¼)ã€‚
    
*   **JDK8** åº•å±‚çš„æ•°ç»„æ˜¯ **Node\[ \]** ï¼Œ**JDK7** åº•å±‚çš„æ•°ç»„æ˜¯ **Entry\[ \]** ã€‚
    
*   put(Key1ï¼ŒValue1) æ·»åŠ é”®å€¼å¯¹æ—¶ï¼Œ**JDK7** æ˜¯æ·»åŠ åˆ°é“¾è¡¨ä¸Šçš„**å¤´éƒ¨**(æ•°ç»„ä¸Š)ï¼Œ**JDK8** æ˜¯æ·»åŠ åˆ°é“¾è¡¨çš„**å°¾éƒ¨**(ä¸åœ¨æ•°ç»„ä¸Š)ï¼Œç®€ç§°ï¼šä¸ƒä¸Šå…«ä¸‹ã€‚
    
*   **jdk7** åº•å±‚ç»“æ„åªæœ‰ï¼š**æ•°ç»„ + é“¾è¡¨**ï¼Œ**jdk8** ä¸­åº•å±‚ç»“æ„: **æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘**
    
    å½“æ•°ç»„çš„æŸä¸€ä¸ªç´¢å¼•ä½ç½®ä¸Šçš„å…ƒç´ ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æ•°æ®ä¸ªæ•° > 8 ä¸”å½“å‰æ•°ç»„çš„é•¿åº¦ > 64æ—¶ï¼Œæ­¤æ—¶æ­¤ç´¢å¼•ä½ç½®ä¸Šçš„æ‰€æœ‰æ•°æ®æ”¹ä¸ºä½¿ç”¨â€œçº¢é»‘æ ‘â€å­˜å‚¨ã€‚å½“å°äº 8 æ—¶ï¼Œæœ‰ä¼šå˜æˆé“¾è¡¨çš„å½¢å¼å­˜å‚¨ã€‚
    

4\. Mapå®ç°ç±»ä¹‹äºŒï¼šLinkedHashMap
--------------------------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1c821ddd358d4f7ab4044ce51724a2e5.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/fe92b4f9ca33459dad60682ff9fcca80.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5d201192191544eea6bc39171a0dad0b.png)

*   **LinkedHashMap** æ˜¯ **HashMap** çš„å­ç±»ï¼Œæ‰€ä»¥ LinkedHashMap ç»§æ‰¿äº† HashMap çš„ç‰¹ç‚¹ï¼šå…¶ä¸­çš„ key æ˜¯æ— åºï¼Œä¸å¯é‡å¤çš„ï¼Œå…¶ Key å­˜å‚¨çš„å…ƒç´ ç±»**å¿…é¡»é‡å†™ eqauls() å’Œ hashCode()** æ–¹æ³•ã€‚åŒæ ·çš„ Key å€¼æ˜¯å­˜å‚¨åœ¨ **Set** é›†åˆå½“ä¸­çš„ï¼Œè€Œ**Value** åˆ™æ˜¯å­˜å‚¨åœ¨ **Collection** é›†åˆå½“ä¸­çš„ã€‚
*   **LinkedHashMap** æ˜¯åœ¨ HashMap å­˜å‚¨ç»“æ„çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨äº†ä¸€å¯¹åŒå‘é“¾è¡¨æ¥è®°å½•æ·»åŠ å…ƒç´ çš„é¡ºåºçš„ï¼Œæ‰€ä»¥ä½ æ·»åŠ å…ƒç´ æ•°æ®çš„é¡ºåºæ˜¯æ€æ ·çš„ï¼Œå–å…ƒç´ æ•°æ®çš„é¡ºåºå°±æ˜¯æ€æ ·çš„ã€‚
*   ä¸ **LinkedHashSet** ç±»ä¼¼ï¼Œ **LinkedHashMap** å¯ä»¥ç»´æŠ¤ **Map** çš„è¿­ä»£é¡ºåºï¼šè¿­ä»£é¡ºåºä¸ **Key-Value** é”®å€¼å¯¹çš„æ’å…¥é¡ºåºä¸€è‡´ï¼Œç®€å•çš„è¯´å°±æ˜¯ï¼šå­˜å–é¡ºåºä¸€æ ·ã€‚
*   **LinkedHashMap** æ˜¯ç»§æ‰¿äº† HashMap å…¶å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´æ˜äº†ã€‚ä¸åŒçš„æ˜¯**HashMap** åº•å±‚çš„å†…éƒ¨ç±»æ˜¯ **Node** ï¼Œè€Œ**LinkedHashMap** åº•å±‚çš„å†…éƒ¨ç±»æ˜¯**Entry** ï¼Œè¯¥å†…éƒ¨ç±»ç»§æ‰¿äº† HashMap.Node<K,V>

**HashMapä¸­çš„å†…éƒ¨ç±»ï¼šNode**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/33e5da114ba04e30a9d6c316423703c8.png)

**LinkedHashMapä¸­çš„å†…éƒ¨ç±»ï¼šEntry**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4f854fe909e747d2a2f8afbad63419d0.png)

**ä¸¾ä¾‹:**

    import java.util.Iterator;
    import java.util.LinkedHashMap;
    import java.util.Map;
    import java.util.Set;
    
    public class LinkedHashMapTest {
        public static void main(String[] args) {
            // åˆ›å»º LinkedHashMap é›†åˆå¯¹è±¡
            LinkedHashMap<String,Integer> linkedHashMap = new LinkedHashMap<String, Integer>();
    
            // æ·»åŠ å…ƒç´ æ•°æ®(é”®å€¼å¯¹)
            linkedHashMap.put("lihua",99);
            linkedHashMap.put("zhangsan",89);
            linkedHashMap.put("lisi",79);
            linkedHashMap.put("wangwu",69);
    
            // éå† LinkedHashMap é›†åˆ
            // è·å–åˆ°key-value å­˜å‚¨çš„ Set Entry å†…éƒ¨ç±»é›†åˆå¯¹è±¡
            Set<Map.Entry<String, Integer>> entries = linkedHashMap.entrySet();
            // è·å–åˆ°è¯¥ Set Entry å†…éƒ¨ç±»é›†åˆçš„è¿­ä»£å™¨
            Iterator<Map.Entry<String, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                Map.Entry<String, Integer> entry = iterator.next();
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
    
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d4f9699eea3f43f4b8369a3a75460871.png)

5\. Mapå®ç°ç±»ä¹‹ä¸‰ï¼šTreeMap
--------------------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/9b65ebaae6ee4df3bba88534a5db6df2.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7e62bd8183694d85be4cc818c93877ae.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/00567af6e88d43a6a5d4bf5be1585006.png)

*   **TreeMap** å­˜å‚¨ **Key-Value** é”®å€¼å¯¹æ—¶ï¼Œéœ€è¦æ ¹æ® **key-value** é”®å€¼å¯¹è¿›è¡Œæ’åºï¼Œ**TreeMap** å¯ä»¥ä¿è¯æ‰€æœ‰çš„ **key-value** é”®å€¼å¯¹å¤„äºæœ‰åºçŠ¶æ€ã€‚
    
*   **TreeSet** åº•å±‚ å°±æ˜¯ç”± **TreeMap** æ„æˆçš„ï¼Œnew TreeSet åº•å±‚å®é™…ä¸Šè¯´å°±æ˜¯ **new TreeMap** é›†åˆå­˜å‚¨æ•°æ®ï¼Œå‘ TreeSet ä¸­æ·»åŠ æ•°æ®å°±æ˜¯å‘ TreeMap é›†åˆä¸­æ·»åŠ æ•°æ®ã€‚
    
*   **TreeMap** ä¸­çš„ **key** å­˜å‚¨çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯ä¸€è‡´çš„ï¼Œä¸ç„¶æ— æ³•æ¯”è¾ƒåˆ¤æ–­ï¼Œä»è€Œæ’åºã€‚
    
*   **TreeMap** çš„ æ’åºæ˜¯å¯¹ **Key** çš„å†…å®¹è¿›è¡Œæ’åºçš„ï¼Œå…¶ä¸­çš„ **Key** å€¼å†…éƒ¨æ˜¯ç”± **Set** é›†åˆå­˜å‚¨çš„ï¼Œæ— åºï¼Œä¸å¯é‡å¤æ€§ï¼Œæ‰€å­˜å‚¨ç±»**å¿…é¡»é‡å†™ equals() å’Œ hashCode()** æ–¹æ³•ã€‚å› ä¸ºä¼šè‡ªåŠ¨æ’åºï¼Œæ‰€ä»¥è¿˜éœ€è¦å®ç°æ’åºï¼šä¸¤ç§æ–¹å¼ä¸€ç§æ˜¯ï¼š
    
    *   **è‡ªç„¶æ’åº**ï¼š **TreeMap** çš„æ‰€æœ‰çš„ **Key** å¿…é¡»å®ç°(å®ç° `java.lang.Comparable`çš„æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰ çš„ Key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡(å› ä¸ºä¸æ˜¯åŒä¸€ç±»å‹æ— æ³•æ¯”è¾ƒåˆ¤æ–­)ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡º `ClasssCastException`è‡ªç„¶æ’åºï¼Œé‡å†™å…¶ä¸­çš„ `compareTo()`æŠ½è±¡æ–¹æ³•) ã€‚åœ¨Javaå½“ä¸­æ‰€æœ‰çš„åŒ…è£…ç±»å’ŒStringéƒ½å®ç°äº†è¯¥ `java.lang.Comparable`æ¥å£ã€‚æ‰€ä»¥ä¸€èˆ¬è¦å®ç°è¯¥æ¥å£çš„éƒ½æ˜¯è‡ªå®šçš„ç±»ã€‚
    *   **å®šåˆ¶æ’åºï¼š** åˆ›å»º TreeMap æ—¶ï¼Œä¼ å…¥ä¸€ä¸ª **Comparator** å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹ TreeMap ä¸­çš„æ‰€æœ‰ key è¿›è¡Œæ’åºã€‚æ­¤æ—¶ä¸éœ€è¦ Map çš„ Key å®ç° **Comparable** æ¥å£
    
        public TreeMap(Comparator<? super K> comparator)v // æ„é€ ä¸€ä¸ªæ–°çš„ï¼Œç©ºçš„æ ‘å›¾ï¼ŒæŒ‰ç…§ç»™å®šçš„æ¯”è¾ƒå™¨æ’åºã€‚
        
    
    *   **å…³äºè‡ªç„¶æ’åºä¸ å®šåˆ¶æ’åº** çš„è¯¦è§£å†…å®¹å¤§å®¶å¯ä»¥ç§»æ­¥è‡³ï¼šğŸ”œğŸ”œğŸ”œ [æ¯”è¾ƒå™¨ï¼š Comparable ä¸ Comparator åŒºåˆ«\_ChinaRainbowSeaçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_61635597/article/details/128749629?spm=1001.2014.3001.5501)
*   **TreeMap** åˆ¤æ–­ä¸¤ä¸ª **Key** ç›¸ç­‰çš„æ ‡å‡†ï¼šä¸¤ä¸ª **key** é€šè¿‡ é‡å†™çš„ compareTo()æ–¹æ³•æˆ– compare()æ–¹æ³•ï¼Œè¿”å›0 è¡¨ç¤ºç›¸ç­‰ã€‚
    

**ä¸¾ä¾‹ï¼š**

**TreeMap** é›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰ç±» Person6 å¯¹è±¡ï¼Œå…¶ä¸­çš„ Key å­˜å‚¨çš„ç±»ä¸ºè‡ªå®šä¹‰ Person6 å¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡å†™äº† equals() å’Œ hashCode()æ–¹æ³•ï¼Œä½†æ˜¯æ²¡æœ‰é‡å†™æ¯”è¾ƒå™¨çš„æƒ…å†µï¼ŒæŠ¥å¼‚å¸¸ï¼š`java.lang.ClassCastException` ç±»å‹è½¬æ¢å¼‚å¸¸ã€‚

å°†å…¶ä¸­çš„Person6 ä¸­ age å¹´é¾„ï¼Œå‡åºæ’åˆ—

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/745fdf763e224467aaf9a86fd532070f.png)

    
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Objects;
    import java.util.Set;
    import java.util.TreeMap;
    
    public class TreeMapTest {
        public static void main(String[] args) {
            // åˆ›å»ºTreeMap é›†åˆå¯¹è±¡ï¼Œå…¶ä¸­ Key å­˜å‚¨çš„ç±»ä¸ºè‡ªå®šä¹‰ Person6
            TreeMap<Person6,Integer> treeMap = new TreeMap<Person6,Integer>();
    
            // æ·»åŠ å…ƒç´ 
            treeMap.put(new Person6("lihua",18),99);
            treeMap.put(new Person6("zhangsan",20),89);
            treeMap.put(new Person6("lisi",25),79);
            treeMap.put(new Person6("wangwu",19),69);
    
            // éå†é›†åˆ
            // éå† TreeMap é›†åˆ
            // è·å–åˆ°key-value å­˜å‚¨çš„ Set Entry å†…éƒ¨ç±»é›†åˆå¯¹è±¡
            Set<Map.Entry<Person6, Integer>> entries = treeMap.entrySet();
            // è·å–åˆ°è¯¥ Set Entry å†…éƒ¨ç±»é›†åˆçš„è¿­ä»£å™¨
            Iterator<Map.Entry<Person6, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                Map.Entry<Person6, Integer> entry = iterator.next();
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
    
    
        }
    }
    
    class Person6 {
        String name;
        int age;
    
        public Person6() {
        }
    
        public Person6(String name, int age) {
            this.name = name;
            this.age = age;
        }
    
        public String getName() {
            return name;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public int getAge() {
            return age;
        }
    
        public void setAge(int age) {
            this.age = age;
        }
    
    
    
        // å½“å¯¹è±¡ä¸­çš„ name å’Œ age å±æ€§å€¼ç›¸åŒè¿”å› true,å¦åˆ™è¿”å› fasle
        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (!(o instanceof Person6)) return false;
            Person6 person6 = (Person6) o;
            return getAge() == person6.getAge() &&
                    Objects.equals(getName(), person6.getName());
        }
    
        @Override
        public int hashCode() {
            return Objects.hash(getName(), getAge());
        }
    
        @Override
        public String toString() {
            return "Person6{" +
                    "name='" + name + '\'' +
                    ", age=" + age +
                    '}';
        }
    }
    

**ä¿®æ­£ï¼š** å¯¹ Key ä¸­æ‰€å­˜å‚¨çš„ç±»ï¼Œæä¾›æ¯”è¾ƒå™¨ï¼Œæ–¹å¼ä¸€ï¼šè‡ªç„¶æ’åºï¼Œè¯¥å­˜å‚¨ç±»å®ç° `java.lang.Comparable`æ¥å£ï¼Œå¹¶é‡å†™å…¶ä¸­çš„ CompareTo()é‡å†™æ–¹æ³•ã€‚

    
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Objects;
    import java.util.Set;
    import java.util.TreeMap;
    
    public class TreeMapTest {
        public static void main(String[] args) {
            // åˆ›å»ºTreeMap é›†åˆå¯¹è±¡ï¼Œå…¶ä¸­ Key å­˜å‚¨çš„ç±»ä¸ºè‡ªå®šä¹‰ Person6
            TreeMap<Person6,Integer> treeMap = new TreeMap<Person6,Integer>();
    
            // æ·»åŠ å…ƒç´ 
            treeMap.put(new Person6("lihua",18),99);
            treeMap.put(new Person6("zhangsan",20),89);
            treeMap.put(new Person6("lisi",25),79);
            treeMap.put(new Person6("wangwu",19),69);
    
            // éå†é›†åˆ
            // éå† TreeMap é›†åˆ
            // è·å–åˆ°key-value å­˜å‚¨çš„ Set Entry å†…éƒ¨ç±»é›†åˆå¯¹è±¡
            Set<Map.Entry<Person6, Integer>> entries = treeMap.entrySet();
            // è·å–åˆ°è¯¥ Set Entry å†…éƒ¨ç±»é›†åˆçš„è¿­ä»£å™¨
            Iterator<Map.Entry<Person6, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                Map.Entry<Person6, Integer> entry = iterator.next();
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
    
    
        }
    }
    
    class Person6 implements Comparable<Person6>{
        String name;
        int age;
    
        public Person6() {
        }
    
        public Person6(String name, int age) {
            this.name = name;
            this.age = age;
        }
    
        public String getName() {
            return name;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public int getAge() {
            return age;
        }
    
        public void setAge(int age) {
            this.age = age;
        }
    
    
    
        // å½“å¯¹è±¡ä¸­çš„ name å’Œ age å±æ€§å€¼ç›¸åŒè¿”å› true,å¦åˆ™è¿”å› fasle
        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (!(o instanceof Person6)) return false;
            Person6 person6 = (Person6) o;
            return getAge() == person6.getAge() &&
                    Objects.equals(getName(), person6.getName());
        }
    
        @Override
        public int hashCode() {
            return Objects.hash(getName(), getAge());
        }
    
        /**
         * å‡åºçš„æ¯”è¾ƒè§„åˆ™:
         * this > å‚æ•° ï¼Œè¿”å› > 0
         * this < å‚æ•°ï¼Œè¿”å› < 0
         * this == å‚æ•°ï¼Œè¿”å› == 0;
         * é™åºåè¿‡æ¥ï¼š
         * this > å‚æ•° ï¼Œè¿”å› < 0
         * this < å‚æ•°ï¼Œè¿”å› > 0
         * this == å‚æ•°ï¼Œè¿”å› == 0;
         */
        @Override
        public int compareTo(Person6 o) {
            // é¦–å…ˆåˆ¤æ–­è¯¥éœ€è¦æ¯”è¾ƒçš„å‚æ•°æ˜¯å¦æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼ŒåŒä¸€ä¸ªå®ä¾‹çš„å¯¹è±¡æ‰èƒ½æ¯”è¾ƒ
            if(o instanceof Person6) {  // å…¶å®è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†<Person3 o> æ³›å‹é™å®šäº†ï¼Œå°±ä¸éœ€è¦åˆ¤æ–­äº†
                Person6 person6 = (Person6) o;  // æ˜¯å¯¹åº”çš„å®ä¾‹å‘ä¸‹è½¬å‹ã€‚
                if(this.age > person6.age) {
                    return 1;
                } else if( this.age < person6.age) {
                    return -1;
                } else {
                    return 0;
                }
            } else {
                // throw å¯ä»¥æ›¿ä»£ return
                throw new RuntimeException("ç±»å‹ä¸ä¸€è‡´");  // æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸
            }
        }
    
        @Override
        public String toString() {
            return "Person6{" +
                    "name='" + name + '\'' +
                    ", age=" + age +
                    '}';
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5256fa5af09348e0854eaaa2b166ac60.png)

**ä¿®æ”¹æ–¹å¼äºŒï¼šå®šåˆ¶æ’åº** åˆ›å»º TreeMap é›†åˆå¯¹è±¡æ—¶ï¼Œå°†ä¸€ä¸ªåŒ¿åå®ç°Com çš„ç±»ï¼Œä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æ„é€ å™¨ã€‚è¯¥åŒ¿åå®ç°ç±»å®šåˆ¶æ’åºæŒ‰ç…§ä½  Perso6 ä¸­çš„ age å¹´é¾„é™åºæ’åˆ—

    public TreeMap(Comparator<? super K> comparator); // æ„é€ ä¸€ä¸ªæ–°çš„ï¼Œç©ºçš„æ ‘å›¾ï¼ŒæŒ‰ç…§ç»™å®šçš„æ¯”è¾ƒå™¨æ’åºã€‚
    

    package blogs.blogs7;
    
    import java.util.Comparator;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Objects;
    import java.util.Set;
    import java.util.TreeMap;
    
    public class TreeMapTest {
        public static void main(String[] args) {
            // åˆ›å»ºä¸€ä¸ª TreeMap é›†åˆå¯¹è±¡ï¼Œå°†åŒ¿åå®ç°çš„æ¯”è¾ƒå™¨(å®šåˆ¶æ’åº)ï¼Œä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æ„é€ å™¨
            TreeMap<Person6,Integer> treeMap = new TreeMap<Person6,Integer>(new Comparator<Person6>() {
                @Override
                public int compare(Person6 o1, Person6 o2) {
                    // åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹åº”æ¯”è¾ƒçš„å®ä¾‹ï¼Œå…¶å®è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨åˆ¤æ–­çš„ï¼Œå› ä¸ºä½¿ç”¨çš„æ³›å‹é™å®š
                    if(o1 instanceof Person6 && o2 instanceof  Person6) {
                        Person6 p1 = (Person6)o1;
                        Person6 p2 = (Person6)o2;  // å‘ä¸‹è½¬å‹ä¸ºå¯¹åº”çš„å®ä¾‹å¯¹è±¡ï¼Œä»è€Œè·å–æ¯”è¾ƒå±æ€§
    
                        if(p1.age > p2.age) {
                            return -1;
                        } else if(p1.age < p2.age) {
                            return 1;
                        } else {
                            return 0;
                        }
    
                    }
                    // throw å¯ä»¥ä»£æ›¿ return
                    throw new RuntimeException("ç±»å‹ä¸ä¸€è‡´");  // æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸
                }
            });
    
            // æ·»åŠ å…ƒç´ 
            treeMap.put(new Person6("lihua",18),99);
            treeMap.put(new Person6("zhangsan",20),89);
            treeMap.put(new Person6("lisi",25),79);
            treeMap.put(new Person6("wangwu",19),69);
    
            // éå†é›†åˆ
            // éå† TreeMap é›†åˆ
            // è·å–åˆ°key-value å­˜å‚¨çš„ Set Entry å†…éƒ¨ç±»é›†åˆå¯¹è±¡
            Set<Map.Entry<Person6, Integer>> entries = treeMap.entrySet();
            // è·å–åˆ°è¯¥ Set Entry å†…éƒ¨ç±»é›†åˆçš„è¿­ä»£å™¨
            Iterator<Map.Entry<Person6, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                Map.Entry<Person6, Integer> entry = iterator.next();
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
    
        }
    }
    
    class Person6 implements Comparable<Person6>{
        String name;
        int age;
    
        public Person6() {
        }
    
        public Person6(String name, int age) {
            this.name = name;
            this.age = age;
        }
    
        public String getName() {
            return name;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public int getAge() {
            return age;
        }
    
        public void setAge(int age) {
            this.age = age;
        }
    
    
    
        // å½“å¯¹è±¡ä¸­çš„ name å’Œ age å±æ€§å€¼ç›¸åŒè¿”å› true,å¦åˆ™è¿”å› fasle
        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (!(o instanceof Person6)) return false;
            Person6 person6 = (Person6) o;
            return getAge() == person6.getAge() &&
                    Objects.equals(getName(), person6.getName());
        }
    
        @Override
        public int hashCode() {
            return Objects.hash(getName(), getAge());
        }
        
    
        @Override
        public String toString() {
            return "Person6{" +
                    "name='" + name + '\'' +
                    ", age=" + age +
                    '}';
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c5cb6416caf54e5693f52ae353879db5.png)

6\. Mapå®ç°ç±»ä¹‹å››ï¼šHashtable
----------------------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/5b11b5904677430897262799b0575060.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ad7077f49ce24383a919d6283c736c1e.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/99b8054e8348421a998bfd40b3b9b4e8.png)

*   **Hashtable** æ˜¯ä¸ªå¤è€çš„ **Map** å®ç°ç±»ï¼Œ**JDK1.0** å°±æä¾›äº†ã€‚ä¸åŒäº **HashMap** ï¼Œ**Hashtable** æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå…¶ä¸­çš„æ–¹æ³•åŸºæœ¬ä¸Šéƒ½ä¸è¢« `synchronized` ã€‚
*   **Hashtable** å®ç°åŸç†å’Œ **HashMap** ç›¸åŒï¼ŒåŠŸèƒ½ç›¸åŒã€‚åº•å±‚éƒ½ä½¿ç”¨å“ˆå¸Œç»“æ„ï¼Œé€Ÿåº¦å¿«ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥äº’ç”¨ã€‚
*   **Hashteble** ä¸ **HashMap** ä¸åŒï¼Œ**Hashtable** ä¸å…è®¸ä½¿ç”¨ **null** ä½œä¸º **Key** å’Œ **Value** çš„å€¼ã€‚ä¸ç„¶æŠ¥ï¼Œ`java.lang.NullPointerException` ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚
*   **Hashtable** ä¸ **HashMap** ä¸€æ ·ï¼Œ**Hashtable** ä¹Ÿä¸èƒ½ä¿è¯å…¶ä¸­ **Key-Value** é”®å€¼å¯¹çš„é¡ºåºã€‚
*   åŒæ ·çš„ å…¶ä¸­çš„ **Key** å€¼å†…éƒ¨æ˜¯ç”± **Set** é›†åˆå­˜å‚¨çš„ï¼Œæ— åºï¼Œä¸å¯é‡å¤æ€§ï¼Œæ‰€å­˜å‚¨ç±»**å¿…é¡»é‡å†™ equals() å’Œ hashCode()** æ–¹æ³•ã€‚
*   **Hashtable** åˆ¤æ–­ä¸¤ä¸ª **key** ç›¸ç­‰ï¼Œä¸¤ä¸ª **value** ç›¸ç­‰çš„æ ‡å‡†ï¼Œä¸ **HashMap** æ˜¯ä¸€æ ·çš„ã€‚Hashtableå’ŒHashMap ä¸€æ ·ï¼Œåº•å±‚éƒ½æ˜¯å“ˆå¸Œè¡¨çš„æ•°æ®ç»“æ„ï¼ŒHashtable çš„åˆå§‹å®¹é‡ä¸º 11ï¼Œé»˜è®¤åŠ è½½å› å­æ˜¯ : 0.75ï¼ŒHashtable çš„æ‰©å®¹ï¼š `åŸå®¹é‡ * 2 + 1`;

**HashMapå’ŒHashTableçš„æ¯”è¾ƒï¼š**

![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https://img-blog.csdn.net/20180803205546704?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2ZlaXlhbmFmZmVjdGlvbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

**ä¸¾ä¾‹** ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/9ef6bbf5cd4e4f34b2f0a461fe3b8e0d.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4b980ead033d4f79a7eb3e9c60d928f5.png)

    import java.util.Hashtable;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class HashtableTest {
        public static void main(String[] args) {
            Hashtable<String,Integer> hashtable = new Hashtable<String,Integer>();
    
            hashtable.put("lihua",1);
            hashtable.put("zhangsan",2);
            hashtable.put("lisi",3);
            hashtable.put("wangwu",4);
    
            Set<Map.Entry<String, Integer>> entries = hashtable.entrySet();
            Iterator<Map.Entry<String, Integer>> iterator = entries.iterator();
            while(iterator.hasNext()) {
                System.out.println(iterator.next());
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e0bda99075604362a0cd8d01a1d79884.png)

7\. Mapå®ç°ç±»ä¹‹äº”ï¼šProperties
-----------------------

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d1a2a936170944bda121fb42bb0a072a.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/55befee236c44a768c8a190dfff12618.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7e4edb9fc9184fa0924672dee5b23af4.png)

*   **Properties** ç±»æ˜¯ **Hashtable** çš„å­ç±»ï¼Œè¯¥å¯¹è±¡ç”¨äºå¤„ç†è¯»å–å±æ€§æ–‡ä»¶ã€‚
*   ç”±äºå±æ€§æ–‡ä»¶é‡Œçš„ **key,value**éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œæ‰€ä»¥ **Properties é‡Œçš„ key å’Œ value éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹** ã€‚
*   å­˜å–æ•°æ®æ—¶ï¼Œå»ºè®®ä½¿ç”¨ **setProperty(String key,String value)** æ–¹æ³• å’Œ **getProperty(String key)** æ–¹æ³•ã€‚

    public Object setProperty(String key,String value); // è‡´ç”µHashtableæ–¹æ³•put ã€‚ æä¾›ä¸getPropertyæ–¹æ³•çš„å¹¶è¡Œæ€§ ã€‚ å¼ºåˆ¶ä½¿ç”¨å­—ç¬¦ä¸²çš„å±æ€§é”®å’Œå€¼ã€‚ è¿”å›çš„å€¼æ˜¯Hashtableè°ƒç”¨putçš„ç»“æœã€‚ç®€å•çš„è¯´ï¼šå°±æ˜¯å‘Property é›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ã€‚
    

    public String getProperty(String key); // é€šè¿‡ key æ‰¾åˆ°å¯¹åº”çš„ valueå€¼ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿”å› null
    

**ä¸¾ä¾‹:**

é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨é¡¹ç›®ä¸­(æ³¨æ„æ·»åŠ åˆ°é¡¶çº§é¡¹ç›®ä¸­ä¹Ÿå°±æ˜¯å¦‚ä¸‹çš„**Test** é¡¹ç›®ä¸‹ï¼Œä¸æ˜¯**Test2ï¼Œæˆ–è€… dayæ¨¡å—ä¸‹** ï¼Œä¸ç„¶æ— æ³•è¯»å–åˆ°)æ·»åŠ ä¸€ä¸ªå±æ€§æ–‡ä»¶(ä»¥`.properties`åç¼€çš„é…ç½®æ–‡ä»¶)ç”¨äºProperties é›†åˆè¯»å–ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/bcc2f0d32f794346960e47319a4ae845.png)

    name=Tom
    password=abc123
    

    import java.io.FileInputStream;
    import java.io.IOException;
    import java.util.Properties;
    
    public class PropertiesTest {
        public static void main(String[] args) {
            // Properties é›†åˆå¸¸ç”¨æ¥å¤„ç†é…ç½®æ–‡ä»¶ï¼škey å’Œ value éƒ½æ˜¯Stringç±»å‹
            Properties properties = new Properties();
    
            try {
                // IOæµè¯»å–æ–‡ä»¶ä¿¡æ¯,éœ€è¦å¼‚å¸¸å¤„ç†
                FileInputStream fileInputStream = new FileInputStream("jdbc.properties"); // æ–‡ä»¶å
                properties.load(fileInputStream);  // åŠ è½½æµå¯¹åº”çš„æ–‡ä»¶ï¼ŒåŒæ ·éœ€è¦å¼‚å¸¸å¤„ç†
    
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
    
            String name = properties.getProperty("name");
            String password = properties.getProperty("password");  // æ ¹æ®å¯¹åº”æ–‡ä»¶ä¸­çš„ key å€¼è·å–åˆ°å¯¹åº”çš„valueå€¼
    
            System.out.println(name);
            System.out.println(password);
    
    
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/443db4038556460db7ab71477b38f8e6.png)

8\. Map æ¥å£ä¸‹çš„é›†åˆéå†æ–¹å¼
------------------

**Map** æ¥å£ä¸‹çš„é›†åˆçš„éå†æ–¹å¼ï¼šæ³¨æ„ï¼šMap é›†åˆä¸­æ²¡æœ‰ä¸‹æ ‡å¯ä»¥è®¿é—®çš„ã€‚ä¹Ÿæ²¡æœ‰è¿­ä»£å™¨å¯ä»¥ä½¿ç”¨çš„ã€‚

**æ–¹å¼ä¸€ï¼š** æ™®éä½¿ç”¨ï¼ŒäºŒæ¬¡å–å€¼ã€‚é€šè¿‡è·å– `keySet()` æ–¹æ³•è·å–åˆ° Map é›†åˆä¸­æ‰€æœ‰çš„ key å€¼ï¼Œè¿”å›ä¸€ä¸ª Set é›†åˆã€‚å†é€šè¿‡éå† Set é›†åˆä¸­å­˜å‚¨çš„æ‰€æœ‰çš„ key ï¼Œä½¿ç”¨ `get(key)` æ–¹æ³•è·å–åˆ°å¯¹åº”çš„ valueå€¼ã€‚

    import java.util.HashMap;
    import java.util.Map;
    import java.util.Set;
    
    public class Traverse {
    
        // Map é›†åˆéå†æ–¹å¼ä¸€:
        public static void main(String[] args) {
            Map<String, String> map = new HashMap<String, String>();
            map.put("1", "value1");
            map.put("2", "value2");
            map.put("3", "value3");
    
            // 1.è·å–åˆ°è¯¥ Map é›†åˆå½“ä¸­çš„æ‰€æœ‰ Key å€¼
            Set<String> keys = map.keySet();
    
            // 2.éå†æ‰€æœ‰çš„ key å€¼
            for (String key : keys) {
                // 3. é€šè¿‡ key è·å–åˆ°å¯¹åº”çš„ value å€¼
                System.out.println(key + "--->" + map.get(key));
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/6ae8726cae8d4c0285d305cb788be6af.png)

**æ–¹å¼äºŒï¼š** é€šè¿‡ä½¿ç”¨ `entrySet()` æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªï¼š`Set< Map.Entry<K, V> >` é›†åˆå¯¹è±¡ï¼Œ å†é€šè¿‡è·å–åˆ°è¯¥ Set<Map.Entry> é›†åˆ çš„è¿­ä»£å™¨ï¼Œé€šè¿‡è¿­ä»£å™¨éå†ï¼Œè·å–åˆ°Map.Entryä¸­å­˜å‚¨çš„ key(getKey()), value(getVale()) æ–¹æ³•

    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class Traverse {
    
        // Map é›†åˆéå†æ–¹å¼äºŒï¼š
        public static void main(String[] args) {
            Map<String, String> map = new HashMap<String, String>();
            map.put("1", "value1");
            map.put("2", "value2");
            map.put("3", "value3");
    
            // 1. è·å–åˆ° Set<Map.Entry> é›†åˆå¯¹è±¡
            Set<Map.Entry<String, String>> entries = map.entrySet();
    
            // 2. è·å–åˆ°è¯¥ Set<Map.Entry> é›†åˆ çš„è¿­ä»£å™¨
            Iterator<Map.Entry<String, String>> iterator = entries.iterator();
    
            // 3. é€šè¿‡è¿­ä»£å™¨éå†ï¼Œè·å–åˆ°Map.Entryä¸­å­˜å‚¨çš„ key,valueå€¼
            while(iterator.hasNext()) {
                Map.Entry<String, String> entry = iterator.next();
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
    
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b3b43e5b4b58451894561a8a2d9d85b7.png)

**æ–¹å¼ä¸‰ï¼š** æ¨èï¼Œå°¤å…¶æ˜¯å®¹é‡å¤§æ—¶ã€‚å› ä¸ºè¿™æ˜¯ä¸€æ¬¡æ€§è·å–åˆ° Map ä¸­æ‰€æœ‰çš„key-value å€¼åï¼Œå†å–å‡ºçš„ï¼Œæ•ˆç‡é«˜

    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class Traverse {
    
        // Map é›†åˆéå†æ–¹å¼ä¸‰ï¼š
        public static void main(String[] args) {
            Map<String, String> map = new HashMap<String, String>();
            map.put("1", "value1");
            map.put("2", "value2");
            map.put("3", "value3");
    
            for (Map.Entry<String, String> entry : map.entrySet()) {
                System.out.println(entry.getKey() + "--->" + entry.getValue());
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2a8d175903a74621948c1a6d3df3aa31.png)

**æ–¹å¼å››ï¼š** é€šè¿‡Map.values() è¿”å›ä¸€ä¸ªCollection é›†åˆéå†æ‰€æœ‰çš„valueï¼Œä½†ä¸èƒ½éå†key

    import java.util.Collection;
    import java.util.HashMap;
    import java.util.Iterator;
    import java.util.Map;
    import java.util.Set;
    
    public class Traverse {
    
        // Mapé›†åˆéå†æ–¹å¼å››ï¼š
        public static void main(String[] args) {
            Map<String, String> map = new HashMap<String, String>();
            map.put("1", "value1");
            map.put("2", "value2");
            map.put("3", "value3");
    
            // è·å–åˆ°é›†åˆå½“ä¸­æ‰€æœ‰çš„ valueå€¼
            Collection<String> values = map.values();
            for (String value : values) {
                System.out.println(value);
            }
        }
    }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/908e82b844b34bf491b8663f1b6bf642.png)

9\. Collectionså·¥å…·ç±»
------------------

ä¸€ä¸ªç‹¬ç«‹çš„**é›†åˆ** å·¥å…·ç±»

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d13747c6fb3b4ed0881b02043e0485c1.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/bbf16bfa748b4913bd4d516dbb10edab.png)

*   **Collections** æ˜¯ä¸€ä¸ªæ“ä½œ **Setï¼ŒList å’Œ Map** ç­‰é›†åˆçš„å·¥å…·ç±»ã€‚
*   æ³¨æ„åŒºåˆ«ï¼š**Collection** æ˜¯ä¸€ä¸ªæ¥å£é›†åˆï¼Œè€Œ **Collection** `s` å¤šäº†ä¸ª **s** çš„æ˜¯ **é›†åˆå·¥å…·ç±»**ï¼Œéƒ½æ˜¯åœ¨ `java.util.` åŒ…ä¸‹çš„ã€‚
*   **Collections** ä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•(å·¥å…·æ–¹æ³•éº»ï¼Œä¸€èˆ¬éƒ½æ˜¯é™æ€æ–¹æ³•)å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºï¼ŒæŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œï¼Œè¿˜æä¾›äº†å¯¹é›†åˆå¯¹è±¡è®¾ç½®ä¸å¯å˜ï¼Œå¯¹é›†åˆå¯¹è±¡å®ç°åŒæ­¥æ§åˆ¶(è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜)ç­‰æ–¹æ³•ã€‚

### 9.1 Collectionså¸¸ç”¨æ–¹æ³•

**æ’åº:**

*   **reverse(List lsit)** : åè½¬ List ä¸­å…ƒç´ çš„é¡ºåº

    public static void reverse(List<?> list);  // åè½¬ List ä¸­å…ƒç´ çš„é¡ºåº
    

*   **shuffle(List list)**: å¯¹ List é›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº

    public static void shuffle(List<?> list);  // å¯¹ List é›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº
    

*   **sort(List list)** : æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®š List é›†åˆå…ƒç´ æŒ‰å‡åºæ’åºï¼Œ**æ³¨æ„çš„æ˜¯ï¼š** æ’åºéœ€è¦å­˜å‚¨çš„ç±»æœ‰æ¯”è¾ƒå™¨è°ƒç”¨ è‡ªç„¶æ’åº(å®ç° `java.lang.Comparable`çš„æ¥å£ / å®šåˆ¶æ’åº **Comparator**æ¥å£)

    public static <T extends Comparable<? super T>> void sort(List<T> list);  // æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®š List é›†åˆå…ƒç´ æŒ‰å‡åºæ’åº
    

*   **sort(List list, Comparator c)** : æ ¹æ®æŒ‡å®šçš„ Comparator äº§ç”Ÿçš„é¡ºåºå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œæ’åº

    public static <T> void sort(List<T> list,Comparator<? super T> c);  // æ ¹æ®æŒ‡å®šçš„ Comparator äº§ç”Ÿçš„é¡ºåºå¯¹ List é›†åˆå…ƒç´ è¿›è¡Œæ’åº
    

*   **swap(List list , int i , int j )** : å°†æŒ‡å®š list é›†åˆä¸­çš„ i å¤„å…ƒç´ å’Œ j å¤„å…ƒç´ è¿›è¡Œäº¤æ¢ã€‚æ³¨æ„æ˜¯å·¦é—­å³å¼€çš„ã€‚

    public static void swap(List<?> list,int i,int j);  // å°†æŒ‡å®š list é›†åˆä¸­çš„ i å¤„å…ƒç´ å’Œ j å¤„å…ƒç´ è¿›è¡Œäº¤æ¢
    

**æŸ¥æ‰¾ï¼Œæ›¿æ¢** ï¼š

*   **max(Collection c)** : æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ ã€‚

    public static <T extends Object & Comparable<? super T>> T max(Collection<? extends T> coll);  // æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ 
    

*   **max(Collection collï¼Œ Comarator comp)** : æ ¹æ®Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ ã€‚

    public static <T> T max(Collection<? extends T> coll,Comparator<? super T> comp);  // æ ¹æ® Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å¤§å…ƒç´ 
    

*   **min(Collection c)** : æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ ã€‚

    public static <T extends Object & Comparable<? super T>> T min(Collection<? extends T> coll); // æ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ ã€‚
    

*   **min(Collection collï¼Œ Comarator comp)** : æ ¹æ®Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ ã€‚

    public static <T> T min(Collection<? extends T> coll, Comparator<? super T> comp);  // æ ¹æ®Comparator æŒ‡å®šçš„é¡ºåºï¼Œè¿”å›ç»™å®šé›†åˆä¸­çš„æœ€å°å…ƒç´ ã€‚
    

*   **replaceAll(List listï¼ŒT oldVal,T newVal)** : ç”¨æ–°å€¼æ›¿æ¢List å¯¹è±¡çš„æ‰€æœ‰æ—§å€¼ã€‚æ³¨æ„å­˜å‚¨çš„ç±»éœ€è¦é‡å†™ equals()æ–¹æ³•ï¼Œæ‰èƒ½æ¯”è¾ƒåˆ¤æ–­æ‰¾åˆ°å¯¹åº”æ›¿æ¢çš„å€¼ã€‚

    public static <T> boolean replaceAll(List<T> list,T oldVal,T newVal); // ç”¨æ–°å€¼æ›¿æ¢List å¯¹è±¡çš„æ‰€æœ‰æ—§å€¼.
    

*   **frequency(Collection c ï¼Œ Object o)** : è¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼Œ**æ³¨æ„** :å­˜å‚¨çš„ç±»éœ€è¦é‡å†™ equals()æ–¹æ³•æ‰èƒ½æ¯”è¾ƒåˆ¤æ–­æŸ¥æ‰¾å¯¹åº”çš„å€¼çš„ä¸ªæ•°ã€‚

    public static int frequency(Collection<?> c,Object o);  // è¿”å›æŒ‡å®šé›†åˆä¸­æŒ‡å®šå…ƒç´ çš„å‡ºç°æ¬¡æ•°
    

*   **copy(List destï¼ŒList src)** : å°† src é›†åˆä¸­çš„å†…å®¹å¤åˆ¶åˆ° dest é›†åˆå½“ä¸­ã€‚

    public static <T> void copy(List<? super T> dest,List<? extends T> src); // å°† src é›†åˆä¸­çš„å†…å®¹å¤åˆ¶åˆ° dest é›†åˆå½“ä¸­
    

**æ³¨æ„è¯¥ copy(List destï¼ŒList src) æ–¹æ³•ï¼Œä¸¤ä¸ªé›†åˆå¯¹è±¡å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯å¿…é¡»æ˜¯ä¸€æ ·çš„ï¼Œä¸ç„¶æ— æ³•æ‹·è´æ·»åŠ åˆ° dest é›†åˆå½“ä¸­çš„ã€‚**

**è¿˜æœ‰æ‹·è´å­˜å‚¨åˆ°çš„å¯¹è±¡ dest çš„ size()é•¿åº¦ < è¢«æ‹·è´çš„ src çš„ size()é•¿åº¦ å°±ä¼šæ‹·è´å¤±è´¥ï¼ŒæŠ¥å¼‚å¸¸: `IndexOutOfBoundsException`**

**æ‰€ä»¥æ‹·è´å­˜å‚¨åˆ°çš„å¯¹è±¡ dest çš„ size()é•¿åº¦ `å¿…é¡» >=` è¢«æ‹·è´çš„ src çš„ size()é•¿åº¦** ã€‚**æ³¨æ„æ˜¯ size()å®é™…å­˜å‚¨å…ƒç´ æ•°æ®çš„é•¿åº¦ï¼Œä¸æ˜¯length()é›†åˆçš„é•¿åº¦** ã€‚

**å¦‚ä¸‹æºç :**

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/de941ff5096e434ab4f37b37b2a5cccb.png)

**ä¸¾ä¾‹** : è§£å†³æ€è·¯å¦‚ä¸‹ï¼š

    package blogs.blogs7;
    
    import java.util.ArrayList;
    import java.util.Arrays;
    import java.util.Collections;
    import java.util.List;
    
    public class CollectionsTest {
        public static void main(String[] args) {
            List<Integer> src = new ArrayList<Integer>();
            src.add(1);
            src.add(99);
            src.add(-1);
            src.add(66);
    
            // åˆ›å»ºä¸€ä¸ª å’Œ src é›†åˆå­˜å‚¨ç±»å‹ä¸€æ ·çš„  Arrays.asList(new Integer[src.size()])æ•°ç»„ï¼Œå¹¶è®¾ç½®è¯¥æ•°ç»„çš„å¤§å°é•¿åº¦ä¸º src.size()
            // å†ä½¿ç”¨è¿™ä¸ªæ•°ç»„åˆ›å»ºæ‹·è´å­˜å‚¨çš„ desc é›†åˆå¯¹è±¡ï¼Œé»˜è®¤æ•°ç»„æ²¡æœ‰æ·»åŠ æ•°æ®(è¿™é‡Œçš„æ˜¯ null)
            // è¿™æ ·å°± desc å°±æ‹¥æœ‰äº†ä¸€ä¸ªå’Œ secé›†åˆä¸€æ ·å¤§å°çš„ size()é•¿åº¦äº†ã€‚
            List<Integer> desc = new ArrayList<Integer>();
            desc = Arrays.asList(new Integer[src.size()]);
            for (Integer integer : desc) {
                System.out.println(integer);
            }
    
            // copy()æ‹·è´
            Collections.copy(desc, src);
    
            System.out.println("***********  æ‹·è´  ************");
            for (Integer num : desc) {
                System.out.println(num);
            }
        }
    }
    
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/94e739f30f6641a3bfb36a923b314d55.png)

10\. æ€»ç»“ï¼š
--------

**è¡¥å……** ï¼šå„ä¸ªé›†åˆçš„è½¬æ¢ï¼Œå¯ä»¥ä½¿ç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œæˆ–æ„é€ å™¨

    	@Test
        public void test2() {
            Set<String> set = new HashSet<>();
            set.add("king");
            set.add("kingsoft");
            set.add("king2");
            set.add("king1");
    
            // å°†Seté›†åˆè½¬æ¢æˆListé›†åˆ
            List<String> myList = new ArrayList<>(set);
            for(String s : myList) {
                System.out.println(s);
            }
        }
    

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/97bab0e5c186433db50eb09e23329543.png)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/20191121230236788.png#pic_center)

*   **Map** æ¥å£ä¸‹çš„é›†åˆçš„ç‰¹ç‚¹ï¼šé›†åˆçš„**key** å°±æ˜¯ä¸€ä¸ª **Set** é›†åˆå­˜å‚¨çš„ã€‚è€Œ **value** å€¼åˆ™æ˜¯è¢« **Collectio**æ¥å£é›†åˆå­˜å‚¨çš„ã€‚  
    åœ¨Set é›†åˆä¸­æ”¾æ•°æ®ï¼Œå®é™…ä¸Šæ”¾åˆ°äº†Mapé›†åˆçš„key éƒ¨åˆ†ä¸­å»äº†ã€‚
*   **æ³¨æ„ï¼šMapé›†åˆä¸­çš„ Key éƒ½æ˜¯å­˜å‚¨åœ¨ Set é›†åˆå½“ä¸­çš„(è¯¥é›†åˆæ— åºï¼Œä¸å¯é‡å¤)ï¼Œæ‰€ä»¥Mapé›†åˆå½“ä¸­çš„ key å­˜å‚¨çš„ç±»å¿…é¡»é‡å†™ `equals() å’Œ hashCode()` æ–¹æ³•ã€‚ä¸ç„¶æ— æ³•å¤„ç† Key çš„ä¸å¯é‡å¤ç‰¹ç‚¹** ã€‚ã€‚ä½†æ˜¯å…¶ä¸­çš„ **value** å€¼æ˜¯å¯ä»¥å­˜å‚¨é‡å¤çš„æ•°æ®çš„ã€‚è€Œ value å€¼åˆ™æ˜¯è¢« **Collection** æ¥å£é›†åˆå­˜å‚¨çš„ã€‚
*   **Map** æ¥å£ä¸ **Collection** å¹¶åˆ—å­˜åœ¨çš„ï¼Œç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼š**key-value** è¢«ç§°ä¸º **é”®å€¼å¯¹** ã€‚ä¸€ä¸ª**key-value** æ„æˆä¸€ä¸ª `Map.Entry`ã€‚æ‰€æœ‰çš„ **Map.Entry** æ„æˆçš„é›†åˆæ˜¯ **Set** æ— åºçš„ï¼Œä¸å¯é‡å¤çš„ã€‚
*   ç†è§£ **HashMap** ä¸­çš„ put() æ·»åŠ é”®å€¼å¯¹å…ƒç´ æ•°æ®çš„åŸç†ï¼Œä»¥åŠæ‰©å®¹ï¼Œå’Œæ ‘åŒ–çš„æœºåˆ¶ã€‚åŒºåˆ« JDK7 / JDK8 çš„æœºåˆ¶ä¸åŒç‚¹
*   **TreeMap** çš„ æ’åºæ˜¯å¯¹ **Key** çš„å†…å®¹è¿›è¡Œæ’åºçš„ï¼Œå…¶ä¸­çš„ **Key** å€¼å†…éƒ¨æ˜¯ç”± **Set** é›†åˆå­˜å‚¨çš„ï¼Œæ— åºï¼Œä¸å¯é‡å¤æ€§ï¼Œæ‰€å­˜å‚¨ç±»**å¿…é¡»é‡å†™ equals() å’Œ hashCode()** æ–¹æ³•ã€‚å› ä¸ºä¼šè‡ªåŠ¨æ’åºï¼Œæ‰€ä»¥è¿˜éœ€è¦å®ç°æ’åºï¼šä¸¤ç§æ–¹å¼ä¸€ç§æ˜¯ï¼š
    *   **è‡ªç„¶æ’åº**ï¼š **TreeMap** çš„æ‰€æœ‰çš„ **Key** å¿…é¡»å®ç°(å®ç° `java.lang.Comparable`çš„æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰ çš„ Key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡(å› ä¸ºä¸æ˜¯åŒä¸€ç±»å‹æ— æ³•æ¯”è¾ƒåˆ¤æ–­)ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡º `ClasssCastException`è‡ªç„¶æ’åºï¼Œé‡å†™å…¶ä¸­çš„ `compareTo()`æŠ½è±¡æ–¹æ³•) ã€‚åœ¨Javaå½“ä¸­æ‰€æœ‰çš„åŒ…è£…ç±»å’ŒStringéƒ½å®ç°äº†è¯¥ `java.lang.Comparable`æ¥å£ã€‚æ‰€ä»¥ä¸€èˆ¬è¦å®ç°è¯¥æ¥å£çš„éƒ½æ˜¯è‡ªå®šçš„ç±»ã€‚
    *   **å®šåˆ¶æ’åºï¼š** åˆ›å»º TreeMap æ—¶ï¼Œä¼ å…¥ä¸€ä¸ª **Comparator** å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹ TreeMap ä¸­çš„æ‰€æœ‰ key è¿›è¡Œæ’åºã€‚æ­¤æ—¶ä¸éœ€è¦ Map çš„ Key å®ç° **Comparable** æ¥å£

11\. æœ€åï¼š
--------

> é™äºè‡ªèº«æ°´å¹³ï¼Œå…¶ä¸­å­˜åœ¨çš„é”™è¯¯ï¼Œå¸Œæœ›å¤§å®¶ç»™äºˆæŒ‡æ•™ï¼ŒéŸ©ä¿¡ç‚¹å…µâ€”â€”å¤šå¤šç›Šå–„ï¼Œè°¢è°¢å¤§å®¶ï¼Œåä¼šæœ‰æœŸï¼Œæ±Ÿæ¹–å†è§ï¼ï¼ï¼  
> ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/9684f4db7ee641c6883994255d2227d7.gif#pic_center)