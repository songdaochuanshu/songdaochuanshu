---
layout: post
title: "ã€ä»¿çœŸã€‘Carlaä»‹ç»ä¸åŸºæœ¬ä½¿ç”¨ [1] (é™„ä»£ç  åŸºç¡€ç‰ˆ)"
date: "2022-05-27T17:23:38.090Z"
---
ã€ä»¿çœŸã€‘Carlaä»‹ç»ä¸åŸºæœ¬ä½¿ç”¨ \[1\] (é™„ä»£ç  åŸºç¡€ç‰ˆ)
================================

0\. å‚è€ƒä¸å‰è¨€
=========

ä¸»è¦ä»‹ç»æ— äººé©¾é©¶çš„ä»¿çœŸç¯å¢ƒCARLAï¼Œå¼€æºç¤¾åŒºç»´æŠ¤ï¼Œä»¥ä¸‹ä¸ºç›¸å…³å‚è€ƒé“¾æ¥ï¼š

1.  [Carlaå®˜æ–¹æ–‡æ¡£](https://carla.readthedocs.io/en/latest/) å»ºè®®åç»­æ‰¾çš„æ—¶å€™ å…ˆæŒ‰å¥½ç‰ˆæœ¬å·ï¼Œæœ‰äº›åŠŸèƒ½/api æ˜¯æ–°ç‰ˆæœ¬é‡Œæœ‰çš„
    
    [Carlaå®˜æ–¹github](https://github.com/carla-simulator/carla)
    
2.  [Youtube Python+Window 0.9.5](https://www.youtube.com/watch?v=J1F32aVSYaU&list=PLQVvvaa0QuDeI12McNQdnTlWz9XlCa0uo) ä¸»è¦æ˜¯ç”¨Carlaç¯å¢ƒï¼Œä½¿ç”¨TensorFlowæ­å»ºç®€å•çš„è‡ªæˆ‘å­¦ä¹ è‡ªåŠ¨é©¾é©¶è½¦è¾†ã€è™½ç„¶åˆ°æœ€åè¿˜æ˜¯æ²¡çœ‹åˆ°å­¦æˆåŠŸçš„è½¦åˆ°åº•é•¿å•¥æ ·ã€‘
    
3.  çŸ¥ä¹æ­£åœ¨æ›´æ–°ä¸­çš„å…³äºCarlaè¾ƒå…¨é¢çš„[ä»‹ç»é“¾æ¥](https://www.zhihu.com/people/xie-xiao-fei-78-24/posts)
    
4.  å®‰è£…è§ï¼š[å¼ èªæ˜çš„CSDNã€å‹ç¼©åŒ…å®‰è£…æ³•ã€‘](https://blog.csdn.net/qq_39537898/article/details/111395941)
    

* * *

æ­¤ç³»åˆ—ä¸ºå¼ èªæ˜ä¸‰æ¬¡ä½¿ç”¨carlaï¼Œç»ˆäºå¼€å§‹å†™è®°å½• è®¤è®¤çœŸçœŸæä¸€æ¬¡

ç¬¬ä¸€æ¬¡ï¼šæ˜¯å› ä¸º [Youtube Python+Window 0.9.5](https://www.youtube.com/watch?v=J1F32aVSYaU&list=PLQVvvaa0QuDeI12McNQdnTlWz9XlCa0uo) ï¼Œç„¶åå½“æ—¶åœ¨windowsä¸Šæ²¡å‘è¿è¡Œå°±ä¸äº†äº†ä¹‹äº†ï¼Œå…·ä½“é—®é¢˜è§å½“åˆåœ¨[Github issueé“¾æ¥](https://github.com/carla-simulator/carla/issues/3700)

ç¬¬äºŒæ¬¡ï¼šæ˜¯æ‰“ç®—ç”¨Carlaè·‘ROSè”é€šï¼Œä½†æ˜¯å¾ˆå¿«å°±... æ²¡æäº† æœ‰å…¶ä»–æ´»

ç¬¬ä¸‰æ¬¡ï¼šä¹Ÿæ˜¯è¿™æ¬¡... Autowareçš„è¿æ¥ï¼Œå½“ç„¶å°±åŒ…æ‹¬ROSäº†ï¼Œå…¶å®ä¸éš¾æŸ¥åˆ°Carlaæœ‰ä¸€ä¸ªä¸“é—¨çš„åˆ†æ”¯æ˜¯ç”¨autowareå†…æ ¸çš„ï¼Œä½†æ˜¯å‘¢... ä»‹äºæˆ‘ä»¬è¿˜è¦ä¸Šå®è½¦ï¼Œæ‰€ä»¥å°±ç›¸å½“äºremapåˆ°autowareçš„topicä¸Šäº†ï¼Œä½†æ˜¯è¿™æ¬¡å› ä¸ºè¦è®¾ç½®NPCç©å®¶çš„è½¨è¿¹ä»¥ä¾¿éªŒè¯æ¯ä¸ªæ­¥éª¤çš„æµç¨‹ã€è¯†åˆ«ã€OpenPlannerçš„è¡Œé©¶ã€‘æ‰€ä»¥å°±åˆšå¥½è®¤è®¤çœŸçœŸçœ‹ä¸€æ¬¡é¡ºä¾¿åšä¸ªç¬”è®°

è¿™ä¸ªç³»åˆ—åŒæ­¥åœ¨cnblogå’Œcsdnä¸Šè¿›è¡Œæ›´æ–°ï¼Œç›¸å…³ä¸“æ å’Œåˆ†ç±»é“¾æ¥å¦‚ä¸‹ï¼Œæœ‰ç”¨çš„è¯ ç‚¹ä¸ªå°èµï¼Œæ­£å‘åé¦ˆ~ ğŸ‘

1.  CSDN: [https://blog.csdn.net/qq\_39537898/category\_11562137.html](https://blog.csdn.net/qq_39537898/category_11562137.html)
2.  cnblog: [https://www.cnblogs.com/kin-zhang/category/2096236.html](https://www.cnblogs.com/kin-zhang/category/2096236.html)

* * *

æ›´æ–°æ—¥å¿—ï¼š

20220527ï¼šé‡ç½® åˆ é™¤ç›¸å…³notionå¤–é“¾ç­‰ æ·»åŠ ç›¸å…³å›¾ç‰‡å’Œå¯¹åº”é“¾æ¥

20220525ï¼šè¿›è¡Œäº†ä¸€æ¬¡è¾ƒä¸ºå¤§çš„æ”¹åŠ¨ï¼Œé‡ç»„äº†ä¸€ä¸‹ç›®å½• å’Œ ä¸€äº›å†…å®¹ï¼›å»æ‰äº†ä¸€äº›åŸæ–‡çš„å¤§æ®µè‹±æ–‡

20210420ï¼šç¬¬ä¸€ç‰ˆè¯´æ˜å‘å¸ƒï¼Œæ€»ç»“äº†CARLAçš„åŸºæœ¬ä½¿ç”¨

1\. CARLA ä¸–ç•Œç»„æˆ
==============

è¿™ä¸€ç‚¹åœ¨å¼•ç”¨3. [Carlaè¾ƒå…¨é¢çš„ä»‹ç»](https://www.zhihu.com/column/c_1324712096148516864) è¿›è¡Œäº†ä»‹ç»ï¼Œæ‰€ä»¥æˆ‘å°±å†™ç‚¹ æˆ‘çš„note/è¡¥å……

é¦–å…ˆæ˜¯äº¤äº’å½¢å¼ï¼šClient-Serverï¼Œæ‰€ä»¥å½“æ—¶æˆ‘æå‡ºwindowsä¸Šæ— æ³•è¿è¡ŒæˆåŠŸæ—¶æœ‰äººå›å¤ï¼šæ˜¯å¦æ˜¯2000å£æ²¡æœ‰å¼€ï¼ˆä½†åç»­æˆ‘ç¡®è®¤è¿‡å¼€äº†è¿˜æ˜¯ä¸è¡Œï¼‰å°±ç±»ä¼¼äºIPæ¡æ‰‹è¿æ¥çš„æ„Ÿè§‰ï¼Ÿæ‰€ä»¥åº”è¯¥æ˜¯å¯ä»¥åœ¨ä¸»æœºç›´æ¥è¿æ¥åˆ°å…¶ä»–è·‘ä»¿çœŸä¸»æœºçš„host\_ipçš„

ä¸»è¦æ ¸å¿ƒ
----

ä»…è¿›è¡Œä¸€äº›ç®€å•ä»‹ç»ï¼Œå¯¹æ•´ä½“æœ‰ä¸ªæ¦‚å¿µï¼Œå¦‚æœæ²¡æœ‰åˆ°ç”¨ä¸Šçš„æ—¶å€™ï¼Œæ²¡æœ‰åšè¯´æ˜çš„ï¼Œå¯ä»¥æš‚æ—¶ä¸ç”¨æ·±å…¥äº†è§£

*   **Traffic manager.** ç±»ä¼¼äºä¸€ä¸ªè½¦è¾†ç®¡ç†å™¨ï¼Œæ›´å¤šè¯¦æƒ…è§ [\[3\] NPCç®¡ç†/Traffic Manager](https://blog.csdn.net/qq_39537898/article/details/117562578) ï¼Œâ€¼ï¸ å»ºè®®åç»­è¿›è¡Œäº†è§£
*   **Sensors.** è½¦è¾†ä¸Šçš„ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®ï¼ŒCARLAå†…ç½®æœ‰ä¸å°‘çš„ä¼ æ„Ÿå™¨ï¼ˆLiDAR, Camera, Depth, DVS, Radarç­‰ç­‰ï¼‰
*   **Recorder.** å†…ç½®çš„ä¸€ä¸ªè®°å½•å·¥å…·ï¼Œå’Œrosbagå¼‚æ›²åŒå·¥ï¼Œæ›´å¤šè¯¦æƒ…è§ [\[9\] replayç”¨æ³•](xxTODO)
*   **ROS bridge and Autoware implementation.** å’ŒROSç›¸å…³çš„ä¸€äº›bridgeï¼Œå¯ä»¥ç›´æ¥çœ‹[github ros-bridgeçš„ç”¨æ³•](https://github.com/carla-simulator/ros-bridge)
*   **Open assets.** åŸé•‡çš„ä¸€äº›è´´å›¾ä¹‹ç±»çš„ï¼Œassetsï¼Œå¦‚æœä¸èµ°UE4 æºç ç¼–è¯‘ï¼ŒåŸºæœ¬ä¸ä¼šç”¨ä¸Šï¼Œ0.9.13é‡Œè¿›è¡Œäº†æ›´æ–°ï¼Œå¯ä»¥ä¿®æ”¹ä¸€äº›è´´å›¾ï¼Œæ›´å¤šå»ºè®®è‡ªå·±æ¢ç´¢
*   **Scenario runner.** åœºæ™¯ç”Ÿæˆå™¨ï¼Œç±»ä¼¼äºåšç®—æ³•æµ‹è¯•æ—¶å¸Œæœ›èƒ½ç”Ÿæˆç‰¹å®šåœºæ™¯çš„åŠŸèƒ½ã€‚æ›´å¤šè¯¦æƒ…å¯ä»¥çœ‹çœ‹CARLAåŠçš„æ’è¡Œæ¦œæ¯”èµ› [\[7\] Carla leaderboard æ’è¡Œæ¦œ](xxTODO)ï¼Œ0.9.11/12 å¥½åƒå¼•å…¥äº†openscenarioçš„æ ¼å¼è¿›è¡Œè®¾ç½®

2\. å¤´æ–‡ä»¶è®¾ç½®
=========

ä¸€èˆ¬æœ€å¥½çš„å­¦ä¹ æ–¹å¼æ˜¯ç›´æ¥å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹çš„ç¤ºä¾‹ï¼Œä¸€èˆ¬ç”¨å‹ç¼©åŒ…å®‰è£…æ³•æ‰“å¼€åï¼Œæ•´ä½“æ–‡ä»¶å¤¹çš„ä½ç½®å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ° `PythonAPI/examples` æ–‡ä»¶å¤¹ä¸‹æœ‰å¾ˆå¤šç¤ºä¾‹

    âœ  CARLA tree -L 1
    .
    â”œâ”€â”€ CarlaUE4
    â”œâ”€â”€ CarlaUE4.sh
    â”œâ”€â”€ CHANGELOG
    â”œâ”€â”€ Co-Simulation
    â”œâ”€â”€ Dockerfile
    â”œâ”€â”€ Engine
    â”œâ”€â”€ HDMaps
    â”œâ”€â”€ Import
    â”œâ”€â”€ ImportAssets.sh
    â”œâ”€â”€ LICENSE
    â”œâ”€â”€ Manifest_DebugFiles_Linux.txt
    â”œâ”€â”€ Plugins
    â”œâ”€â”€ PythonAPI
    â”‚   â”œâ”€â”€ carla
    â”‚   â”œâ”€â”€ examples
    â”‚   â”œâ”€â”€ python_api.md
    â”‚   â”œâ”€â”€ tutorials
    â”‚   â””â”€â”€ util
    â”œâ”€â”€ README
    â”œâ”€â”€ Tools
    â””â”€â”€ VERSION
    

ç„¶åæ‰“å¼€æ—¶å¯ä»¥çœ‹åˆ°åŸºæœ¬ä¸Šæ‰€æœ‰çš„å¼€å¤´éƒ½æœ‰è¿™æ ·ä¸€æ®µcodeï¼Œå…¶å®åŸå› æ˜¯å› ä¸ºcarlaæœ‰è‡ªå·±çš„python apiåº“ï¼Œå¯ä»¥é€šè¿‡æ­¤è¿›è¡Œå®šä½å¯¼å…¥

    # -- coding:UTF-8 --
    #!/usr/bin/env python
    
    import glob
    import os
    import sys
    import time
    
    try:
        sys.path.append(glob.glob('../carla/dist/carla-*%d.%d-%s.egg' % (
            sys.version_info.major,
            sys.version_info.minor,
            'win-amd64' if os.name == 'nt' else 'linux-x86_64'))[0])
    except IndexError:
        pass
    
    import carla
    

æ¯ä¸ªæ–‡ä»¶è¯·å¤åˆ¶è¿™ä¸ªåˆ°å¤´ï¼Œæˆ–è€…æŒ‰ç…§ä¸‹é¢æ‰€ç¤ºæ·»åŠ åº“åˆ°è‡ªå·±çš„è·¯å¾„ä¸­

0.9.13åŠåçš„éƒ½å¯ä»¥é€šè¿‡pip install

    pip3 install carla
    

0.9.12åŠä»¥ä¸‹çš„ã€å¼•ç”¨3. æåˆ°çš„æ–¹æ³•æŠŠcarlaå†…ç½®äºpythonåº“å½“ä¸­å»ã€‘ æ³¨æ„ä¿®æ”¹è‡ªå·±çš„CARLAæ–‡ä»¶å¤¹ã€ç‰ˆæœ¬å·å’ŒPython ç‰ˆæœ¬å·

    cd ~/CARLA_0.9.11/PythonAPI/carla/dist/
    unzip carla-0.9.11-py2.7-linux-x86_64.egg -d carla-0.9.11-py2.7-linux-x86_64
    cd carla-0.9.11-py2.7-linux-x86_64
    gedit setup.py
    

ç„¶åå¤åˆ¶è¿™æ®µåˆ°setup.pyé‡Œ

    from distutils.core import setup
    setup(name='carla',
          version='0.9.11', 
          py_modules=['carla'],
          )
    

æœ€åinstallä¸€ä¸‹å°±è¡Œ

    pip install -e ~/CARLA_0.9.11/PythonAPI/carla/dist/carla-0.9.11-py2.7-linux-x86_64
    

3\. åˆæ­¥æ¢ç´¢
========

æ­¤ç« èŠ‚ä¸»è¦å‚ç…§å®˜æ–¹æ–‡æ¡£çš„first stepé‡Œçš„å†…å®¹ï¼Œå­¦æœ‰ä½™åŠ›è€…å¯ç›´æ¥é˜…è¯»[è‹±æ–‡åŸç‰ˆæ–‡æ¡£](https://carla.readthedocs.io/en/0.9.13/core_concepts/)ï¼Œä¹‹ä¸­ä¼šæ·»åŠ ä¸€äº›è‡ªå·±çš„ä½¿ç”¨ç»éªŒå’Œç¢ç¢å¿µ

1st - World and Client
----------------------

* * *

    # è¿™é‡Œæ˜¯è¿æ¥Carla æœåŠ¡å™¨
    client = carla.Client('localhost', 2000)
    client.set_timeout(10.0) # seconds
    
    # è¯»å–ç°åœ¨å¼€å¯çš„Carlaé‡Œçš„ä¸–ç•Œä¿¡æ¯
    world = client.get_world()
    

è¯»å–ä¸–ç•Œä¿¡æ¯çš„æ“ä½œå‘¢ï¼Œä¸»è¦æ˜¯ä¸ºäº†åé¢èƒ½

*   `world.get_map()` æ‹¿åˆ°ä¸–ç•Œåœ°å›¾
*   `world.spawn_actor` åœ¨ä¸–ç•Œå†…ç”ŸæˆNPCæˆ–è‡ªå·±çš„è½¦
*   `world.get_blueprint_library()` åœ¨ä¸–ç•Œè¯»blueprintçš„åº“é‡Œéƒ½æœ‰äº›å•¥ åŠ è½¦åŠ ä¼ æ„Ÿå™¨
*   `world.get_random_location_from_navigation()` å°±æ˜¯ä»–åå­—å†™çš„é‚£æ ·

é‚£ä¹ˆè¿™äº›ç‚¹åé¢çš„ æˆ‘ä»¬åº”è¯¥ä»å“ªé‡Œå¾—çŸ¥å‘¢ï¼Ÿâ†’ [è·³è½¬å®˜æ–¹æ–‡æ¡£é“¾æ¥](https://carla.readthedocs.io/en/latest/python_api/#carla.World)

2nd - Actors and blueprints
---------------------------

* * *

å…³äºworldèƒ½å¾—åˆ°çš„æ‰€æœ‰çš„è“å›¾è§[æ­¤é“¾æ¥](https://carla.readthedocs.io/en/latest/bp_library/)ï¼Œæˆ‘ä»¬å…ˆè¯•ç€ç”Ÿæˆä¸€è¾†è½¦

    # get blueprint library 
    blueprint_library = world.get_blueprint_library()
    # ä½ å¯ä»¥åœ¨ä¸Šé¢ç»™çš„é“¾æ¥ä¸­æ‰¾åˆ° ä½ æƒ³æ·»åŠ çš„ä¸œè¥¿
    ego_vehicle_bp = blueprint_library.find('vehicle.audi.a2')
    # ç»™æˆ‘ä»¬çš„è½¦åŠ ä¸Šç‰¹å®šçš„é¢œè‰²
    ego_vehicle_bp.set_attribute('color', '0, 0, 0')
    

å…³äºç¬¬äºŒç‚¹ï¼Œæ˜¯åœ¨findé‡Œæ‰¾åˆ°æ·»åŠ çš„ä¸œè¥¿ï¼Œå»ºè®®æ‰“å¼€ç½‘é¡µç„¶åCTRL+Fï¼Œç„¶åæœç´¢å…³é”®å­—ï¼Œæ¯”å¦‚

*   å¦‚æœä½ æƒ³æ·»åŠ çš„æ˜¯ä¼ æ„Ÿå™¨é‚£ä¹ˆä¸€èˆ¬ä»¥sensorå¼€å¤´ï¼Œsensor.sensor\_typeï¼ˆä¼ æ„Ÿå™¨.ä¼ æ„Ÿå™¨ç±»å‹ï¼‰ `sensor.lidar.ray_cast` å°±æ˜¯æ¿€å…‰é›·è¾¾ï¼Œ`sensor.other.collision` å°±æ˜¯ç¢°æ’æ£€æµ‹çš„ã€å…·ä½“æ˜¯å•¥å‘¢ å’±ä¹Ÿä¸ç”¨ç®¡ã€‘
*   å¦‚æœæ˜¯è½¦å‘¢ï¼Œä¸€èˆ¬å°±æ˜¯vehicleå¼€å¤´ï¼Œ`vehicle.audi.a2` å°±æ˜¯å¥¥è¿ªA2çš„è½¦å‹

Attributes have an [carla.ActorAttributeType](https://carla.readthedocs.io/en/latest/python_api/#carla.ActorAttributeType) variable. It states its type from a list of enums. Also, modifiable attributes come with a list of recommended values.  
è¿™å¥è¯æ˜¯æŒ‡ æ¯ä¸€ä¸ªblueprintå‘¢éƒ½æ˜¯æœ‰é™„åŠ çš„ä¸œè¥¿çš„ï¼Œæ¯”å¦‚é¢œè‰²ï¼Ÿä½ å¯ä»¥çœ‹çœ‹å…³äºattibuteçš„ç±»å‹æœ‰å“ªäº›

*    ä½†æ˜¯è¿™ç‚¹æˆ‘æ²¡å‘ç°æ˜¯ä»å“ªé‡Œæ¥çš„ï¼Œæ¯”å¦‚æˆ‘æ€ä¹ˆçŸ¥é“attributeæœ‰é¢œè‰²
    
    çŸ¥é“äº†åœ¨BPçš„åº“é“¾æ¥é‡Œèƒ½çœ‹åˆ°ï¼Œæ¯ä¸€ä¸ªfindé‡Œé¢éƒ½æœ‰å®ƒè‡ªèº«é™„å¸¦çš„å±æ€§ï¼›å¯ä»¥[è·å–æˆ–è®¾ç½®attribute](https://carla.readthedocs.io/en/latest/python_api/#carla.ActorBlueprint.get_attribute)
    

![](https://img-blog.csdnimg.cn/20210421084346153.png)

* * *

çœ‹å®Œäº†æ€ä¹ˆå»æ‰¾åˆ°blueprintï¼Œé‚£ä¹ˆæ€ä¹ˆæŠŠä»–åŠ å…¥åˆ°worldå¹¶è·Ÿè¸ªå…¶çŠ¶æ€ï¼ŒåŒ…æ‹¬ä½ç½®ã€ä¿¡æ¯(å¦‚æœæ˜¯ä¼ æ„Ÿå™¨çš„è¯ å°±ä¼šæœ‰ä¼ æ„Ÿå™¨çš„ä¸€ç³»åˆ—æ¶ˆæ¯ æ¯”å¦‚ç›¸æœºä¼šæœ‰å›¾ç‰‡ã€æ¿€å…‰é›·è¾¾ä¼šæœ‰ç‚¹äº‘)

The world object is responsible of spawning actors and keeping track of these. Spawning only requires a blueprint, and a [carla.Transform](https://carla.readthedocs.io/en/latest/python_api/#carla.Transform) stating a location and rotation for the actor.

ä¹Ÿå°±æ˜¯æˆ‘ä»¬å·²ç»æœ‰äº†blueprinté‚£ä¹ˆåªéœ€è¦ç»™å‡ºtransformå°±OKå•¦ï¼

    # è®¾ç½®å›ºå®šç‚¹ï¼Œå’Œä»–çš„æœå‘åº”è¯¥æ˜¯æ€æ ·çš„
    transform = carla.Transform(carla.Location(x=-9, y=80, z=2), carla.Rotation(yaw=180))
    
    # éšæœºçš„è·å–ä¸–ç•Œä¸­çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸€è¡Œä½ ä¹Ÿå¯ä»¥åœ¨spwan_npc.pyä¸­çœ‹åˆ°
    spawn_points = world.get_map().get_spawn_points()
    
    # ç„¶åæŠŠä¹‹å‰çš„blueprintå¡«å…¥ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼Œtransformå¡«å…¥ç¬¬äºŒä¸ªå‚æ•°ä¸­
    actor = world.spawn_actor(ego_vehicle_bp, transform)
    

*   `map.get_spawn_points()` for **vehicles**. Returns a list of recommended spawning points.
*   `world.get_random_location()` for **walkers**. Returns a random point on a sidewalk. This same method is used to set a goal location for walkers.

å®˜æ–¹æ–‡æ¡£çš„[è¿™ä¸ªç« èŠ‚æœ‰è¯¦ç»†çš„è®²è§£](https://carla.readthedocs.io/en/latest/core_actors/#spawning)æ€ä¹ˆæ·»åŠ ä¼ æ„Ÿå™¨åˆ°è½¦ä¸Šï¼Œè¡Œäººçš„è½¨è¿¹ç­‰ã€‚åŸºäºæˆ‘çš„éœ€æ±‚ æˆ‘å°±å†™åˆ°è¿™é‡Œäº†ï¼Œå™¢ è¿˜æœ‰ä¸ªéƒ¨åˆ†å°±æ˜¯åˆ›å»ºå‡ºæ¥çš„NPCä½ åœ¨é€€å‡ºçš„æ—¶å€™è¦é”€æ¯ï¼Œä¸ç„¶... å°±ä¼šæœ‰å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šNPCåªèƒ½å…³é—­Carlaæœ¬èº«å»é”€æ¯ï¼Œè€Œä¸”åç»­ä¹Ÿå®¹æ˜“å‡ºBUG

ç„¶åè¿™é‡Œå°±æ˜¯è¿è¡Œå®Œåç›´æ¥CTRL+Cåœæ­¢è„šæœ¬çš„åŒæ—¶ï¼Œæ‰§è¡Œé”€æ¯

![](https://img-blog.csdnimg.cn/20210420231906209.png)

æŒ‰ç…§ä¸‹é¢çš„ä»£ç åŠä½ç½®ç”Ÿæˆè½¦è¾†

![](https://img-blog.csdnimg.cn/20210420231918786.png)

åœæ­¢è¿è¡Œå¹¶ï¼Œé”€æ¯è½¦è¾†

*   å®Œæ•´ä»£ç è§ï¼š
    
        # -- coding:UTF-8 --
        #!/usr/bin/env python
        # Author:Kin Zhang
        # email: kin_eng@163.com
        
        import glob
        import os
        import sys
        import time
        
        try:
            sys.path.append(glob.glob('../carla/dist/carla-*%d.%d-%s.egg' % (
                sys.version_info.major,
                sys.version_info.minor,
                'win-amd64' if os.name == 'nt' else 'linux-x86_64'))[0])
        except IndexError:
            pass
        
        import carla
        
        from carla import VehicleLightState as vls
        
        import argparse
        import logging
        from numpy import random
        
        def main():
            synchronous_master = False
            try:
                client = carla.Client('localhost', 2000)
                client.set_timeout(2.0)
                world = client.get_world()
        
                # æ‹¿åˆ°è¿™ä¸ªä¸–ç•Œæ‰€æœ‰ç‰©ä½“çš„è“å›¾
                blueprint_library = world.get_blueprint_library()
                # ä»æµ©ç€šå¦‚æµ·çš„è“å›¾ä¸­æ‰¾åˆ°å¥”é©°çš„è“å›¾
                ego_vehicle_bp = blueprint_library.find('vehicle.audi.a2')
                # ç»™æˆ‘ä»¬çš„è½¦åŠ ä¸Šç‰¹å®šçš„é¢œè‰²
                ego_vehicle_bp.set_attribute('color', '0, 0, 0')
        
                # æ‰¾åˆ°æ‰€æœ‰å¯ä»¥ä½œä¸ºåˆå§‹ç‚¹çš„ä½ç½®å¹¶éšæœºé€‰æ‹©ä¸€ä¸ª
                # transform = random.choice(world.get_map().get_spawn_points())
                
                # è®¾ç½®å›ºå®šç‚¹
                transform = carla.Transform(carla.Location(x=-9, y=80, z=2), carla.Rotation(yaw=90))
                # åœ¨è¿™ä¸ªä½ç½®ç”Ÿæˆæ±½è½¦
                ego_vehicle = world.spawn_actor(ego_vehicle_bp, transform)
        
                while True:
                    if synchronous_master:
                        world.tick()
                    else:
                        world.wait_for_tick()
            finally:
                # å¦‚æœè®¾ç½®äº†åŒæ­¥è®°å¾— è®¾ç½®å›å»å¼‚æ­¥å¦åˆ™ä¸‹æ¬¡æ— æ³•å¼€å¯åŒæ­¥
                if synchronous_master:
                    settings = world.get_settings()
                    settings.synchronous_mode = False
                    settings.fixed_delta_seconds = None
                    world.apply_settings(settings)
                print('\ndestroying vehicles')
                ego_vehicle.destroy()
                time.sleep(0.5)
        
        if __name__ == '__main__':
        
            try:
                main()
            except KeyboardInterrupt:
                pass
            finally:
                print('\ndone.')
        
    

å…³äºç”Ÿæˆæˆ‘ä»¬å·²ç»æ¸…æ¥šäº†ã€å¯ä»¥ç•™ä¸ªä½œä¸šï¼šæ€ä¹ˆç”Ÿæˆèµ°è·¯çš„è¡Œäººï¼Œä¹Ÿå°±æ˜¯åˆ¶ä½œé‡å¤è¡Œäººè¿‡é©¬è·¯çš„åœºæ™¯ .gifå›¾å¦‚ä¸‹ï¼Œä¼šå†ä¸‹æ¬¡å†è´´ä»£ç è®²ã€‘é‚£ä¹ˆåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯èƒ½éœ€è¦è®¾ç½®è¡Œäººè¿‡é©¬è·¯æˆ–è€…çªç„¶æ¨ªç©¿é©¬è·¯çš„æƒ…æ™¯ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»§ç»­å®ç°å‰è€…ä»¥ä¾¿éªŒè¯ä¸€äº›æ„ŸçŸ¥ã€è§„åˆ’ç®—æ³•ç­‰

![](https://img2020.cnblogs.com/blog/1594052/202104/1594052-20210425185604596-1505545357.gif)

é¦–å…ˆå…³äºè¿™ä¸€ç‚¹è¿˜æœ‰ä¸€äº›çŸ¥è¯†ï¼Œä½†ä¹Ÿå°±æ˜¯å®˜ç½‘ä¸Šçš„ï¼Œä¸»è¦å‘¢å°±æ˜¯è¯´ æ•´ä¸ªactorçš„çŠ¶æ€ä½ éƒ½æ˜¯å¯ä»¥çŸ¥é“çš„ï¼›å½“ä½ ç”Ÿæˆäº†å¾ˆå¤šactorsåï¼Œå¯ä»¥ä½¿ç”¨

    # è¯»å–ç°åœ¨å¼€å¯çš„Carlaé‡Œçš„ä¸–ç•Œä¿¡æ¯
    world = client.get_world()
    # å‰ææ˜¯ä½ å®šä¹‰çš„client.get_world()æ˜¯èµ‹ç»™äº†å«worldçš„å˜é‡å“ˆ
    
    # è¿™æ ·å°±æ‹¿åˆ°äº†è¿™ä¸ªä¸–ç•Œé‡Œæ‰€æœ‰actorçš„ä¿¡æ¯
    actor_list = world.get_actors()
    
    

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¸­æ˜¯è¿è¡Œçš„ç»“æœï¼Œå¦‚æœä½ åªæƒ³å…³æ³¨vehicleå¯ä»¥`actor_list.filter('vehicle.*')` è€Œå›¾ç‰‡ä¸­æˆ‘æ˜¯æŠ½å–äº†é™é€Ÿæ ‡å¿— çœ‹çœ‹æ‰€æœ‰é™é€Ÿæ ‡å¿—çš„ä½ç½®å³å…¶idå·

![](https://img-blog.csdnimg.cn/c24ae1c4bbc449a7ab48ca88641479b5.png)

é‚£ä¹ˆæˆ‘æ˜¯æ€ä¹ˆçŸ¥é“ä»–çš„æ˜¯type\_idè€Œä¸æ˜¯typeå‘¢ï¼Ÿã€åˆ«é—® é—®å°±æ˜¯æˆ‘... ä»¥ä¸ºæ˜¯typeç„¶åæŠ¥é”™äº† ç„¶åå°±å»å®˜ç½‘ï¼Œæœ‰ä¸€è¯´ä¸€å®˜ç½‘çš„æ–‡æ¡£å†™çš„é‚£å«ä¸€ä¸ªå¥½ï¼Œå‰ææ˜¯ä½ å…¥é—¨äº†è¿™ä¸ª..ã€‘

[Python API reference](https://carla.readthedocs.io/en/latest/python_api/)

æ‰“å¼€æ–‡æ¡£åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚å›¾æ‰€ç¤ºçš„ç„¶åå°±çŸ¥é“äº†ä¸€ä¸ªactoræ‰€åŒ…å«çš„ä¸œè¥¿ï¼Œå¾€ä¸‹ç¿»è¿˜å¯ä»¥çœ‹åˆ°ä¸ºä»€ä¹ˆæˆ‘èƒ½æ‹¿åˆ°ä»–çš„ä½ç½®å› ä¸ºMethodsé‡Œé¢æœ‰ï¼šGetterséƒ½æœ‰äº›å•¥

![](https://img-blog.csdnimg.cn/20210426170031474.png)

åŒæ—¶è¿˜å¯ä»¥è®¾ç½®ä¸€äº›å‚æ•°ï¼Œæ³¨æ„è¾“å…¥çš„æ•°æ®æ ¼å¼å³å¯ï¼Œæ¯”å¦‚ä½ å¯ä»¥å…ˆç”Ÿæˆè½¦è¾†ï¼Œå†æŠŠè½¦è¾†`set_location`

è¯´äº†Actorsçš„æ“ä½œåï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¼ºè°ƒä¸€ç‚¹å‰é¢æåˆ°è¿‡çš„ï¼Œdestoryé”€æ¯è¿™äº›ï¼Œä¸ç„¶ä½ ä»…ä»…é€€å‡ºï¼Œè¿™ä¸ªactorè¿˜æ˜¯ä¼šåœ¨è¿™ä¸ªåœ°å›¾é‡Œçš„ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä½ç½®ä½ è¿˜æ˜¯åœ¨è¿™é‡Œç”Ÿæˆè½¦è¾†

æ‰€ä»¥ä¸€å®šè¦è®°å¾—`destroyed_sucessfully = actor.destroy() # Returns True if successful` è¿™ä¸ªdestoryå‘½ä»¤ åœ¨è¿è¡Œåï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹äºåœ¨Carlaä¸­ç”¨å­¦ä¹ æ¥ä¸æ–­åˆ›é€ åœºæ™¯çš„

å½“ç„¶ä½ è¿˜å¯ä»¥è®¾ç½®ä½ çš„è§†é‡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç»‘å®šä½ çš„è§†é‡ï¼Œæˆ–è€…æ˜¯... ç»‘å®šç›¸æœºçš„ä½ç½® åˆ°å¸æœºçš„ä½ç½®

    spectator = world.get_spectator()
    transform = vehicle.get_transform()
    spectator.set_transform(carla.Transform(transform.location + carla.Location(z=50),
    carla.Rotation(pitch=-90)))
    

è¯»å–äº¤é€šç¯çš„çŠ¶æ€

    #Get the traffic light affecting a vehicle
    if vehicle_actor.is_at_traffic_light():
        traffic_light = vehicle_actor.get_traffic_light()
    

ç”šè‡³æ˜¯æ”¹å˜äº¤é€šç¯çš„çŠ¶æ€ã€ä¸Šå¸æ¨¡å¼ã€‘

    #Change a red traffic light to green
    if traffic_light.get_state() == carla.TrafficLightState.Red:
        traffic_light.set_state(carla.TrafficLightState.Green)
        traffic_light.set_set_green_time(4.0)
    

3rd - Maps and navigation
-------------------------

å•Š åæ‚”ï¼Œå¤ªæ™šæ‰çœ‹è¿™ä¸ªç‚¹... å†™åˆ°è¿™é‡Œè¿˜æ˜¯å†æ¬¡å»ºè®®å¤§å®¶çœ‹å®˜æ–¹æ–‡æ¡£æ¯”è¾ƒå¥½ï¼Œå¦‚æœå¯¹è‹±æ–‡é˜…è¯»æ²¡æœ‰ä»€ä¹ˆéšœç¢çš„è¯ï¼Œæ–‡æ¡£çš„è¯­è¨€éƒ½å¾ˆç®€å•æ”¾å¿ƒ ä¸åƒè®ºæ–‡é‚£æ ·ï¼Œå­—éƒ½è®¤è¯†è¿èµ·æ¥ä¸çŸ¥é“å•¥æ„æ€ã€æ²¡é”™è¯´æˆ‘è‡ªå·±å‘¢ã€‘

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨clientåå»ºç«‹ä¸–ç•Œçš„æ—¶å€™ï¼ŒåŠ è½½è‡ªå·±æƒ³è¦çš„åœ°å›¾

        try:
            client = carla.Client('localhost', 2000)
            client.set_timeout(2.0)
            world = client.load_world('Town01') #load Town 01 Map
    				world = reload_world() #reload the same map as world have
    

Town

Summary

Town01

A basic town layout with all "T junctions".

Town02

Similar to Town01, but smaller.

Town03

The most complex town, with a 5-lane junction, a roundabout, unevenness, a tunnel, and much more. Essentially a medley.

Town04

An infinite loop with a highway and a small town.

Town05

Squared-grid town with cross junctions and a bridge. It has multiple lanes per direction. Useful to perform lane changes.

Town06

Long highways with many highway entrances and exits. It also has a Michigan left.

Town07

A rural environment with narrow roads, barely non traffic lights and barns.

Town10HD

A city environment with with different environments such as an avenue or a promenade, and more realistic textures.

æ›´å¤šå…³äºåŸé•‡è·¯çº¿ä¿¯è§†å›¾å›¾ç‰‡å¯ä»¥[è·³è½¬æ­¤å¤„æŸ¥çœ‹](https://carla.readthedocs.io/en/0.9.11/core_map)

å¯¹äºåœ°å›¾çš„æ ¼å¼ï¼Œå…¶å®å¦‚æœè¦åœ¨å…¶ä»–åœ°æ–¹ç”¨çš„è¯ï¼Œæ˜¯å¯ä»¥ç›´æ¥æå–åœ°å›¾é‡Œçš„waypointç‚¹çš„ï¼Œå‡†ç¡®ç‚¹æ˜¯æ ¹æ®OpenDRIVE 1.4çš„æ ‡å‡†æ¥çœ‹ï¼Œä¹Ÿå°±æ˜¯è¯´å…¶å®åœ¨Carlaä¸–ç•Œé‡Œæ˜¯ä¸éœ€è¦å»ºå›¾ã€å®šä½ï¼Œç›´æ¥å¯¼èˆªå³å¯ï¼ŒThe traffic signs defined in the OpenDRIVE file are translated into CARLA as landmark objects that can be queried from the API. In order to facilitate their manipulation, there have been several additions to it.

*   **[carla.Landmark](https://carla.readthedocs.io/en/latest/python_api/#carla.Landmark)** objects represent the OpenDRIVE signals. The attributes and methods describe the landmark, and where it is effective.
    *   **[carla.LandmarkOrientation](https://carla.readthedocs.io/en/latest/python_api/#carla.LandmarkOrientation)** states the orientation of the landmark with regards of the road's geometry definition.
    *   **[carla.LandmarkType](https://carla.readthedocs.io/en/latest/python_api/#carla.LandmarkType)** contains some common landmark types, to ease translation to OpenDRIVE types.
*   A **[carla.Waypoint](https://carla.readthedocs.io/en/latest/python_api/#carla.Waypoint)** can get landmarks located a certain distance ahead of it. The type of landmark can be specified.
*   The **[carla.Map](https://carla.readthedocs.io/en/latest/python_api/#carla.Map)** retrieves sets of landmarks. It can return all the landmarks in the map, or those having an ID, type or group in common.
*   The **[carla.World](https://carla.readthedocs.io/en/latest/python_api/#carla.World)** acts as intermediary between landmarks, and the _carla.TrafficSign_ and _carla.TrafficLight_ that embody them in the simulation.

ä¸‹é¢æˆ‘ä»¬å¯ä»¥è¯•ç€è¯»å–ä¸€ä¸‹åœ°å›¾é‡Œæœ‰çš„waypointï¼Œ`world.get_map().generate_waypoints(distance)` å¦‚æœæ˜¯è€ç‰ˆæœ¬å¯èƒ½æ˜¯`world.map().generate_waypoints(distance)` æˆ–è€…æ˜¯æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½

![](https://img-blog.csdnimg.cn/20210507211304536.png)

waypointç‚¹æ˜¾ç¤ºå›¾ Town01ä¸‹çš„

    def main():
        
        try:
            SpawnActor = carla.command.SpawnActor
            client = carla.Client('localhost', 2000)
            client.set_timeout(2.0)
            world = client.load_world('Town01')
    
            distance = 10 #waypointçš„é—´è·
            waypoints = world.get_map().generate_waypoints(distance)
            for w in waypoints:
                world.debug.draw_string(w.transform.location, 'O', draw_shadow=False,
                                                color=carla.Color(r=255, g=0, b=0), life_time=120.0,
                                                persistent_lines=True)
            while True:
                world.wait_for_tick()
            
        finally:
            print('\ndestroying vehicles')
            time.sleep(0.5)
    
    if __name__ == '__main__':
    
        try:
            main()
        except KeyboardInterrupt:
            pass
        finally:
            print('\ndone.')
    

è¿™æ ·ä¸€æ¥å¦‚æœåœ¨Carlaé‡Œé¢å»å®ç°ä»€ä¹ˆï¼Œæ ¹æœ¬ä¸éœ€è¦å†ç”¨å¤§é‡‡æ ·çš„æ–¹å¼äº†ï¼Œé‡‡æ ·åªéœ€åœ¨ä¸¤ä¸ªwaypointä¸å¯è¾¾ç‚¹èŒƒå›´å†…å³ã€‚è‡³æ­¤æˆ‘ä»¬å·²ç»çŸ¥é“æ€æ ·è·å–waypointäº†ï¼Œå¯ä»¥è¯•ä¸€è¯•manual\_control.pyå†…ï¼Œè·å–æˆ‘ä»¬è½¦çš„ä½ç½®æ‰€å¤„çš„waypointç”šè‡³æ˜¯lane\_idï¼Œåˆ¤æ–­æ˜¯å¦åœ¨junctioné‡Œç­‰ä¸€ç³»åˆ—

![](https://img-blog.csdnimg.cn/20210507205201400.gif)

è¿è¡Œæ¼”ç¤ºgif åˆ¤æ–­æ˜¯å¦åˆ°äº†äº¤å‰è·¯å£å¤„

![](https://img-blog.csdnimg.cn/20210507211231302.png)

è¿è¡Œåˆ¤æ–­çš„ç¤ºæ„å›¾

    for ego_vehilce in my_vehicles:
                    waypoint01 = my_maps.get_waypoint(ego_vehilce.get_location(),project_to_road=True, lane_type=(carla.LaneType.Driving))
                    client.get_world().debug.draw_string(waypoint01.transform.location, 'O', draw_shadow=False,
                                                color=carla.Color(r=255, g=0, b=0), life_time=120.0,
                                                persistent_lines=True)
                    # Examples of a waypoint accessing to lane information
                    inside_junction = waypoint01.is_junction
                    width = waypoint01.lane_width
                    # right_lm_color = waypoint01.right_lane_marking.color
                    print('waypoint:',waypoint01)
                    print('is inside junction:',inside_junction,'lane width',width)
    

æ’å…¥çš„ä½ç½®ä¸å‰ç½®æ¡ä»¶ï¼š

1.  éœ€è¦ä¸€å¼€å§‹æŠŠè‡ªå·±çš„è½¦å‹å®šä¸‹æ¥ï¼Œæˆ–è€…çœ‹å¥½actor\_idç„¶åå†åˆ°å¦ä¸€ä¸ªpyè„šæœ¬æ‰¾è¿™ä¸ªå¯¹åº”çš„id
2.  ä¸€å®šè¦è®°å¾—get\_map()è¿™æ ·æ‰æœ‰å‰é¢æåˆ°çš„ä¸€äº›æ“ä½œ
3.  waypointå…¶ä¸‹ä¹Ÿæœ‰åˆ¤æ–­ï¼Œ[ç‚¹å‡»æ­¤å¤„å®˜æ–¹æ–‡æ¡£](https://carla.readthedocs.io/en/0.9.11/python_api/#carlawaypoint)è¿›è¡Œäº†è§£
4.  is\_junctionå…¶å®åœ¨å®˜æ–¹çš„3stè¿™ä¸ªèŠ‚ä¸‹å†™é”™äº†åº”è¯¥æ˜¯æ²¡æœ‰()ä¸ç„¶ä¼šæŠ¥é”™bool no callback

![](https://img-blog.csdnimg.cn/20210507211438258.png)

4th. Sensors and data
---------------------

è¿™ä¸€èŠ‚ä¸»è¦æ˜¯å‘Šè¯‰å¤§å®¶æ€ä¹ˆå°†ç°æœ‰çš„è½¦ä¸Šå®‰è£… ä¼ æ„Ÿå™¨ï¼Œå’Œä¼ æ„Ÿå™¨çš„æ•°æ®æ ¼å¼ï¼Œå…¶å®åœ¨manual\_control.pyå’Œtutorial.pyé‡Œé¢éƒ½æœ‰... çœ‹ç€çœ‹ç€ä¹Ÿå°±ä¼šæ¨¡ä»¿äº†ï¼Œæ¯”å¦‚RGBç›¸æœºçš„ï¼Œæ€ä¹ˆçœ‹æœ‰ä»€ä¹ˆå‘¢ï¼Ÿå‰é¢æåˆ°äº†blueprintå¤§é›†åˆå®˜æ–¹æ–‡æ¡£ï¼š[https://carla.readthedocs.io/en/latest/bp\_library/](https://carla.readthedocs.io/en/latest/bp_library/) ç„¶åCTRL+F è¾“å…¥sensorå°±å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ä¼ æ„Ÿå™¨ç±»å‹å³å…¶è¾“å‡ºçš„ä¿¡æ¯

    # æ‰¾åˆ°ä¼ æ„Ÿå™¨çš„è“å›¾
    # Find the blueprint of the sensor.
    blueprint = world.get_blueprint_library().find('sensor.camera.rgb')
    # Modify the attributes of the blueprint to set image resolution and field of view.
    blueprint.set_attribute('image_size_x', '1920')
    blueprint.set_attribute('image_size_y', '1080')
    blueprint.set_attribute('fov', '110')
    # Set the time in seconds between sensor captures
    blueprint.set_attribute('sensor_tick', '1.0')
    
    # è®¾ç½®ä¼ æ„Ÿå™¨ä½ç½®ï¼Œattach toçš„vehicle
    transform = carla.Transform(carla.Location(x=0.8, z=1.7))
    sensor = world.spawn_actor(blueprint, transform, attach_to=my_vehicle)
    
    # æ¥æ”¶ä¼ æ„Ÿå™¨çš„æ•°æ®
    # do_something() will be called each time a new image is generated by the camera.
    sensor.listen(lambda data: do_something(data))
    
    ...
    
    # This collision sensor would print everytime a collision is detected. 
    def callback(event):
        for actor_id in event:
            vehicle = world_ref().get_actor(actor_id)
            print('Vehicle too close: %s' % vehicle.type_id)
    
    sensor02.listen(callback)
    

4\. è¡¥å……
======

å‚è€ƒï¼š[https://carla.readthedocs.io/en/latest/start\_quickstart/#import-additional-assets](https://carla.readthedocs.io/en/latest/start_quickstart/#import-additional-assets)

é™„åŠ åœ°å›¾çš„å¯¼å…¥
-------

å®˜æ–¹çš„packageä¸‹è½½æ¨¡å¼ï¼Œæ˜¯æ²¡æœ‰æŠŠTown06, Town07, and Town10çš„åœ°å›¾æ”¾å…¥çš„ï¼Œä½†æ˜¯å¯ä»¥ç”±xdoræ‰“å¼€ï¼Œå°±æ˜¯ä¸å¸¦æ¨¡å‹çš„ åªæœ‰OpenDriveæ ¼å¼çš„

æ¯”å¦‚ Town7:

![](https://img-blog.csdnimg.cn/c53be507f057478fa5b887cd7bdcfaec.png)

![](https://img-blog.csdnimg.cn/0286a5b032564ce1964c02b6ee23d81d.png)

github

é¦–å…ˆå»[githubçš„release](https://github.com/carla-simulator/carla/releases/tag/0.9.11)ä¸Šä¸‹è½½å¯¹åº”ç‰ˆæœ¬å¯¹åº”ç³»ç»Ÿçš„additional

### Ubuntu/Linux

æŠŠä¸‹è½½çš„å‹ç¼©åŒ…ï¼ˆä¸ç”¨è§£å‹ï¼ï¼‰ç›´æ¥ç§»åˆ°Carlaçš„æ ¹ç›®å½•ä¸‹æœ‰ä¸ªå« Import çš„æ–‡ä»¶å¤¹

move the package to the _Import_ folder and run the following script to extract the contents:

    cd path/to/carla/root
    
    ./ImportAssets.sh
    

![](https://img-blog.csdnimg.cn/fadd69b0b0c64d8b8f1a59021a67e169.png)

ç„¶åå°±å¥½äº†

### Windows

ç›´æ¥è§£å‹åˆ°**æ ¹ç›®å½•**ä¸‹å³å¯

5\. æ€»ç»“
======

1.  CarlaåŸæ¥æ¯”æˆ‘æƒ³çš„å¼ºå¤§å¤ªå¤šäº†ï¼Œä¸»è¦æ˜¯å…³äºåœ°å›¾çš„å®šä¹‰ä¹Ÿå¾ˆæ˜ç¡®ï¼Œä¼ æ„Ÿå™¨ç±»å‹ï¼Œç­‰ç­‰ç­‰ç­‰ç®€ç›´äº†... å¤ªé€‚åˆåšå­¦ä¹ ç±»çš„äº†
2.  æ„Ÿè§‰ä¸‹æ¥å­¦ä¹ Carlaæœ€é‡è¦çš„å°±æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£è€Œä¸æ˜¯ç™¾åº¦ï¼Œé¦–å…ˆæ˜ç¡®è‡ªå·±æƒ³è¦å¹²ä»€ä¹ˆï¼Œæ¯”å¦‚è®¾ç½®é€Ÿåº¦ï¼Œè®¾ç½®ä½ç½®ï¼Œä½ å°±è¦çŸ¥é“actor.get\_location()æˆ–è€…æ˜¯actor.set\_location()è¿™äº›éƒ½å¯ä»¥åœ¨blueprinté‚£é‡Œé¢çœ‹åˆ°æ¯ä¸€ä¸ªblueprintä¸‹éƒ½æœ‰ä»€ä¹ˆå±æ€§
3.  ä»¥ä¸Šï¼Œä¹Ÿç®—æ˜¯ç»™è‡ªå·±åšä¸€ä¸ªç¬”è®°äº†ï¼Œåç»­å¯èƒ½ä¼šç»§ç»­å­¦ä¹ æ€ä¹ˆå»ºç«‹å­¦ä¹ çš„ç¯å¢ƒï¼ˆçœ‹åˆ°githubä¸Šå…¶å®æœ‰å¾ˆå¤šæŒºæ£’çš„ï¼Œä½†æ˜¯ç‰ˆæœ¬éƒ½æ¯”è¾ƒè€äº†ï¼‰

* * *

èµ äººç‚¹èµ æ‰‹æœ‰ä½™é¦™ ğŸ˜†ï¼›æ­£å‘å›é¦ˆ æ‰èƒ½æ›´å¥½å¼€æ”¾è®°å½• hhh