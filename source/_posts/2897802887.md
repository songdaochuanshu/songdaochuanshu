---
layout: post
title: "温故知新 - 靶机练习-Toppo"
date: "2023-01-03T20:17:05.903Z"
---
温故知新 - 靶机练习-Toppo
=================

今天闲来无事，重新做了一下以前做过的第一个靶机(https://www.cnblogs.com/sallyzhang/p/12792042.html)，这个靶机主要是练习sudo提权，当时不会也没理解。

开启靶机，直接告诉了IP地址：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207162910633-1638321919.png)

端口扫描：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207162948798-341584958.png)

 目录扫描：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207163051271-737273430.png)

一个一个访问，发现密码：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207163152732-876887456.png)

尝试用账户root，admin，ted登录，发现ted登录成功，但不是root权限：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207163321017-850980510.png)

上传扫描文件进行信息搜集，从搜集的信息发现可进行sudo提权：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207152749000-1383730288.png)

网上搜一下awk命令咋执行的。。。

查看shadow文件：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207160908445-822768733.png)

执行/bin/bash，不是root。。。

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207161917543-1574332235.png)

 回去翻一下搜集到的信息：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207162501493-698858742.png)

再次尝试，成功：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207162537994-890013697.png)

完成：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207163544777-359436145.png)

又试了下其他几个：

![](https://img2023.cnblogs.com/blog/832604/202212/832604-20221207162740434-119722403.png)

有的是ted权限，有的是root，所以前期的信息搜集还是很有用的，如果只是尝试/bin/bash没有提权到root可能就放弃了。