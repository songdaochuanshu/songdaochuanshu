---
layout: post
title: "ä»0æ­å»ºvue3ç»„ä»¶åº“: å¦‚ä½•å®Œæ•´æ­å»ºä¸€ä¸ªå‰ç«¯è„šæ‰‹æ¶?"
date: "2022-10-25T09:33:54.977Z"
---
ä»0æ­å»ºvue3ç»„ä»¶åº“: å¦‚ä½•å®Œæ•´æ­å»ºä¸€ä¸ªå‰ç«¯è„šæ‰‹æ¶?
===========================

ç›¸ä¿¡å¤§å®¶åœ¨å‰ç«¯å¼€å‘ä¸­éƒ½ä½¿ç”¨è¿‡å¾ˆå¤šå‰ç«¯è„šæ‰‹æ¶ï¼Œå¦‚vue-cliï¼Œcreate-viteï¼Œcreate-vueç­‰ï¼›æœ¬ç¯‡æ–‡ç« å°†ä¼šä¸ºå¤§å®¶è¯¦ç»†ä»‹ç»è¿™äº›å‰ç«¯è„šæ‰‹æ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå¹¶ä¸”ä»é›¶å®ç°ä¸€ä¸ª`create-kitty`è„šæ‰‹æ¶å‘å¸ƒåˆ°npmä¸Šã€‚

pnpmæ­å»ºMonorepoç¯å¢ƒ
----------------

ä½¿ç”¨pnpmç®¡ç†å¯¹é¡¹ç›®è¿›è¡Œç®¡ç†æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œæå¤§çš„è§£å†³äº†å¤šä¸ªåŒ…åœ¨æœ¬åœ°è°ƒè¯•ç¹ççš„é—®é¢˜ã€‚

**ä»€ä¹ˆæ˜¯Monorepoï¼Ÿ**

å°±æ˜¯æŒ‡åœ¨ä¸€ä¸ªå¤§çš„é¡¹ç›®ä»“åº“ä¸­ï¼Œç®¡ç†å¤šä¸ªæ¨¡å—/åŒ…ï¼ˆpackageï¼‰ï¼Œè¿™ç§ç±»å‹çš„é¡¹ç›®å¤§éƒ½åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªpackagesæ–‡ä»¶å¤¹ï¼Œåˆ†å¤šä¸ªé¡¹ç›®ç®¡ç†ã€‚å¤§æ¦‚ç»“æ„å¦‚ä¸‹ï¼š

    -- packages
      -- pkg1
        --package.json
      -- pkg2
        --package.json
    --package.json
      
    

ç®€å•æ¥è¯´å°±æ˜¯**å•ä»“åº“ å¤šé¡¹ç›®**

ç›®å‰å¾ˆå¤šæˆ‘ä»¬ç†ŸçŸ¥çš„é¡¹ç›®éƒ½æ˜¯é‡‡ç”¨è¿™ç§æ¨¡å¼ï¼Œå¦‚Vantï¼ŒElementUIï¼ŒVue3ç­‰ã€‚æ‰“é€ ä¸€ä¸ªMonorepoç¯å¢ƒçš„å·¥å…·æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šlernaã€pnpmã€yarnç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨pnpmæ¥å¼€å‘æˆ‘ä»¬çš„è„šæ‰‹æ¶`create-kitty`ã€‚

ä½¿ç”¨pnpm
------

### å®‰è£…

é¦–å…ˆæ–°å»ºæ–‡ä»¶å¤¹`kitty-ui`;ç„¶åæ‰§è¡Œ

    npm install pnpm -g
    

### åˆå§‹åŒ–package.json

    pnpm init
    

### æ–°å»ºé…ç½®æ–‡ä»¶ .npmrc

    shamefully-hoist = true
    

è¿™é‡Œç®€å•è¯´ä¸‹ä¸ºä»€ä¹ˆè¦é…ç½®**shamefully-hoist**ã€‚

å¦‚æœæŸäº›å·¥å…·ä»…åœ¨æ ¹ç›®å½•çš„**node\_modules**æ—¶æ‰æœ‰æ•ˆï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºtrueæ¥æå‡é‚£äº›ä¸åœ¨æ ¹ç›®å½•çš„**node\_modules**ï¼Œå°±æ˜¯å°†ä½ å®‰è£…çš„ä¾èµ–åŒ…çš„ä¾èµ–åŒ…çš„ä¾èµ–åŒ…çš„...éƒ½æ”¾åˆ°åŒä¸€çº§åˆ«ï¼ˆæ‰å¹³åŒ–ï¼‰ã€‚è¯´ç™½äº†å°±æ˜¯ä¸è®¾ç½®ä¸ºtrueæœ‰äº›åŒ…å°±æœ‰å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚

monorepoçš„å®ç°
-----------

æ¥ä¸‹å°±æ˜¯pnpmå¦‚ä½•å®ç°monorepoçš„äº†ã€‚

ä¸ºäº†æˆ‘ä»¬å„ä¸ªé¡¹ç›®ä¹‹é—´èƒ½å¤Ÿäº’ç›¸å¼•ç”¨æˆ‘ä»¬è¦åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª**pnpm-workspace.yaml**æ–‡ä»¶å°†æˆ‘ä»¬çš„åŒ…å…³è”èµ·æ¥

    packages:
        - 'packages/**'
    

è¿™æ ·å°±èƒ½å°†æˆ‘ä»¬é¡¹ç›®ä¸‹çš„packagesç›®å½•ä¸‹çš„æ‰€æœ‰åŒ…å…³è”èµ·æ¥äº†ï¼Œå½“ç„¶å¦‚æœä½ æƒ³å…³è”æ›´å¤šç›®å½•ä½ åªéœ€è¦å¾€é‡Œé¢æ·»åŠ å³å¯ã€‚æ ¹æ®ä¸Šé¢çš„ç›®å½•ç»“æ„å¾ˆæ˜¾ç„¶ä½ åœ¨æ ¹ç›®å½•ä¸‹æ–°packagesæ–‡ä»¶å¤¹ï¼Œpackagesæ–‡ä»¶å¤¹æ–°å»º`create-kitty`ä»¥åŠæµ‹è¯•ç”¨çš„`cli-demo`æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ†åˆ«æ‰§è¡Œ`pnpm init`ã€‚

è„šæ‰‹æ¶ç®€å•å®ç°
-------

åœ¨`create-kitty`çš„`package.json`ä¸­æ–°å¢`bin`å±æ€§ç„¶åæŒ‡å‘`index.js`ã€‚è¿™é‡Œå»æ‰äº†`main`å±æ€§ï¼Œå› ä¸ºæˆ‘ä»¬å¼€å‘çš„ä¸æ˜¯å·¥å…·åŒ…ã€‚

    {
      "name": "create-kitty",
      "version": "1.0.0",
      "description": "",
      "bin": "index.js",
      "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
      },
      "keywords": [],
      "author": "",
      "license": "ISC"
    }
    
    

å½“ç„¶ï¼Œbinä¹Ÿæ”¯æŒå¯¹è±¡æ ¼å¼ï¼Œè®©è„šæ‰‹æ¶å¯ä»¥ä½¿ç”¨å¤šä¸ªå‘½ä»¤

    "bin": {
        "create-kitty": "index.js",
        "create-app": "index.js"
      },
    

æ–°å»ºcreate-kitty/index.jsä½œä¸ºè„šæ‰‹æ¶å…¥å£

    #! /usr/bin/env node
    
    console.log("hello kitty")
    

**æ³¨æ„cliå…¥å£æ–‡ä»¶éœ€è¦åŠ `#! /usr/bin/env node`æŒ‡å®šè„šæœ¬çš„è§£é‡Šç¨‹åºä¸ºnodeï¼Œå¦åˆ™ä¼šæŠ¥é”™**

æœ¬åœ°æµ‹è¯•è„šæ‰‹æ¶
-------

æ¥åˆ°æµ‹è¯•åŒ…`cli-demo`æ–‡ä»¶å¤¹ä¸‹ç›´å®‰è£…`create-kitty`

    pnpm add create-kitty
    

ç„¶åå°±ä¼šå‘ç°`cli-demo`ä¸‹çš„`package`å‡ºç°ä¾èµ–,åŒæ—¶åŠ ä¸Š`scripts`

    {
      "name": "cli-demo",
      "version": "1.0.0",
      "description": "",
      "main": "index.js",
      "scripts": {
        "create-kitty": "create-kitty"
      },
      "keywords": [],
      "author": "",
      "license": "ISC",
      "dependencies": {
        "create-kitty": "workspace:^1.0.0"
      }
    }
    
    

ç„¶åæ‰§è¡Œ`pnpm run create-kitty`

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/337f0957cf45461ebfc81d061ad38e91~tplv-k3u1fbpfcp-watermark.image?)

**è¯´æ˜**

å½“æˆ‘ä»¬ä¸Šçº¿çš„æ—¶å€™å¯ä»¥ç›´æ¥æ‰§è¡Œ`npm create kitty`æˆ–è€…`npm init kitty`ï¼Œå®ƒä»¬å…¶å®å°±æ˜¯æ‰§è¡Œ`npx create-kitty`

è§£æç”¨æˆ·è¾“å…¥å‚æ•°
--------

ä¸€èˆ¬è„šæ‰‹æ¶éƒ½ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥ä¸åŒå‘½ä»¤æ¥åšå‡ºä¸åŒæ“ä½œï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥`kitty-ui -v`æç¤ºç‰ˆæœ¬å·ï¼Œ`kitty-ui -h`æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ç­‰ã€‚è€Œå®ç°è¿™äº›åŸºæœ¬åŸç†å°±æ˜¯`process.argv`

å°†`create-kitty`ä¸‹çš„å…¥å£æ–‡ä»¶`index.js`ä¿®æ”¹ä¸º

    #! /usr/bin/env node
    
    console.log(process.argv);
    
    

ç„¶åæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶å¹¶å¸¦å‡ ä¸ªå‚æ•°

![GIF10.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15f9fd79b36041c2bc6861f62b697e53~tplv-k3u1fbpfcp-watermark.image?)

ç„¶åä¼šå‘ç°ç”¨æˆ·ä¼ çš„å‚æ•°åœ¨`process.argv`æ•°ç»„çš„ç¬¬äºŒä½ä»¥åï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ç”¨æˆ·è¾“å…¥ä¸åŒå‚æ•°åšä¸åŒæ“ä½œäº†ã€‚ä½†æ˜¯è¿™æ ·å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¡†æ¶æ¥è§£å†³ã€‚

ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“è§£æå‚æ•°
----------

é¦–å…ˆå®‰è£…`command-line-args`åº“

    pnpm add command-line-args -S
    

æ¥ä¸‹æ¥çœ‹å®ƒæ˜¯å¦‚ä½•è·å–ç”¨æˆ·è¾“å…¥å‚æ•°çš„

    #! /usr/bin/env node
    import commandLineArgs from 'command-line-args';
    
    //é…ç½®å‘½ä»¤å‚æ•°
    const optionDefinitions = [
      { name: 'version', alias: 'v', type: Boolean },
      { name: 'arg1', type: String },
      { name: 'arg2', type: Number },
    ];
    const options = commandLineArgs(optionDefinitions);
    console.log(options);
    

![GIF.gif](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aa923db3ba944ed89b739260e8904667~tplv-k3u1fbpfcp-watermark.image?)

**æ³¨æ„è¿™é‡Œä½¿ç”¨äº†es6çš„è¯­æ³•,æ‰€ä»¥éœ€è¦å°†`package.json`ä¸­çš„typeæŒ‡å®šä¸º`module`**

æ¥ä¸‹æ¥å®æˆ˜ä¸€äº›,æ£€æµ‹ç”¨æˆ·è¾“å…¥`--help`æŒ‡ä»¤,ç„¶åæˆ‘ä»¬è¾“å‡ºä¸€ä¸ªå¸®åŠ©çš„é…ç½®ã€‚

é¦–å…ˆå®‰è£…`command-line-usage`

    pnpm add command-line-usage -S
    

é¦–å…ˆå¼•å…¥`commandLineUsage`,ç„¶åå†™ä¸ªé…ç½®

    import commandLineUsage from 'command-line-usage';
    //å¸®åŠ©å†…å®¹
    const helpSections = [
      {
        header: 'create-kitty',
        content: 'ä¸€ä¸ªå¿«é€Ÿç”Ÿæˆç»„ä»¶åº“æ­å»ºç¯å¢ƒçš„è„šæ‰‹æ¶',
      },
      {
        header: 'Options',
        optionList: [
          {
            name: 'version',
            typeLabel: '{underline boolean}',
            description: 'ç‰ˆæœ¬å·',
          },
          {
            name: 'arg1',
            typeLabel: '{underline string}',
            description: 'å‚æ•°1',
          },
          {
            name: 'arg2',
            typeLabel: '{underline number}',
            description: 'å‚æ•°2',
          },
        ],
      },
    ];
    

åœ¨`command-line-args`ä¸­é…ç½®ä¸ª`help`å‘½ä»¤,å½“è·å–åˆ°`help`çš„æ—¶å€™ç›´æ¥æ‰“å°

    const optionDefinitions = [
      { name: 'help', alias: 'h', type: Boolean },
      { name: 'version', alias: 'v', type: Boolean },
      { name: 'arg1', type: String },
      { name: 'arg2', type: Number },
    ];
    const options = commandLineArgs(optionDefinitions);
    if (options.help) console.log(commandLineUsage(helpSections))
    

![GIF2.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/04c87d9d5aca49868e963c47fed617ec~tplv-k3u1fbpfcp-watermark.image?)

ä½†æ˜¯è¿™æ ·å¥½åƒä¸å¤ªå¥½çœ‹ğŸ¤”ã€‚è¿™é‡Œå¯ä»¥å€ŸåŠ©`chalk`å·¥å…·ç»™æ‰“å°åŠ ä¸ªé¢œè‰²

    pnpm add chalk -S
    

æˆ‘æ¯”è¾ƒå–œæ¬¢ç»¿è‰²,æ‰€ä»¥è®©æ§åˆ¶å°è¾“å‡ºç»¿è‰²çš„å­—ä½“

    import chalk from 'chalk';
    
    ...
    
    if (options.help) console.log(chalk.green(commandLineUsage(helpSections)))
    

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb85eb3664674f31af7b87de6d1ef15a~tplv-k3u1fbpfcp-watermark.image?)

å½“ç„¶å®ƒè¿˜æœ‰å¾ˆå¤šç”¨æ³•,æ„Ÿå…´è¶£å¯ä»¥è‡ªå·±å»ç ”ç©¶ã€‚åˆ°è¿™é‡Œå…³äºç”¨æˆ·å‚æ•°è§£æéƒ¨åˆ†å·®ä¸å¤šå°±ç»“æŸäº†,ä¸‹é¢ä»‹ç»å¦‚ä½•å®ç°äº¤äº’å¼å‘½ä»¤

äº¤äº’å¼å‘½ä»¤
-----

å½“æˆ‘ä»¬ä½¿ç”¨è„šæ‰‹æ¶æ—¶,æœ‰äº›ä¼šæç¤ºæˆ‘ä»¬è¾“å…¥é¡¹ç›®åç§°å’Œé€‰æ‹©æ¨¡æ¿ç­‰,æ¯”å¦‚æ‰§è¡Œ`npm create vite`çš„æ—¶å€™

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05924ee910284b80a156c08f9b83881a~tplv-k3u1fbpfcp-watermark.image?)

å¦‚æœåªæ˜¯ç®€å•äº¤äº’å¯ä»¥é€šè¿‡nodeè‡ªå¸¦çš„`process.stdin`æˆ–è€…`readline`æ¨¡å—å®ç°ã€‚æ¯”å¦‚ç”¨`readline`å®ç°ä¸€ä¸ªç®€å•çš„äº¤äº’å¼å‘½ä»¤

    import readline from 'readline'
    ...
    
    const rl = readline.createInterface({
      input: process.stdin,
      output: process.stdout,
    });
    rl.question('ä½ æ˜¯è°?', function (anwser) {
      console.log(`æˆ‘æ˜¯${anwser}`);
      //æ·»åŠ closeäº‹ä»¶ï¼Œä¸ç„¶ä¸ä¼šç»“æŸ
      rl.close();
    });
    
    

![GIF4.gif](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d574d789d14d4053adf0b08c89322ae0~tplv-k3u1fbpfcp-watermark.image?)

ä½†æ˜¯è¿™é‡Œå¹¶ä¸æ‰“ç®—ç”¨åŸç”Ÿçš„äº¤äº’,è€Œæ˜¯ä½¿ç”¨`prompts`å·¥å…·å®ç°ã€‚é¦–å…ˆå®‰è£…

    pnpm add prompts -S
    

ç„¶åæ¨¡æ‹Ÿä¸€ä¸ªäº¤äº’å¼è¡¨å•,å…¶ä¸­åˆè¾“å…¥æ–‡å­—,å¯†ç ,å•é€‰,å¤šé€‰

    import prompts from 'prompts'
    const promptsOptions = [
      {
        type: 'text',
        name: 'user',
        message: 'ç”¨æˆ·'
      },
      {
        type: 'password',
        name: 'password',
        message: 'å¯†ç '
      },
      {
        type: 'select',//å•é€‰
        name: 'gender',
        message: 'æ€§åˆ«',
        choices: [
          { title: 'ç”·', value: 0 },
          { title: 'å¥³', value: 1 }
        ]
      },
      {
        type: 'multiselect', //å¤šé€‰
        name: 'study',
        message: 'é€‰æ‹©å­¦ä¹ æ¡†æ¶',
        choices: [
          { title: 'Vue', value: 0 },
          { title: 'React', value: 1 },
          { title: 'Angular', value: 2 }
        ]
      },
    ]
    
    const getInputInfo = async () => {
      const res = await prompts(promptsOptions)
      console.log(res)
    }
    getInputInfo()
    

ç„¶åæ‰§è¡Œçœ‹ä¸‹æ•ˆæœ

![GIF7.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/251d01c7bde44bd6817063d1cf60f81a~tplv-k3u1fbpfcp-watermark.image?)

æˆ‘ä»¬æ‹¿åˆ°ç”¨æˆ·è¾“å…¥çš„è¡¨å•å³å¯æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚

æ‹‰å–æ¨¡æ¿
----

å½“æˆ‘ä»¬è·å–åˆ°ç”¨æˆ·è¾“å…¥æˆ–é€‰æ‹©çš„ä¿¡æ¯çš„æ—¶å€™,æˆ‘ä»¬å°±å¯ä»¥è¾“å‡ºå¯¹åº”æ¨¡æ¿ç»™ç”¨æˆ·ã€‚è¿™é‡Œæœ‰ä¸¤ç§é€‰æ‹©,ä¸€ç§æ˜¯ç›´æ¥å°†æ¨¡æ¿æ”¾åœ¨åŒ…é‡Œ,å¦ä¸€ç§æ˜¯è¿œç¨‹æ‹‰å–gitä»“åº“ã€‚æœ¬ç¯‡æ–‡ç« æš‚æ—¶å…ˆä»‹ç»ç¬¬äºŒç§æ–¹å¼

é¦–å…ˆå®‰è£…`download-git-repo`,ä½¿ç”¨å®ƒçš„cloneæ–¹æ³•

    pnpm add download-git-repo -S
    

ç„¶åå®‰è£…ä¸€ä¸ª`loading`æ’ä»¶`ora`

    pnpm add ora -S
    

å†™ä¸€ä¸ªcloneå‡½æ•°(è¿™é‡Œä¾¿äºæ–‡ç« è®²è§£å…¨éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œ,åç»­ä¼šè¿›è¡Œæ¨¡å—çš„è§„åˆ’)

    const gitClone = (remote, name, option) => {
      const downSpinner = ora('æ­£åœ¨ä¸‹è½½æ¨¡æ¿...').start();
      return new Promise((resolve, reject) => {
        download(remote, name, option, err => {
          if (err) {
            downSpinner.fail();
            console.log("err", chalk.red(err));
            reject(err);
            return;
          };
          downSpinner.succeed(chalk.green('æ¨¡æ¿ä¸‹è½½æˆåŠŸï¼'));
          resolve();
        });
      });
    };
    

å®šä¹‰è¿œç¨‹ä»“åº“æ¨¡æ¿åˆ—è¡¨ä»¥åŠåˆ†æ”¯å¹¶ä¸”å¯¹é¡¹ç›®åç§°è¿›è¡Œä¸€äº›æ ¡éªŒ,ç„¶ååœ¨è·å–åˆ°ç”¨æˆ·é€‰æ‹©ä¿¡æ¯åæ‰§è¡Œgitclone

    const remoteList = {
      1: "https://gitee.com/geeksdidi/kittyui.git",
      2: 'xxx'
    }
    const branch = 'master'
    const getInputInfo = async () => {
    
      const res = await prompts(promptsOptions)
      if (!res.name || !res.template) return
      gitClone(`direct:${remoteList[res.template]}#${branch}`, res.name, { clone: true })
    }
    getInputInfo()
    

ç„¶åå¢åŠ ä¸€äº›ä¸ªæ€§åŒ–æ ¡éªŒ

    const promptsOptions = [
      {
        type: 'text',//å•é€‰
        name: 'name',
        message: 'project-name',
        validate(val) {
          if (!val) return 'æ¨¡æ¿åç§°ä¸èƒ½ä¸ºç©ºï¼';
          if (fs.existsSync(res.name)) return 'é¡¹ç›®åå·²å­˜åœ¨'
          if (val.match(/[^A-Za-z0-9\u4e00-\u9fa5_-]/g)) return 'æ¨¡æ¿åç§°åŒ…å«éæ³•å­—ç¬¦ï¼Œè¯·é‡æ–°è¾“å…¥';
          return true;
        }
      },
    
      {
        type: 'select',//å•é€‰
        name: 'template',
        message: 'select a framework',
        choices: [
          { title: 'kitty-ui', value: 1 },
          { title: 'kitty-demo', value: 2 }
        ]
      }
    ]
    

æœ€åçœ‹ä¸‹æ‰§è¡Œæ•ˆæœ

![GIF7.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fb32c650c19417192a9c358412a3a97~tplv-k3u1fbpfcp-watermark.image?)

cloneæˆåŠŸååŠ ä¸Šæç¤ºå‘ŠçŸ¥ç”¨æˆ·å¦‚ä½•ä½¿ç”¨,ç„¶åè¿›è¡Œå‘å¸ƒ

    const gitClone = (remote, name, option) => {
      const loadingOra = ora('æ­£åœ¨ä¸‹è½½æ¨¡æ¿...').start();
      return new Promise((resolve, reject) => {
        download(remote, name, option, err => {
          if (err) {
            loadingOra.fail();
            console.log("err", chalk.red(err));
            reject(err);
            return;
          };
          loadingOra.succeed(chalk.green('success'));
          console.log(`Done. Now run:\r\n`);
          console.log(chalk.green(`cd ${name}`));
          console.log(chalk.blue("npm install"));
          console.log("npm run dev\r\n");
          resolve();
        });
      });
    };
    

å‘å¸ƒ
--

ä¸€èˆ¬æ¥è¯´å‘å¸ƒå‰è¦è¿›è¡Œæ‰“åŒ…ç”Ÿæˆcommonjsä»¥æ”¯æŒä½ç‰ˆæœ¬node,è¿™é‡Œæš‚æ—¶ä¸è¿›è¡Œæ‰“åŒ…æ“ä½œ,ç›´æ¥æ‰§è¡Œ`pnpm publish`å³å¯å®Œæˆå‘å¸ƒ(æ³¨æ„,pnpmå‘å¸ƒæ—¶éœ€è¦å…ˆå°†ä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“)ã€‚

ä½¿ç”¨
--

éšä¾¿æ–°å»ºæ–‡ä»¶å¤¹ç„¶åæ‰§è¡Œ`npm init kitty`æˆ–è€…`npm create kitty`

![GIF9.gif](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b4972a8e04944e8ab9df6687acbf2bfd~tplv-k3u1fbpfcp-watermark.image?)

åŒæ—¶æ–‡ä»¶ä¸­å‡ºç°äº†æˆ‘ä»¬çš„æ¨¡æ¿æ–‡ä»¶

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5055e8d67cf460091d3ff774ed28c4a~tplv-k3u1fbpfcp-watermark.image?)

æ€»ç»“
--

æœ¬ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨pnpmæ­å»º`Monorepo`ç¯å¢ƒä»¥åŠæœ¬åœ°å¼€å‘åŒ…çš„æµ‹è¯•ã€‚åŒæ—¶è®²è§£äº†å¦‚ä½•ä½¿ç”¨`command-line-args`,`download-git-repo`,`prompts`ç­‰å·¥å…·çš„ä½¿ç”¨,æœ€ç»ˆå®ç°äº†ä¸€ä¸ªäº¤äº’å¼çš„å‘½ä»¤è¡Œçš„è„šæ‰‹æ¶`create-kitty`ã€‚

åé¢ä¼šå¯¹`create-kitty`è¿›è¡Œå®Œå–„,è®©å®ƒæˆä¸ºä¸€ä¸ªå¯ä»¥å¿«é€Ÿæ­å»ºvue3ç»„ä»¶å¼€å‘ç¯å¢ƒçš„è„šæ‰‹æ¶,å¦‚æœä½ å¯¹ç»„ä»¶åº“å¼€å‘æ„Ÿå…´è¶£çš„è¯,å¯ä»¥å…³æ³¨æˆ‘æˆ–è€…æ‰«ç å…¬ä¼—å· **webå‰ç«¯è¿›é˜¶**,ç»„ä»¶åº“çš„æ‰€æœ‰å®ç°ç»†èŠ‚éƒ½åœ¨è¿™ä¸ªé‡Œã€‚  
![](https://img2022.cnblogs.com/blog/1291574/202208/1291574-20220820171519611-1150248190.jpg)

> å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©çš„è¯,ç‚¹ä¸ªèµå§!

æºç åœ°å€
----

[create-kitty](https://gitee.com/geeksdidi/kittyui/tree/dev/packages/create-kitty)