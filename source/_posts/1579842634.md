---
layout: post
title: "python闭包与装饰器"
date: "2022-07-17T14:16:31.361Z"
---
python闭包与装饰器
============

**一、概念：**

**1.闭包：**

内部函数对外部函数作用域变量的引用

**2.装饰器：**

在不影响原有函数的功能，还能添加新的功能

**二、闭包详解：**

**1.函数内部的函数无法直接调用**

函数内的属性，都是有生命周期，都是在函数执行期间

![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855276-925340337.png)

**2.将内部函数return出来，可以供外部函数调用**

**![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855286-196852510.png)**

**3.闭包：函数内的闭包函数私有化变量，完成了数据的封装**

**![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855289-868513030.png)**

**4.闭包的作用：可在函数执行过程中保存所需要的值**

但大量应用会有内存的损耗

![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855280-501124494.png)

**三、装饰器（语法糖）详解：**

**1.装饰器函数的工作流程：**

(1)原函数上使用@装饰器函数实现原函数功能的补充

(2)装饰器的入参为原函数的对象

(3)装饰器函数的内部函数返回了原函数的调用

(4)装饰器函数的返回值为内部函数名

**2.装饰器函数示例：**

通过在原函数上myprint@装饰器函数func1，实现对myprint函数功能的补充

![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855368-1809846582.png)

**3.装饰器函数应用扩展**

带参数的装饰器，装饰多个函数

![](https://img2022.cnblogs.com/blog/1767782/202207/1767782-20220717195855299-719151007.png)