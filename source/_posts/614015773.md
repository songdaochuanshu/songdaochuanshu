---
layout: post
title: "å¥½æ…Œï¼Œæˆ‘ä»£ç æ²¡äº†ï¼ä¸ä¼šæ˜¯å˜åŸºå˜å‡ºé—®é¢˜äº†å§ï¼Ÿ"
date: "2022-12-07T02:49:56.759Z"
---
å¥½æ…Œï¼Œæˆ‘ä»£ç æ²¡äº†ï¼ä¸ä¼šæ˜¯å˜åŸºå˜å‡ºé—®é¢˜äº†å§ï¼Ÿ
=====================

é€šè¿‡å®é™…çš„å·¥ä½œåœºæ™¯ï¼Œç»™å¤§å®¶åˆ†äº« git stash å’Œ git rebase çš„åŸºæœ¬ç”¨æ³•ï¼Œä»¥åŠéœ€è¦ä¸»è¦çš„äº‹é¡¹ã€‚

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Kagolï¼Œ[Vue DevUI](https://github.com/DevCloudFE/vue-devui) å¼€æºç»„ä»¶åº“å’Œ EditorX å¯Œæ–‡æœ¬ç¼–è¾‘å™¨åˆ›å»ºè€…ï¼Œä¸“æ³¨äºå‰ç«¯ç»„ä»¶åº“å»ºè®¾å’Œå¼€æºç¤¾åŒºè¿è¥ã€‚

å‰ä¸¤å¤©æ£€è§†ä»£ç æ—¶ï¼Œå‘ç°PRé‡Œé¢æœ‰ä¸¤ä¸ªæäº¤çš„æè¿°ä¿¡æ¯ä¸€æ¨¡ä¸€æ ·ï¼Œäºæ˜¯æˆ‘æå‡ºåº”è¯¥å°†è¿™ä¸¤ä¸ªæäº¤åˆå¹¶æˆä¸€ä¸ªï¼Œä¿æŒæäº¤æ ‘çš„æ¸…æ™°ã€‚

å…ˆå‚¨å­˜èµ·æ¥ï¼
------

è€ŒåŒäº‹è¿™æ—¶æ­£åœ¨å¼€å‘åˆ«çš„ç‰¹æ€§ï¼Œå·¥ä½œåŒºä¸æ˜¯å¹²å‡€çš„ï¼Œæ²¡æ³•ç›´æ¥æ‰§è¡Œ git rebase æ“ä½œï¼Œäºæ˜¯å¾ˆè‡ªç„¶åœ°æ‰§è¡Œ

    git stash
    

å°†æ­£åœ¨ä¿®æ”¹çš„å†…å®¹ä¿å­˜åˆ°ä¸€ä¸ªæ ˆä¸­ï¼Œå¹¶ç»´æŒå½“å‰å·¥ä½œåŒºå¹²å‡€ã€‚

è¿™æ ·å°±å¯ä»¥æ‰§è¡Œåˆ‡æ¢åˆ†æ”¯ã€å˜åŸºç­‰æ“ä½œï¼Œè¿™äº›æ“ä½œèƒ½æ‰§è¡Œçš„å‰ææ˜¯å½“å‰å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ã€‚

å˜åŸºå§ï¼å°‘å¹´ï¼
-------

æˆ‘ä»¬å…ˆæ‰§è¡Œ git log å‘½ä»¤ï¼Œæ‰¾åˆ°è¦åˆå¹¶çš„ä¸¤ä¸ªæäº¤ä¹‹å‰çš„é‚£ä¸ªæäº¤ï¼š`cdedd430`

    commit ec0218ff
        feat: å¢åŠ å›½é™…åŒ–
    commit 89f3d02c
        feat: å¢åŠ å›½é™…åŒ–
    commit cdedd430
        refactor: pnpmå·¥ç¨‹æ”¹é€ 
    

ç„¶åæ‰§è¡Œ git rebase å˜åŸºå‘½ä»¤ï¼š

    git rebase -i cdedd430
    

è¿™æ—¶ä¼šè¿›å…¥ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢ï¼š

    pick 89f3d02 feat: å¢åŠ å›½é™…åŒ–
    pick ec0218f feat: å¢åŠ å›½é™…åŒ–
    
    # Rebase cdedd43..ec0218f onto cdedd43 (2 commands)
    #
    # Commands:
    # p, pick <commit> = use commit
    # r, reword <commit> = use commit, but edit the commit message
    # e, edit <commit> = use commit, but stop for amending
    # s, squash <commit> = use commit, but meld into previous commit
    # f, fixup <commit> = like "squash", but discard this commit's log message
    # x, exec <command> = run command (the rest of the line) using shell
    # b, break = stop here (continue rebase later with 'git rebase --continue')
    # d, drop <commit> = remove commit
    # l, label <label> = label current HEAD with a name
    # t, reset <label> = reset HEAD to a label
    # m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
    # .       create a merge commit using the original merge commit's
    # .       message (or the oneline, if no original merge commit was
    # .       specified). Use -c <commit> to reword the commit message.
    #
    # These lines can be re-ordered; they are executed from top to bottom.
    #
    # If you remove a line here THAT COMMIT WILL BE LOST.
    #
    # However, if you remove everything, the rebase will be aborted.
    #
    # Note that empty commits are commented out
    "~/my-project/.git/rebase-merge/git-rebase-todo" 28L, 1232B
    

è¿™æ—¶ä½ å¯ä»¥ç§»åŠ¨å…‰æ ‡ï¼Œä½†æ˜¯æ— æ³•è¾“å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™æ˜¯ä¸ªåªè¯»çš„ç•Œé¢ï¼Œéœ€è¦å…ˆè¾“å…¥ i å­—ç¬¦è¿›å…¥ç¼–è¾‘æ€ï¼Œæ­¤æ—¶ç•Œé¢åº•éƒ¨ä¼šå‡ºç° `-- INSERT --` æ ‡è¯†ã€‚

    ...
    # Note that empty commits are commented out
    -- INSERT --
    

ä¸‹é¢é‚£äº›ä»¥ # å¼€å¤´çš„éƒ½æ˜¯æ³¨é‡Šï¼Œåªæœ‰å‰é¢ä¸¤è¡Œæ¯”è¾ƒå…³é”®ã€‚

    pick 89f3d02 feat: å¢åŠ å›½é™…åŒ–
    pick ec0218f feat: å¢åŠ å›½é™…åŒ–
    
    # ...
    

æ¯ä¸€è¡Œéƒ½ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š

*   Commandï¼šéœ€è¦æ‰§è¡Œçš„å‘½ä»¤
*   Commit IDï¼šæäº¤ ID
*   Commit messageï¼šæäº¤çš„æè¿°ä¿¡æ¯

æˆ‘ä»¬éœ€è¦å°† ec0218f åˆå¹¶åˆ° 89f3d02 ä¸Šï¼Œå› æ­¤éœ€è¦å°†ç¬¬äºŒè¡Œçš„ pick æ”¹æˆ squash(s) æˆ– fixup(f)ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼š

*   squash(s) æ˜¯å°†å½“å‰çš„æäº¤åˆå¹¶åˆ°ä¸Šä¸€è¡Œçš„æäº¤ä¸Šï¼Œä¿ç•™ä¸¤ä¸ªæäº¤çš„æè¿°ä¿¡æ¯ï¼Œå¯ä»¥åœ¨ä¸‹ä¸€æ­¥ä¸­è¿›è¡Œæäº¤ä¿¡æ¯çš„ç¼–è¾‘
*   fixup(f) ä¹Ÿæ˜¯å°†å½“å‰çš„æäº¤åˆå¹¶åˆ°ä¸Šä¸€è¡Œçš„æäº¤ä¸Šï¼Œä½†**ä¸ä¿ç•™å½“å‰æäº¤çš„æè¿°ä¿¡æ¯**

ç”±äºæˆ‘ä»¬ä¸¤æ¬¡æäº¤ä¿¡æ¯å®Œå…¨ä¸€è‡´ï¼Œæ²¡å¿…è¦ä¿ç•™ï¼Œé€‰æ‹© fixup(f)ï¼š

    pick 89f3d02 feat: å¢åŠ å›½é™…åŒ–
    f ec0218f feat: å¢åŠ å›½é™…åŒ–
    

ä¿®æ”¹å¥½ä¹‹åï¼Œå…ˆæŒ‰ ESC é€€å‡ºç¼–è¾‘æ€ï¼Œç„¶åæŒ‰ :wq ä¿å­˜ï¼Œæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯è¯´æ˜å˜åŸºæˆåŠŸï¼Œä¸¤ä¸ªæäº¤å·²ç»åˆå¹¶åœ¨ä¸€èµ·

    Successfully rebased and updated refs/heads/kagol/test-rebase.
    

æ‰§è¡Œ git log çœ‹ä¸‹æ•ˆæœï¼š

    commit 86930d03
        feat: å¢åŠ å›½é™…åŒ–
    commit cdedd430
        refactor: pnpmå·¥ç¨‹æ”¹é€ 
    

å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæäº¤å·²ç»åˆå¹¶åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”ç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„ Commit ID: 86930d03ã€‚

![å®Œç¾.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/419f2f4ef17c43c7b1cda782dafde598~tplv-k3u1fbpfcp-watermark.image?)

æˆ‘ä»£ç æ²¡äº†ï¼
------

1å°æ—¶ä¹‹åï¼ŒåŒäº‹æ…Œæ…Œå¼ å¼ åœ°è·Ÿæˆ‘è¯´ï¼š

> æˆ‘ä»£ç æ²¡äº†ï¼

æˆ‘å¿ƒé‡Œç¬¬ä¸€ååº”æ˜¯ï¼š

> åˆšæ‰ä¸€é¡¿å˜åŸºçŒ›å¦‚è™ï¼Œä¸è¿‡å˜åŸºå˜å‡ºé—®é¢˜æ¥äº†å§ï¼Ÿ

![çŒ«çŒ«éœ‡æƒŠ.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a9872e916f9469fae16835147a0996d~tplv-k3u1fbpfcp-watermark.image?)

ä½œä¸ºä¸€ä¸ªæˆç†Ÿç¨³é‡çš„ç¨‹åºå‘˜ï¼Œä»€ä¹ˆå¤§é£å¤§æµªæ²¡è§è¿‡ï¼Œäºæ˜¯è½»è½»åœ°å›äº†å¥ï¼š

> å°‘å¹´ï¼Œè«æ…Œï¼ä½ å…ˆè®²ä¸‹ä½ åˆšæ‰åšäº†ä»€ä¹ˆï¼Ÿ

æˆ‘æ²¡ï¼Œæ²¡åšä»€ä¹ˆ...

æ²¡åšä»€ä¹ˆä»£ç æ€ä¹ˆä¼šè‡ªå·±ä¸¢äº†å‘¢ï¼Ÿ

æˆ‘å°±æ‰§è¡Œäº†ä¸€ä¸‹ git stash popï¼Œç„¶åæˆ‘ä¹‹å‰å†™äº†ä¸€ä¸Šåˆçš„ä»£ç å°±æ²¡...æ²¡äº†...

çªç„¶å¼€å§‹å¿ƒé‡Œæœ‰ç‚¹æ…Œï¼ŒæŠŠåŒäº‹ä¸€ä¸Šåˆä»£ç ææ²¡äº†ï¼Œæˆ‘æ€ä¹ˆèµ”ç»™äººå®¶ï¼Ÿï¼Ÿ

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/beb70ee4c72544879fd15b23bfec79df~tplv-k3u1fbpfcp-watermark.image?)

ä½†å¿ƒé‡Œä¸èƒ½è¡¨ç°å‡ºæ¥ï¼Œä¸ç€æ€¥ï¼Œç¨³ä½å°‘å¹´ï¼

ä½ å…ˆæ‰§è¡Œä¸‹ git stash list çœ‹ä¸‹å‚¨å­˜æ ˆé‡Œè¿˜æœ‰æ²¡æœ‰å†…å®¹ï¼š

    $ git stash list
    stash@{0}: WIP on master: f90abfe Initial commit
    

çœ‹åˆ°ä¹‹å‰å‚¨å­˜çš„å†…å®¹è¿˜åœ¨æˆ‘ç«‹é©¬ä¸æ…Œäº†ï¼

ä¸å†æ‰§è¡Œä¸‹ git stash popï¼Œæˆ‘çœ‹ä¸‹æœ‰æ²¡æœ‰æŠ¥ä»€ä¹ˆé”™ï¼Ÿ

æ‰§è¡Œå®Œä¹‹åæœç„¶æŠ¥äº†ä¸€ä¸ªé”™ï¼š

    $ git stash pop
    error: Your local changes to the following files would be overwritten by merge:
            main.ts
    Please commit your changes or stash them before you merge.
    Aborting
    The stash entry is kept in case you need it again.
    

å¤§æ„æ˜¯ï¼š

> ä½ æœ¬åœ°ä¿®æ”¹äº†æ–‡ä»¶ï¼Œå‚¨å­˜æ ˆé‡Œçš„å†…å®¹å¦‚æœå¼¹å‡ºä¼šè¦†ç›–æ‰ä½ æœ¬åœ°çš„ä»£ç ï¼Œæ‰€ä»¥å¯¼è‡´æ“ä½œå¤±è´¥ã€‚  
> ç„¶åå»ºè®®ä½ å…ˆæäº¤ä½ æœ¬åœ°çš„ä¿®æ”¹æˆ–è€…å°†ä½ æœ¬åœ°çš„ä¿®æ”¹å‚¨å­˜èµ·æ¥ã€‚  
> å¹¶ä¸”ç‰¹æ„æç¤ºä½ ä½ å‚¨å­˜çš„å†…å®¹ç»™ä½ ä¿ç•™ä¸‹æ¥äº†ï¼Œæ–¹ä¾¿ä½ ä¸‹æ¬¡è¦ç”¨çš„æ—¶å€™å¯ä»¥ç”¨ã€‚

ä¸å¾—ä¸è¯´ï¼Œè¿™ Git çœŸæ˜¯å¤ªè´´å¿ƒäº†ï¼Œè€ƒè™‘å¾—å¾ˆå‘¨åˆ°ï¼Œä¸º Git ç‚¹ä¸ªèµğŸ‘

è™½ç„¶æˆ‘å…¶å®å·²ç»çŒœåˆ°æ˜¯ä»€ä¹ˆåŸå› äº†ï¼Œä½†æ˜¯ä½œä¸ºæˆç†Ÿç¨³é‡çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä¾ç„¶ä¸åŠ¨å£°è‰²åœ°é—®äº†å¥ï¼šgit rebase ä¹‹åï¼Œgit stash pop ä¹‹å‰ï¼Œä¸­é—´ä½ æ˜¯ä¸æ˜¯è¿˜æ”¹äº†ä»€ä¹ˆä¸œè¥¿ï¼Ÿ

å“¦ï¼Œå¥½åƒæ˜¯æ”¹äº† main.ts æ–‡ä»¶ï¼Œæˆ‘æƒ³èµ·æ¥äº†ï¼

ä½ æŠŠä½ æ”¹çš„ä¸œè¥¿å…ˆæ’¤é”€ä¸‹ï¼Œç„¶åæ‰§è¡Œ git stash pop è¯•è¯•ï¼Ÿ

ç ´æ¡ˆï¼æ”¶å·¥ï¼
------

æœç„¶ï¼Œæ‰§è¡Œ git stash pop æˆåŠŸï¼Œä¹‹å‰çš„ä¸Šç™¾è¡Œä»£ç éƒ½æ‰¾å›æ¥äº†ï¼

ç ´æ¡ˆï¼æ”¶æ‹¾åƒé¥­çš„å®¶ä¼™ï¼Œå‡†å¤‡æ”¶å·¥ï¼

![ä¸‹ç­äº†.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b43f5aa2b8c4358831653b61fb55f04~tplv-k3u1fbpfcp-watermark.image?)

å“¦ï¼Œä¸è¡Œï¼Œè¿˜æœ‰ä¸¤ä¸ªå°æ—¶æ‰ä¸‹ç­...

æˆ‘æ˜¯ Kagolï¼Œå¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œå¯ä»¥ç»™æˆ‘ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘çš„æ˜é‡‘è´¦å·å’Œå…¬ä¼—å· `Kagol`ï¼Œä¸€èµ·äº¤æµå‰ç«¯æŠ€æœ¯ã€ä¸€èµ·åšå¼€æºï¼