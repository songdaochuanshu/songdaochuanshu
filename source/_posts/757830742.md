---
layout: post
title: "由原神卡池引发的概率问题1"
date: "2023-02-08T16:23:10.969Z"
---
由原神卡池引发的概率问题1
=============

由原神卡池引发的概率问题1

### 引子

因为最近3.4下半卡池如日中天，所以就讨论一下卡池概率的问题；

由于本人只是一个弱弱的高中生，所以有问题还请指出；

而且受水平和时间限制，只能讨论一下限定角色up池，而且没考虑歪的情况，所以内容十分有限，但是应该会讲清楚一些基本的（众所周知的）问题。

### 厄

众所周知，角色up的公示概率为0.006和0.016，那么这分别代表什么？前者是基础概率，后者是综合概率。实际上，综合概率只是一个由期望抽数推出来的平均数值。后文会详细说明。

基于网络上各路大神推出来的74抽概率提升模型，我们可以很容易得出**当前抽出率**。对于1到73抽，概率为0.006。之后每一抽提升0.05847左右（因为精度问题，不能省略到百分位或千分位）直到90抽概率为1。

    p[i]=0.006;                      //1<=i<=73
    p[i]=(i-73)*0.058470+0.006;      //74<=x<=90
    

那么由于**恰好当前抽出率**等于之前**都**不出的概率与当前p\[i\]的乘积，可以处理出p1\[i\]代表**恰好当前抽出率**。  
我们惊喜的发现 如果用**恰好当前抽出率**对抽次作图，其实得到的是一个概率密度函数，虽然是离散的，但是确实（由于本人菜，不知道这步的正确性）

\\\[(\\sum\_{i=1}^{90}{p\[i\]})=1 \\\]

因为90抽是必出的，概率之和为1在意料之内。  
实际上

\\\[p1\[i\]=0.994^{i-1}\*0.006;//1<=i<=73\\\\ p1\[i\]=0.994^{73}\*0.006//i=74\\\\ p1\[i\]=0.994^{73}\*\\prod\_{j=74}^{i-1}{(1-p\[j\])}\*p\[i\];//75<=i<=90 \\\]

![image-20230208230831470](https://pic.imgdb.cn/item/63e3c3224757feff33d8b6d1.png)

![image-20230208230927600](https://pic.imgdb.cn/item/63e3c3224757feff33d8b6f5.png)

![image-20230208231005828](https://pic.imgdb.cn/item/63e3c3224757feff33d8b6b0.png)

上表后面那个522我也不知道怎么回事

说一下我最关心的数据：

> 要有95%的概率至少出1金，需要投入81抽  
> 80抽的时候只有91%的概率至少出1金  
> 恰好77抽的时候抽出的概率最高，约10%（怪不得总是歪七七），此时至少出1金率为0.67  
> 在期望抽次62.5抽，只有约31%的概率至少抽到一金  
> 要有50%的概率至少出1金，需要投入76抽（离散的，第75抽是0.47，76抽是0.56）  
> 要注意，恰好当次抽到必须满足前面都没出，否则计数器会清零

算的这里，我不禁迷惑了，因为直觉上告诉我期望抽次的出率应该比较高  
而且62.5抽概率还没开始提升

那么实际上**期望抽次是当抽次足够多时，每出一个金所需要的抽次**  
模拟出100000个金，它的分布如果足够优秀，会非常接近我们的概率密度函数，1个金也是一样的。

而

\\\[\\sum\_{i=1}^{90}{(p\[i\]\*i)} \\\]

实际上就是抽1个金的期望次数，它非常接近62.5  
而它的倒数就是综合概率0.016

### 心路历程

一开始我在想出与不出毕竟是个完全事件集，就看看是否用二项分布算（本人对二项分布的理解极浅，所以不大懂），后来想到不用综合概率的话就不是等概率的，那就不行（是吧？）  
上述方法没用计算机而是用计算器手打了一遍，发现sum不为1，应该是打错了，方法来说目前没检查出问题  
由于比较笨，算了蛮久的，算完之后发现都是最基础的概率问题，只是网上没人教怎么算，都直接给结论