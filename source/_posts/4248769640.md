---
layout: post
title: "JavaScriptå…¥é—¨â‘¦-DOMæ“ä½œå¤§å…¨"
date: "2022-12-07T05:15:13.094Z"
---
JavaScriptå…¥é—¨â‘¦-DOMæ“ä½œå¤§å…¨
=====================

![JavaScriptå…¥é—¨â‘¦-DOMæ“ä½œå¤§å…¨](https://img2023.cnblogs.com/blog/151257/202212/151257-20221207103256784-1688872611.png) DOMï¼ˆDocument Object Modelï¼‰æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå°†æ–‡æ¡£documentè§£æä¸ºä¸€ä¸ªç”±èŠ‚ç‚¹å’Œå¯¹è±¡ï¼ˆåŒ…å«å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ï¼‰ç»„æˆçš„é€»è¾‘æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œdocumentå¯¹è±¡å°±æ˜¯æ•´ä¸ªDOMæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138535-717334047.png)

**JavaScriptå…¥é—¨ç³»åˆ—ç›®å½•**

*   [JavaScriptå…¥é—¨â‘ -åŸºç¡€çŸ¥è¯†ç­‘åŸº](https://www.cnblogs.com/anding/p/16889212.html)
*   [JavaScriptå…¥é—¨â‘¡-å‡½æ•°(1)åŸºç¡€{æµ…å‡º}](https://www.cnblogs.com/anding/p/16889713.html)
*   [JavaScriptå…¥é—¨â‘¢-å‡½æ•°(2)åŸç†{æ·±å…¥}æ‰§è¡Œä¸Šä¸‹æ–‡](https://www.cnblogs.com/anding/p/16889786.html)
*   [JavaScriptå…¥é—¨â‘£-ä¸‡ç‰©çš†å¯¹è±¡:Object](https://www.cnblogs.com/anding/p/16889942.html "JavaScriptå…¥é—¨â‘£-ä¸‡ç‰©çš†å¯¹è±¡:Object")
*   [JavaScriptå…¥é—¨â‘¤-æ¬²ç½¢ä¸èƒ½çš„å¯¹è±¡ã€åŸå‹ä¸ç»§æ‰¿](https://www.cnblogs.com/anding/p/16890017.html)
*   [JavaScriptå…¥é—¨â‘¥-WEBæµè§ˆå™¨API](https://www.cnblogs.com/anding/p/16890134.html "JavaScriptå…¥é—¨â‘¥-WEBæµè§ˆå™¨API")
*   [JavaScriptå…¥é—¨â‘¦-DOMæ“ä½œå¤§å…¨](https://www.cnblogs.com/anding/p/16890295.html "JavaScriptå…¥é—¨â‘¦-DOMæ“ä½œå¤§å…¨")
*   JavaScriptå…¥é—¨â‘§-äº‹ä»¶æ€»ç»“å¤§å…¨
*   JavaScriptå…¥é—¨â‘¨-å¼‚æ­¥ç¼–ç¨‹â—å¼‚ä¸–ç•Œä¹‹æ—…
*   JavaScriptå…¥é—¨â‘©-ES6å½’çº³æ€»ç»“

01ã€DOM(document)
================

[**DOM**](https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model)ï¼ˆDocument Object Modelï¼‰**æ–‡æ¡£å¯¹è±¡æ¨¡å‹**ï¼Œå°†æ–‡æ¡£`document`è§£æä¸ºä¸€ä¸ªç”±èŠ‚ç‚¹å’Œå¯¹è±¡ï¼ˆåŒ…å«å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ï¼‰ç»„æˆçš„é€»è¾‘æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ**`document`** å¯¹è±¡å°±æ˜¯æ•´ä¸ªDOMæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚DOMæä¾›çš„APIæ–¹æ³•ç”¨æ¥ç®¡ç†è¿™æ£µæ ‘ï¼Œç”¨JavaScript ç­‰è„šæœ¬è¯­è¨€æ“ä½œæ–‡æ¡£ç»“æ„ã€æ ·å¼å’Œå†…å®¹ã€‚

![5f9f1289909ffdf88033e5bd92ad7ae9_v2-30a65f5bc123bc513dc2584c5c2e517f_1440w_source=172ae18b.jpg](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138531-845025008.jpg)

1.1ã€DOMç»“æ„-èŠ‚ç‚¹/å…ƒç´ 
---------------

DOMæ ‘æ˜¯ç”±å¾ˆå¤šèŠ‚ç‚¹æ„æˆï¼Œåˆ†ä¸ºä¸‹é¢å‡ ç§ç±»å‹ï¼Œæ³¨æ„èŠ‚ç‚¹æ˜¯åŒ…å«æ–‡æœ¬ã€æ³¨é‡Šçš„ã€‚

**èŠ‚ç‚¹ç±»å‹**

**æè¿°**

**ç¤ºä¾‹**

`document`æ–‡æ¡£èŠ‚ç‚¹

`document`æ–‡æ¡£æœ¬èº«ï¼ŒDOMçš„å…¥å£ï¼ˆæ ¹ï¼‰

document

`element`å…ƒç´ èŠ‚ç‚¹

æ‰€æœ‰HTMLå…ƒç´ `Element` /ËˆelÉªmÉ™nt/ i

htmlã€bodyã€aã€p

`attribute`å±æ€§èŠ‚ç‚¹

å…ƒç´ çš„å±æ€§

idã€nameã€hrefã€class

æ–‡æœ¬èŠ‚ç‚¹

å…ƒç´ å†…çš„æ–‡æœ¬å½¢æˆæ–‡æœ¬èŠ‚ç‚¹

æ–‡æœ¬å­—ç¬¦ã€æ¢è¡Œã€ç©ºæ ¼

æ³¨é‡ŠèŠ‚ç‚¹

æ³¨é‡Š

`<!--æ³¨é‡Š-->`

ä¸€é¢—å®Œæ•´çš„DOMæ ‘ï¼Œé™¤äº†æ˜¾è€Œæ˜“è§çš„å…ƒç´ ï¼Œè¿˜æœ‰æ³¨é‡Šã€æ¢è¡Œç¬¦æ„æˆçš„æ–‡æœ¬ç±»èŠ‚ç‚¹ã€‚

    <!DOCTYPE HTML>
    <html>
        <body>
            The truth about elk.
            <ol>
                <li>An elk is a smart</li>
                <!-- comment -->
                <li>...and cunning animal!</li>
            </ol>
        </body>
    </html>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138585-2082486970.png)

> å½“å‰é€‰æ‹©å…ƒç´ `$0`ï¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œ`$0`æ ‡è¯†å½“å‰é€‰ä¸­çš„å…ƒç´ ã€‚`$0.style.background='red';`

èŠ‚ç‚¹å’Œå…ƒç´ åœ¨DOMæ ‘ä¸Šçš„ä¸åŒè§†å›¾ï¼ˆå¯¼èˆªæ–¹å¼ï¼‰å¦‚ä¸‹å›¾ï¼Œç°ä»£JSä¸­ä¸»è¦ä½¿ç”¨å…ƒç´ å¯¼èˆªå±æ€§ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138510-59277965.png)![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138453-1270435833.png)

**âœ…èŠ‚ç‚¹-å¯¼èˆªå±æ€§**

**æè¿°**

**âœ…å…ƒç´ -å¯¼èˆªå±æ€§**

**æè¿°**

`parentNode`

çˆ¶èŠ‚ç‚¹

`parentElement`

çˆ¶å…ƒç´ ï¼Œä¸€èˆ¬å’Œ`parentNodeä¸€æ ·`ï¼Œåªæœ‰document.documentElementä¸åŒ

`firstChild`

ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹

`firstElementChild`

ç¬¬ä¸€ä¸ªå­å…ƒç´ 

`lastChild`

æœ€åä¸€ä¸ªå­èŠ‚ç‚¹

`lastElementChild`

æœ€åä¸€ä¸ªå­å…ƒç´ 

`childNodes`

å­èŠ‚ç‚¹é›†åˆ

`children`

å­å…ƒç´ é›†åˆ

`nextSibling`

ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹

`nextElementSibling`

ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼ˆ Sibling/ËˆsÉªblÉªÅ‹/ å…„å¼Ÿï¼‰

`previousSibling`

ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹

`previousElementSibling`

ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ ï¼ˆ/ËˆpriËviÉ™s/ä»¥å‰ ï¼‰

    document.documentElement.parentNode; //HTMLDocument
    document.documentElement.parentElement; //null
    document.body.childNodes.length; //33
    document.body.children.length; //16
    document.body.firstElementChild;
    

> **â“å…ƒç´ èŠ‚ç‚¹**ï¼šè¿™é‡Œçš„å¯¼èˆªå±æ€§éƒ½æ˜¯**åªè¯»**çš„ï¼Œä¸å¯ç”¨äºæ’å…¥ã€ä¿®æ”¹å…ƒç´ ï¼›éƒ½æ˜¯**å®æ—¶**çš„ï¼›**é›†åˆ**æ˜¯å¯è¿­ä»£çš„ï¼Œç”¨`for..of`ï¼Œä¸è¦ç”¨`for(in)`

1.2ã€èŠ‚ç‚¹Node/å…ƒç´ Element
--------------------

èŠ‚ç‚¹/å…ƒç´ çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„å¦‚ä¸‹ï¼Œæœ€åŸºç¡€çš„`EventTarget` åˆç»§æ‰¿è‡ª`Object`ï¼Œå› æ­¤å¯ä»¥è‡ªç”±æ·»åŠ å±æ€§ã€æ–¹æ³•ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138480-993310217.png)

*   **EventTarget**ï¼šâ€”â€” æ˜¯ä¸€åˆ‡çš„æ ¹ï¼ˆâ€œæŠ½è±¡ï¼ˆabstractï¼‰â€ç±»ï¼‰ï¼Œå®šä¹‰äº†åŸºç¡€çš„äº‹ä»¶ã€‚
*   **Node**ï¼šä¹Ÿæ˜¯ä¸€ä¸ªâ€œæŠ½è±¡â€ç±»ï¼Œå……å½“ DOM èŠ‚ç‚¹çš„åŸºç¡€ï¼Œæä¾›äº†èŠ‚ç‚¹å¯¼èˆªåŠŸèƒ½ï¼Œå¦‚parentNodeï¼ŒnextSiblingï¼ŒchildNodes ç­‰ã€‚
*   **Document**ï¼šè¡¨ç¤ºæ•´ä¸ªæ–‡æ¡£ï¼Œå…¨å±€å˜é‡`document`å°±æ˜¯ä»–ã€‚
*   **CharacterData**ï¼šä¸€ä¸ªæ–‡æœ¬â€œæŠ½è±¡â€ç±»ï¼Œè¢«Textï¼ˆæ–‡æœ¬èŠ‚ç‚¹ï¼‰ ã€Comment ï¼ˆæ³¨é‡ŠèŠ‚ç‚¹ï¼‰ç»§æ‰¿ã€‚ï¼ˆCharacter/ËˆkÃ¦rÉ™ktÉ™r/ ç¬¦å·æ–‡å­—ï¼‰
*   **Element**ï¼šæ˜¯ DOM å…ƒç´ çš„åŸºç¡€ç±»ï¼Œæä¾›äº†å…ƒç´ å¯¼èˆªåŠŸèƒ½ï¼Œå¦‚nextElementSiblingï¼Œchildrenç­‰ï¼Œä»¥åŠæœç´¢æ–¹æ³•`getElementsByTagName` å’Œ `querySelector`ç­‰ã€‚
*   **HTMLElement**ï¼šæ‰€æœ‰ HTML å…ƒç´ çš„åŸºç¡€ç±»ï¼Œå¸¸ç”¨çš„å¦‚ï¼šHTMLInputElementã€HTMLBodyElementã€HTMLAnchorElementã€HTMLDivElementã€HTMLTableElement

    document.body.querySelector("div").constructor.name; //HTMLDivElement
    document.body.querySelector("div").toString(); //[object HTMLDivElement]
    

### ğŸ”¸NodeèŠ‚ç‚¹

NodeèŠ‚ç‚¹å¯¹è±¡çš„å±æ€§ï¼š

[**Node**](https://developer.mozilla.org/zh-CN/docs/Web/API/Node)**å±æ€§/æ–¹æ³•**

**æè¿°**

data

æ–‡æœ¬/æ³¨é‡ŠèŠ‚ç‚¹çš„æ–‡æœ¬å€¼ï¼Œå¯ä¿®æ”¹ï¼Œæ³¨é‡ŠèŠ‚ç‚¹å¯ç”¨æ¥å­˜æ”¾ä¸€äº›å¾…å¤„ç†å†…å®¹

nodeName

èŠ‚ç‚¹åç§°

textContent

**å…ƒç´ **å†…æ–‡æœ¬ï¼Œä¸å«æ ‡ç­¾ã€‚å¯ä¿®æ”¹ï¼Œå¯å®‰å…¨çš„å†™å…¥æ–‡æœ¬ã€‚

**appendChild**(node)

ä»æœ«å°¾è¿½åŠ ä¸€ä¸ªå­èŠ‚ç‚¹

**removeChild**(child)

åˆ é™¤ä¸€ä¸ªå­èŠ‚ç‚¹

**replaceChild**(new,old)

æ›¿æ¢ä¸€ä¸ªå­èŠ‚ç‚¹

**insertBefore**(new,ref)

åœ¨refèŠ‚ç‚¹å‰æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹

**cloneNode**(deep)

å…‹éš†å½“å‰èŠ‚ç‚¹å‰¯æœ¬ï¼Œdeep=trueä¼šå…‹éš†å…¶æ‰€æœ‰åä»£ï¼Œå¦åˆ™åªæ˜¯èŠ‚ç‚¹æœ¬èº«

**contains**( node)

æ˜¯å¦åŒ…å«æŒ‡å®šçš„åä»£èŠ‚ç‚¹ï¼Œè¿”å›bool

**hasChildNodes**()

æ˜¯å¦åŒ…å«å­èŠ‚ç‚¹ï¼Œè¿”å›bool

    // <div id="div">divå†…å®¹<p>på†…å®¹</p></div>
    
    let div = document.querySelector('#div');
    console.log(div.innerHTML,div.textContent,div.innerText); //divå†…å®¹<p>på†…å®¹</p>  divå†…å®¹på†…å®¹  divå†…å®¹\n\npå†…å®¹
    console.log(div.nodeName, div.localName, div.tagName); //DIV div  DIV
    

### ğŸ”¸Element å…ƒç´ 

[**Element**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element) åŸºç±»å…ƒç´ å¯¹è±¡æä¾›çš„å±æ€§æ–¹æ³•ï¼š

**âœ…**[**Element**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element)**å±æ€§**

**æè¿°**

id

å”¯ä¸€`id`ï¼ŒåŸºç¡€é€šç”¨å±æ€§è¿˜è¦`name`ã€`class`ã€`style`

localName

æœ¬åœ°åŒ–åç§°ï¼Œåç§°ç›¸å…³çš„è¿˜æœ‰`nodeName`ã€`tagName`

**classList**ã€**className**

classæ ·å¼é›†åˆã€classæ ·å¼å€¼ï¼Œé›†åˆå¯ä»¥æ–°å¢ã€åˆ é™¤ã€‚

**innerHTML**

å…ƒç´ æ ‡ç­¾å†…çš„æ‰€æœ‰HTMLå†…å®¹ï¼Œå¯ä»¥ä¿®æ”¹ï¼Œ**æ³¨æ„**`innerHTML+=`ä¼šè¿›è¡Œå®Œå…¨é‡å†™

**outerHTML**

åŒ…å«å…ƒç´ æœ¬èº«åŠå…¶å†…éƒ¨çš„æ‰€æœ‰HTMLå†…å®¹ï¼Œå¯ä»¥ä¿®æ”¹ï¼ˆåˆ é™¤å¹¶æ›¿æ¢ï¼‰

innerText

å…ƒç´ æ ‡ç­¾å†…çš„æ‰€æœ‰æ–‡æœ¬èŠ‚ç‚¹å€¼ï¼ŒåŒ…å«æ‰€æœ‰åä»£èŠ‚ç‚¹çš„æ–‡æœ¬ã€‚

hidden

æ˜¯å¦éšè—çš„boolå±æ€§ï¼Œ

**âœ…æ–¹æ³•**

  

[**addEventListener**](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)()

æ³¨å†Œå®è·µåˆ°[EventTarget](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget)ï¼Œè¿˜æœ‰é…å¥—çš„`removeEventListener()`

[**append**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/append)(node...)

åœ¨æœ«å°¾è¿½åŠ å¤šä¸ªå­èŠ‚ç‚¹ï¼ˆæˆ–DOMString=textèŠ‚ç‚¹ï¼‰

**prepend**(node...)

åœ¨å¼€å¤´æ’å…¥å¤šä¸ªå­èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

**after**(node...)

åœ¨åé¢æ’å…¥èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

**before**(node...)

åœ¨å‰é¢æ’å…¥èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

**replaceWith**(node)

å°† node æ›¿æ¢ä¸ºç»™å®šçš„èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²

**remove**(element)

æŠŠå¯¹è±¡ä»å®ƒæ‰€å±çš„ DOM æ ‘ä¸­åˆ é™¤

[scroll](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scroll)()/[scrollBy](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollBy)()

å…ƒç´ å†…æ»šåŠ¨

**âœ…äº‹ä»¶**(event)

  

**blur**(event)ã€focusout()

å…ƒç´ å¤±å»ç„¦ç‚¹ï¼Œ**blur**ä¸ä¼šå†’æ³¡ ï¼ˆblue /blÉœËr/ æ¨¡ç³Šï¼‰

**focus**ã€focusin

å…ƒç´ è·å–ç„¦ç‚¹æ—¶è§¦å‘ï¼Œ**focus**ä¸ä¼šå†’æ³¡

[**keydown**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/keydown_event)**ã€keyup**

é”®ç›˜æŒ‰é”®æŒ‰ä¸‹ã€æ¾å¼€æ—¶è§¦å‘

[**click**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/click_event)(event)

ç‚¹å‡»è§¦å‘ï¼Œé€šå¸¸æ˜¯é¼ æ ‡å·¦é”®åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šè¢«æŒ‰ä¸‹å¹¶æ”¾å¼€æ—¶

dblclick

åŒå‡»è§¦å‘äº‹ä»¶

mousedownã€mouseup

é¼ æ ‡æŒ‰ä¸‹ã€å¼¹èµ·æ—¶è§¦å‘

mousemove

é¼ æ ‡åœ¨å…ƒç´ ä¸Šç§»åŠ¨æ—¶è§¦å‘

onmouseoverã€mouseout

é¼ æ ‡ç§»å…¥ã€ç§»å‡ºå…ƒç´ åŒºåŸŸæ—¶è§¦å‘

mouseenterã€mouseleave

é¼ æ ‡ç§»å…¥ã€ç§»å‡ºå…ƒç´ åŒºåŸŸæ—¶è§¦å‘ï¼Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯ä¸ä¼šå†’æ³¡

    <div class="h1 c2" id="firstDiv" myatt="è‡ªå®šä¹‰ç‰¹æ€§" order="asc">Element</div>
    <script>
      let div = document.querySelector('#firstDiv');
      div.classList.add("c5");
      div.setAttribute("att2", 3) //æ·»åŠ ã€è®¾ç½®å±æ€§å€¼
      div.addEventListener("click",
           (event) => {
             console.log(event)
           });
      div.hidden = true;
    </script>
    

> **ğŸ“¢æ³¨æ„**ï¼šDOMæ“ä½œå¿…é¡»ç­‰èŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆåæ‰èƒ½è¿›è¡Œã€‚å¯ä»¥åœ¨htmlå°¾éƒ¨æ‰§è¡ŒJSï¼Œæˆ–è€…åœ¨`window`çš„`onload`äº‹ä»¶ä¸­å¤„ç†

1.3ã€å…ƒç´ ç‰¹æ€§Attribute
-----------------

å…ƒç´ ç‰¹æ€§çš„æ“ä½œæ–¹æ³•ï¼š

**Element-ç‰¹æ€§æ–¹æ³•**

  

attributes

æ‰€æœ‰å±æ€§èŠ‚ç‚¹çš„ä¸€ä¸ªå®æ—¶é›†åˆï¼Œæ”¯æŒç§»é™¤é¡¹ã€å±æ€§å€¼æ“ä½œï¼Œ`ele.attributes["href"].value`

**getAttribute**(attName)

è·å–å±æ€§å€¼

**getAttributeNames**()

æ‰€æœ‰å±æ€§åæ•°ç»„

**setAttribute**(attName,value)

è®¾ç½®å±æ€§å€¼ï¼Œå¯ä»¥æ–°å¢è‡ªå®šä¹‰ç‰¹æ€§ï¼Œå¸¸ç”¨äºè®¾ç½®css

**removeAttribute**(attName)

ä»æŒ‡å®šçš„å…ƒç´ ä¸­åˆ é™¤ä¸€ä¸ªå±æ€§

**hasAttribute**(attName)

åˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼

hasAttributes()

åˆ¤æ–­æ˜¯å¦åŒ…å«å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼

*   **ç‰¹æ€§**ï¼ˆattributeï¼‰â€”â€” å†™åœ¨ HTML ä¸­çš„å†…å®¹ï¼Œå€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¤§å°å†™**ä¸æ˜æ„Ÿ**ã€‚
*   **å±æ€§**ï¼ˆpropertyï¼‰â€”â€” DOM å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¤§å°å†™æ•æ„Ÿã€‚

> **â—ç‰¹æ€§attribute**ä¸**å±æ€§property**ï¼šå…ƒç´ ä¸Šçš„ç‰¹æ€§`attribute`ä¸å±æ€§`property`åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€è‡´ç›¸å¯¹åº”çš„ã€‚ä¹Ÿæœ‰ä¸ªåˆ«ä¾‹å¤–ï¼Œå¦‚`input.value`åªèƒ½å•å‘ä»ç‰¹æ€§`attribute`åŒæ­¥åˆ°å±æ€§`property`ã€‚

    <style>
        span[data-status="success"] {
            color: green;
        }
        span[data-status="failure"] {
            color: red;
        }
    </style>
    <div>
        <span data-status="success">æ“ä½œç»“æœ</span> <!--è‡ªå®šä¹‰ç‰¹æ€§ç”¨æ¥è®¾ç½®å…ƒç´ çŠ¶æ€æ ·å¼-->
    </div>
    <script>
        const espan = document.querySelector("span[data-status]");
        console.log(espan.attributes); //æ‰€æœ‰å±æ€§é›†åˆ
        console.log(espan.getAttributeNames()); //['data-status', 'class', 'style']
        console.log(espan.hasAttribute("data-status")); //true
        //åˆ‡æ¢æ ·å¼
        espan.attributes["data-status"].value="failure";
        espan.dataset.status="failure";
        espan.setAttribute("data-status","failure");
        espan.class="success";
    </script>
    

**dataset**å±æ€§ç”¨æ¥å­˜æ”¾è‡ªå®šä¹‰çš„éæ ‡å‡†ç‰¹æ€§ï¼Œè‡ªå®šä¹‰çš„ç‰¹æ€§éƒ½ä»¥â€œdata-â€å¼€å¤´ï¼Œè¿™æ˜¯ä¸“é—¨ä¿ç•™ç»™ç¨‹åºçŒ¿é—¨ä½¿ç”¨çš„ã€‚å¦‚â€œdata-statusâ€ï¼Œé€šè¿‡`elem.dataset.status`è®¿é—®ï¼ˆå±æ€§ä¸Šæ²¡æœ‰å‰ç¼€`date-`ï¼‰ã€‚è¿™æ ·å¯ä»¥é¿å…HMLè¯­è¨€å‡çº§åé€ æˆçš„åç§°å†²çªã€‚

1.4ã€å…ƒç´ çš„å¤§å°ä½ç½®
-----------

**Element-å¤§å°ä½ç½®**

**æè¿°**

clientHeightã€clientWidth

å…ƒç´ å†…éƒ¨é«˜åº¦ã€å®½åº¦ï¼ŒåŒ…æ‹¬å†…è¾¹è·ï¼ˆä¸å«è¾¹æ¡†ï¼‰

offsetWidth/offsetHeight

å…ƒç´ å®Œæ•´çš„å®½åº¦ã€é«˜åº¦ï¼Œä¸ºå…ƒç´ çš„å®Œæ•´å¤§å°ï¼ŒåŒ…æ‹¬border

clientTop/Left

å…ƒç´ è¾¹æ¡†å®½åº¦ï¼ŒåŒborderå®½åº¦

offsetLeft/Top

å…ƒç´ ç›¸å¯¹äº offsetParent å·¦ä¸Šè§’çš„ x/y åæ ‡

scrollHeight ã€scrollWidth

å…ƒç´ æ»šåŠ¨è§†å›¾çš„é«˜åº¦ã€å®½åº¦ï¼ŒåŒ…å«æ»‘åŠ¨éšè—éƒ¨åˆ†ã€‚

scrollLeft/scrollTop

å…ƒç´ æ»šå‡ºå»ï¼ˆéšè—ï¼‰çš„éƒ¨åˆ†å®½åº¦ã€é«˜

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138471-725878435.png)

    <style>
        #sdiv {
            border: 5px solid pink;
            padding: 5px;
            margin: 5px;
            width: 200px;
            height: 50px;
            overflow: auto;
        }
    </style>
    <div id="sdiv">
        å…‰åœˆæ•ˆåº”ï¼šä¼šå¯¼è‡´çˆ±å±‹åŠä¹Œçš„è®¤çŸ¥åå·®ï¼Œåäººæ•ˆåº”å°±æ˜¯å…¸å‹çš„å…‰ç¯æ•ˆåº”ã€‚ä¸ä¹‹ç›¸åçš„æ˜¯éŸ³å‰æ•ˆåº”ï¼ˆæ¶é­”æ•ˆåº”ï¼‰ã€‚
    </div>
    <script>
        let sdiv = document.querySelector('#sdiv');
        console.log(sdiv.clientWidth, sdiv.clientHeight); //193 60
        console.log(sdiv.offsetWidth, sdiv.offsetHeight); //214 70
        console.log(sdiv.scrollWidth, sdiv.scrollHeight); //193 115
        console.log(sdiv.clientLeft,sdiv.clientHeight); //5 60
        console.log(sdiv.offsetLeft,sdiv.offsetTop); //13 261
        console.log(sdiv.scrollLeft,sdiv.scrollTop); //0 0
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114201138496-559382672.png)

1.5ã€document
------------

**âœ…**[**document**](https://developer.mozilla.org/zh-CN/docs/Web/API/Document)**å±æ€§**

**æè¿°**

documentElement

å¯¹åº” `<html>` æ ‡ç­¾çš„ é¡¶å±‚èŠ‚ç‚¹

allã€headã€**body**

æ‰€æœ‰å…ƒç´ çš„é›†åˆã€headèŠ‚ç‚¹ã€bodyèŠ‚ç‚¹

images

æ‰€æœ‰`<image>`å›¾ç‰‡å…ƒç´ é›†åˆ

forms

æ‰€æœ‰è¡¨å•å…ƒç´  `<form>` çš„åˆ—è¡¨

links

æ‰€æœ‰è¶…é“¾æ¥çš„åˆ—è¡¨

scripts

æ‰€æœ‰çš„ `<script>` å…ƒç´ 

**âœ…æ‰©å±•å±æ€§**

ç»§æ‰¿è‡ª HTMLDocument æ¥å£

title

æ–‡æ¡£æ ‡é¢˜ï¼ˆæµè§ˆå™¨é¡µç­¾æ˜¾ç¤ºçš„åç§°ï¼‰æ¥è‡ª`<title>`æ ‡ç­¾ï¼Œå¯ä»¥åŠ¨æ€ä¿®æ”¹ã€‚

**readyState**

document çš„åŠ è½½çŠ¶æ€ï¼šloadingï¼ˆ æ–‡æ¡£æ­£åœ¨è¢«åŠ è½½ï¼‰ã€interactiveï¼ˆ æ–‡æ¡£è¢«å…¨éƒ¨è¯»å–ï¼Œ/ËŒÉªntÉ™rËˆÃ¦ktÉªv/ äº¤äº’ï¼‰ã€completeï¼ˆåŒ…æ‹¬èµ„æºéƒ½å·²åŠ è½½å®Œæˆï¼‰

domainã€URL

ç½‘å€åŸŸåã€å®Œæ•´URLåœ°å€ã€‚è¿˜æœ‰ä¸ª`location`å±æ€§åŒ`window.location`

cookie

å‰é¡µé¢çš„Cookie

defaultView

å½“å‰windowçš„å¼•ç”¨ï¼Œ`window===document.defaultView; //true`

    console.log(document.documentElement.childNodes); //[head, text, body]
    console.log(document.documentElement.children); //[head, body]
    //äº¬ä¸œé¦–é¡µ
    console.log(document.all.length, document.images.length, ); //8438 433
    console.log(document.links.length, document.scripts.length); //2771 34
    console.log(document.title); //äº¬ä¸œ(JD.COM)-æ­£å“ä½ä»·ã€å“è´¨ä¿éšœã€é…é€åŠæ—¶ã€è½»æ¾è´­ç‰©ï¼
    console.log(document.readyState); //complete
    console.log(document.domain, document.URL); //www.jd.com  https://www.jd.com/
    console.log(document.cookie);
    console.log(document.defaultView === window); //true
    

* * *

02ã€æŸ¥æ‰¾DOMå…ƒç´ 
==========

æŸ¥æ‰¾å…ƒç´ ã€èŠ‚ç‚¹çš„ç›¸å…³æ–¹æ³•ï¼Œæœ€å¸¸ç”¨ã€å¥½ç”¨çš„å°±æ˜¯`querySelector(cssSelector)`äº†ï¼Œå‚æ•°å°±æ˜¯cssé€‰æ‹©å™¨ï¼Œè¿™ä¸ªæ–¹æ³•è®¾è®¡çš„ä¸é”™ğŸ‘ã€‚

**å±æ€§/æ–¹æ³•**

**æè¿°**

**querySelector**(css)

æ ¹æ®é€‰æ‹©å™¨æŸ¥è¯¢è¿”å›**ç¬¬ä¸€ä¸ªå…ƒç´ **ï¼ŒselectorsåŒCSSé€‰æ‹©å™¨

**querySelectorAll**(css)

æ ¹æ®é€‰æ‹©å™¨æŸ¥è¯¢è¿”å›**NodeList**é›†åˆï¼ˆé™æ€é›†åˆï¼‰

**`id`**å…¨å±€å˜é‡

å…ƒç´ `id`ä½œä¸ºå…¨å±€å˜é‡è®¿é—®ï¼š`hid.innerText="33";``window['hid']`  
ä¸æ¨èä½¿ç”¨ï¼šå®¹æ˜“å‘½åå†²çªï¼Œä¸å®¹æ˜“åˆ†è¾¨å˜é‡æ¥æº

elem.**matches**(css)

åˆ¤æ–­æ˜¯å¦åŒ¹é…cssé€‰æ‹©å™¨ï¼Œè¿”å›`true`ã€`false`

elem.**closest**(css)

æŸ¥æ‰¾ç¦»å…ƒç´ **æœ€è¿‘çš„**+**cssåŒ¹é…çš„**+**ç¥–å…ˆ**(/klosÉªst/é è¿‘)ï¼ŒåŒ…å«elemè‡ªå·±

document.**getElementById**(id)

æ ¹æ®idè·å–**ä¸€ä¸ªå…ƒç´ **ï¼Œidé‡å¤åˆ™å–ç¬¬ä¸€ä¸ª

document.**getElementsByName**(name)

æ ¹æ®`name`å±æ€§è·å–å…ƒç´ **é›†åˆ**ï¼ˆåŠ¨æ€ï¼‰ï¼Œå¤šç”¨äºå•é€‰æ¡†ã€å¤é€‰æ¡†

**getElementsByClassName**(class)

æ ¹æ®`class`å±æ€§å€¼è·å–å…ƒç´ **é›†åˆ**ï¼ˆåŠ¨æ€ï¼Œä¼šå®æ—¶æ›´æ–°ï¼‰

**getElementsByTagName**(tag)

æ ¹æ®å…ƒç´ æ ‡ç­¾åå…ƒç´ **é›†åˆ**ï¼ˆåŠ¨æ€ï¼‰ï¼Œ`getElementsByTagName("div")`

    //id=sdiv,å¯ä»¥ç›´æ¥ä½¿ç”¨
    console.log(sdiv.matches('.cname')) //false
    console.log(sdiv.closest(':not(div)')); //body
    document.body.getElementsByTagName("div"); //HTMLCollection
    document.body.querySelectorAll("div"); //NodeList
    document.body.querySelector("div") === document.body.querySelectorAll("div")[0]; //true
    console.log(sdiv.closest(':not(div)')); //body
    

* * *

03ã€å¢åˆ æ”¹DOMå…ƒç´ 
===========

**å±æ€§/æ–¹æ³•**

**æè¿°**

**createElement**(tagName)

æ ¹æ®æ ‡ç­¾ååˆ›å»ºèŠ‚ç‚¹å…ƒç´ ï¼š`document.createElement("div")`

**createTextNode**(text)

åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ã€‚ä¹Ÿå¯ç”¨`innerText`ç›´æ¥è®¾ç½®æ–‡æœ¬å†…å®¹ã€‚

ele.[**append**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/append)(child...)

åœ¨æœ«å°¾è¿½åŠ å¤šä¸ªå­èŠ‚ç‚¹ï¼ˆæˆ–DOMString=textèŠ‚ç‚¹ï¼‰

ele.**prepend**(child...)

åœ¨å¼€å¤´æ’å…¥å¤šä¸ªå­èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

ele.**after**(node...)

åœ¨åé¢æ’å…¥èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

ele.**before**(node...)

åœ¨å‰é¢æ’å…¥èŠ‚ç‚¹ï¼ˆæˆ–DOMStringï¼‰

ele.**replaceWith**(node, ... nodes)

å°† `ele`æ›¿æ¢ä¸ºç»™å®šçš„èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²

ele.**remove**(element)

æŠŠå¯¹è±¡ä»å®ƒæ‰€å±çš„ DOM æ ‘ä¸­åˆ é™¤

elem.[**insertAdjacentHTML**](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/insertAdjacentHTML)(where, html)

æ’å…¥htmlå­—ç¬¦ï¼Œä¸ä¼šå½±å“ç°æœ‰å…ƒç´ ï¼Œæ€§èƒ½æ¯”innerHTML æ›´å¥½ï¼

node.**cloneNode**(deep)

å…‹éš†å½“å‰èŠ‚ç‚¹å‰¯æœ¬ï¼Œdeep=trueä¼šå…‹éš†å…¶æ‰€æœ‰åä»£ï¼Œå¦åˆ™åªæ˜¯èŠ‚ç‚¹æœ¬èº«

ele.innerHTML

è®¾ç½®æ ‡ç­¾HTMLå†…å®¹ï¼Œä¹Ÿå¯ä»¥è¾¾åˆ°åˆ›å»ºèŠ‚ç‚¹å†…å®¹çš„ç›®çš„

ele.**innerText**

è®¾ç½®æ ‡ç­¾æ–‡æœ¬å†…å®¹ï¼Œå…¼å®¹æ€§æœ€å¥½ï¼Ÿ

node.textContent

è®¾ç½®èŠ‚ç‚¹æ–‡æœ¬å†…å®¹ï¼Œæ•ˆæœåŒä¸Š

> **ğŸ“¢æ³¨æ„**ï¼š
> 
> *   **ç§»åŠ¨æ’å…¥**ï¼šæ‰€æœ‰æ’å…¥æ–¹æ³•ï¼Œå¦‚æœæ’å…¥çš„æ˜¯å·²å­˜åœ¨DOMæ ‘ä¸ŠèŠ‚ç‚¹ï¼Œéƒ½ä¼šè‡ªåŠ¨ä»æ—§çš„ä½ç½®åˆ é™¤å†æ’å…¥åˆ°æ–°çš„ä½ç½®ã€‚
> *   **ä¸‹æ‹‰æ¡†**`select`çš„é€‰é¡¹`option`å¯ä»¥é€šè¿‡å…¶å±æ€§`options`æ·»åŠ ã€‚`obj1.options.add(new Option("abc",3))`

    let parent = document.createElement("div"); //è¿™ä¸¤ä¸ªå‘½å(parentã€child)å’Œwindowæœ‰å†²çªçš„ï¼Œè™½ç„¶å¯ä»¥ç”¨
    let child = document.createElement("p");
    child.innerText = "p-innertext";
    parent.appendChild(child);
    parent.append("sam1", "sam2"); //æ’å…¥å¤šä¸ªæ–‡æœ¬èŠ‚ç‚¹
    child.replaceWith(document.createElement("span"), "text-");  //æ›¿æ¢èŠ‚ç‚¹
    console.log(parent.outerHTML); //<div><span></span>text-sam1sam2</div>
    parent.innerHTML = "<p>ptext</p>";
    console.log(parent.outerHTML); //<div><p>ptext</p></div>
    parent.innerText = "<p>ptext</p>"; //ä¼šè¢«è½¬ä¹‰
    console.log(parent.outerHTML); //<div>&lt;p&gt;ptext&lt;/p&gt;</div>
    sdiv.append(parent);
    

3.1ã€è¿œå¤çš„nodeæ–¹æ³•
-------------

è¿œå¤æ—¶æœŸæµä¼ ä¸‹æ¥çš„`node`æä¾›çš„æ’å…¥èŠ‚ç‚¹çš„æ–¹æ³•ï¼Œè¿”å›å‚æ•°éƒ½æ˜¯`Node`ã€‚å’Œ`element`æ–¹æ³•ä¸»è¦åŒºåˆ«æ˜¯`element`çš„æ–¹æ³•å‚æ•°å¯å¤šä¸ªï¼Œæ–¹æ³•ä¹Ÿæ›´ç®€æ´ã€‚

**å±æ€§/æ–¹æ³•**

**æè¿°**

node.[**appendChild**](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild)(child)

ä»æœ«å°¾è¿½åŠ ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ”¯æŒå­—ç¬¦ä¸²å‚æ•°

node.**insertBefore**(new,ref)

åœ¨refèŠ‚ç‚¹å‰æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹

node.**replaceChild**(new,old)

æ›¿æ¢ä¸€ä¸ªå­èŠ‚ç‚¹

node.**removeChild**(child)

åˆ é™¤ä¸€ä¸ªå­èŠ‚ç‚¹

3.2ã€insertAdjacentHTML/Text/Element
-----------------------------------

æ’å…¥HTMLå­—ç¬¦ã€æ–‡æœ¬ã€å…ƒç´ èŠ‚ç‚¹çš„é€šç”¨æ–¹æ³•ï¼šï¼ˆadjacent /É™ËˆdÊ’eÉªs(É™)nt/ ç›¸é‚»çš„ï¼‰ã€‚

**å±æ€§/æ–¹æ³•**

**æè¿°**

elem.**insertAdjacentHTML**(where, html)

æ’å…¥htmlå­—ç¬¦ï¼Œä¸ä¼šå½±å“ç°æœ‰å…ƒç´ 

elem.**insertAdjacentElement**(where, element)

æ’å…¥å…ƒç´ 

elem.**insertAdjacentText**(where, text)

æ’å…¥æ–‡æœ¬

å‚æ•°whereæ˜¯ä¸€ä¸ªæšä¸¾å­—ç¬¦ï¼Œè¿™ä¸ªè°å–çš„åçœŸå¤´ç–¼ï¼š

*   '**beforebegin**'ï¼šå…ƒç´ è‡ªèº«çš„å‰é¢ã€‚
*   '**afterbegin**'ï¼šæ’å…¥å…ƒç´ å†…éƒ¨çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ä¹‹å‰ã€‚
*   '**beforeend**'ï¼šæ’å…¥å…ƒç´ å†…éƒ¨çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ä¹‹åã€‚
*   '**afterend**'ï¼šå…ƒç´ è‡ªèº«çš„åé¢ã€‚

![image](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114203251810-2016823099.png)

    <div>
        <span id="adjacent">div</span>
    </div>
    <script>
        const adiv = document.getElementById("adjacent");
        adiv.insertAdjacentHTML("beforebegin", "-beforebegin-");
        adiv.insertAdjacentText("afterbegin","-afterbegin-")
        adiv.insertAdjacentText("beforeend","-beforeend-")
        adiv.insertAdjacentText("afterend","-afterend-")
        console.log(adiv.parentElement.innerHTML);
        //-beforebegin-<span id="adjacent">-afterbegin-div-beforeend-</span>-afterend-
    </script>
    

3.3ã€DocumentFragmentåŒ…è£…å™¨
-----------------------

DocumentFragment æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼Œåƒä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥é™„åŠ å…¶ä»–èŠ‚ç‚¹ï¼Œç„¶åä¼ è¾“ç»™å…¶ä»–æ–¹æ³•ä½¿ç”¨ï¼Œå½“ç„¶å¥½åƒä¹Ÿå¯ä»¥ç”¨æ•°ç»„ä»£æ›¿ã€‚ï¼ˆFragment /ËˆfrÃ¦É¡mÉ™nt/ ç‰‡æ®µï¼‰

    const adiv=document.getElementById("adjacent");
    let fram=new DocumentFragment();
    fram.append(document.createElement("li"));
    fram.append(document.createElement("li"));
    adiv.append(fram);
    console.log(adiv.outerHTML);
    

* * *

04ã€DOMæ ·å¼ç®¡ç†
==========

**å±æ€§/æ–¹æ³•**

**æè¿°**

HTMLElement.**style**

styleæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹åº”äºcssä¸­çš„å±æ€§ï¼Œå±æ€§æ˜¯é©¼å³°å‘½åçš„ï¼Œ**æ³¨æ„å€¼å¸¦å•ä½**ï¼

style.**cssText**

è®¾ç½®`style`æ ·å¼å­—ç¬¦ä¸²å€¼ï¼ŒåŒ`html`æ ‡ç­¾ä¸­çš„`style`ï¼Œ**æ³¨æ„**ä¼šè¦†ç›–å·²æœ‰styleæ ·å¼

ele.**className**

è·å–ã€è®¾ç½®classæ ·å¼å€¼ï¼ˆå­—ç¬¦ä¸²ï¼‰

ele.**classList**

æ ·å¼`class`åˆ—è¡¨ï¼Œ[DOMTokenList](https://developer.mozilla.org/zh-CN/docs/Web/API/DOMTokenList)é›†åˆï¼Œæ”¯æŒadd/remove/toggleæ–¹æ³•

lengthã€value

æ•°é‡ï¼Œå€¼ï¼ˆåŒ`className`ï¼‰

contains(css)

æ˜¯å¦åŒ…å«æŒ‡å®šæ ·å¼ï¼Œè¿”å›`bool`

add(...css)

æ·»åŠ ï¼ˆå¤šä¸ªï¼‰æ ·å¼

remove(...css)

ç§»é™¤ï¼ˆå¤šä¸ªï¼‰æ ·å¼

replace(old, new)

æ›¿æ¢

toggle(css)

ä¸å­˜åœ¨å°±æ·»åŠ ï¼Œå­˜åœ¨å°±ç§»é™¤ï¼ˆtoggle /ËˆtÉ‘ËÉ¡l/ åˆ‡æ¢ï¼‰

windwo.**getComputedStyle**(ele)

è®¡ç®—/è·å–ä¸€ä¸ªå…ƒç´ çš„å·²è§£æï¼ˆresolvedï¼‰æ ·å¼`style`å¯¹è±¡ï¼ˆåŒ`elem.style`ï¼‰

é‡ç½®**style**å±æ€§æ ·å¼çš„æ–¹å¼ï¼š

*   **å€¼ç½®ç©º**ï¼š`cdiv.style.backgroundColor="";`
*   **ç§»é™¤å±æ€§å€¼**ï¼š`cdiv.style.removeProperty("backgroundColor");`

    <div id="cssDiv" class="c1 c2 c3 c4">css</div>
    <script>
        const cdiv = document.getElementById("cssDiv");
        cdiv.style.backgroundColor = window.prompt("input background color", "red");
        cdiv.style.backgroundColor = "";
        cdiv.style.removeProperty("backgroundColor");
        cdiv.style.lineHeight = "30px";  //æ³¨æ„è¦å¸¦å•ä½
        cdiv.style.cssText = "color:red;font-weight:bold;" //ä¼šè¦†ç›–å‰é¢çš„æ ·å¼
        //è®¡ç®—æ ·å¼
        const cdstyle = getComputedStyle(cdiv);
    
        console.log(cdiv.className); //c1 c2 c3 c4
        console.log(cdiv.classList); //DOMTokenList(4) [ "c1", "c2", "c3", "c4" ]
        cdiv.classList.toggle("c1");
        cdiv.classList.remove("c1", "c2");
    </script>
    

* * *

05ã€æ»šåŠ¨å’Œåæ ‡
========

æœ‰æ•ˆçš„**æ–‡æ¡£çª—å£åŒºåŸŸ**é«˜åº¦ã€å®½åº¦ï¼Œå¯ä»¥ä½¿ç”¨ `document.documentElement` çš„ **`clientWidth/clientHeight`**ï¼Œä¸å«æ»šåŠ¨æ¡ã€‚**window.innerWidth/innerHeight** åŒ…æ‹¬äº†æ»šåŠ¨æ¡ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114203756394-908689376.png)

**æ–‡æ¡£å®Œæ•´å¤§å°**ï¼ˆåŒ…å«æ»šåŠ¨éšè—çš„éƒ¨åˆ†ï¼‰ï¼šdocumentElement.**scrollWidth**/**scrollHeight**ï¼Œå¦‚æœå†…å®¹æ²¡æœ‰é“ºæ»¡ï¼ŒæŸäº›æµè§ˆå™¨ä¼šå°äºclientWidth/clientHeightã€‚å› æ­¤è·å–å®Œæ•´æ–‡æ¡£é«˜åº¦ï¼Œå¯ä»¥å–å¤šä¸ªå€¼çš„æœ€å¤§å€¼ï¼š

    let scrollHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight,
        document.body.offsetHeight, document.documentElement.offsetHeight,
        document.body.clientHeight, document.documentElement.clientHeight);
    

**ğŸ”¸æ»šåŠ¨ä½ç½®**ï¼š

*   window.**scrollX**/**scrollY**ï¼Œä¸€èˆ¬å°±ç”¨è¿™ä¸ªå°±å¯ä»¥äº†ã€‚
*   window.pageXOffset /pageYOffset ï¼Œæ˜¯ä¸Šé¢çš„åˆ«ç§°ã€‚
*   document.documentElement.scrollLeft/scrollTop

**ğŸ”¸æ»šåŠ¨æ–¹æ³•**ï¼šæ–¹æ³•æ›´é€šç”¨ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚

*   window.**scrollBy**(x,y) ï¼Œç§»åŠ¨çš„è·ç¦»ã€‚
*   window.**scrollTo**(pageX,pageY)ï¼Œç§»åŠ¨åˆ°åæ ‡ã€‚
*   ele.**scrollIntoView**(top)ï¼Œæ»šåŠ¨åˆ°å…ƒç´ `ele`å¯è§ï¼Œå‚æ•°topä¸ºboolï¼Œtrueï¼ˆå…ƒç´ æ˜¾ç¤ºåœ¨é¡¶éƒ¨ï¼‰ã€falseï¼ˆåº•éƒ¨ï¼‰

**ğŸ”¸ç¦æ­¢æ»šåŠ¨**ï¼šè®¾ç½®csså±æ€§`overflow` ï¼š`document.body.style.overflow = "hidden"`ï¼Œå¯ç”¨äºå…ƒç´ ã€documentã€‚

**ğŸ”¸åæ ‡**ï¼š**`clientX/clientY`** ä¸ºç›¸å¯¹äºçª—å£çš„åæ ‡ï¼Œå°±æ˜¯èƒ½çœ‹åˆ°çš„ä½ç½®ã€‚**`pageX/pageY`**ä¸ºç›¸å¯¹äºæ–‡æ¡£çš„åæ ‡ï¼ŒåŒ…æ‹¬æ»šåŠ¨éšè—çš„éƒ¨åˆ†ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221114203756429-144842605.png)

**ğŸ”¸å…ƒç´ åæ ‡**ï¼š

*   ç›¸å¯¹äºçª—å£çš„åæ ‡ï¼šelem.**getBoundingClientRect**()ï¼Œè¿”å›ä¸€ä¸ª [DOMRect](https://developer.mozilla.org/zh-CN/docs/Web/API/DOMRect) å¯¹è±¡ï¼ŒåŒ…å«äº†åæ ‡ä½ç½®å®½ï¼ˆxã€yã€widhtã€heightã€topã€leftï¼‰ç­‰å±æ€§ã€‚
*   ç›¸å¯¹äºæ–‡æ¡£çš„åæ ‡ï¼šelem.getBoundingClientRect() åŠ ä¸Šå½“å‰é¡µé¢æ»šåŠ¨`window.scrollX/scrollY`
*   è·å–æŒ‡å®šåæ ‡çš„å…ƒç´ ï¼šdocument.elementFromPoint(x, y)ï¼Œè·å–åæ ‡ (x, y) å¤„åµŒå¥—æœ€å¤šçš„å…ƒç´ ã€‚

    const cele= document.elementFromPoint(window.innerWidth/2,window.innerHeight/2);
    cele.style.backgroundColor='red';
    cele.scrollIntoView(true);
    
    const rect = sdiv.getBoundingClientRect();
    console.log(rect.x, rect.y, rect.left, rect.top); //13 260.875 13 260.875
    

* * *

> **Â©ï¸ç‰ˆæƒç”³æ˜**ï¼šç‰ˆæƒæ‰€æœ‰@å®‰æœ¨å¤•ï¼Œæœ¬æ–‡å†…å®¹ä»…ä¾›å­¦ä¹ ï¼Œæ¬¢è¿æŒ‡æ­£ã€äº¤æµï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼[_åŸæ–‡ç¼–è¾‘åœ°å€-è¯­é›€_](https://www.yuque.com/kanding/ktech/flspc5)