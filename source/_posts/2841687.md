---
layout: post
title: "对称加密和非对称加密"
date: "2022-04-30T08:22:08.883Z"
---
对称加密和非对称加密
==========

1 概念
----

A 和 B 要把他们的通信内容加密， 如果A/B使用相同的加密解密key，那这就是 对称加密。

对称加密最大的问题就是A和B之间的加密/解密key必须是唯一的。也就是如果A和C 要加密通信，同时还不想让C知道A/B之间的通信内容。那么A/C之间的加密/解密用的key就不能和A/B之间的一样。

链接一旦便多，这种机制将很难管理大量的key。

非对称加密 就是在此环境下诞生的。非对称加密有公钥和私钥。公钥随意公开，私钥自己私密保存。

比如 A 把公钥发给B， C。 当B，C与A通信时，先把约定好的见面信号用公钥加密，A收到后，用私钥解密，当解密后的数据就是提前约定好的见面信号的话，A 就认为B，C是受信链接。

如果此时D也给A发送信息，但却没有正确的公钥。A就无法得到正确的见面信号，就不会受理D的请求。

2 对称加密
------

**对称加密采用了对称密码编码技术，它的特点是文件加密和解密使用相同的密钥加密**  
  
**也就是密钥也可以用作解密密钥，这种方法在密码学中叫做对称加密算法，对称加密算法使用起来简单快捷，密钥较短，且破译困难，除了数据加密标准（DES），另一个对称密钥加密系统是国际数据加密算法（IDEA），它比DES的加密性好，而且对计算机功能要求也没有那么高**  
  
对称加密算法在电子商务交易过程中存在几个问题：  
  
  1、要求提供一条安全的渠道使通讯双方在首次通讯时协商一个共同的密钥。直接的面对面协商可能是不现实而且难于实施的，所以双方可能需要借助于邮件和电话等其它相对不够安全的手段来进行协商；  
  
  2、密钥的数目难于管理。因为对于每一个合作者都需要使用不同的密钥，很难适应开放社会中大量的信息交流；  
  
  3、对称加密算法一般不能提供信息完整性的鉴别。它无法验证发送者和接受者的身份；  
  
  4、对称密钥的管理和分发工作是一件具有潜在危险的和烦琐的过程。对称加密是基于共同保守秘密来实现的，采用对称加密技术的贸易双方必须保证采用的是相同的密钥，保证彼此密钥的交换是安全可靠的，同时还要设定防止密钥泄密和更改密钥的程序。  
  
  假设两个用户需要使用对称加密方法加密然后交换数据，则用户最少需要2个密钥并交换使用，如果企业内用户有n个，则整个企业共需要n×(n-1) 个密钥，密钥的生成和分发将成为企业信息部门的恶梦。  
  
常见的对称加密算法有DES、3DES、Blowfish、IDEA、RC4、RC5、RC6和AES

3 非对称加密
-------

**与对称加密算法不同，非对称加密算法需要两个密钥：公开密钥（publickey）和私有密钥（privatekey）。**  
  
**公开密钥与私有密钥是一对，如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密；如果用私有密钥对数据进行加密，那么只有用对应的公开密钥才能解密。因为加密和解密使用的是两个不同的密钥，所以这种算法叫作非对称加密算法。**  
  
非对称加密算法实现机密信息交换的基本过程是：甲方生成一对密钥并将其中的一把作为公用密钥向其它方公开；得到该公用密钥的乙方使用该密钥对机密信息进行加密后再发送给甲方；甲方再用自己保存的另一把专用密钥对加密后的信息进行解密。甲方只能用其专用密钥解密由其公用密钥加密后的任何信息。  
  
 非对称加密的典型应用是数字签名。  
  
   常见的非对称加密算法有：RSA、ECC（移动设备用）、Diffie-Hellman、El Gamal、DSA（数字签名用）

4 非对称加密之公钥/私钥
-------------

1.公钥与私钥原理  
1)鲍勃有两把钥匙，一把是公钥，另一把是私钥  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005356828-1950036474.png)  
2)鲍勃把公钥送给他的朋友们----帕蒂、道格、苏珊----每人一把。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005403984-463869082.png)  
3)苏珊要给鲍勃写一封保密的信。她写完后用鲍勃的公钥加密，就可以达到保密的效果。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005412500-863295437.png)  
4)鲍勃收信后，用私钥解密，就看到了信件内容。这里要强调的是，只要鲍勃的私钥不泄露，这封信就是安全的，即使落在别人手里，也无法解密。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005419500-1822328322.png)  
5)鲍勃给苏珊回信，决定采用"数字签名"。他写完后先用Hash函数，生成信件的摘要（digest）。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005515359-1934644907.png)

  
6)然后，鲍勃使用私钥，对这个摘要加密，生成"数字签名"（signature）。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005524484-949087182.png)

7)鲍勃将这个签名，附在信件下面，一起发给苏珊。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005532796-1863329312.png)

8)苏珊收信后，取下数字签名，用鲍勃的公钥解密，得到信件的摘要。由此证明，这封信确实是鲍勃发出的。

![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005603921-819577677.png)

  
9)苏珊再对信件本身使用Hash函数，将得到的结果，与上一步得到的摘要进行对比。如果两者一致，就证明这封信未被修改过。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005612421-407782857.png)

  
10)复杂的情况出现了。道格想欺骗苏珊，他偷偷使用了苏珊的电脑，用自己的公钥换走了鲍勃的公钥。此时，苏珊实际拥有的是道格的公钥，但是还以为这是鲍勃的公钥。因此，道格就可以冒充鲍勃，用自己的私钥做成"数字签名"，写信给苏珊，让苏珊用假的鲍勃公钥进行解密。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005620921-1494099994.png)

  
11)后来，苏珊感觉不对劲，发现自己无法确定公钥是否真的属于鲍勃。她想到了一个办法，要求鲍勃去找"证书中心"（certificate authority，简称CA），为公钥做认证。证书中心用自己的私钥，对鲍勃的公钥和一些相关信息一起加密，生成"数字证书"（Digital Certificate）。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005629812-1464508028.png)

  
12)鲍勃拿到数字证书以后，就可以放心了。以后再给苏珊写信，只要在签名的同时，再附上数字证书就行了。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005638625-1123889882.png)

  
13)苏珊收信后，用CA的公钥解开数字证书，就可以拿到鲍勃真实的公钥了，然后就能证明"数字签名"是否真的是鲍勃签的。  
![](https://images2015.cnblogs.com/blog/300946/201610/300946-20161016005649046-1806234010.png)