---
layout: post
title: "JS/JQåŠ¨æ€åˆ›å»ºï¼ˆæ·»åŠ ï¼‰optgroupå’Œoptionå±æ€§"
date: "2022-04-09T21:15:28.032Z"
---
JS/JQåŠ¨æ€åˆ›å»ºï¼ˆæ·»åŠ ï¼‰optgroupå’Œoptionå±æ€§
==============================

JavaScriptå’ŒJqueryåŠ¨æ€æ“ä½œselectä¸‹æ‹‰æ¡†
==============================

_ç›¸ä¿¡åœ¨å‰ç«¯è®¾è®¡ä¸­å¿…ç„¶ä¸ä¼šå°‘çš„äº†è¡¨å•ï¼Œå› ä¸ºç»å¸¸ä¼šä½¿ç”¨åˆ°ä¸‹æ‹‰æ¡†é€‰é¡¹ï¼Œåˆæˆ–æ˜¯æŠŠæ•°æ®åŠ¨æ€å›æ˜¾åˆ°ä¸‹æ‹‰æ¡†ä¸­ã€‚å› ä¸ºä¹‹å‰ç‰µæ‰¯åˆ°optgroupæ ‡ç­¾æ—¶é‡åˆ°äº†é—®é¢˜ï¼Œæ²¡æŸ¥åˆ°å¤ªè¿‡è¯¦ç»†çš„è§£å†³æ–¹æ¡ˆï¼Œè‡ªå·±åŠ¨æ‰‹æ“ä½œè®°å½•ä¸€ä¸‹ã€‚_

### é¦–å…ˆå°±æ˜¯å’±ä»¬çš„è€æœ‹å‹_"select"_æ ‡ç­¾ï¼Œå› ä¸ºéœ€è¦jsã€jqä¸¤ç§æ“ä½œï¼Œæ‰€ä»¥å°±å®šä¹‰ä¸¤ä¸ªselectæ ‡ç­¾ã€‚

> HTMLä»£ç ï¼š

    <div style="width: 200px;height: 100px;margin: auto;margin-top: 100px;padding: 20px;background-color: pink;">
    	<select id="mySelect1" style="width: 120px;"></select>
    	<select id="mySelect2" style="width: 160px;"></select>
    	<button id="addSelect2">æ·»åŠ </button> <!-- æ­¤å¤„ç”¨äºç‚¹å‡»åŠ¨æ€æ·»åŠ åˆ°mySelect2 -->
    </div>
    

### ä¹‹åå°±æ˜¯å¼•ç”¨jqï¼Œå®šä¹‰jsã€jqæ“ä½œï¼Œä»£ç æˆ‘éƒ½è´´ä¸‹é¢äº†ã€‚

> JSä»£ç ï¼š

    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
            //1.åŠ¨æ€æ“ä½œ - JSæ–¹å¼
            //è¿™é‡Œå…ˆå®šä¹‰ä¸€ä¸ªjsonå¯¹è±¡ï¼Œç”¨äºè·å–å¹¶æ–°å¢åˆ°selectæ ‡ç­¾
            let language={
    	        "languageList":[
    	        {
    		    "groupName":"å‰ç«¯",
    		    "optionName":[
    			    {"languageName":"html"},
    			    {"languageName":"CSS"},
    			    {"languageName":"javascript"}
    				],
    	        },
    	        {
    		    "groupName":"åç«¯",
    		    "optionName":[
    			    {"languageName":"java"},
    			    {"languageName":"JSP"}
    				]
    	        }
    	      ]
    	    };
            //language.languageList - æ•°æ®ä½ç½®
            let index=0;
            for (obj of language.languageList) {
    	        //jsåˆ›å»ºoptgroupæ ‡ç­¾
    	        let optgroup=document.createElement("optgroup");
    	        //è®¾ç½®optgroupæ ‡ç­¾çš„labelå’Œidå€¼
    	        optgroup.label=obj.groupName;
    	        optgroup.id="optgroupId"+index;
                    //æŠŠåˆ›å»ºoptgroupæ–°å¢åˆ°selectä¸‹
    	        document.getElementById("mySelect1").add(optgroup);
    	        //é’ˆå¯¹optgroupæ ‡ç­¾ï¼Œæ·»åŠ å®ƒçš„optionæ ‡ç­¾
    	        for (var i = 0; i < obj.optionName.length; i++) {
    		        //jsåˆ›å»ºoptionæ ‡ç­¾
    		        let option=document.createElement("option");
    		        option.value=obj.optionName[i].languageName;
    		        option.innerHTML=obj.optionName[i].languageName;
    		        document.getElementById("optgroupId"+index).appendChild(option);
    	        }
    	        index+=1; //è‡ªå®šä¹‰ä¸‹æ ‡æ”¾åœ¨æœ€åæ–°å¢ï¼Œé˜²æ­¢æ·»åŠ optionæ—¶idå¢åŠ 
            }
    		
            //2.åŠ¨æ€æ–°å¢ - JQæ–¹å¼
            let item=0;
            $("#addSelect2").click(function(){
    	        item=item+1;
    	        //jqç‚¹å‡»æŒ‰é’®åå‘ä¸‹æ‹‰æ¡†æ–°å¢optgroupæ ‡ç­¾
    	        $("#mySelect2").append("<optgroup id='optgroup"+item+"' label='ç”Ÿæˆçš„optgroupæ ‡ç­¾"+item+"'></optgroup>");
    	        let r=Math.floor((Math.random()*5)+1); //ç”Ÿæˆéšæœºæ•°1-5
                    //æŠŠéšæœºæ•°ä¸ªæ•°ä¸ªçš„optionæ·»åŠ åˆ°å½“å‰æ–°å¢çš„optgroupä¸‹
    	        for (var i = 1; i <= r; i++) {
    		        $("#optgroup"+item).append(`<option value="`+i+`">éšæœºç”Ÿæˆçš„option`+i+`</option>`);
    	        }
            });
    </script>
    

**éœ€è¦æ³¨æ„çš„æ˜¯ï¼š**å°½ç®¡ç”¨çš„idæ˜¯é€’å¢äº§ç”Ÿçš„ï¼Œä½†å‰é¢çš„åå­—ä¹Ÿä¸è¦ä¸€æ ·ï¼Œæˆ‘åœ¨æµ‹è¯•æŒ‰é’®åŠŸèƒ½çš„æ—¶å€™ï¼Œæ²¡æ³¨æ„å°±æŠŠä¸¤ç§optgroupçš„idå®šä¹‰æˆä¸€æ ·çš„ï¼Œç»“æœæŒ‰é’®éšæœºç”Ÿæˆçš„optionéƒ½åŠ åˆ°äº†ç›¸åº”idçš„mySelect1çš„optgroupé‡Œé¢äº†ã€‚ğŸ˜¥

### æœ€åå†è´´ä¸€ä¸‹è¿è¡Œæ•ˆæœ

![](https://img2022.cnblogs.com/blog/2637283/202204/2637283-20220409171717112-1069049866.png)

é¦–å…ˆå°±æ˜¯mySelect1å›æ˜¾jsonä¸­çš„æ•°æ®

![](https://img2022.cnblogs.com/blog/2637283/202204/2637283-20220409171841407-592763455.png)

ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œæ–°å¢åˆ°mySelect2

![](https://img2022.cnblogs.com/blog/2637283/202204/2637283-20220409171933868-319890341.png)

![](https://img2022.cnblogs.com/blog/2637283/202204/2637283-20220409171956828-1434342937.png)