---
layout: post
title: "æ•°æ®ç»“æ„ç¬”è®°â€”â€”æ ‘ä¸äºŒå‰æ ‘"
date: "2022-04-07T05:17:16.466Z"
---
æ•°æ®ç»“æ„ç¬”è®°â€”â€”æ ‘ä¸äºŒå‰æ ‘
=============

> **å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š**
> 
> æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„Githubä»“åº“[**DayDayUP**](https://github.com/RobodLee/DayDayUP)ï¼šgithub.com/RobodLee/DayDayUPï¼Œæ¬¢è¿Star
> 
> â­â­â­â­â­`è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š`[https://blog.csdn.net/weixin\_43461520/article/details/124003408](https://blog.csdn.net/weixin_43461520/article/details/124003408)

5.1 æ ‘çš„åŸºæœ¬æ¦‚å¿µ
----------

### 5.1.1 æ ‘çš„å®šä¹‰

æ ‘æ˜¯nä¸ªèŠ‚ç‚¹çš„æœ‰é™é›†ã€‚n=0æ—¶ï¼Œç§°ä¸º**ç©ºæ ‘**ã€‚ä»»ä½•ä¸€ä¸ªéç©ºæ ‘åº”è¯¥æ»¡è¶³ï¼š

*   æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª**æ ¹ç»“ç‚¹**
    
*   å½“n > 1æ—¶ï¼Œå…¶ä½™ç»“ç‚¹å¯åˆ†ä¸ºmï¼ˆm > 0ï¼‰ä¸ª**äº’ä¸ç›¸äº¤çš„æœ‰é™é›†åˆ**T1, T2, â€¦ , Tmï¼Œå…¶ä¸­æ¯ä¸ªé›†åˆæœ¬èº«åˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¹¶ä¸”ç§°ä¸ºæ ¹ç»“ç‚¹çš„**å­æ ‘**
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_7LNbkFK7goTwnHHbusrPmA.png)

### 5.1.2 æ ‘çš„æ¦‚å¿µ

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_ngFttNYAzPQD2FMGWuD5mP.png)

*   **åŒäº²ç»“ç‚¹**ï¼ˆçˆ¶èŠ‚ç‚¹ï¼‰ï¼šç»“ç‚¹ä¸Šé¢ä¸€å±‚ç”¨çº¿è¿èµ·æ¥çš„èŠ‚ç‚¹ã€‚æ¯”å¦‚ç»“ç‚¹Gçš„çˆ¶èŠ‚ç‚¹æ˜¯Cã€‚
    
*   **å­©å­ç»“ç‚¹**ï¼šç»“ç‚¹ä¸‹é¢ä¸€å±‚ç”¨çº¿è¿èµ·æ¥çš„ç»“ç‚¹ï¼Œæ¯”å¦‚ç»“ç‚¹Dçš„å­©å­ç»“ç‚¹ä¸ºHã€Iã€Jã€‚
    
*   **å¶å­èŠ‚ç‚¹**ï¼šç»“ç‚¹çš„åº¦ä¸º0çš„ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å­©å­ç»“ç‚¹çš„ç»“ç‚¹ï¼Œå›¾ä¸­å¶å­èŠ‚ç‚¹ä¸ºKã€Lã€Fã€Gã€Mã€Iã€Jã€‚
    
*   **ç»“ç‚¹çš„å±‚æ¬¡**ï¼šä»ä¸Šå¾€ä¸‹æ•°åœ¨ç¬¬å‡ è¡Œï¼Œæ¯”å¦‚**æ ¹èŠ‚ç‚¹**åœ¨ç¬¬1å±‚ï¼Œç»“ç‚¹**E**åœ¨ç¬¬3å±‚ã€‚
    
*   **ç»“ç‚¹çš„é«˜åº¦**ï¼šä»ä¸‹å¾€ä¸Šæ•°ã€‚
    
*   **ç»“ç‚¹çš„æ·±åº¦**ï¼šä»ä¸Šå¾€ä¸‹æ•°ã€‚
    
*   **æ ‘çš„é«˜åº¦**ï¼ˆæ·±åº¦ï¼‰ï¼šæ€»å…±å¤šå°‘å±‚ï¼Œå›¾ä¸­çš„æ•°é«˜åº¦ä¸º4ã€‚
    
*   **ç»“ç‚¹çš„åº¦**ï¼šæœ‰å‡ ä¸ªå­©å­èŠ‚ç‚¹ï¼Œæ¯”å¦‚å›¾ä¸­ç»“ç‚¹Hçš„åº¦ä¸º0ã€‚
    
*   **æ ‘çš„åº¦**ï¼šæ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§åº¦æ•°ï¼Œå›¾ä¸­ç»“ç‚¹Dçš„åº¦æœ€å¤§ï¼Œä¸º3ï¼Œæ‰€ä»¥æ ‘çš„åº¦ä¹Ÿä¸º3ã€‚
    
*   **è·¯å¾„**ï¼šä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹çš„è·¯çº¿ï¼Œ**åªèƒ½æ˜¯ä»ä¸Šå¾€ä¸‹**ï¼Œæ¯”å¦‚Aâ†’Kçš„è·¯å¾„ä¸ºAâ†’Bâ†’Eâ†’Kã€‚
    
*   **è·¯å¾„é•¿åº¦**ï¼šè·¯å¾„ä¸Šæ‰€ç»è¿‡çš„è¾¹çš„ä¸ªæ•°ï¼Œæ¯”å¦‚Aâ†’Kè·¯å¾„é•¿åº¦ä¸º3ã€‚
    
*   **æœ‰åºæ ‘å’Œæ— åºæ ‘**ï¼šæ ‘ä¸­ç»“ç‚¹çš„å„å­æ ‘ä»å·¦åˆ°å³æ˜¯æœ‰æ¬¡åºçš„ï¼Œä¸èƒ½äº’æ¢ï¼Œç§°ä¸ºæœ‰åºæ ‘ã€‚åä¹‹ç§°ä¸ºæ— åºæ ‘ã€‚
    

### 5.1.3 æ ‘çš„æ€§è´¨

1.  `ç»“ç‚¹æ•° = æ€»åº¦æ•°+1`
    
    ç»“ç‚¹çš„åº¦ä¸ºç»“ç‚¹æœ‰å‡ ä¸ªå­©å­ç»“ç‚¹ï¼Œç”±äºæ²¡æœ‰å“ªä¸€ä¸ªç»“ç‚¹çš„å­èŠ‚ç‚¹æ˜¯æ ¹ç»“ç‚¹ï¼Œæ‰€ä»¥æ€»åº¦æ•°ä¸åŒ…å«æ ¹ç»“ç‚¹ã€‚æ‰€ä»¥ç»“ç‚¹æ•°ä¸ºæ€»åº¦æ•°+1ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_pADcWNPcHf9G417SQYrwBj.png)
    
    ä¸Šå›¾ä¸­Açš„åº¦ä¸º3ï¼ŒBçš„åº¦ä¸º2ï¼ŒCçš„åº¦ä¸º1.....æ€»åº¦æ•°ä¸º3+2+1+3+2+1=12ã€‚
    
    ç»“ç‚¹æ•°ä¸º13=12+1ã€‚
    
2.  `åº¦ä¸ºmçš„æ ‘ã€må‰æ ‘ çš„åŒºåˆ«`
    
    åº¦ä¸ºmçš„æ ‘
    
    må‰æ ‘
    
    å„ç»“ç‚¹çš„åº¦çš„æœ€å¤§å€¼
    
    æ¯ä¸ªç»“ç‚¹æœ€å¤šåªèƒ½æœ‰mä¸ªå­©å­çš„æ ‘
    
    ä»»æ„ç»“ç‚¹çš„åº¦ â‰¤ mï¼ˆæœ€å¤šmä¸ªå­©å­ï¼‰
    
    ä»»æ„ç»“ç‚¹çš„åº¦ â‰¤ mï¼ˆæœ€å¤šmä¸ªå­©å­ï¼‰
    
    è‡³å°‘æœ‰ä¸€ä¸ªç»“ç‚¹åº¦ = mï¼ˆæœ‰mä¸ªå­©å­ï¼‰
    
    å…è®¸æ‰€æœ‰ç»“ç‚¹çš„åº¦éƒ½ ï¼œ m
    
    ä¸€å®šæ˜¯éç©ºæ ‘ï¼Œè‡³å°‘æœ‰m+1ä¸ªç»“ç‚¹
    
    å¯ä»¥æ˜¯ç©ºæ ‘
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_372nEfM9Ud1BfwKg7GueHq.png)
    
3.  `åº¦ä¸º m çš„æ ‘ç¬¬ i å±‚è‡³å¤šæœ‰ m^(i-1) ä¸ªç»“ç‚¹ï¼ˆiâ‰¥1ï¼‰,må‰æ ‘ç¬¬ i å±‚è‡³å¤šæœ‰ m^(i-1) ä¸ªç»“ç‚¹ï¼ˆiâ‰¥1ï¼‰`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_dYqXZ5BA6kMt8hPjVaCUma.png)
    
4.  `é«˜åº¦ä¸ºhçš„må‰æ ‘è‡³å¤šæœ‰ (m^h -1)/(m-1) ä¸ªç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_jUgMDZmvoXTRN3SyU5FGbg.png)
    
5.  `é«˜åº¦ä¸ºhçš„må‰æ ‘è‡³å°‘æœ‰ h ä¸ªç»“ç‚¹ï¼›é«˜åº¦ä¸ºhã€åº¦ä¸ºmçš„æ ‘è‡³å°‘æœ‰ h+m-1 ä¸ªç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_p3id69ktvvDpPMtopyQfCr.png)
    
6.  `å…·æœ‰nä¸ªç»“ç‚¹çš„må‰æ ‘çš„æœ€å°é«˜åº¦ä¸ºlogm(n(m - 1) + 1)`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_kjYddsvujzVs8yC9k5WBcC.png)
    

5.2äºŒå‰æ ‘çš„æ¦‚å¿µ
---------

### 5.2.1 åŸºæœ¬æ¦‚å¿µ

äºŒå‰æ ‘æ˜¯nï¼ˆnâ‰¥0ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼š

*   æˆ–è€…ä¸º**ç©ºäºŒå‰æ ‘**ï¼Œå³n = 0ã€‚
    
*   æˆ–è€…ç”±ä¸€ä¸ª**æ ¹ç»“ç‚¹**å’Œä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„è¢«ç§°ä¸ºæ ¹çš„**å·¦å­æ ‘**å’Œ**å³å­æ ‘**ç»„æˆã€‚**å·¦å­æ ‘å’Œå³å­æ ‘åˆåˆ†åˆ«æ˜¯ä¸€æ£µäºŒå‰æ ‘**ã€‚
    
*   æ¯ä¸ªç»“ç‚¹**è‡³å¤š**åªæœ‰ä¸¤æ£µå­æ ‘ã€‚
    
*   å·¦å³å­æ ‘ä¸èƒ½é¢ å€’ï¼ˆäºŒå‰æ ‘æ˜¯**æœ‰åºæ ‘**ï¼‰
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_gDAjfRJjuZELHBUyrM6zRj.png)

### 5.2.2 å‡ ä¸ªç‰¹æ®Šçš„äºŒå‰æ ‘

*   `æ»¡äºŒå‰æ ‘ï¼šä¸€æ£µé«˜åº¦ä¸ºhï¼Œä¸”å«æœ‰2^h - 1ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘`
    
    *   åªæœ‰æœ€åä¸€å±‚æœ‰å¶å­ç»“ç‚¹
        
    *   ä¸å­˜åœ¨åº¦ä¸º 1 çš„ç»“ç‚¹
        
    *   æŒ‰å±‚åºä» 1 å¼€å§‹ç¼–å·ï¼Œç»“ç‚¹ i çš„å·¦å­©å­ä¸º 2iï¼Œå³å­©å­ä¸º 2i+1ï¼›ç»“ç‚¹ i çš„çˆ¶èŠ‚ç‚¹ä¸ºi/2ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_s2zSMejogwz5K3E7doab3f.png)
    
*   `å®Œå…¨äºŒå‰æ ‘ï¼šå½“ä¸”ä»…å½“å…¶æ¯ä¸ªç»“ç‚¹éƒ½ä¸é«˜åº¦ä¸ºhçš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸º1ï½nçš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶ï¼Œç§°ä¸ºå®Œå…¨äºŒå‰æ ‘`
    
    *   åªæœ‰æœ€åä¸¤å±‚å¯èƒ½æœ‰å¶å­ç»“ç‚¹
        
    *   æœ€å¤šåªæœ‰ä¸€ä¸ªåº¦ä¸º1çš„ç»“ç‚¹
        
    *   æŒ‰å±‚åºä» 1 å¼€å§‹ç¼–å·ï¼Œç»“ç‚¹ i çš„å·¦å­©å­ä¸º 2iï¼Œå³å­©å­ä¸º 2i+1ï¼›ç»“ç‚¹ i çš„çˆ¶èŠ‚ç‚¹ä¸ºi/2ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
        
    *   iâ‰¤ (n/2) ä¸ºåˆ†æ”¯ç»“ç‚¹ï¼Œ i> (n/2) ä¸ºå¶å­ç»“ç‚¹
        
    *   å¦‚æœæŸç»“ç‚¹åªæœ‰ä¸€ä¸ªå­©å­ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯å·¦å­©å­
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_wGrkMNGxSbhHK4htXa5k44.png)
    
*   `äºŒå‰æ’åºæ ‘(å¯ç”¨äºå…ƒç´ çš„æ’åºå’Œæœç´¢)ï¼šä¸€æ£µäºŒå‰æ ‘æˆ–è€…æ˜¯ç©ºäºŒå‰æ ‘ï¼Œæˆ–è€…æ˜¯å…·æœ‰å¦‚ä¸‹æ€§è´¨çš„äºŒå‰æ ‘`
    
    *   **å·¦å­æ ‘**ä¸Šæ‰€æœ‰ç»“ç‚¹çš„**å…³é”®å­—**å‡**å°äºæ ¹ç»“ç‚¹**çš„å…³é”®å­—
        
    *   **å³å­æ ‘**ä¸Šæ‰€æœ‰ç»“ç‚¹çš„**å…³é”®å­—**å‡**å¤§äºæ ¹ç»“ç‚¹**çš„å…³é”®å­—
        
    *   å·¦å­æ ‘å’Œå³å­æ ‘åˆå„æ˜¯ä¸€æ£µäºŒå‰æ’åºæ ‘
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_fBs6fpeRE7mkRx4fayuD1b.png)
    
*   `å¹³è¡¡äºŒå‰æ ‘(æœç´¢æ•ˆç‡é«˜)ï¼šæ ‘ä¸Šä»»ä¸€ç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®ä¸è¶…è¿‡1ã€‚`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_b2zFihwRqLA1ZfUYnDwPZx.png)
    

### 5.2.3 æ€§è´¨

#### äºŒå‰æ ‘çš„æ€§è´¨

1.  `è®¾éç©ºäºŒå‰æ ‘ä¸­åº¦ä¸º0ã€1å’Œ2çš„ç»“ç‚¹ä¸ªæ•°åˆ†åˆ«ä¸ºn0ã€n1å’Œn2ï¼Œåˆ™ n0 = n2 + 1ï¼ˆå³å¶å­ç»“ç‚¹æ¯”äºŒåˆ†æ”¯ç»“ç‚¹å¤šä¸€ä¸ªï¼‰`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_aryaVq6s6iXKoS1f83MmcM.png)
    
2.  `äºŒå‰æ ‘ç¬¬ i å±‚è‡³å¤šæœ‰ 2^(i-1) ä¸ªç»“ç‚¹ï¼ˆiâ‰¥1ï¼‰ï¼Œmå‰æ ‘ç¬¬ i å±‚è‡³å¤šæœ‰ m^(i-1) ä¸ªç»“ç‚¹ï¼ˆiâ‰¥1ï¼‰`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_vbazW3PL9RrM28E9iyJPot.png)
    
3.  `é«˜åº¦ä¸ºhçš„äºŒå‰æ ‘è‡³å¤šæœ‰ 2^â„ âˆ’ 1ä¸ªç»“ç‚¹ï¼ˆæ»¡äºŒå‰æ ‘ï¼‰,é«˜åº¦ä¸ºhçš„må‰æ ‘è‡³å¤šæœ‰ (m^h -1)/(m-1) ä¸ªç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_aA74HB9vVFYVwdbEF6TJDD.png)
    

#### å®Œå…¨äºŒå‰æ ‘çš„æ€§è´¨

1.  `å…·æœ‰nä¸ªï¼ˆn > 0ï¼‰ç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦hä¸º âŒˆlogâ‚‚(n + 1)âŒ‰ æˆ– âŒŠlogâ‚‚nâŒ‹+1`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_PqRECoTZvU3tSM9krHxUr.png)
    
2.  `å¯¹äºå®Œå…¨äºŒå‰æ ‘ï¼Œå¯ä»¥ç”±ç»“ç‚¹æ•° n æ¨å‡ºåº¦ä¸º0ã€1å’Œ2çš„ç»“ç‚¹ä¸ªæ•°ä¸ºn0ã€n1å’Œn2`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_bBEQ3dXfmvZ3tHKrira4TW.png)
    

### 5.2.4 äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„

#### é¡ºåºå­˜å‚¨

    struct TreeNode {
        ElemType value; //ç»“ç‚¹ä¸­çš„æ•°æ®å…ƒç´ 
        bool isEmpty;   //ç»“ç‚¹æ˜¯å¦ä¸ºç©º
    };
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_mykB5FpUhBJ93sW7zP1kHx.png)

#### é“¾å¼å­˜å‚¨

    typedef struct BiTNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct BiTNode *lChild, *rChild;    //å·¦å³å­©å­æŒ‡é’ˆ
    } BiTNode, *BiTree;
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_7RV52BbWnHF32xKTii9wFS.png)

5.3äºŒå‰æ ‘çš„éå†
---------

äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡æŒ‰æŸæ¡æœç´¢è·¯å¾„è®¿é—®æ ‘ä¸­æ¯ä¸ªç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹å‡è¢«è®¿é—®ä¸€æ¬¡ï¼Œè€Œä¸”ä»…è¢«è®¿é—®ä¸€æ¬¡ã€‚

### 5.3.1 äºŒå‰æ ‘çš„å…ˆä¸­ååºéå†

æ ¹æ®å¯¹æ ¹ç»“ç‚¹ã€å·¦å­æ ‘ã€å³å­æ ‘çš„è®¿é—®é¡ºåºä¸åŒï¼Œåˆ†ä¸º**å…ˆåºéå†**ã€**ä¸­åºéå†**å’Œ**ååºéå†**ã€‚

*   `å…ˆåºéå†`
    
    1.  **è®¿é—®æ ¹ç»“ç‚¹**
        
    2.  å…ˆåºéå†å·¦å­æ ‘
        
    3.  å…ˆåºéå†å³å­æ ‘
        
*   `ä¸­åºéå†`
    
    1.  ä¸­åºéå†å·¦å­æ ‘
        
    2.  **è®¿é—®æ ¹ç»“ç‚¹**
        
    3.  ä¸­åºéå†å³å­æ ‘
        
*   `ååºéå†`
    
    1.  åç»­éå†å·¦å­æ ‘
        
    2.  ååºéå†å³å­æ ‘
        
    3.  **è®¿é—®æ ¹ç»“ç‚¹**
        

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_nBmrzpUXcvowcZCaQshCnp.png)

    #define MaxSize 100
    #define ElemType char
    
    #include <iostream>
    
    using namespace std;
    
    //é¡ºåºå­˜å‚¨
    struct TreeNode {
        ElemType value; //ç»“ç‚¹ä¸­çš„æ•°æ®å…ƒç´ 
        bool isEmpty;   //ç»“ç‚¹æ˜¯å¦ä¸ºç©º
    };
    
    //é“¾å¼å­˜å‚¨
    typedef struct BiTNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct BiTNode *lChild, *rChild;    //å·¦å³å­©å­æŒ‡é’ˆ
    } BiTNode, *BiTree;
    
    //å‰åºéå†
    void PreOrder(BiTree tree) {
        if (tree != nullptr) {
            cout << tree->data << " ";
            PreOrder(tree->lChild);
            PreOrder(tree->rChild);
        }
    }
    
    //ä¸­åºéå†
    void InOrder(BiTree tree) {
        if (tree != nullptr) {
            InOrder(tree->lChild);
            cout << tree->data << " ";
            InOrder(tree->rChild);
        }
    }
    
    //ååºéå†
    void PostOrder(BiTree tree) {
        if (tree != nullptr) {
            PostOrder(tree->lChild);
            PostOrder(tree->rChild);
            cout << tree->data << " ";
        }
    }
    
    //æ±‚æ ‘çš„æ·±åº¦
    int treeDepth(BiTree tree) {
        if (tree == nullptr) {
            return 0;
        } else {
            int l = treeDepth(tree->lChild);
            int r = treeDepth(tree->rChild);
            return l > r ? l + 1 : r + 1;
        }
    }
    

### 5.3.2 äºŒå‰æ ‘çš„å±‚æ¬¡éå†

å±‚æ¬¡éå†æŒ‰ç…§**è‡ªä¸Šè‡³ä¸‹**ï¼Œ**ä»å·¦å‘å³**çš„é¡ºåºä¾æ¬¡å°†å¯¹ç»“ç‚¹è¿›è¡Œè®¿é—®ã€‚

*   ç®—æ³•æ€æƒ³
    
    1.  åˆå§‹åŒ–ä¸€ä¸ª`è¾…åŠ©é˜Ÿåˆ—`
        
    2.  æ ¹ç»“ç‚¹å…¥é˜Ÿ
        
    3.  è‹¥é˜Ÿåˆ—éç©ºï¼Œåˆ™é˜Ÿå¤´ç»“ç‚¹å‡ºé˜Ÿï¼Œè®¿é—®è¯¥ç»“ç‚¹ï¼Œå¹¶å°†å…¶å·¦ã€å³å­©å­æ’å…¥é˜Ÿå°¾ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
        
    4.  é‡å¤ç¬¬3æ­¥ç›´è‡³é˜Ÿåˆ—ä¸ºç©º
        

![å±‚æ¬¡éå†gif](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C_7fRy8w6dE6nJ2r9yBdDq1x.gif "å±‚æ¬¡éå†gif")

    #define ElemType char
    #define MaxSize 10
    #include <iostream>
    using namespace std;
    
    typedef struct BiTNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct BiTNode *lChild, *rChild;    //å·¦å³å­©å­æŒ‡é’ˆ
    } BiTNode, *BiTree;
    
    typedef struct {
        BiTNode data[MaxSize];
        int front, rear;
    } SqQueue;
    
    //åˆå§‹åŒ–é˜Ÿåˆ—
    void InitQueue(SqQueue &queue) {
        queue.front = 0;
        queue.rear = 0;
    }
    
    //åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    bool QueueEmpty(SqQueue queue) {
        return queue.front == queue.rear;
    }
    
    //å…¥é˜Ÿ
    bool EnQueue(SqQueue &queue, BiTNode x) {
        if ((queue.rear + 1) % MaxSize == queue.front) {
            return false;   //é˜Ÿæ»¡
        }
        queue.data[queue.rear] = x;
        queue.rear = (queue.rear + 1) % MaxSize;    //é˜Ÿå°¾æŒ‡é’ˆåç§»ä¸€ä½
        return true;
    }
    
    //å‡ºé˜Ÿ
    bool DeQueue(SqQueue &queue, BiTNode &x) {
        if (QueueEmpty(queue)) {
            return false;   //é˜Ÿç©º
        }
        x = queue.data[queue.front];
        queue.front = (queue.front + 1) % MaxSize;  //é˜Ÿå¤´æŒ‡é’ˆåç§»ä¸€ä½
        return true;
    }
    
    //è·å–é˜Ÿå¤´å…ƒç´ 
    bool GetHead(SqQueue &queue, BiTNode &x) {
        if (QueueEmpty(queue)) {
            return false;   //é˜Ÿç©º
        }
        x = queue.data[queue.front];
        return true;
    }
    
    //äºŒå‰æ ‘çš„å±‚åºéå†
    void LevelOrder(BiTree tree) {
        SqQueue queue;          //è¾…åŠ©é˜Ÿåˆ—
        InitQueue(queue);
        EnQueue(queue, *tree);  //æ ¹ç»“ç‚¹å…¥é˜Ÿ
        while (!QueueEmpty(queue)) {    //é˜Ÿå¤´ä¸ç©ºåˆ™é˜Ÿå¤´ç»“ç‚¹å‡ºé˜Ÿ
            BiTNode node;
            DeQueue(queue, node);
            cout << node.data << " ";
            if (node.lChild != nullptr) {   //å¦‚æœå·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘çš„æ ¹ç»“ç‚¹å…¥é˜Ÿ
                EnQueue(queue, *node.lChild);
            }
            if (node.rChild != nullptr) {   //å¦‚æœå³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘çš„æ ¹ç»“ç‚¹å…¥é˜Ÿ
                EnQueue(queue, *node.rChild);
            }
        }
    }
    

### 5.3.3 ç”±éå†åºåˆ—æ„é€ äºŒå‰æ ‘

é€šè¿‡æŒ‡å®š`å‰åº+ä¸­åº`ã€`ååº+ä¸­åº`ã€`å±‚åº+ä¸­åº`ä¸‰ç§éå†åºåˆ—ä¸­ä»»æ„ä¸€ç§ï¼Œå‡å¯ä»¥æ„é€ å‡ºä¸€ä¸ªäºŒå‰æ ‘ã€‚

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_shmMDDodfwuv3bRDd3eiy3.png)

> ä»¥`å‰åº+ä¸­åº`åºåˆ—è¿›è¡Œè¯´æ˜ï¼š  
> å‰åºåºåˆ—ä¸­ï¼Œç¬¬ä¸€ä¸ªç»“ç‚¹è‚¯å®šæ˜¯`æ ¹ç»“ç‚¹`ï¼Œæ‰¾åˆ°æ ¹ç»“ç‚¹åå°±å¯ä»¥åœ¨ä¸­åºåºåˆ—ä¸­æ‰¾åˆ°æ ¹ç»“ç‚¹çš„ä½ç½®ï¼Œä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹å·¦è¾¹çš„æ˜¯`å·¦å­æ ‘çš„ä¸­åºåºåˆ—`ï¼Œå³è¾¹çš„æ˜¯`å³å­æ ‘çš„ä¸­åºåºåˆ—`ã€‚å‡è®¾å·¦å­æ ‘çš„ä¸­åºåºåˆ—é•¿åº¦ä¸ºnï¼Œé‚£ä¹ˆå‰åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åé¢çš„nä¸ªå…ƒç´ å°±æ˜¯`å·¦å­æ ‘çš„å‰åºåºåˆ—`ï¼Œå‰©ä¸‹çš„å‡ ä¸ªå°±æ˜¯`å³å­æ ‘çš„å‰åºåºåˆ—`ã€‚  
> é‡‡ç”¨ç›¸åŒçš„æ–¹å¼è¿›è¡Œé€’å½’ï¼Œå°±å¯ä»¥æ„å»ºå‡º`å·¦å­æ ‘`ä¸`å³å­æ ‘`ï¼Œç„¶åå°†å·¦å³å­æ ‘ä¸æ ¹ç»“ç‚¹ç›¸è¿ã€‚
> 
> **ååº+ä¸­åº**ã€**å±‚åº+ä¸­åº**ä¹Ÿæ˜¯ç±»ä¼¼çš„åˆ†ææ–¹æ³•ï¼Œè¿™é‡Œä¾¿ä¸å†èµ˜è¿°ã€‚

    public class BuildTree {
    
        static class TreeNode {
            final char data;
            TreeNode lChild;
            TreeNode rChild;
    
            TreeNode(char data) {
                this.data = data;
            }
        }
    
        //æ ¹æ® å‰åº+ä¸­åºåºåˆ— æ„å»ºäºŒå‰æ ‘
        private TreeNode preAndInfixOrder(String preOrder, String infixOrder) {
            int size = preOrder.length();
            TreeNode root = new TreeNode(preOrder.charAt(0));   //å‰åºåºåˆ—çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºæ ¹ç»“ç‚¹
            int rootIndexInInfixOrder = infixOrder.indexOf(root.data);  //æ ¹ç»“ç‚¹åœ¨ä¸­åºåºåˆ—ä¸­çš„ä½ç½®
            int lChildSize = 0;   //å·¦å­æ ‘å…ƒç´ ä¸ªæ•°
            if (rootIndexInInfixOrder == 0) {   //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å·¦å­æ ‘
                root.lChild = null;
            } else {
                String lChildInfixOrder = infixOrder.substring(0, rootIndexInInfixOrder);    //å·¦å­æ ‘ä¸­åºåºåˆ—
                lChildSize = lChildInfixOrder.length();
                String lChildPreOrder = preOrder.substring(1, lChildSize + 1);  //å·¦å­æ ‘å‰åºåºåˆ—
                root.lChild = preAndInfixOrder(lChildPreOrder, lChildInfixOrder);
            }
            if (rootIndexInInfixOrder == size - 1) {    //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å³å­æ ‘
                root.rChild = null;
            } else {
                String rChildInfixOrder = infixOrder.substring(rootIndexInInfixOrder + 1, size);    //å³å­æ ‘ä¸­åºåºåˆ—
                String rChildPreOrder = preOrder.substring(lChildSize + 1, size);                   //å³å­æ ‘å‰åºåºåˆ—
                root.rChild = preAndInfixOrder(rChildPreOrder, rChildInfixOrder);
            }
            return root;
        }
    
        //æ ¹æ® ååº+ä¸­åºåºåˆ— æ„å»ºäºŒå‰æ ‘
        private TreeNode postAndInfixOrder(String postOrder, String infixOrder) {
            int size = postOrder.length();
            TreeNode root = new TreeNode(postOrder.charAt(size - 1));   //ååºåºåˆ—çš„æœ€åä¸€ä¸ªç»“ç‚¹ä½œä¸ºæ ¹ç»“ç‚¹
            int rootIndexInInfixOrder = infixOrder.indexOf(root.data);
            int lChildSize = 0;   //å·¦å­æ ‘å…ƒç´ ä¸ªæ•°
            if (rootIndexInInfixOrder == 0) {   //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å·¦å­æ ‘
                root.lChild = null;
            } else {
                String lChildInfixOrder = infixOrder.substring(0, rootIndexInInfixOrder);    //å·¦å­æ ‘ä¸­åºåºåˆ—
                lChildSize = lChildInfixOrder.length();
                String lChildPostOrder = postOrder.substring(0, lChildSize);                 //å·¦å­æ ‘ååºåºåˆ—
                root.lChild = postAndInfixOrder(lChildPostOrder, lChildInfixOrder);
            }
            if (rootIndexInInfixOrder == size - 1) {    //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å³å­æ ‘
                root.rChild = null;
            } else {
                String rChildInfixOrder = infixOrder.substring(rootIndexInInfixOrder + 1, size);        //å³å­æ ‘ä¸­åºåºåˆ—
                String rChildPostOrder = postOrder.substring(lChildSize, size - 1);                     //å³å­æ ‘ååºåºåˆ—
                root.rChild = postAndInfixOrder(rChildPostOrder, rChildInfixOrder);
            }
            return root;
        }
    
        //æ ¹æ® å±‚åº+ä¸­åºåºåˆ— æ„å»ºäºŒå‰æ ‘
        private TreeNode levelAndInfixOrder(String levelOrder, String infixOrder) {
            int size = levelOrder.length();
            TreeNode root = new TreeNode(levelOrder.charAt(0));   //å±‚åºåºåˆ—çš„ç¬¬ä¸€ä¸ªç»“ç‚¹ä½œä¸ºæ ¹ç»“ç‚¹
            int rootIndexInInfixOrder = infixOrder.indexOf(root.data);
            if (rootIndexInInfixOrder == 0) {    //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å·¦å­æ ‘
                root.lChild = null;
            } else {
                String lChildInfixOrder = infixOrder.substring(0, rootIndexInInfixOrder);    //å·¦å­æ ‘ä¸­åºåºåˆ—
                String lChildLevelOrder = "";   //å·¦å­æ ‘å±‚åºåºåˆ—
                //éå†å±‚åºåºåˆ—ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨ å·¦å­æ ‘ä¸­åºåºåˆ— ä¸­æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ï¼Œè¯´æ˜è¯¥å…ƒç´ å±äºå·¦å­æ ‘
                for (int i = 0; i < levelOrder.length(); i++) {
                    char c = levelOrder.charAt(i);
                    if (lChildInfixOrder.indexOf(c) != -1) {
                        lChildLevelOrder += c;
                    }
                }
                root.lChild = levelAndInfixOrder(lChildLevelOrder, lChildInfixOrder);
            }
            if (rootIndexInInfixOrder == size - 1) {    //ä¸­åºåºåˆ—ä¸­æ ¹ç»“ç‚¹åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œè¯´æ˜æ²¡æœ‰å³å­æ ‘
                root.rChild = null;
            } else {
                String rChildInfixOrder = infixOrder.substring(rootIndexInInfixOrder + 1, size);        //å³å­æ ‘ä¸­åºåºåˆ—
                String rChildLevelOrder = "";   //å³å­æ ‘å±‚åºåºåˆ—
                for (int i = 0; i < levelOrder.length(); i++) {
                    char c = levelOrder.charAt(i);
                    if (rChildInfixOrder.indexOf(c) != -1) {
                        rChildLevelOrder += c;
                    }
                }
                root.rChild = levelAndInfixOrder(rChildLevelOrder, rChildInfixOrder);
            }
            return root;
        }
    }
    

5.4 çº¿ç´¢äºŒå‰æ ‘
---------

### 5.4.1 çº¿ç´¢äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ

ä¼ ç»Ÿçš„äºŒå‰é“¾è¡¨å­˜å‚¨ä»…èƒ½**ä½“ç°çˆ¶å­å…³ç³»**ï¼Œä¸èƒ½ç›´æ¥å¾—åˆ°ç»“ç‚¹åœ¨éå†ä¸­çš„å‰é©±æˆ–åç»§ã€‚åœ¨å«**nä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘**ä¸­ï¼Œæœ‰`n+1ä¸ªç©ºæŒ‡é’ˆ`ã€‚æ‰€ä»¥å¯ä»¥ç”¨è¿™äº›ç©ºæŒ‡é’ˆ`æŒ‡å‘å…¶å‰é©±ç»“ç‚¹å’Œåç»§èŠ‚ç‚¹`ï¼Œè‹¥æ— å·¦å­æ ‘ï¼Œä»¤lchildæŒ‡å‘å…¶å‰é©±ç»“ç‚¹ï¼Œè‹¥æ— å³å­æ ‘ï¼Œä»¤rchildæŒ‡å‘å…¶åç»§ç»“ç‚¹ã€‚

    typedef struct ThreadNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct ThreadNode *lChild, *rChild;    //å·¦å³æŒ‡é’ˆ
        int lTag, rTag;        //å·¦å³çº¿ç´¢æ ‡å¿—ï¼Œ0è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘å­©å­èŠ‚ç‚¹ï¼›1è¡¨ç¤ºæŒ‡å‘ç»“ç‚¹çš„å‰é©±/åç»§
    } ThreadNode, *ThreadTree;
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_tyCwvKdSRy5Sv3brejDP32.png)

### 5.4.2 äºŒå‰æ ‘çš„çº¿ç´¢åŒ–

äºŒå‰æ ‘çš„çº¿ç´¢åŒ–å°±æ˜¯å°†ç»“ç‚¹ä¸­çš„ç©ºæŒ‡é’ˆåŸŸæŒ‡å‘å…¶å‰é©±ç»“ç‚¹æˆ–åç»§ç»“ç‚¹ã€‚åœ¨éå†çš„è¿‡ç¨‹ä¸­ä¸€è¾¹éå†ä¸€è¾¹è¿›è¡Œçº¿ç´¢åŒ–ï¼Œå…¶ä¸­å…¨å±€å˜é‡ pre æŒ‡é’ˆæŒ‡å‘å½“å‰è®¿é—®ç»“ç‚¹çš„å‰é©±ç»“ç‚¹ã€‚

    #define ElemType char
    #include <iostream>
    using namespace std;
    
    //ç»“ç‚¹
    typedef struct ThreadNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct ThreadNode *lChild, *rChild;    //å·¦å³æŒ‡é’ˆ
        int lTag, rTag;        //å·¦å³çº¿ç´¢æ ‡å¿—ï¼Œ0è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘å­©å­èŠ‚ç‚¹ï¼›1è¡¨ç¤ºæŒ‡å‘ç»“ç‚¹çš„å‰é©±/åç»§
    } ThreadNode, *ThreadTree;
    
    ThreadNode *pre = nullptr;
    
    void Visit(ThreadNode *node) {
        if (node->lChild == nullptr) {  //å·¦å­æ ‘ä¸ºç©ºï¼Œå»ºç«‹å‰é©±çº¿ç´¢
            node->lChild = pre;
            node->lTag = 1;
        }
        if (pre != nullptr && pre->rChild == nullptr) {     //å‰é©±ç»“ç‚¹çš„å³å­æ ‘ä¸ºç©ºï¼Œä¸ºå‰é©±ç»“ç‚¹å»ºç«‹åé©±çº¿ç´¢
            pre->rChild = node;
            pre->rTag = 1;
        }
        pre = node;
    }
    
    //å…ˆåºéå†äºŒå‰æ ‘ï¼Œä¸€è¾¹éå†ä¸€è¾¹çº¿ç´¢åŒ–
    void PreThread(ThreadTree node) {
        if (node != nullptr) {
            Visit(node);
            //åˆ¤æ–­æ˜¯å¦æ˜¯å­©å­ç»“ç‚¹ï¼Œå¦‚æœæ˜¯çº¿ç´¢ç»“ç‚¹ï¼Œåˆ™ä¸å»è¿›è¡Œè®¿é—®ï¼Œé˜²æ­¢æ­»å¾ªç¯
            if (node->lTag == 0) {
                PreThread(node->lChild);
            }
            if (node->rTag == 0) {
                PreThread(node->rChild);
            }
        }
    }
    
    //ä¸­åºéå†äºŒå‰æ ‘ï¼Œä¸€è¾¹éå†ä¸€è¾¹çº¿ç´¢åŒ–
    void InThread(ThreadTree node) {
        if (node != nullptr) {
            InThread(node->lChild);
            Visit(node);
            InThread(node->rChild);
        }
    }
    
    //ä¸­åºéå†äºŒå‰æ ‘ï¼Œä¸€è¾¹éå†ä¸€è¾¹çº¿ç´¢åŒ–
    void PostThread(ThreadTree node) {
        if (node != nullptr) {
            PostThread(node->lChild);
            PostThread(node->rChild);
            Visit(node);
        }
    }
    
    //å…ˆåºçº¿ç´¢åŒ–äºŒå‰æ ‘
    void CreatePreThread(ThreadTree tree) {
        pre = nullptr;
        if (tree != nullptr) {
            PreThread(tree);
            if (pre->rChild == nullptr) {
                pre->rTag = 1;  //å°†æœ€åä¸€ä¸ªç»“ç‚¹çš„å³å­æ ‘çº¿ç´¢æ ‡å¿—ç½®ä¸º1
            }
        }
    }
    
    //ä¸­åºçº¿ç´¢åŒ–äºŒå‰æ ‘
    void CreateInfixThread(ThreadTree tree) {
        if (tree != nullptr) {
            InThread(tree);
            if (pre->rChild == nullptr) {
                pre->rTag = 1;  //å°†æœ€åä¸€ä¸ªç»“ç‚¹çš„å³å­æ ‘çº¿ç´¢æ ‡å¿—ç½®ä¸º1
            }
        }
    }
    
    //ååºçº¿ç´¢åŒ–äºŒå‰æ ‘
    void CreatePostThread(ThreadTree tree) {
        if (tree != nullptr) {
            PostThread(tree);
            if (pre->rChild == nullptr) {
                pre->rTag = 1;  //å°†æœ€åä¸€ä¸ªç»“ç‚¹çš„å³å­æ ‘çº¿ç´¢æ ‡å¿—ç½®ä¸º1
            }
        }
    }
    

ä»¥**å…ˆåºéå†çº¿ç´¢åŒ–è¿›è¡Œ**è¯´æ˜ï¼š

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220217124520_m1ktM5DjMjTvaeL8p7Eou7.jpg)

å‡è®¾ç°åœ¨nodeä¸ºç»“ç‚¹Eï¼ŒpreæŒ‡å‘ç»“ç‚¹Gã€‚è¿›å…¥Visitå‡½æ•°ï¼Œç”±äºnode.lChildä¸ºnullï¼Œä½¿å…¶æŒ‡å‘å‰é©±ç»“ç‚¹Dï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼Œç”±äºpreä¸ä¸ºnullï¼Œä¸”preçš„rChildä¸ºnullï¼Œä½¿å…¶æŒ‡å‘åç»§ç»“ç‚¹Eã€‚ä¸­åºéå†çº¿ç´¢åŒ–å’Œååºéå†çº¿ç´¢åŒ–éƒ½æ˜¯åŒæ ·çš„é“ç†ï¼Œéƒ½æ˜¯åœ¨éå†çš„åŒæ—¶ä¿®æ”¹ç»“ç‚¹ç©ºæŒ‡é’ˆåŸŸçš„æŒ‡å‘ã€‚

åœ¨å…ˆåºéå†æ—¶ï¼Œéœ€è¦lTagå’ŒrTagçš„å€¼è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­æŒ‡é’ˆæŒ‡å‘çš„æ˜¯å‰é©±/åç»§ç»“ç‚¹è¿˜æ˜¯å­ç»“ç‚¹ã€‚å¦‚æœä¸è¿›è¡Œåˆ¤æ–­åˆ™ä¼šå‡ºç°`æ­»å¾ªç¯`çš„æƒ…å†µ ã€‚

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/5b387c44f0f2949bd624a1fec5a7b3b_iTZnEerqPYg2usGZWK.jpg)

ä¾‹å¦‚ä¸Šé¢è¿™ä¸ªäºŒå‰æ ‘ï¼Œå½“Visitç»“ç‚¹Bæ—¶ï¼Œä¼šå°†Açš„rChildæŒ‡å‘Bï¼ŒBçš„lChildæŒ‡å‘Aã€‚æ ¹æ®å…ˆåºéå†çš„é¡ºåºï¼Œè®¿é—®å®ŒBåå°±åº”è¯¥å»è®¿é—®Açš„å³å­©å­ç»“ç‚¹äº†ï¼ŒAå¹¶æ²¡æœ‰å³å­©å­ç»“ç‚¹ï¼Œä½†æ˜¯Açš„rChildå·²ç»æŒ‡å‘äº†Bã€‚æ‰€ä»¥éœ€è¦è¿›è¡Œåˆ¤æ–­Açš„rChildæ˜¯å­©å­ç»“ç‚¹è¿˜æ˜¯çº¿ç´¢ç»“ç‚¹ï¼Œå¦‚æœä¸è¿›è¡Œåˆ¤æ–­å°±ä¼šåœ¨ABä¹‹é—´æ­»å¾ªç¯ã€‚**åœ¨è®¿é—®lChildå’ŒrChildæ—¶éƒ½æœ‰å¯èƒ½å‡ºç°æ­»å¾ªç¯ï¼Œæ‰€ä»¥éƒ½éœ€è¦è¿›è¡Œåˆ¤æ–­**ã€‚

### 5.4.3 çº¿ç´¢äºŒå‰æ ‘çš„éå†

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_9tRV46RccHDTSM8tKH7Y7E.png)

*   `ä¸­åºçº¿ç´¢äºŒå‰æ ‘æ‰¾ å‰é©±/åç»§ ç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_iNpYfnXNcvUYJKqsfkpWND.png)
    
    **å¦‚æœ rTag==1 ï¼Œåˆ™ç›´æ¥è®¿é—® pâ†’rChild**ã€‚å¦åˆ™ï¼š
    
    ä¸­åºéå†çš„é¡ºåºæ˜¯ å·¦-æ ¹-å³ï¼Œè®¿é—®å®Œæ ¹ç»“ç‚¹åå°±è¯¥è®¿é—®æ ¹ç»“ç‚¹çš„å³å­æ ‘ï¼Œå³å­æ ‘çš„ä¸­åºéå†é¡ºåºä¹Ÿæ˜¯å·¦-æ ¹-å³ï¼Œä¹Ÿå°±æ˜¯è®¿é—®å³å­æ ‘çš„å·¦å­©å­ï¼Œä»¥æ­¤ç±»æ¨ï¼š
    
    `ä»¥pä¸ºæ ¹ç»“ç‚¹ï¼Œå®ƒçš„åç»§èŠ‚ç‚¹å°±æ˜¯å³å­æ ‘ä¸­æœ€å·¦ä¸‹çš„ä¸€ä¸ªç»“ç‚¹`ã€‚ä¾‹å¦‚å›¾ä¸­Açš„åç»§ä¸ºFã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_K34CpCJwzs92B1k9skTDY.png)
    
    * * *
    
    **å¦‚æœlTag==1ï¼Œåˆ™ç›´æ¥è®¿é—®pâ†’lChild**ã€‚å¦åˆ™
    
    ä¸­åºéå†ä¸­å…ˆè®¿é—®æ ¹ç»“ç‚¹çš„å·¦å­æ ‘æ‰å»è®¿é—®æ ¹ç»“ç‚¹ï¼Œå·¦å­æ ‘ä¸­æœ€åä¸€ä¸ªè¢«è®¿é—®çš„æ˜¯å³å­©å­ï¼Œä»¥æ­¤ç±»æ¨ï¼š
    
    `ä»¥pä¸ºæ ¹ç»“ç‚¹ï¼Œå®ƒçš„å‰é©±ç»“ç‚¹å°±æ˜¯på·¦å­æ ‘çš„æœ€å³ä¸‹ä¸€ä¸ªç»“ç‚¹`ã€‚ä¾‹å¦‚å›¾ä¸­Açš„å‰é©±ç»“ç‚¹æ˜¯Eã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_2zKEZkhi55cNcwthUEHyhQ.png)
    

* * *

*   `å…ˆåºçº¿ç´¢äºŒå‰æ ‘æ‰¾åç»§ç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_3psXgc52Y8t1waA6qnPH57.png)
    
    **å¦‚æœrTag==1ï¼Œåˆ™ç›´æ¥è®¿é—®pâ†’rChild**ã€‚å¦åˆ™ï¼š
    
    ç”±äºå…ˆåºéå†çš„é¡ºåºä¸ºæ ¹å·¦å³ï¼Œæ‰€ä»¥`ä»¥pä¸ºæ ¹ç»“ç‚¹ï¼Œå¦‚æœå®ƒè¿æ¥æœ‰å·¦å­æ ‘ï¼Œåˆ™åç»§ç»“ç‚¹ä¸ºå·¦å­æ ‘çš„æ ¹ç»“ç‚¹ï¼ˆå³å·¦å­©å­ï¼‰ï¼›å¦‚æœæ²¡æœ‰å·¦å­æ ‘ï¼Œåˆ™åç»§èŠ‚ç‚¹ä¸ºå³å­æ ‘çš„æ ¹ç»“ç‚¹ï¼ˆå³å³å­©å­ï¼‰`ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_2E9B3UHS5kFiPsSr834hNh.png)
    

* * *

*   `ååºçº¿ç´¢äºŒå‰æ ‘æ‰¾å‰é©±ç»“ç‚¹`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_hphwC1v5T31FmpnFABHLqH.png)
    
    **å¦‚æœlTag==1ï¼Œåˆ™pçš„å‰é©±ç»“ç‚¹ä¸ºpâ†’lChild**ã€‚å¦åˆ™ï¼š
    
    ç”±äºååºéå†çš„é¡ºåºä¸ºå·¦å³æ ¹ã€‚æ‰€ä»¥`ä»¥pä¸ºæ ¹ç»“ç‚¹ï¼Œå®ƒçš„å‰é©±ç»“ç‚¹å°±æ˜¯å³å­æ ‘çš„æ ¹ç»“ç‚¹ï¼ˆå³å³å­©å­ï¼‰ï¼›å¦‚æœæœªè¿æ¥æœ‰å³å­æ ‘ï¼Œåˆ™å‰é©±ç»“ç‚¹ä¸ºå·¦å­æ ‘çš„æ ¹ç»“ç‚¹ï¼ˆå³å·¦å­©å­ï¼‰ã€‚`
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_wfVXU4smpXSW3XFWgiYWmJ.png)
    

    #define ElemType char
    #include <iostream>
    using namespace std;
    
    typedef struct ThreadNode {
        ElemType data;                      //æ•°æ®åŸŸ
        struct ThreadNode *lChild, *rChild;    //å·¦å³æŒ‡é’ˆ
        int lTag, rTag;        //å·¦å³çº¿ç´¢æ ‡å¿—ï¼Œ0è¡¨ç¤ºæŒ‡é’ˆæŒ‡å‘å­©å­èŠ‚ç‚¹ï¼›1è¡¨ç¤ºæŒ‡å‘ç»“ç‚¹çš„å‰é©±/åç»§
    } ThreadNode, *ThreadTree;
    
    //æ‰¾åˆ°ä»¥Pä¸ºæ ¹çš„å­æ ‘ä¸­ï¼Œç¬¬ä¸€ä¸ªè¢«ä¸­åºéå†çš„ç»“ç‚¹ï¼Œå³æœ€å·¦ä¸‹ç»“ç‚¹
    ThreadNode *FirstNodeInfix(ThreadNode *p) {
        while (p->lTag == 0) {
            p = p->lChild;
        }
        return p;
    }
    
    //åœ¨ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­æ‰¾åˆ°ç»“ç‚¹pçš„åç»§ç»“ç‚¹
    // å³å­æ ‘æœ€å·¦ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œç›¸å½“äºåœ¨å³å­æ ‘ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªè¢«ä¸­åºéå†çš„ç»“ç‚¹
    ThreadNode *NextNodeInfix(ThreadNode *p) {
        if (p->rTag == 0) {
            return FirstNodeInfix(p->rChild);
        } else {
            return p->rChild;
        }
    }
    
    //å¯¹ä¸­åºçº¿ç´¢äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†
    void InfixOrder(ThreadTree t) {
        for (ThreadNode *p = FirstNodeInfix(t); p != nullptr; p = NextNodeInfix(p)) {
            cout << p->data << " ";
        }
        cout << endl;
    }
    
    //æ‰¾åˆ°ä»¥pä¸ºæ ¹ç»“ç‚¹çš„å­æ ‘ä¸­ï¼Œæœ€åä¸€ä¸ªè¢«ä¸­åºéå†çš„ç»“ç‚¹ï¼Œå³æœ€å³ä¸‹ç»“ç‚¹
    ThreadNode *LastNodeInfix(ThreadNode *p) {
        while (p->rTag == 0) {
            p = p->rChild;
        }
        return p;
    }
    
    // åœ¨ä¸­åºçº¿ç´¢äºŒå‰æ ‘ä¸­æ‰¾åˆ°ç»“ç‚¹pçš„å‰é©±ç»“ç‚¹
    // å·¦å­æ ‘æœ€å³ä¸‹ç»“ç‚¹ï¼Œç›¸å½“äºåœ¨å·¦å­æ ‘ä¸­æ‰¾åˆ°æœ€åä¸€ä¸ªè¢«ä¸­åºéå†çš„èŠ‚ç‚¹
    ThreadNode *PreNodeInfix(ThreadNode *p) {
        if (p->lTag == 0) {
            return LastNodeInfix(p->lChild);
        } else {
            return p->lChild;
        }
    }
    
    // å¯¹ä¸­åºçº¿ç´¢äºŒå‰æ ‘è¿›è¡Œé€†å‘ä¸­åºéå†
    void ReverseInfixOrder(ThreadTree t) {
        for (ThreadNode *p = LastNodeInfix(t); p != nullptr; p = PreNodeInfix(p)) {
            cout << p->data << " ";
        }
        cout << endl;
    }
    
    //å…ˆåºçº¿ç´¢äºŒå‰æ ‘ä¸­å¯»æ‰¾åç»§ç»“ç‚¹
    ThreadNode *NextNodePre(ThreadNode *p) {
        if (p->rTag == 1) {
            return p->rChild;
        }
        //æœ‰å·¦å­©å­åç»§ç»“ç‚¹å°±æ˜¯å·¦å­©å­ï¼Œå¦åˆ™å°±æ˜¯å³å­©å­
        //è¿™é‡Œéœ€è¦åˆ¤æ–­lTagæ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸ä¸º0åˆ™è¯´æ˜å·¦æŒ‡é’ˆæŒ‡å‘çš„æ˜¯å‰é©±ç»“ç‚¹è€Œä¸æ˜¯å·¦å­©å­
        if (p->lChild != nullptr && p->lTag == 0) {
            return p->lChild;
        } else {
            return p->rChild;
        }
    }
    
    // å¯¹å…ˆåºçº¿ç´¢äºŒå‰æ ‘è¿›è¡Œå…ˆåºéå†
    void PreOrder(ThreadTree t) {
        for (ThreadNode *p = t; p != nullptr; p = NextNodePre(p)) {
            cout << p->data << " ";
        }
        cout << endl;
    }
    
    //ååºçº¿ç´¢äºŒå‰æ ‘ä¸­å¯»æ‰¾å‰é©±ç»“ç‚¹
    ThreadNode *PreNodePost(ThreadNode *p) {
        if (p->lTag == 1) {
            return p->lChild;
        }
        //æœ‰å³å­©å­å‰é©±ç»“ç‚¹å°±æ˜¯å³å­©å­ï¼Œæ²¡æœ‰å³å­©å­å°±æ˜¯å·¦å­©å­
        if (p->rChild != nullptr && p->rTag == 0) {
            return p->rChild;
        } else {
            return p->lChild;
        }
    }
    
    //å¯¹ååºçº¿ç´¢äºŒå‰æ ‘è¿›è¡Œååºé€†å‘éå†
    void ReversePostOrder(ThreadTree t) {
        for (ThreadNode *p = t; p != nullptr; p = PreNodePost(p)) {
            cout << p->data << " ";
        }
        cout << endl;
    }
    

5.5æ ‘ã€æ£®æ—
-------

### 5.5.1 æ ‘çš„å­˜å‚¨ç»“æ„

*   `åŒäº²è¡¨ç¤ºæ³•ï¼ˆé¡ºåºå­˜å‚¨ï¼‰`
    
    é‡‡ç”¨ä¸€ç»„`è¿ç»­ç©ºé—´`ï¼ˆæ•°ç»„ï¼‰æ¥å­˜å‚¨æ¯ä¸ªç»“ç‚¹ï¼ŒåŒæ—¶åœ¨æ¯ä¸ªç»“ç‚¹ä¸­å¢è®¾ä¸€ä¸ª`ä¼ªæŒ‡é’ˆ`ï¼Œ**ç”¨æ¥æŒ‡ç¤ºå…¶åŒäº²ç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®**ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_o4gzLPBxq7Du51osG8ieu6.png)
    
        typedef struct {        //æ ‘çš„ç»“ç‚¹çš„å®šä¹‰
            ElemType data;      //æ•°æ®å…ƒç´ 
            int parent;         //åŒäº²ä½ç½®åŸŸï¼Œå³çˆ¶ç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡
        } PTNode;
        
        typedef struct {        //æ ‘çš„ç±»å‹å®šä¹‰
            PTNode nodes[MAX_TREE_SIZE];    //åŒäº²è¡¨ç¤º
            int n;                          //ç»“ç‚¹æ•°
        } PTree;
        
    

* * *

*   `å­©å­è¡¨ç¤ºæ³•ï¼ˆé¡ºåº+é“¾å¼å­˜å‚¨ï¼‰`
    
    å°†**æ¯ä¸ªç»“ç‚¹çš„å­©å­éƒ½ç”¨å•é“¾è¡¨é“¾æ¥èµ·æ¥å½¢æˆä¸€ä¸ªçº¿æ€§ç»“æ„**ã€‚è¿™ç§æ–¹å¼å¯»æ‰¾å­å¥³çš„æ“ä½œéå¸¸ç›´æ¥ï¼Œè€Œå¯»æ‰¾åŒäº²çš„æ“ä½œéœ€è¦éå†nä¸ªç»“ç‚¹ä¸­å­©å­é“¾è¡¨æŒ‡é’ˆåŸŸæ‰€æŒ‡å‘çš„nä¸ªå­©å­é“¾è¡¨ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_kFGJyqKmpjoKb1YpHNBU8i.png)
    
        struct CTNode {
            int child;  //å­©å­ç»“ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®
            CTNode *next;    //ä¸‹ä¸€ä¸ªå­©å­
        };
        typedef struct {
            ElemType data;
            CTNode *firstChild;     //ç¬¬ä¸€ä¸ªå­©å­
        } CTBox;
        typedef struct {
            CTBox nodes[MAX_TREE_SIZE];
            int n, r;    //ç»“ç‚¹æ•°å’Œæ ¹çš„ä½ç½®
        } CTree;
        
    

* * *

*   `å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•ï¼ˆé“¾å¼å­˜å‚¨ï¼‰`
    
    è¯¥æ–¹æ³•`ä»¥äºŒå‰é“¾è¡¨ä½œä¸ºæ ‘çš„å­˜å‚¨ç»“æ„`ï¼Œåˆç§°**äºŒå‰æ ‘è¡¨ç¤ºæ³•**ã€‚æ¯ä¸ªç»“ç‚¹åŒ…æ‹¬`ç»“ç‚¹å€¼`ã€`æŒ‡å‘ç»“ç‚¹ç¬¬ä¸€ä¸ªå­©å­ç»“ç‚¹çš„æŒ‡é’ˆ`ã€`æŒ‡å‘ç»“ç‚¹ä¸‹ä¸€ä¸ªå…„å¼Ÿç»“ç‚¹çš„æŒ‡é’ˆ(æ²¿æ­¤æŒ‡é’ˆåŸŸå¯ä»¥æ‰¾åˆ°ç»“ç‚¹çš„æ‰€æœ‰å…„å¼Ÿç»“ç‚¹)`ä¸‰ä¸ªéƒ¨åˆ†ã€‚
    
    ä¼˜ç‚¹æ˜¯**å¯ä»¥æ–¹ä¾¿åœ°å®ç°æ ‘ä¸äºŒå‰æ ‘çš„è½¬æ¢ï¼Œæ˜“äºå¤„æŸ¥æ‰¾ç»“ç‚¹çš„å­©å­**ï¼›ç¼ºç‚¹æ˜¯**ä¸èƒ½ä»å½“å‰ç»“ç‚¹æŸ¥æ‰¾å…¶åŒäº²ç»“ç‚¹ï¼Œåªèƒ½ä»å¤´éå†**ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_aPftWaNcCPNA35bkakapou.png)
    
        //å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•
        typedef struct CSNode {
            ElemType data;      //æ•°æ®åŸŸ
            CSNode *firstChild, *nextSibling;   //ç¬¬ä¸€ä¸ªå­©å­å’Œå³å…„å¼ŸæŒ‡é’ˆï¼ˆçœ‹åšå·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆï¼‰
        } CSNode, *CSTree;
        
    

### 5.5.2 æ ‘ã€æ£®æ—ä¸äºŒå‰æ ‘çš„è½¬æ¢

ç”¨`å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•`å­˜å‚¨æ£®æ—ï¼Œ`æ£®æ—ä¸­å„ä¸ªæ ‘çš„æ ¹ç»“ç‚¹ä¹‹é—´è§†ä¸ºå…„å¼Ÿå…³ç³»`ã€‚bky

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_bqqafddQXsojcFmLUfwzo3.png)

### 5.5.3 æ ‘å’Œæ£®æ—çš„éå†

#### æ ‘çš„éå†

*   `å…ˆæ ¹éå†`
    
    è‹¥æ ‘éç©ºï¼Œå…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œå†ä¾æ¬¡éå†æ ¹ç»“ç‚¹çš„æ¯æ£µå­æ ‘ï¼Œéå†å­æ ‘æ—¶ä»éµå¾ªå…ˆæ ¹åå­æ ‘çš„è§„åˆ™ã€‚éå†åºåˆ—ä¸`ç›¸åº”äºŒå‰æ ‘çš„å…ˆåºåºåˆ—ç›¸åŒ`ã€‚
    
        void PreOrder(TreeNode *R) {
            if (R != NULL) {
                visit(R);               //è®¿é—®æ ¹ç»“ç‚¹
                while (Rè¿˜æœ‰ä¸‹ä¸€æ£µå­æ ‘T) {
                    PreOrder(T);        //å…ˆæ ¹éå†ä¸‹ä¸€æ£µå­æ ‘
                }
            }
        }
        
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_6pXWgLUPcRSp3oXKqZD5tU.png)
    

* * *

*   `åæ ¹éå†`
    
    è‹¥æ ‘éç©ºï¼Œå…ˆä¾æ¬¡å¯¹æ¯æ£µå­æ ‘è¿›è¡Œåæ ¹éå†ï¼Œæœ€åå†è®¿é—®æ ¹ç»“ç‚¹ï¼Œéå†å­æ ‘æ—¶ä»éµå¾ªå…ˆå­æ ‘åæ ¹çš„è§„åˆ™ã€‚éå†åºåˆ—`ä¸ç›¸åº”çš„äºŒå‰æ ‘çš„ä¸­åºåºåˆ—ç›¸åŒ`ã€‚ä¹Ÿæœ‰æ•™æç§°ä¹‹ä¸ºä¸­æ ¹éå†ã€‚
    
        void PostOrder(TreeNode *R) {
            if (R != NULL) {
                while (Rè¿˜æœ‰ä¸‹ä¸€æ£µå­æ ‘T) {
                    PostOrder(T);        //åæ ¹éå†ä¸‹ä¸€æ£µå­æ ‘
                }
                visit(R);               //è®¿é—®æ ¹ç»“ç‚¹
            }
        }
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_pLWYV4Q9JUZazSZWitV2Zq.png)
    

* * *

*   `å±‚æ¬¡éå†`ï¼ˆç”¨é˜Ÿåˆ—å®ç°ï¼‰
    
    1.  è‹¥æ ‘éç©ºï¼Œåˆ™æ ¹èŠ‚ç‚¹å…¥é˜Ÿ
        
    2.  è‹¥é˜Ÿåˆ—éç©ºï¼Œé˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿå¹¶è®¿é—®ï¼ŒåŒæ—¶å°†è¯¥å…ƒç´ çš„å­©å­ä¾æ¬¡å…¥é˜Ÿ
        
    3.  é‡å¤2ç›´åˆ°é˜Ÿåˆ—ä¸ºç©º
        
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C_qQwpViRTt8UmHNofeBUKvs.gif)
    

* * *

#### æ£®æ—çš„éå†

*   `å…ˆåºéå†`
    
    æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œéå†ï¼š
    
    1.  è®¿é—®æ£®æ—ä¸­ç¬¬ä¸€æ£µæ ‘çš„æ ¹ç»“ç‚¹
        
    2.  å…ˆåºéå†ç¬¬ä¸€æ£µæ ‘ä¸­æ ¹ç»“ç‚¹çš„å­æ ‘æ£®æ—
        
    3.  å…ˆåºéå†é™¤å»ç¬¬ä¸€æ£µæ ‘ä¹‹åå‰©ä½™çš„æ ‘æ„æˆçš„æ£®æ—
        
    
    æ•ˆæœ`ç­‰åŒäºä¾æ¬¡å¯¹å„ä¸ªæ ‘è¿›è¡Œå…ˆæ ¹éå†`ï¼Œä¹Ÿ`ç­‰åŒäºå¯¹ç›¸åº”äºŒå‰æ ‘è¿›è¡Œå…ˆåºéå†`ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_6z8U8qmbtXmihxn1oTi4cb.png)
    

* * *

*   `ä¸­åºéå†`
    
    æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œéå†ï¼š
    
    1.  ä¸­åºéå†æ£®æ—ä¸­ç¬¬ä¸€æ£µæ ‘çš„æ ¹ç»“ç‚¹çš„å­æ ‘æ£®æ—
        
    2.  è®¿é—®ç¬¬ä¸€æ£µæ ‘çš„æ ¹ç»“ç‚¹
        
    3.  ä¸­åºéå†é™¤å»ç¬¬ä¸€æ£µæ ‘ä¹‹åå‰©ä½™çš„æ ‘æ„æˆçš„æ£®æ—
        
    
    æ•ˆæœ`ç­‰åŒäºä¾æ¬¡å¯¹å„ä¸ªæ ‘è¿›åæ ¹éå†`ï¼Œä¹Ÿ`ç­‰åŒäºå¯¹ç›¸åº”äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†`ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_pj4H7jcmu6ZUTkj4oenVwX.png)
    

5.6 æ ‘ä¸äºŒå‰æ ‘çš„åº”ç”¨
------------

### 5.6.1 å“ˆå¤«æ›¼æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç 

#### æ¦‚å¿µ

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_m78cus4m8Uo1NDo7uDykzv.png)

*   `ç»“ç‚¹çš„æƒ`ï¼šæœ‰æŸç§ç°å®å«ä¹‰çš„æ•°å€¼ï¼ˆå¦‚ï¼šè¡¨ç¤ºç»“ç‚¹çš„é‡è¦æ€§ç­‰ï¼‰ã€‚ğŸ‘†å›¾ä¸­ç»“ç‚¹ä¸Šçš„æ•°å­—å°±æ˜¯ç»“ç‚¹çš„æƒã€‚
    
*   `ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦`ï¼šä»æ ‘çš„æ ¹åˆ°è¯¥ç»“ç‚¹çš„**è·¯å¾„é•¿åº¦**ï¼ˆç»è¿‡çš„è¾¹æ•°ï¼‰**ä¸è¯¥ç»“ç‚¹ä¸Šæƒå€¼çš„ä¹˜ç§¯**ã€‚ä¾‹å¦‚å›¾ä¸­ç»“ç‚¹3çš„è·¯å¾„é•¿åº¦ä¸º3ï¼Œæ‰€ä»¥è¯¥ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸º3\*3=9ã€‚
    
*   `æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦`ï¼šæ ‘ä¸­æ‰€æœ‰**å¶ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œ**ï¼ˆWPL, Weighted Path Lengthï¼‰ã€‚ä¸Šå›¾ä¸­WPL=5\*3 + 1\*3 + 10\*3 + 3\*3 + 4\*1 = 61ã€‚
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_dLJwCm6T83Y7Vp1TB9J6Ak.png)

åœ¨å«æœ‰nä¸ªå¸¦æƒå¶ç»“ç‚¹çš„äºŒå‰æ ‘ä¸­ï¼Œå…¶ä¸­**å¸¦æƒè·¯å¾„é•¿åº¦ï¼ˆWPLï¼‰æœ€å°çš„äºŒå‰æ ‘**ç§°ä¸º`å“ˆå¤«æ›¼æ ‘`ï¼Œä¹Ÿç§°`æœ€ä¼˜äºŒå‰æ ‘`ã€‚bky

#### æ„é€ å“ˆå¤«æ›¼æ ‘

ç»™å®šnä¸ªæƒå€¼åˆ†åˆ«ä¸ºw1, w2,â€¦, wnçš„ç»“ç‚¹ï¼Œæ„é€ å“ˆå¤«æ›¼æ ‘çš„ç®—æ³•æè¿°å¦‚ä¸‹ï¼š

1.  å°†è¿™**nä¸ªç»“ç‚¹åˆ†åˆ«ä½œä¸ºnæ£µä»…å«ä¸€ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘**ï¼Œæ„æˆæ£®æ—**F**ã€‚
    
2.  æ„é€ ä¸€ä¸ªæ–°ç»“ç‚¹ï¼Œä»Fä¸­**é€‰å–ä¸¤æ£µæ ¹ç»“ç‚¹æƒå€¼æœ€å°çš„æ ‘ä½œä¸ºæ–°ç»“ç‚¹çš„å·¦ã€å³å­æ ‘**ï¼Œå¹¶ä¸”å°†**æ–°ç»“ç‚¹çš„æƒå€¼ç½®ä¸ºå·¦ã€å³å­æ ‘ä¸Šæ ¹ç»“ç‚¹çš„æƒå€¼ä¹‹å’Œ**ã€‚
    
3.  ä»Fä¸­**åˆ é™¤åˆšæ‰é€‰å‡ºçš„ä¸¤æ£µæ ‘ï¼ŒåŒæ—¶å°†æ–°å¾—åˆ°çš„æ ‘åŠ å…¥F**ä¸­ã€‚
    
4.  **é‡å¤æ­¥éª¤2å’Œ3**ï¼Œç›´è‡³Fä¸­åªå‰©ä¸‹ä¸€æ£µæ ‘ä¸ºæ­¢ã€‚
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_9p2F5CMAsXrcXeHnRRUzAM.png)

    public class HuffmanTree {
        
        private int weight;     //æƒå€¼
        private String info;    //ç»“ç‚¹ä¿¡æ¯
        private HuffmanTree lChild;
        private HuffmanTree rChild;
    
        HuffmanTree(int weight, String info) {
            this.weight = weight;
            this.info = info;
        }
    
        private HuffmanTree buildHuffmanTree(List<HuffmanTree> nodes) {
            HuffmanTree min1;
            HuffmanTree min2;   //æƒå€¼æœ€å°çš„ä¸¤ä¸ªç»“ç‚¹
            while (nodes.size() > 1) {
                int min1Index = 0;
                for (int i = 1; i < nodes.size(); i++) {    //æ‰¾æƒå€¼æœ€å°çš„ç¬¬ä¸€ä¸ªç»“ç‚¹çš„ä¸‹æ ‡
                    if (nodes.get(i).weight < nodes.get(min1Index).weight) {
                        min1Index = i;
                    }
                }
                min1 = nodes.get(min1Index);
                nodes.remove(min1Index);    //å°†é€‰ä¸­çš„ç»“ç‚¹ä»é›†åˆä¸­åˆ é™¤
    
                int min2Index = 0;
                for (int i = 1; i < nodes.size(); i++) {    //æ‰¾æƒå€¼æœ€å°çš„ç¬¬äºŒä¸ªç»“ç‚¹çš„ä¸‹æ ‡
                    if (nodes.get(i).weight < nodes.get(min2Index).weight) {
                        min2Index = i;
                    }
                }
                min2 = nodes.get(min2Index);
                nodes.remove(min2Index);    //å°†é€‰ä¸­çš„ç»“ç‚¹ä»é›†åˆä¸­åˆ é™¤
    
                HuffmanTree newNode = new HuffmanTree
                        (min1.weight + min2.weight, "");    //æ„é€ ä¸€ä¸ªç»“ç‚¹ï¼Œæƒå€¼ä¸ºä¸¤ä¸ªé€‰ä¸­ç»“ç‚¹æƒå€¼ä¹‹å’Œ
                newNode.lChild = min1;
                newNode.rChild = min2;  //å°†ä¸¤ä¸ªç»“ç‚¹ä½œä¸ºæ–°ç»“ç‚¹çš„å·¦å³å­æ ‘
                nodes.add(newNode);     //æ·»åŠ åˆ°é›†åˆä¸­
            }
            return nodes.get(0);
        }
    }
    

å“ˆå¤«æ›¼æ ‘çš„**ç‰¹ç‚¹**å¦‚ä¸‹ï¼š

*   æ¯ä¸ª**åˆå§‹ç»“ç‚¹æœ€ç»ˆéƒ½æˆä¸ºå¶ç»“ç‚¹**ï¼Œä¸”**æƒå€¼è¶Šå°çš„ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„é•¿åº¦è¶Šå¤§**ã€‚
    
*   å“ˆå¤«æ›¼æ ‘çš„**ç»“ç‚¹æ€»æ•°ä¸º2n âˆ’ 1**ã€‚
    
*   å“ˆå¤«æ›¼æ ‘ä¸­**ä¸å­˜åœ¨åº¦ä¸º1çš„ç»“ç‚¹**ã€‚
    
*   å“ˆå¤«æ›¼æ ‘å¹¶**ä¸å”¯ä¸€**ï¼Œä½†**WPLå¿…ç„¶ç›¸åŒä¸”ä¸ºæœ€ä¼˜**ã€‚
    

#### å“ˆå¤«æ›¼ç¼–ç 

**å›ºå®šé•¿åº¦ç¼–ç **æŒ‡çš„æ˜¯æ¯ä¸ªå­—ç¬¦ç”¨ç›¸ç­‰é•¿åº¦çš„äºŒè¿›åˆ¶ä½è¡¨ç¤ºï¼Œ**å¯å˜é•¿åº¦ç¼–ç **æŒ‡çš„æ˜¯å…è®¸å¯¹ä¸åŒå­—ç¬¦ç”¨ä¸ç­‰é•¿çš„äºŒè¿›åˆ¶ä½è¡¨ç¤ºï¼Œè‹¥æ²¡æœ‰ä¸€ä¸ªç¼–ç æ˜¯å¦ä¸€ä¸ªç¼–ç çš„å‰ç¼€ï¼Œåˆ™ç§°è¿™æ ·çš„ç¼–ç ä¸º**å‰ç¼€ç¼–ç **ã€‚

å“ˆå¤«æ›¼ç¼–ç æ˜¯å¯å˜é•¿åº¦ç¼–ç å’Œå‰ç¼€ç¼–ç ï¼Œç”±å“ˆå¤«æ›¼æ ‘å¾—åˆ°å“ˆå¤«æ›¼ç¼–ç ï¼š`å­—ç¬¦é›†ä¸­çš„æ¯ä¸ªå­—ç¬¦ä½œä¸ºä¸€ä¸ªå¶å­ç»“ç‚¹ï¼Œå„ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘åº¦ä½œä¸ºç»“ç‚¹çš„æƒå€¼ï¼Œæ ¹æ®æ„é€ å“ˆå¤«æ›¼æ ‘çš„æ–¹æ³•æ„é€ å“ˆå¤«æ›¼æ ‘ï¼Œä»è€Œå¾—åˆ°å“ˆå¤«æ›¼ç¼–ç `ã€‚

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_k6UjA25PRd2PGPm4hrxDJN.png)

### 5.6.2 å¹¶æŸ¥é›†

#### æ¦‚å¿µåŠåŸºæœ¬æ“ä½œ

å¹¶æŸ¥é›†ï¼ˆDisjointed Setï¼‰æ˜¯ä¸€ç§ç®€å•çš„**é›†åˆ**è¡¨ç¤ºã€‚å®ƒæ˜¯é€»è¾‘ç»“æ„ï¼Œæ˜¯é›†åˆçš„ä¸€ç§å…·ä½“å®ç°ï¼Œåªè¿›è¡Œâ€œ`å¹¶`â€å’Œâ€œ`æŸ¥`â€ä¸¤ç§åŸºæœ¬æ“ä½œã€‚ç”¨**äº’ä¸ç›¸äº¤çš„æ ‘ï¼Œè¡¨ç¤ºå¤šä¸ªé›†åˆ**ï¼Œæ¯æ£µæ ‘è¡¨ç¤ºä¸€ä¸ªé›†åˆï¼Œé‡‡ç”¨`åŒäº²è¡¨ç¤ºæ³•ä½œä¸ºå¹¶æŸ¥é›†çš„å­˜å‚¨ç»“æ„`ã€‚

*   `Initial(S)`ï¼šå°†é›†åˆSä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åˆå§‹åŒ–ä¸ºåªæœ‰ä¸€ä¸ªå•å…ƒç´ çš„å­é›†åˆã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_tx28Rtdb1xKgbZiGrPeDhW.png)
    
    å°†æ•°ç»„å…ƒç´ çš„å€¼éƒ½ç½®ä¸º-1ï¼Œè¡¨ç¤ºæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€æ£µæ ‘çš„æ ¹ç»“ç‚¹ï¼Œå³æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„é›†åˆã€‚
    
        //åˆå§‹åŒ–å¹¶æŸ¥é›†
        void Initial(int S[]) {
            for (int i = 0; i < SIZE; ++i) {
                S[i] = -1;
            }
        }
        
    
*   `Union(S, Root1, Root2)`ï¼šæŠŠé›†åˆSä¸­çš„å­é›†åˆRoot2å¹¶å…¥å­é›†åˆRoot1ã€‚è¦æ±‚Root1å’ŒRoot2äº’ä¸ç›¸äº¤ï¼Œå¦åˆ™ä¸æ‰§è¡Œåˆå¹¶ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_fAvsRvSKap5MP1MisetnNa.png)
    
    ä¾‹å¦‚è¦æŠŠç´«è‰²çš„é›†åˆåˆå¹¶åˆ°ç»¿è‰²çš„é›†åˆä¸­ï¼Œåªéœ€è¦å°†ç»“ç‚¹Cçš„çˆ¶ç»“ç‚¹è®¾ä¸ºAï¼Œä¹Ÿå°±æ˜¯S\[2\]=0ã€‚
    
        void Union(int S[], int Root1, int Root2) {
            if (Root1 == Root2) {
                return;     //å¦‚æœæ˜¯åŒä¸€ä¸ªé›†åˆï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œ
            } else {
                S[Root2] = Root1;   //å°†æ ¹Root2è¿æ¥åˆ°å¦ä¸€æ ¹Root1ä¸‹é¢
            }
        }
        
    
*   `Find(S, x)`ï¼šæŸ¥æ‰¾é›†åˆSä¸­å•å…ƒç´ xæ‰€åœ¨çš„å­é›†åˆï¼Œå¹¶è¿”å›è¯¥å­é›†åˆçš„æ ¹ç»“ç‚¹ã€‚
    
    ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_kXnfHnvyPjna6wULFhdEPA.png)
    
    æ¯”å¦‚æ‰¾ç»“ç‚¹Lçš„æ‰€å±é›†åˆï¼Œå°±æ˜¯æŸ¥æ‰¾Læ‰€åœ¨çš„æ ‘çš„æ ¹ç»“ç‚¹ã€‚Lçš„çˆ¶ç»“ç‚¹æ˜¯Eï¼ŒEçš„çˆ¶ç»“ç‚¹æ˜¯Bï¼ŒBçš„çˆ¶ç»“ç‚¹æ˜¯Aï¼ŒAå°±æ˜¯è¦æ‰¾çš„æ ¹ç»“ç‚¹ã€‚
    
        //æŸ¥æ“ä½œï¼Œæ‰¾xæ‰€å±é›†åˆï¼ˆè¿”å›xæ‰€å±æ ¹ç»“ç‚¹ï¼‰
        int Find(int S[], int x) {
            while (S[x] >= 0) {     //å¾ªç¯å¯»æ‰¾xçš„æ ¹
                x = S[x];
            }
            return x;               //æ ¹çš„S[]å°äº0
        }
        
    

#### Unionæ“ä½œçš„ä¼˜åŒ–

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_bBQeueUr4HJ1jRrVGGvYDq.png)

åœ¨è¿›è¡Œåˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‡ºç°æ ‘è¶Šæ¥è¶Šé«˜çš„æƒ…å†µï¼Œæ ‘è¶Šé«˜ï¼ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦å°±è¶Šé«˜ã€‚ä¸ºäº†é™ä½æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥åœ¨**åˆå¹¶çš„æ—¶å€™å°½é‡ä¸å¢åŠ æ ‘çš„é«˜åº¦**ã€‚æ–¹æ³•å°±æ˜¯`ç”¨æ ¹ç»“ç‚¹çš„ç»å¯¹å€¼è¡¨ç¤ºæ ‘çš„ç»“ç‚¹æ€»æ•°ï¼Œåˆå¹¶æ—¶è®©å°æ ‘åˆå¹¶åˆ°å¤§æ ‘`ã€‚è¯¥æ–¹æ³•æ„é€ çš„æ ‘é«˜ä¸è¶…è¿‡`âŒŠlogâ‚‚nâŒ‹+1`ï¼ŒFindæ“ä½œæœ€åæ—¶é—´å¤æ‚åº¦é™ä½ä¸º`O(logâ‚‚n)`ã€‚

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_qurVc9ZdR9JPGMRRJWdJvs.png)

    //ä¼˜åŒ–åçš„å¹¶æ“ä½œï¼Œå°æ ‘å¹¶å¤§æ ‘
    void Union_Optimize(int S[], int Root1, int Root2) {
        if (Root1 == Root2) {
            return;     //å¦‚æœæ˜¯åŒä¸€ä¸ªé›†åˆï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œ
    //    } else if ( (-S[Root2]) < (-S[Root1]) ) {   //Root2ç»“ç‚¹æ•°æ›´å°‘
        } else if (S[Root2] > S[Root1]) {   //Root2ç»“ç‚¹æ•°æ›´å°‘
            S[Root1] += S[Root2];   //ç´¯åŠ ç»“ç‚¹æ€»æ•°
            S[Root2] = Root1;       //å°æ ‘Root2åˆå¹¶åˆ°å¤§æ ‘Root1
        } else {    //Root1ç»“ç‚¹æ•°æ›´å°‘æˆ–ç»“ç‚¹æ•°ä¸€æ ·
            S[Root2] += S[Root1];   //ç´¯åŠ ç»“ç‚¹æ€»æ•°
            S[Root1] = Root2;       //å°æ ‘Root1åˆå¹¶åˆ°å¤§æ ‘Root2
        }
    }
    

#### Findæ“ä½œçš„ä¼˜åŒ–ï¼ˆå‹ç¼©è·¯å¾„ï¼‰bky

Findæ“ä½œçš„ç›®çš„æ˜¯ä¸ºäº†æ‰¾åˆ°å…ƒç´ æ‰€å±é›†åˆï¼Œé‚£ä¹ˆå¦‚æœæ ‘çš„é«˜åº¦è¶Šå°ï¼ŒFindæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸å°±è¶Šå°ä¹ˆã€‚å‹ç¼©è·¯å¾„çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯å°½å¯èƒ½è®©æ ‘å˜çŸ®ï¼Œåœ¨æ¯æ¬¡Findæ“ä½œæ—¶ï¼Œå…ˆæ‰¾æ ¹ï¼Œå†å°†æŸ¥æ‰¾è·¯å¾„ä¸Šçš„æ‰€æœ‰å…ƒç´ éƒ½ç›´æ¥æŒ‚åˆ°æ ¹ç»“ç‚¹ä¸‹ï¼Œè¿™æ ·åœ¨ä¸‹æ¬¡æŸ¥æ‰¾æ—¶å°±ä¼šæ›´å¿«ã€‚

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_brLUrgxA1YE9rst8vyZnKc.png)

    //ä¼˜åŒ–åçš„æŸ¥æ“ä½œï¼Œå‹ç¼©è·¯å¾„
    int Find_Optimize(int S[], int x) {
        int root = x;
        while (S[root] >= 0) {     //å¾ªç¯å¯»æ‰¾xçš„æ ¹
            root = S[root];
        }
        while (x != root) {     //å‹ç¼©è·¯å¾„
            int t = S[x];       //tæŒ‡å‘xçš„çˆ¶ç»“ç‚¹
            S[x] = root;        //xç›´æ¥æŒ‚åˆ°æ ¹ç»“ç‚¹ä¸‹
            x = t;
        }
        return root;               //è¿”å›æ ¹ç»“ç‚¹ç¼–å·
    }
    

![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/image_qFMPYXUqcN67vhQuHzRnuR.png)

> â­â­â­â­â­è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼š[https://blog.csdn.net/weixin\_43461520/article/details/124003408](https://blog.csdn.net/weixin_43461520/article/details/124003408)
> 
> æœ¬æ–‡å·²æ”¶å½•è‡³æˆ‘çš„Githubä»“åº“**DayDayUP**ï¼š[github.com/RobodLee/DayDayUP](github.com/RobodLee/DayDayUP "github.com/RobodLee/DayDayUP")ï¼Œæ¬¢è¿Star
> 
> å¦‚æœæ‚¨è§‰å¾—æ–‡ç« è¿˜ä¸é”™ï¼Œè¯·ç»™æˆ‘æ¥ä¸ª`ç‚¹èµ`ï¼Œ`æ”¶è—`ï¼Œ`å…³æ³¨`
> 
> å­¦ä¹ æ›´å¤šç¼–ç¨‹çŸ¥è¯†ï¼ŒWeChatæ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨å…¬ä¼—å·ã€ R o b o d ã€ï¼š
> 
> ![](https://gitee.com/RobodLee/image_store/raw/master/%E7%AE%97%E6%B3%95%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0%E6%A0%91%E4%B8%8E%E4%BA%8C%E5%8F%89%E6%A0%91/code_nznVTNqgP73s4Cu3iNDQXF.jpg)