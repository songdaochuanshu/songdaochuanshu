---
layout: post
title: "ReactæŠ¥é”™ä¹‹Element type is invalid"
date: "2022-12-18T21:12:49.689Z"
---
ReactæŠ¥é”™ä¹‹Element type is invalid
===============================

æ€»è§ˆ
--

äº§ç”Ÿ"Element type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got"é”™è¯¯æœ‰å¤šä¸ªåŸå› ï¼š

1.  åœ¨å¯¼å…¥ç»„ä»¶æ—¶ï¼Œå°†é»˜è®¤å¯¼å…¥å’Œå‘½åå¯¼å…¥æ··æ·†ã€‚
2.  å¿˜è®°ä»æ–‡ä»¶ä¸­å¯¼å‡ºç»„ä»¶ã€‚
3.  ä¸æ­£ç¡®åœ°å®šä¹‰äº†ä¸€ä¸ªReactç»„ä»¶ï¼Œä¾‹å¦‚ï¼Œä½œä¸ºä¸€ä¸ªå˜é‡è€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–ç±»ã€‚

![type-is-invalid-expected-string-but-got.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b774d89219db49c8b301d63ae6bd07c3~tplv-k3u1fbpfcp-watermark.image?)

ä¸ºäº†è§£å†³è¯¥é”™è¯¯ï¼Œç¡®ä¿ä½¿ç”¨å¤§æ‹¬å·æ¥å¯¼å…¥å‘½åå¯¼å‡ºè€Œä¸æ˜¯é»˜è®¤å¯¼å‡ºï¼Œå¹¶ä¸”åªä½¿ç”¨å‡½æ•°æˆ–ç±»ä½œä¸ºç»„ä»¶ã€‚

è¿™é‡Œæœ‰ä¸ªç¤ºä¾‹æ¥å±•ç¤ºé”™è¯¯æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚

    // ğŸ‘‡ï¸ must be function or class (NOT variable)
    const Button = <button>Click</button>;
    
    export default function App() {
      // â›”ï¸ Warning: React.jsx: type is invalid -- expected a string
      // (for built-in components) or a class/function
      // (for composite components) but got:
      return (
        <div>
          <Button />
          <h1>hello world</h1>
        </div>
      );
    }
    

ä¸Šè¿°ä»£ç é—®é¢˜åœ¨äºï¼Œæˆ‘ä»¬å£°æ˜äº†`Button`å˜é‡ï¼Œè¯¥å˜é‡è¿”å›äº†JSXä»£ç ã€‚

å‡½æ•°ç»„ä»¶
----

ä¸ºäº†è§£å†³è¯¥é”™è¯¯ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å‡½æ•°ç»„ä»¶æ¥ä»£æ›¿ã€‚

    // ğŸ‘‡ï¸ is now function
    const Button = () => {
      return <button>Click</button>;
    };
    
    export default function App() {
      return (
        <div>
          <Button />
          <h1>hello world</h1>
        </div>
      );
    }
    

ç°åœ¨ï¼Œ`Button`æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶è¿”å›JSXä»£ç ã€‚å¯ä»¥ä½œä¸ºä¸€ä¸ªReactç»„ä»¶ä½¿ç”¨ã€‚

æ··æ·†å¯¼å…¥å¯¼å‡º
------

> å¦ä¸€ä¸ªå¸¸è§çš„é”™è¯¯åŸå› æ˜¯æ··æ·†äº†é»˜è®¤å’Œå‘½åçš„å¯¼å…¥å’Œå¯¼å‡ºã€‚

å½“ç»„ä»¶ä½¿ç”¨é»˜è®¤å¯¼å‡ºæ¥å¯¼å‡ºæ—¶ï¼Œä½ å¿…é¡»ç¡®ä¿å¯¼å…¥çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨å¤§æ‹¬å·ã€‚

    // Header.js
    
    // ğŸ‘‡ï¸ default export
    export default function Header() {
      return <h2>Hello world</h2>;
    }
    

ç°åœ¨ï¼Œå®ƒå¿…é¡»ä¸å¸¦å¤§æ‹¬å·å¯¼å…¥ã€‚

    // ğŸ‘‡ï¸ default import
    import Header from './Header';
    
    export default function App() {
      return (
        <div>
          <Header />
        </div>
      );
    }
    

å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ çš„ç»„ä»¶ä½¿ç”¨å‘½åå¯¼å‡ºæ¥å¯¼å‡ºçš„è¯ï¼Œå®ƒå¿…é¡»ä½¿ç”¨å¤§æ‹¬å·å¯¼å…¥ã€‚

    // Header.js
    
    // ğŸ‘‡ï¸ named export
    export function Header() {
      return <h2>Hello world</h2>;
    }
    

ç°åœ¨ï¼Œå½“ç»„ä»¶è¢«å¯¼å…¥æ—¶ï¼Œå®ƒå¿…é¡»åŒ…è£¹åœ¨å¤§æ‹¬å·å†…ã€‚

    // ğŸ‘‡ï¸ named import
    import {Header} from './Header';
    
    export default function App() {
      return (
        <div>
          <Header />
        </div>
      );
    }
    

ç¡®ä¿ä½ æ²¡æœ‰å°†ä¸€ä¸ªç»„ä»¶ä½œä¸ºé»˜è®¤å¯¼å‡ºï¼Œå¹¶è¯•å›¾å°†å…¶ä½œä¸ºå‘½åå¯¼å…¥ï¼ˆç”¨å¤§æ‹¬å·åŒ…è£¹ï¼‰ï¼Œæˆ–è€…åè¿‡æ¥ã€‚å› ä¸ºè¿™æ˜¯å¯¼è‡´é”™è¯¯çš„ä¸€ä¸ªå¸¸è§åŸå› ã€‚

> å¦‚æœé”™è¯¯å°šæœªè§£å†³ï¼Œç¡®ä¿é‡å¯ä½ çš„å¼€å‘æœåŠ¡ä»¥åŠIDEã€‚

æ£€æŸ¥è·¯å¾„
----

ä½ è¿˜åº”è¯¥ç¡®ä¿æŒ‡å‘æ¨¡å—çš„è·¯å¾„æ‹¼å†™æ­£ç¡®ï¼Œå¤§å°å†™æ­£ç¡®ä»¥åŠæŒ‡å®šå¯¼å‡ºç»„ä»¶çš„æ–‡ä»¶ã€‚

> ç¡®ä¿è·¯å¾„æ­£ç¡®çš„æœ€å¥½æ–¹æ³•æ˜¯åˆ é™¤å®ƒï¼Œå¼€å§‹è¾“å…¥è·¯å¾„ï¼Œè®©ä½ çš„IDEç”¨è‡ªåŠ¨è¡¥å…¨æ¥å¸®åŠ©ä½ ã€‚

å¦‚æœä½ å¼€å§‹è¾“å…¥è·¯å¾„åæ²¡æœ‰å¾—åˆ°è‡ªåŠ¨è¡¥å…¨ï¼Œå¾ˆå¯èƒ½æ˜¯ä½ çš„è·¯å¾„ä¸æ­£ç¡®ã€‚

ä½¿ç”¨ESM
-----

ç¡®ä¿ä½ æ²¡æœ‰æ··æ·†`ES Modules`å’Œ`CommonJS`è¯­æ³•ã€‚

> ä½ åº”è¯¥åœ¨ä½ çš„React.jsåº”ç”¨ç¨‹åºä¸­åªä½¿ç”¨`import/export`è¯­æ³•ï¼Œè€Œä¸æ˜¯`module.exports`æˆ–`require()`è¯­æ³•ã€‚

ä»`react-router-dom`å¯¼å…¥
---------------------

å½“æˆ‘ä»¬ä»`react-router`è€Œä¸æ˜¯`react-router-dom`å¯¼å…¥ä¸œè¥¿æ—¶ï¼Œæœ‰æ—¶ä¹Ÿä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ã€‚

    // â›”ï¸ BAD
    // import {Link} from 'react-router';
    
    // âœ… GOOD
    import {Link} from 'react-router-dom';
    

å¦‚æœä½ ä½¿ç”¨react routerï¼Œè¯·ç¡®ä¿ä»`react-router-dom`å¯¼å…¥ï¼Œè€Œä¸æ˜¯ä»`react-router`ä¸­ã€‚

å½“æˆ‘ä»¬è¯•å›¾ä½¿ç”¨ä¸æ˜¯å‡½æ•°æˆ–ç±»çš„ä¸œè¥¿ä½œä¸ºä¸€ä¸ªç»„ä»¶æ—¶ï¼Œä¼šäº§ç”Ÿ"Element type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got:"é”™è¯¯ä¿¡æ¯ã€‚

é”™è¯¯ä¿¡æ¯
----

> ä½ åº”è¯¥çœ‹ä¸€ä¸‹`got:`åé¢çš„é”™è¯¯ä¿¡æ¯ï¼Œå› ä¸ºå®ƒå¯èƒ½è¡¨æ˜æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„é”™è¯¯ã€‚

å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°æˆ–ä¸€ä¸ªç±»ã€‚å¦‚æœä½ ä½¿ç”¨ä»»ä½•å…¶ä»–çš„å€¼ä½œä¸ºä¸€ä¸ªç»„ä»¶ï¼Œå°±ä¼šå¼•èµ·é”™è¯¯ã€‚