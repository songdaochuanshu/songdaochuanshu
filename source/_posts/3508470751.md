---
layout: post
title: "Nacos 的安装与服务的注册"
date: "2022-07-06T02:01:37.396Z"
---
Nacos 的安装与服务的注册
===============

Nacos 的安装与服务的注册
===============

我们都知道naocs是一个注册中心，那么注册中心是什么呢？

*   什么是注册中心?
    *   它类似与一个中介角色(不收费的良心中介), 在微服务中起纽带的作用,它提供了服务和服务地址的映射关系,生产者把服务名称和地址注册到这里, `消费者`根据`服务名称`得到响应的`访问地址`.
*   为什么使用注册中心
    *   没有注册中心的时候, 调用者调用服务的时候需要知道`域名`和`端口`, 当被调用者修改时,就需要修改代码,当调用的服务多时,那么我们需要修改的代码就会很多，无疑是在增加我们的工作量。

那么他究竟是如何工作的呢？

**工作原理：**

1.  生产者(服务提供者)向注册中心登记自己的域名和端口
2.  消费者向注册中心拉取服务列表,并进行远程调用
3.  注册中心和服务提供者通过定时检查心跳确保可以正常提供服务

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705214637721-691993102.png)

### Nacos使用前准备

[nacos 下载](https://wwn.lanzoub.com/iq95j07f8mud)

> 下载解压后 我们需要进入到 bin 目录启动 nacos 服务 `一定不要双击启动`
> 
> naocs 也会 java 写的 在 target 目录下 可以看到 jar 文件

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705212648341-392592871.png)

**启动：**

在上面搜索栏中 输入 cmd 进入黑窗口

命令：`startup.cmd -m standalone`

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705213303919-1388187552.png)

> 当最下面出现 程序启动时长 就说明`启动成功`了

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705213425944-1426377755.png)

> 我们来到浏览器 输入localhost:8848 可以看到naocs的运行的界面 我们将在里面进行一系列的配置
> 
> *   用户名和密码都是 `naocs`

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705213611240-1793475492.png)

> 我们所注册的服务都会出现在`服务列表`中 ，可以服务进行下线等操作！

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705213748436-1666736339.png)

### 服务注册

nacos 的注册流程有三步

> *   添加依赖
> *   配置nacos
> *   启动服务

##### **添加依赖**

            <!--服务注册 -->
            <dependency>
                <groupId>com.alibaba.cloud</groupId>
                <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
            </dependency>
    

**配置nacos**

    # Spring
    spring: 
      application:
        # 应用名称
        name: project-xxxx 
      cloud:
        nacos:
          discovery:
            # 服务注册地址 ip加端口号
            server-addr: 127.0.0.1:8848
    
    

**启动服务**

> 可以看到，刚才启动的服务已经出现在了服务列表中

![img](https://img2022.cnblogs.com/blog/2233272/202207/2233272-20220705215043640-80845523.png)