---
layout: post
title: "Vueå¿«é€Ÿä¸Šé—¨(2)-æ¨¡æ¿è¯­æ³•"
date: "2022-12-12T09:16:45.834Z"
---
Vueå¿«é€Ÿä¸Šé—¨(2)-æ¨¡æ¿è¯­æ³•
===============

![Vueå¿«é€Ÿä¸Šé—¨(2)-æ¨¡æ¿è¯­æ³•](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173030443-940937321.png) Vue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº view) æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ï¼ŒåŒä»–å‘¨è¾¹çš„ç”Ÿæ€å…±åŒæ„æˆäº†ä¸€ä¸ªçµæ´»çš„ã€æ¸è¿›å¼çš„å‰ç«¯æ¡†æ¶ã€‚ æœ¬æ–‡å†…å®¹åŒ…æ‹¬æ¨¡æ¿çš„åŸºæœ¬è¯­æ³•ï¼ŒåŠå„ç§æŒ‡ä»¤çš„ä½¿ç”¨ï¼Œæœ€åæ€»ç»“äº†VueåŠ¨ç”»çš„ä½¿ç”¨ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114567-1563907067.png)

**VUEå®¶æ—ç³»åˆ—ï¼š**

*   Vueå¿«é€Ÿä¸Šé—¨(1)-åŸºç¡€çŸ¥è¯†
*   Vueå¿«é€Ÿä¸Šé—¨(2)-æ¨¡æ¿è¯­æ³•
*   Vueå¿«é€Ÿä¸Šé—¨(3)-ç»„ä»¶ä¸å¤ç”¨

01ã€æ¨¡æ¿è¯­æ³•
=======

1.1ã€templateæ¨¡æ¿
--------------

`<template>`æ˜¯H5æ–°å¢çš„æ¨¡æ¿å…ƒç´ ï¼Œæ˜¯ä¸€ä¸ªç”¨äºHTMLæ¨¡æ¿å†…å®¹çš„åŒ…è£…å…ƒç´ ï¼Œä¸»è¦ä½¿ç”¨å…¶å†…éƒ¨çš„å†…å®¹ã€‚åœ¨æ™®é€šçš„HTMLé¡µé¢ä¸­ï¼Œæ¨¡æ¿ä¼šå‡ºç°åœ¨Domæ ‘ä¸­ï¼Œä½†ä¸ä¼šæ¸²æŸ“ï¼Œé‡Œé¢çš„è¯·æ±‚ã€è„šæœ¬ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚`<template>`æ˜¯Vueé‡Œä¸»è¦çš„æ¨¡æ¿å®šä¹‰æ–¹å¼ï¼Œé™¤æ­¤ä»¥å¤–ï¼Œå¸¸ç”¨çš„å®šä¹‰`Vue.template`æ–¹å¼ï¼š

**Vue.template**

**æè¿°**

ç¤ºä¾‹

`<template>`**æ¨¡æ¿**

H5çš„æ¨¡æ¿å…ƒç´ ï¼Œå…¶å†…å®¹ä½œä¸ºæ¨¡æ¿å†…å®¹ï¼Œ

`<template id="tp">`

`<script>`**æ¨¡æ¿**

åœ¨ä¸€ä¸ª `<script>` å…ƒç´ ä¸­å®šä¹‰æ¨¡æ¿å†…å®¹ï¼Œé‡Œé¢çš„å†…å®¹éƒ½ä¼šè¢«å½“æˆå­—ç¬¦ä¸²ã€‚é€šè¿‡`#id`å¼•ç”¨

`<script type="text/x-template" id="xtp">`

å­—ç¬¦æ¨¡æ¿

ç”¨HTMLå­—ç¬¦ä¸²ç›´æ¥å®šä¹‰æ¨¡æ¿å†…å®¹

`template: '<p>{{name}}</p>'`

å†…è”æ¨¡æ¿`inline-template`

ç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œç”¨è¿™ä¸ªå­ç»„ä»¶å…ƒç´ é‡Œé¢çš„å†…å®¹ä½œä¸ºæ¨¡æ¿ï¼Œè€Œä¸æ˜¯æ¸²æŸ“ä»–çš„åŸæœ¬çš„å†…å®¹ã€‚è¿™ä¸ªä¸€èˆ¬ä¸å¸¸ç”¨å§ï¼Œä½œç”¨åŸŸæœ‰ç‚¹ä¹±ã€‚

`<mycom inline-template> </mycom>`

> **ğŸ“¢Vueçš„****`template`****é€‰é¡¹å€¼**ï¼š
> 
> *   **HTMLè¯­æ³•**ï¼šæ¨¡æ¿å†…å®¹å°±æ˜¯æ™®é€šçš„HTMLè¯­æ³•ï¼ŒVueæ–°å¢äº†ä¸€äº›ç»‘å®šæ•°æ®çš„æŒ‡ä»¤ã€‚
> *   **æ ¹å…ƒç´ **ï¼šå†…éƒ¨éƒ½**å¿…é¡»æœ‰ä¸€ä¸ªæ ¹å…ƒç´ **ï¼Œ`<template>`æœ¬èº«æ˜¯æ²¡å•¥ç”¨çš„ï¼Œä¸»è¦ç”¨çš„æ˜¯å…¶å†…éƒ¨InnerHTMLã€‚
> *   **#å€¼**ï¼šå¦‚æœå€¼ä»¥ # å¼€å§‹ï¼Œåˆ™å®ƒå°†è¢«ç”¨ä½œ`id`é€‰æ‹©ç¬¦ï¼Œå¹¶ä½¿ç”¨åŒ¹é…å…ƒç´ çš„ innerHTML ä½œä¸ºæ¨¡æ¿ã€‚
> *   **ä¼˜å…ˆäºel**ï¼šæ ¹æ®ä¸Šæ–‡ä¸­Vueç”Ÿå‘½å‘¨æœŸæµç¨‹å¯çŸ¥ï¼Œ`template`å†…å®¹ä¼šä¼˜å…ˆäº`el.outerHTML`å†…å®¹ï¼Œç¼–è¯‘ä¸ºæ¸²æŸ“renderã€‚

    <div id="app5">
        <h2>app</h2>
        <template>
            <p>vueä¸­çš„templateçš„innerHtmlä¼šè¢«æ­£å¸¸æ¸²æŸ“</p>
        </template>
        <user-com inline-template>
            <p>å†…è”æ¨¡æ¿ï¼Œæ›¿ä»£åŸæœ‰å†…å®¹</p>
        </user-com>
    </div>
    <script>
        let app5 = new Vue({
            el: "#app5", 
            template: '#tp',  //<template id="tp">æ¨¡æ¿
            template: '#xtp',  //<script type="text/x-template" id="xtp">æ¨¡æ¿
            template: '<p>{{mes}}--å­—ç¬¦æ¨¡æ¿</p>', //å­—ç¬¦æ¨¡æ¿
            template: '<p>{{mes}}</p><span>âŒ</span>', //âŒæŠ¥é”™ï¼šComponent template should contain exactly one root element
            data: { mes: "message:hello!" },
            components: {
                'user-com': {
                    data: function () { return { name: "same" } },
                    template: '<p>{{name}}-è¿™æ˜¯ä¸€ä¸ªå­ç»„ä»¶</p>',
                }
            }
        })
    </script>
    

1.2ã€æ–‡æœ¬æ’å€¼
--------

Vueçš„æ¨¡æ¿è¯­æ³•åŸºäºHTMLçš„è¯­æ³•ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­ç”³æ˜å¼çš„ç»‘å®šå®ä¾‹æ•°æ®ã€äº‹ä»¶æ–¹æ³•ã€‚åœ¨Vueä¸­ï¼Œæ¨¡æ¿è¢«ç¼–è¯‘æˆè™šæ‹ŸDomæ¸²æŸ“å‡½æ•°ï¼Œå…ˆåœ¨è™šæ‹ŸDomä¸Šè¿›è¡Œæ“ä½œï¼Œè¿™æ ·å¯ä»¥æœ€ä¼˜åŒ–DomåŠæ“ä½œæ¬¡æ•°ï¼Œç„¶åå†æ¸²æŸ“åˆ°æ­£å¼çš„Domä¸­ã€‚å¸¸ç”¨çš„ä¸€ç§æ•°æ®ç»‘å®šæ–¹å¼ä¸ºâ€”â€” **æ–‡æœ¬æ’å€¼**ã€‚

**ğŸ’ æ–‡æœ¬æ’å€¼**ï¼š**`{{ data }}`**ï¼Œâ€œMustacheâ€è¯­æ³• (åŒå¤§æ‹¬å·) ï¼ˆ/ËˆmÊŒstÃ¦Êƒ; mÉ™ËˆstÉ‘ËÊƒ/ èƒ¡å­ï¼‰ï¼Œå†…å®¹ä¸æ”¯æŒhtmlæ ‡ç­¾ã€ä¸æ”¯æŒç»‘å®šã€‚

> **ğŸ“¢æ³¨æ„**ï¼šå®‰å…¨ç¬¬ä¸€ï¼Œä¸è¦ç”¨è¾“å…¥çš„å†…å®¹æ¥æ’å€¼ï¼Œå®¹æ˜“å¯¼è‡´XSSæ”»å‡»ã€‚

    <div id="app3">
        <div>div1:{{html}}
            <p>{{mes}}</p>
            <p>{{birthday}}</p>
        </div>
        <div v-text="html">div2:</div>
        <div v-html="html">div3:</div>
    </div>
    <script>
        let vm2 = new Vue({
            el: "#app3",
            data: {
                html: "<span style='color:red'>red span{{mes}}</span>",
                mes: "hello world!",
                birthday: '2000-12-11',
            },
        });
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114572-1050968809.png)

1.3ã€JavaScriptè¡¨è¾¾å¼
-----------------

åœ¨`{{æ–‡æœ¬æ’å€¼}}`ã€`v-bind`ç»‘å®šã€`v-on`äº‹ä»¶ç»‘å®šç­‰æŒ‡ä»¤ä¸­éƒ½æ”¯æŒ**å®Œå…¨çš„JavaScriptçš„è¡¨è¾¾å¼**ï¼Œåªèƒ½æ˜¯å•ä¸ªè¡¨è¾¾å¼è¯­å¥ï¼Œä¸æ”¯æŒå¤æ‚è¯­å¥ã€å¾ªç¯æ§åˆ¶ã€‚

    <div id="app3">
        <div>
            <p v-bind:style="'color:'+fcolor">{{mes.split(' ').join('---')}}</p>
            <p>age:{{(new Date().getFullYear() - new Date(birthday).getFullYear())}}</p>
            <p>age:{{((new Date() - new Date(birthday))/3600/24/365/1000).toFixed(1)}}</p>
        </div>
    </div>
    <script>
        let vm2 = new Vue({
            el: "#app3",
            data: {
                mes:"hello world!",
                birthday:'2000-12-11',
                fcolor:'red',
            },
        });
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114554-434497979.png)

* * *

02ã€æ¨¡æ¿æŒ‡ä»¤
=======

2.1ã€æŒ‡ä»¤å¤§å…¨ğŸ”–
----------

æŒ‡ä»¤æ ¼å¼ï¼š**`æŒ‡ä»¤:å‚æ•°.ä¿®é¥°ç¬¦ = "å€¼"`**

[**VueæŒ‡ä»¤**](https://v2.cn.vuejs.org/v2/api/#%E6%8C%87%E4%BB%A4)/ ç®€å†™

**æè¿°**

ç¤ºä¾‹

**v-text**\=

**ç»‘å®š textContent**ï¼ŒåŒ{{æ–‡æœ¬æ’å€¼}}ï¼ˆå¦‚JSå»¶è¿Ÿï¼Œæœ‰é—ªçƒï¼‰

`<span v-text="msg"></>` = `<span>{{msg}}</>`

**v-html**\=

**ç»‘å®š innerHTML**ï¼Œå†…å®¹æ”¯æŒ**html**æ ‡ç­¾ï¼ˆä¸æ”¯æŒç»‘å®šï¼‰ï¼Œéœ€æ³¨æ„å®‰å…¨æ€§ã€‚å…¶ä»–æ’å€¼æŒ‡ä»¤çš„å€¼éƒ½ä¸æ”¯æŒHTMLæ ‡ç­¾ï¼Œä¼šè¢«è½¬ä¹‰ã€‚

`<div v-html="html"></div>`

**v-bind: **\=** / :**\=

**ç»‘å®šå…ƒç´ å±æ€§å€¼**ï¼ŒåŠ¨æ€åœ°ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ª attributeï¼Œæˆ–ç»„ä»¶`prop`

`<img v-bind:src="img" :class="imgStyle">`

**v-model**\=

**è¡¨å•å…ƒç´ çš„å€¼åŒå‘ç»‘å®š**ï¼Œä¸æ”¯æŒè¡¨è¾¾å¼

`<input type="date" v-model="birthday">`

**v-show**\=

**å€¼ä¸ºçœŸå…ƒç´ æ˜¾ç¤º**ï¼ˆåˆ‡æ¢ `display`ï¼‰ï¼Œé€‚ç”¨äºé¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºã€‚

`<div v-show="value =='æ–¹æ¡ˆ1'">æ–¹æ¡ˆ1</div>`

**v-if**\=

**å€¼ä¸ºçœŸæ‰æ¸²æŸ“**ï¼Œå¦åˆ™ä¸ä¼šåˆ›å»ºæˆ–é”€æ¯å·²æœ‰å…ƒç´ ï¼Œæ”¯æŒ`<template>`

`<img v-if="growth > 0" alt="ä¸Šå‡">`

**v-else-if**\=

`v-if` çš„`else if`å—ï¼Œå¯è¿ç»­ä½¿ç”¨ï¼Œè·Ÿåœ¨`v-if/v-else-if`åé¢

`<img v-else-if="growth < 0" alt="ä¸‹é™">`

**v-else**

`v-if` æˆ–è€… `v-else-if` æ·»åŠ çš„â€œ**else å—**â€ï¼Œæ— å‚æ•°

`<img v-else alt="ç¨³å®š">`

**v-for**\=

**åˆ—è¡¨æ¸²æŸ“**ï¼Œ`item in/of expression`ï¼Œæ”¯æŒindexç´¢å¼•ã€å¯¹è±¡

`<li v-for="item in items">{{item}}</li>`

**v-on: **\=** / @**\=

**ç»‘å®šäº‹ä»¶**ï¼Œå‚æ•°ä¸ºäº‹ä»¶åï¼›å€¼ä¸ºæ–¹æ³•åï¼Œæˆ–å†…è”è¯­å¥func($event)

`<button v-on:click="submit" @click="">`

**:key**\=

å…ƒç´ å”¯ä¸€`key`å€¼ï¼Œé…åˆ`v-for`ä½¿ç”¨ï¼Œé¿å…é‡å¤keyæ›´æ–°å¼‚å¸¸ï¼Œç”¨äºè™šæ‹ŸDomä¸­åˆ¤æ–­æ–°æ—§å…ƒç´ ã€‚æˆ–ç”¨äºå¼ºåˆ¶å…ƒç´ æ›¿æ¢è€Œä¸å¤ç”¨

`ul v-for="item in list" :key="item.id">`  
`<i:key="text">{{text}}</i>` //æ¯æ¬¡éƒ½æ˜¯æ–°å…ƒç´ 

**v-once**

åªæ›´æ–°å…ƒç´ /ç»„ä»¶ä¸€æ¬¡ï¼Œåç»­æ›´æ–°éƒ½è§†ä¸ºé™æ€å†…å®¹ï¼Œä¸å†æ›´æ–°

`<p v-text="message" v-once></p>`

**v-pre**

**ä¸ç¼–è¯‘**ï¼Œè·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œæ˜¾ç¤ºåŸç”Ÿçš„å†…å®¹

`<div v-pre> </div>`

**is**

**åŠ¨æ€**çš„ç»‘å®šä¸€ä¸ªç»„ä»¶ï¼Œå€¼ä¸ºç»„ä»¶åç§°/Vueé€‰é¡¹å¯¹è±¡

`<component is="user-info"></component>`

**v-slot**:= / **#:**\=

**å…·åæ’æ§½**ï¼Œæœ‰ååˆ†çš„æ’æ§½ã€‚æŒ‡å®šæ’æ§½åç§°ï¼Œæˆ–ç»‘å®šæ’æ§½ViewModel

`v-slot:header v-solt="{user}"`

**ref**

ç»™å­ç»„ä»¶ã€Domå…ƒç´ æ³¨å†Œå¼•ç”¨åï¼Œé€šè¿‡`$refs`è®¿é—®è¿™äº›è¢«`ref`æ ‡è®°çš„å¯¹è±¡

ç»„ä»¶ä¸Šçš„`ref`æŒ‡å‘å…¶ç»„ä»¶Vueå®ä¾‹  
`<div ref="left">`

v-cloak

è§£å†³`{{æ–‡æœ¬æ’å€¼}`}ä¼šé—ªçƒçš„é—®é¢˜ï¼Œé”å®š`[v-cloak]`æ ·å¼ç›´åˆ°ç¼–è¯‘å®Œåæ¸…é™¤

`[v-cloak]{ display: none;}` `<div v-cloak>`

2.2ã€\[åŠ¨æ€å‚æ•°\]
------------

2.6.0æ–°å¢çš„\[åŠ¨æ€å‚æ•°\]ï¼ŒæŒ‡ä»¤çš„å‚æ•°å¯ä»¥ä½¿ç”¨`[åŠ¨æ€å‚æ•°]`\=ä¸€ä¸ªJavaScriptè¡¨è¾¾å¼ã€‚

`<a v-on:[functype]="setStyle" v-bind:[href]="1+1">æ–¹æ¡ˆ1</a>`

*   **å­—ç¬¦ä¸²å€¼**ï¼šè¿™é‡Œçš„åŠ¨æ€å‚æ•°é¢„æœŸç»“æœä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¼‚å¸¸åˆ™ä¸º`null`ï¼Œ`null`ä¹Ÿå¯ç”¨äºæ˜¾ç¤ºçš„ç§»é™¤ç»‘å®šã€‚
*   **ä¸è¦å‡ºç°å¼•å·**ï¼ŒåŒ…æ‹¬`ç©ºæ ¼`ã€å¼•å·ã€`<`ã€`>`ã€ `/`ã€`=`ï¼ŒHTMLçš„å±æ€§ä¸­æ˜¯éæ³•çš„ã€‚
*   **å‚æ•°åç”¨å°å†™**ï¼Œä¸è¦ç”¨å¤§å†™ï¼Œæµè§ˆå™¨ä¼šå¼ºåˆ¶è½¬æ¢HTMLå±æ€§ä¸ºå°å†™ã€‚å¦‚`<a v-on:[funcType]="fswitch">æ–¹æ¡ˆ1</a>` åŒ…å«å¤§å†™çš„å±æ€§å‚æ•°ä¼šæ‰¾ä¸åˆ°å¯¹åº”å€¼ã€‚

    <div id="app">
        <img v-bind:[getProp(file.type)]="file.url" alt="file" v-on:[eventType]="eventHandler">
        <img v-bind:[getprop1]="file.url" alt="file" v-on:[eventType]="eventHandler">
    </div>
    <script>
        let vm2 = new Vue({
            el: "#app",
            data: {
                file: { type: 'img', url: '../../res/bg.gif' },
                eventType: 'click', //å¤§å†™ä¼šæ‰¾ä¸åˆ°ï¼ŒæŠ¥é”™:Property or method "eventtype" is not defined
                eventtype: 'click',
            },
            computed:{ getprop1(){ return 'src'; } },
            methods: {
                getprop(type) {   //å¦‚æœæœ‰å¤§å†™ï¼ˆgetPropï¼‰å°±ä¼šæ‰¾ä¸åˆ°æŠ¥é”™:Property or method "getprop" is not defined
                    switch (type) {
                        case 'img': return 'src';
                        case 'url': return 'href';
                    }
                },
                eventHandler(e) { console.log(e.target.tagName); }
            }
        });
    </script>
    

2.3ã€v-for åˆ—è¡¨æ¸²æŸ“
--------------

ç”¨å¾ªç¯åˆ›å»ºå¤šä¸ªå…ƒç´ /ç»„ä»¶ï¼Œå¾ªç¯å¯¹è±¡å¯ä»¥æ˜¯æ•°ç»„ã€å¯¹è±¡ã€å¸¸é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯**è®¡ç®—å±æ€§**ã€**æ–¹æ³•**ã€**è¡¨è¾¾å¼**ã€‚å¾ªç¯è¡¨è¾¾å¼ä¸­å¯ä»¥ç”¨`in`ï¼Œä¹Ÿå¯ç”¨`of`ï¼ˆæ²¡æœ‰åŒºåˆ«ï¼‰ã€‚å¦‚æœå¾ªç¯åˆ›å»ºå¤šä¸ªå…ƒç´ æ²¡æœ‰æ ¹å…ƒç´ ï¼Œåˆ™å¯ç”¨ä¸€ä¸ªæ¨¡æ¿`<template>`æ¥åŒ…è£¹ï¼Œè¿™æ—¶å°±ä¸éœ€è¦keyäº†ã€‚

*   **åˆ—è¡¨å¾ªç¯**ï¼š`v-for="item in items"`
*   **åˆ—è¡¨å¾ªç¯-å¸¦ç´¢å¼•å‚æ•°**ï¼š`v-for="(item,index) in items"`
*   **å¯¹è±¡å¾ªç¯-value**ï¼š`v-for="value in user"`ï¼ŒVueæ˜¯æŒ‰ç…§`Object.keys(obj)` çš„ç»“æœéå†ã€‚
*   **å¯¹è±¡å¾ªç¯-å¸¦å‚æ•°**ï¼š`v-for="(value,name,index) in user"`

    <div id="app">
        <span v-for="n of 20">{{ n }} </span>
        <ul>
            <li><span v-for="item in items">{{item.name}} ï¼› </span></li>
            <li><span v-for="(item,index) in items">{{index+1}}ï¼š{{item.name}} ï¼› </span></li>
            <!--userå¯¹è±¡-->
            <li><span v-for="value in user">{{value}} ï¼› </span></li>
            <li><span v-for="(value,name,index) in user"><i>{{index+1}}</i>ï¼‰<b>{{name}}</b>:{{value}} ï¼› </span></li>
        </ul>
        <br>
    </div>
    <script>
        let vm2 = new Vue({
            el: "#app",
            data: {
                items: [{ name: 'sam' }, { name: 'zhangsan' }],
                user: { name: 'sam', age: 20, birthday: '2000-12-11' }
            },
        });
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114570-1840992117.png)

**ğŸ”¸åˆ—è¡¨æ›´æ–°ç­–ç•¥(:key)**ï¼šVueé»˜è®¤åˆ—è¡¨é¡¹åŸåœ°æ›´æ–°ï¼Œä¸ç®¡æ•°æ®çš„é¡ºåºã€‚

å¦‚æœå¸Œæœ›æ›´æ–°æ—¶ä¿æŒæ•°æ®ã€å…ƒç´ çš„é¡ºåºï¼ŒåŠæ›´æ–°çš„å‡†ç¡®æ€§ã€é«˜æ€§èƒ½ï¼Œåˆ™éœ€è¦ç»™å…ƒç´ è®¾ç½®ä¸€ä¸ª**å”¯ä¸€**èº«ä»½æ ‡è¯† **ke**yï¼š`v-bind:key="kid" :key="kid"`ï¼Œå€¼åº”ä¸º**å­—ç¬¦ã€æ•°å­—**ã€‚

Vueé»˜è®¤æ˜¯æœ€å¤§é™åº¦å¤ç”¨å…ƒç´ ï¼Œè™šæ‹ŸDomä¸­ç”¨`key`æ¥åˆ¤æ–­æ–°æ—§å…ƒç´ ï¼Œé‡å¤`key`å¯èƒ½ä¼šå¯¼è‡´æ›´æ–°å¼‚å¸¸ï¼Œä¹Ÿå¯ç”¨äºå¼ºåˆ¶å…ƒç´ æ›¿æ¢è€Œä¸å¤ç”¨ã€‚ä¸€èˆ¬æ¨èå°½é‡æä¾›`key`ï¼Œä»–æ˜¯Vueè¯†åˆ«èŠ‚ç‚¹çš„é€šç”¨æœºåˆ¶ï¼ˆdiffä¸­çš„å…ƒç´ æ¯”è¾ƒï¼‰ã€‚åœ¨`<transition-group>`åˆ—è¡¨åŠ¨ç”»ä¸­ï¼Œ`key`æ˜¯å¿…é¡»çš„ã€‚

> **ğŸ“¢ æ³¨æ„**ï¼š
> 
> *   `v-for`å¾ªç¯ä¸­çš„å‚æ•°çš„é¡ºåºé¡»ä¸€è‡´ï¼Œåˆ«åä¸é‡è¦ã€‚
> *   `v-for`ä¼˜å…ˆçº§é«˜äº`v-if`ï¼Œå…±ç”¨æ—¶éœ€æ³¨æ„ï¼Œå¯ç”¨æ¥è¿‡æ»¤ä¸ç¬¦åˆæ¡ä»¶çš„é¡¹ã€‚

2.4ã€classæ ·å¼ç»‘å®š
-------------

`class`ã€`style`ä¸ºHTMLåŸæœ¬çš„`attribute`ï¼Œé€šè¿‡`v-bind`ç»‘å®šï¼Œå¢å¼ºï¼š

*   **å¯¹è±¡ç»‘å®š**ï¼Œè¯­æ³•ï¼š`{classA:bindbool, classB:bindbool}`ï¼Œç»‘å®šå€¼`bindbool`ä¸ºçœŸåˆ™æ ·å¼classAæœ‰æ•ˆï¼Œæ–¹ä¾¿åŸºäºåˆ¤æ–­ç»‘å®šå¤šä¸ªclassã€‚é™¤äº†ç›´æ¥å¯¹è±¡è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥æ˜¯ç»‘å®šçš„å¯¹è±¡ã€è®¡ç®—å±æ€§è¿”å›çš„å¯¹è±¡ã€æ™®é€šè¡¨è¾¾å¼ã€‚
*   **æ•°ç»„ç»‘å®š**ï¼Œç»‘å®šå¤šä¸ªæ ·å¼ï¼Œæ•°ç»„ä¸­å¯ä»¥æ˜¯ç»‘å®šå€¼ã€è¡¨è¾¾å¼ã€å¸¸é‡æ ·å¼åã€‚
*   **æ”¯æŒå’ŒåŸç”Ÿclasså…±å­˜**ï¼Œä¼šåˆå¹¶`class`å€¼ã€‚åŒ…æ‹¬ç»„ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå’Œç»„ä»¶çš„æ ¹å…ƒç´ `class`åˆå¹¶ã€‚

ğŸŒ°ä¸€ä¸ªtabåˆ‡æ¢ç¤ºä¾‹ï¼š

    <style>
        #app5 ul { list-style-type: none; margin: 0; padding: 0; text-align: center; }
        #app5 ul li { display: inline-block; margin: 0 10px; }
        #app5 ul li.active { background-color: antiquewhite; }
        .psection {
            display: none; background-color: antiquewhite;
            text-align: center; margin: 0; line-height: 50px;
        }
        .psection.active { display: block; }
    </style>
    <div id="app5">
        <ul>
            <li v-for="item in items" v-on:click="liclick(item)" v-bind:class="{active:item.isActive}">{{item.title}}</li>
        </ul>
        <div>
            <p v-for="item in items" v-bind:class="['psection',item.isActive?'active':'']">{{item.content}}</p>
            <!-- ä¹Ÿå¯ä»¥ç”¨v-showå®ç°åˆ‡æ¢ v-show="item.isActive" -->
            <p v-for="item in items" v-show="item.isActive">{{item.content}}</p>
        </div>
    </div>
    <script>
        let app5 = new Vue({
            el: "#app5",
            data: {
                items: [{ title: "æ˜¾ç¤º1", content: "1", isActive: false }
                        , { title: "æ˜¾ç¤º2", content: "2", isActive: true }
                        , { title: "æ˜¾ç¤º3", content: "3", isActive: false }],
            },
            methods: {
                liclick: function (item) {
                    this.items.forEach(item => item.isActive = false);
                    item.isActive = true;
                },
            }
        })
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114571-1131853068.png)

2.5ã€styleå†…è”æ ·å¼ç»‘å®š
---------------

å¯¹äºStyleçš„ç»‘å®šï¼ŒVueç›´æ¥æŠŠstyleå¯¹è±¡åŒ–äº†ï¼Œé€šè¿‡å¯¹è±¡åŒ–è¡¨è¾¾å¼ï¼Œæˆ–è€…ç›´æ¥ä¸€ä¸ªå¯¹è±¡ç»‘å®šï¼ˆæ›´æ¸…æ™°ï¼‰ã€‚

*   **å¯¹è±¡æ•°ç»„**ï¼šæ”¯æŒå¤šä¸ªå¯¹è±¡çš„æ•°ç»„ï¼Œåˆå¹¶å¯¹è±¡ä¸­çš„styleæ ·å¼è§„åˆ™ã€‚
*   æ”¯æŒä¸€å®šçš„**å…¼å®¹æ€§å‰ç¼€**ï¼Œå¦‚`transition`ï¼ŒVueä¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨å¹¶æ·»åŠ å…¼å®¹æ€§å‰ç¼€ã€‚
*   å¯¹è±¡å±æ€§**å¤šé‡å€¼**ï¼Œæä¾›å¤šä¸ªå€¼çš„æ•°ç»„`display:['-ms-flexbox','flex']`ï¼ŒVueåªä¼šæ¸²æŸ“æ•°ç»„ä¸­æœ€åä¸€ä¸ªè¢«æµè§ˆå™¨æ”¯æŒçš„å€¼ã€‚

    <div id="app5">
        <div>
            <!--æ•°ç»„+å¯¹è±¡æ··åˆ-->
            <p :style="[{color:activeColor,'font-size':'20px'},marginStyle]"> p1 - Content </p>
            <p v-bind:style="marginStyle"> p2 - Content </p>  <!--å¯¹è±¡-->
        </div>
    </div>
    <script>
        let app5 = new Vue({
            el: "#app5",
            data: {
                activeColor: 'red',
                marginStyle: { margin: "30px", transform: "rotate(10deg)", display: ['-ms-flexbox', 'flex'] },
            },
        })
    </script>
    

2.6ã€v-on/@äº‹ä»¶.ä¿®é¥°ç¬¦
----------------

äº‹ä»¶ç»‘å®šæ ¼å¼ï¼š`v-on:/@ äº‹ä»¶å.ä¿®é¥°ç¬¦ = ""`ï¼Œ`@`ä¸º`v-on:`çš„ç¼©å†™å½¢å¼ã€‚äº‹ä»¶åæ”¯æŒåŠ¨æ€ \[å‚æ•°\] ç»‘å®šã€‚Vueçš„äº‹ä»¶éƒ½æ˜¯ç›´æ¥ç»‘å®šåˆ°å…ƒç´ çš„ï¼Œæ²¡æœ‰ç”¨äº‹ä»¶å§”æ‰˜ã€‚

**äº‹ä»¶å‚æ•°**ï¼šæ–¹æ³•é»˜è®¤æ”¯æŒäº‹ä»¶å‚æ•°å¯¹è±¡Eventï¼Œå†…è”JavaScriptä»£ç é€šè¿‡`$event`è®¿é—®äº‹ä»¶å¯¹è±¡ã€‚

    <div id="app7">
        <!-- åªå“åº”ä¸€æ¬¡ + å³é”®ç‚¹å‡» -->
        <button @click.once.right="arrClick">button</button>
        <li v-for="n in arr"><button v-on:click="arrClick($event,n)">{{n}}</button></li>
        <!-- å·¦æ–¹å‘æŒ‰é”®ï¼Œæ•°å€¼å¢1 -->
        <input type="text" v-on:keydown.preven.arrow-left="num=parseInt(num)+1" v-model="num">
    </div>
    <script>
        let app7 = new Vue({
            el: "#app7",
            data: { arr: [1, 2, 3], num: 0 },
            methods: {
                arrClick: function (e, arg) { console.log(e?.target.tagName, arg ? arg : "") },
            }
        })
    </script>
    

**ğŸ”¸**[**ä¿®é¥°ç¬¦**](https://v2.cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6) å¯ä»¥åŠ å¼ºäº‹ä»¶çš„èƒ½åŠ›ï¼Œä½¿ç”¨ä¸Šå¯ä»¥ä¸²è”ï¼ˆæ³¨æ„é¡ºåºï¼‰ï¼Œä¹Ÿå¯ä»¥åªæœ‰ä¿®é¥°ç¬¦ã€‚

**ä¿®é¥°ç¬¦**

**æè¿°**

**.stop**

è°ƒç”¨ `event.stopPropagation()`ï¼Œ**åœæ­¢å‘ä¸Šå†’æ³¡**ï¼ˆpropagation /ËŒprÉ’pÉ™ËˆÉ¡eÉªÊƒn/ ä¼ æ’­ï¼‰

**.preven**

è°ƒç”¨ `event.preventDefault()`ï¼Œ**å–æ¶ˆé»˜è®¤äº‹ä»¶è¡Œä¸º**ï¼Œå¦‚checkboxã€`<a>`çš„é»˜è®¤äº‹ä»¶è¡Œä¸ºï¼Œä¸å½±å“å†’æ³¡

**.self**

åªå½“äº‹ä»¶æ˜¯ä»ä¾¦å¬å™¨ç»‘å®šçš„å…ƒç´ æœ¬èº«è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒï¼Œåªèƒ½è‡ªèº«è§¦å‘ï¼Œå†…éƒ¨å†’æ³¡äº‹ä»¶çš„ä¸ä¼šå“åº”ã€‚

**.once**

åªè§¦å‘ä¸€æ¬¡å›è°ƒ

**.capture**

æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ—¶ä½¿ç”¨ `capture`ï¼ˆæ•è·ï¼‰æ¨¡å¼ï¼Œäº‹ä»¶æµçš„æ•è·é˜¶æ®µå°±è§¦å‘äº‹ä»¶ã€‚

**.passive**

(2.3.0) ä»¥ { passive: true } æ¨¡å¼æ·»åŠ ä¾¦å¬å™¨ï¼Œ`passive` è®¾ä¸º `true` å¯ä»¥å¯ç”¨æ€§èƒ½ä¼˜åŒ–ï¼Œä¸»è¦æ˜¯é’ˆå¯¹æ»šåŠ¨ã€è§¦æ‘¸ç›¸å…³äº‹ä»¶ã€‚å‚è€ƒMDNï¼š[ä½¿ç”¨ passive æ”¹å–„æ»šå±æ€§èƒ½](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener#%E4%BD%BF%E7%94%A8_passive_%E6%94%B9%E5%96%84%E6%BB%9A%E5%B1%8F%E6%80%A7%E8%83%BD)ï¼Œï¼ˆpassive /ËˆpÃ¦sÉªv/è¢«åŠ¨ï¼Œæ¶ˆæï¼‰ã€‚

.native

ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶

**é¼ æ ‡é”®ä¿®é¥°ç¬¦**

`.left`ï¼šåªå½“ç‚¹å‡»é¼ æ ‡å·¦é”®æ—¶è§¦å‘ã€‚`.right`ï¼šé¼ æ ‡å³é”®è§¦å‘ï¼›`.middle`ï¼šé¼ æ ‡ä¸­é”®è§¦å‘

**è¾…åŠ©é”®ä¿®é¥°ç¬¦**

é…åˆé¼ æ ‡ã€æŒ‰é”®äº‹ä»¶ä½¿ç”¨ï¼šctrlã€shiftã€altã€metaï¼ˆwindowsé”®ï¼Œæˆ–commandï¼‰

**é”®ç›˜äº‹ä»¶ä¿®é¥°ç¬¦**

é’ˆå¯¹äº‹ä»¶`keydown`ã€`keyup`ã€`keypress`æŒ‰é”®ä¿®é¥°ç¬¦ï¼š  
â— escã€tabã€spaceã€enterã€deleteã€upã€downã€leftã€rightã€aã€bã€cå­—æ¯é”®ç­‰ã€‚  
â— `.{keyCode &#124; keyAlias}` ï¼š [æŒ‰é”®ä¿®é¥°ç¬¦](https://v2.cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6)ï¼Œåªå½“äº‹ä»¶æ˜¯ä»ç‰¹å®šé”®è§¦å‘æ—¶æ‰è§¦å‘å›è°ƒã€‚å¯ä½¿ç”¨ [KeyboardEvent.key](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values)å€¼è½¬æ¢ä¸º kebab-case æ¥æ ¼å¼ä½¿ç”¨ã€‚  

2.7ã€v-modelè¡¨å•ç»‘å®š
---------------

ä½¿ç”¨`v-model`åœ¨è¡¨å•å…ƒç´ `<input>`ã€`<textarea>` åŠ `<select>`ä¸Šåˆ›å»ºåŒå‘ç»‘å®šï¼Œä¼šå¿½ç•¥ä»–ä»¬æœ¬èº«çš„å€¼å±æ€§ï¼ˆvalueã€checkedã€selectedï¼‰ï¼Œæ‰€ä»¥æ³¨æ„è®¾ç½®é»˜è®¤å€¼ã€‚åˆ†ç»„çš„å•é€‰ã€å¤šé€‰å…ƒç´ ç»„æŒ‰ç…§`name`è¿›è¡Œåˆ†ç»„å³å¯ï¼Œä¸€ç»„çš„ç»‘å®šä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

åŸºæœ¬åŸç†å°±æ˜¯ç›‘å¬è¡¨å•çš„è¾“å…¥äº‹ä»¶ï¼Œå®ç°è§†å›¾åˆ°æ•°æ®çš„åŒæ­¥ï¼š

*   `text` å’Œ `textarea` å…ƒç´ ä½¿ç”¨ `value property` å’Œ `input`äº‹ä»¶ã€‚
*   `checkbox` å’Œ `radio` ä½¿ç”¨ `checked property` å’Œ `change` äº‹ä»¶ã€‚`name`ç”¨äºåˆ†ç»„å‘½åç©ºé—´ï¼Œ`value`ä½œä¸ºé€‰ä¸­çš„å€¼ã€‚
*   `select` å­—æ®µå°† `value` ä½œä¸º prop å¹¶å°† `change` ä½œä¸ºäº‹ä»¶ã€‚

ğŸ”¸**`v-model`** **ä¿®é¥°ç¬¦**ï¼š

*   `.lazy`ï¼š`change` äº‹ä»¶åŒæ­¥æ•°æ®ï¼Œä¸»è¦é’ˆå¯¹`text`ç±»è¡¨å•å…ƒç´ ï¼Œå¤±å»ç„¦ç‚¹æ—¶æ‰ä¼šè§¦å‘`change`äº‹ä»¶ã€‚
*   `.number`ï¼šå¼ºåˆ¶è½¬æ¢å€¼ä¸ºæ•°å€¼ç±»å‹ï¼Œéœ€é…åˆ`type="number"`ä½¿ç”¨ï¼Œå¦‚æœæ— æ³• `parseFloat()` è§£æåˆ™è¿”å›åŸå§‹å€¼ã€‚
*   `.trim`ï¼šå»æ‰é¦–å°¾ç©ºæ ¼ï¼Œæ¯”è¾ƒå®ç”¨ï¼

    <div id="app8">
        <div>
            <label>å§“åï¼š<input type="text" v-model.lazy.trim="name"></label>
            <label>å§“åï¼š<input type="number" v-model.number="age">{{age}}</label>
        </div>
        <div>
            <span>æ€§åˆ«ï¼š</span>
            <template v-for="(value,name) in dataset.sex">
                <label><input type="radio" v-model.lazy="sex" name="sex" :value="name">{{value}}</label>
            </template>
            <i>ç»“æœï¼š{{sex}}</i>
        </div>
        <div>
            <span>æŠ€èƒ½ï¼š</span>
            <label v-for="item in dataset.skill"><input type="checkbox" v-model="skill" :value="item"
                                                     name="skill">{{item}}</label>
            <i>ç»“æœï¼š{{skill}}</i>
        </div>
        <div>
            <span>æ€§åˆ«-é€‰æ‹©æ¡†ï¼š</span>
            <select name="ssex" v-model="sex">
                <option disabled value="">è¯·é€‰æ‹©</option>
                <option v-for="(value,name) of dataset.sex" v-once :value="name">{{value}}</option>
            </select>
            <i>ç»“æœï¼š{{sex}}</i>
        </div>
        <div>
            <span>æŠ€èƒ½-é€‰æ‹©æ¡†ï¼š</span>
            <select name="sskill" v-model="skill" multiple>
                <option disabled value="">è¯·é€‰æ‹©</option>
                <option v-for="item in dataset.skill" v-once :value="item">{{item}}</option>
            </select>
            <i>ç»“æœï¼š{{skill.join()}}</i>
        </div>
    </div>
    <script>
        let app8 = new Vue({
            el: "#app8",
            data: {
                name: '', age: 0, checked: false, sex: '', skill: ["å¼€æœº"],
                dataset: {
                    sex: { male: 'ç”·', female: "å¥³", other: 'å…¶ä»–' },
                    skill: ['å¼€æœº', 'å…³æœº', 'å†™Bug', 'åƒé¥­'],
                }}
        })
    </script>
    

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114567-1398507819.png)

2.8ã€å…³äºæ•°æ®ä¸¢å¤±
----------

åŸºäºVueå¯¹æ•°æ®ç›‘å¬çš„æœºåˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ã€‚å› æ­¤æœ‰äº›åœºæ™¯æ•°æ®æ— æ³•å®ç°å˜æ›´ç›‘å¬ï¼Œå°±æ— æ³•åŒæ­¥è§†å›¾äº†ï¼Œé€ æˆâ€œæ•°æ®ä¸¢å¤±â€çš„ç°è±¡ã€‚

*   **æ•°ç»„**é€šè¿‡ç´¢å¼•ä¿®æ”¹ã€æ–°å¢çš„å€¼æ— æ³•ç›‘å¬ã€‚
*   **æœªåˆå§‹åŒ–çš„æ–°æˆå‘˜**ï¼Œæ·»åŠ çš„å¯¹è±¡æ–°æˆå‘˜ï¼Œæ²¡æœ‰è¢«åˆå§‹åŒ–æ—¶ç›‘å¬ï¼Œ`app1.user.æ–°å±æ€§=20`ã€‚
*   **è¢«å†»ç»“**çš„å¯¹è±¡æ— æ³•ç›‘å¬ï¼š`Object.freeze(obj)`ã€‚
*   **`v-model`** **ç»‘å®šçš„æœªå®šä¹‰å±æ€§ä¸ä¸¢å¤±**ï¼å› ä¸ºä»–æ˜¯ç”¨çš„`$set`å»æ›´æ–°çš„ï¼Œæ³¨æ„ä¸èƒ½æ˜¯dataçš„ä¸€çº§å±æ€§ã€‚

![image.png](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114596-1372677364.png)

**ğŸŸ¢è§£å†³åŠæ³•**ï¼š

*   **æ•°ç»„æ•´ä½“èµ‹å€¼**ï¼šæ–°æ•°ç»„èµ‹å€¼ï¼Œæˆ–è€…ç”¨æ•°ç»„æ–¹æ³•ä¿®æ”¹æ•°æ®ï¼Œå¦‚pushæ–¹æ³•æ˜¯è¢«Vueä»£ç†å®ç°äº†æ‹¦æˆªçš„ã€‚
    
*   åœ¨Vueåˆå§‹åŒ–æ—¶å…ˆç”³æ˜å±æ€§ã€‚
    
*   `vm.$set.(obj)`å¼ºåˆ¶æ›´æ–°ï¼Œä¼šå…ˆæ·»åŠ å“åº”ï¼Œç„¶åå†æ›´æ–°è§†å›¾ã€‚ä¸å»ºè®®åŠ¨æ€æ·»åŠ dataçš„ä¸€çº§å±æ€§ï¼åœ¨é€‰é¡¹ä¸­é¢„å…ˆç”³æ˜ã€‚å¥½åƒæ˜¯ä¸€äº›è¾¹ç•Œæ–¹é¢çš„æŠ€æœ¯åŸå› ã€‚
    

    <div id="app">
        <p>p1ï¼š
            <span v-for="n in arr">{{n}}ï¼Œ</span>
        </p>
        <p>p2ï¼š
            <b>nameï¼š</b>{{user.name}}ï¼Œ
            <b>ageï¼š</b>{{user.age}}
        </p>
    </div>
    <script>
        let app = new Vue({
            el: '#app',
            data: { arr: [1, 2, 3], user: { name: 'sam' }, }
        })
        app.arr[0] = 100;  //ä¿®æ”¹ï¼Œæ— æ›´æ–°
        app.arr[app.arr.length] = 4; //æ–°å¢ï¼Œæ— æ›´æ–°
    
        app.$set(app.arr,0,101); //å¼ºåˆ¶æ›´æ–°
        app.arr.push(5); //pushæœ‰æ•ˆï¼Œå‰é¢çš„ä¹Ÿç”Ÿæ•ˆäº†ï¼Œå› ä¸ºè§¦å‘äº†æ›´æ–°
        app.arr = [100, 2, 3];  //é‡æ–°èµ‹å€¼æ•°ç»„ï¼Œæœ‰æ•ˆ
        app.arr = Array.of(...Array.from(app.arr),10,10); //é‡æ–°èµ‹å€¼æ•°ç»„ï¼Œæœ‰æ•ˆ
    
        app.user.age = 10; //è¿™æ˜¯æ–°çš„å±æ€§ï¼Œæ— æ›´æ–°
        app.$set(app.user,'age',18); //å¼ºåˆ¶æ›´æ–°ï¼Œæœ‰æ•ˆ
        app.user = Object.assign({}, app.user);
        app.user = user; //èµ‹å€¼å¯¹è±¡ï¼Œæœ‰æ•ˆ
    </script>
    

* * *

03ã€VueåŠ¨ç”»
========

Vueæä¾›äº†ä¸¤ä¸ªå†…ç½®å…ƒç´ ï¼Œ`<transition>`å’Œ`<transition-group>`ï¼Œç”¨æ¥åŒ…è£…å•ä¸ªå…ƒç´ ã€åˆ—è¡¨å…ƒç´ ï¼Œè¾…åŠ©å®ç°åœ¨å…ƒç´ æ˜¾ç¤ºéšè—ã€åˆ›å»ºåˆ é™¤ã€ç§»åŠ¨è¿‡ç¨‹ä¸­çš„è¿‡æ¸¡åŠ¨ç”»æ•ˆæœã€‚æ›´é«˜çº§ã€æ›´å¤æ‚çš„åŠ¨ç”»å¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹åŠ¨ç”»ç»„ä»¶æ¥å®ç°ã€‚

*   CssåŠ¨ç”»åº“ [Animate.css](https://github.com/animate-css/animate.css)ï¼Œ
*   JsåŠ¨ç”»åº“ [anime.js](https://github.com/juliangarnier/anime) ï¼ˆgithub staræœ€é«˜ï¼‰ï¼Œ[Velocity.js](https://github.com/julianshapiro/velocity)ï¼Œ[GreenSock](https://github.com/greensock/GSAP)

3.1ã€transitionè¿‡æ¸¡åŠ¨ç”»
------------------

Vueæä¾›äº†ä¸€ä¸ª`<transition>`å°è£…ç»„ä»¶ï¼Œç”¨æ¥åŒ…è£…éœ€è¦åŠ¨ç”»çš„å•ä¸ªå†…å®¹ã€‚Vueä¸»è¦æä¾›äº†ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„åŠ¨ç”»æœºåˆ¶ï¼Œå¸®ä½ å¤„ç†è¿‡æ¸¡çš„äº‹ä»¶ã€åŠ¨ç”»ç±»è°ƒç”¨ã€‚æ‰€ä»¥è¿˜æ˜¯éœ€è¦ä½ è‡ªå·±æ¥å†™åŠ¨ç”»çš„CSSç±»ï¼Œæˆ–è€…åŠ¨ç”»JSä»£ç ã€‚

![image](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119174215340-2088011951.png)

*   **ä¸‰ç§ç±»å‹çš„è¿‡æ¸¡**ï¼šå…ƒç´ åˆå§‹æ¸²æŸ“è¿‡æ¸¡ã€å…ƒç´ è¿›å…¥è¿‡æ¸¡ï¼ˆæ˜¾ç¤ºï¼‰ã€å…ƒç´ ç¦»å¼€è¿‡æ¸¡ï¼ˆéšè—/åˆ é™¤ï¼‰ã€‚
*   **åŒ…è£¹å•å…ƒç´ **ï¼š`<transition>`åªèƒ½åŒ…è£¹ä¸€ä¸ªè·Ÿå…ƒç´ ï¼ˆåŒ…æ‹¬v-ifã€v-showåˆ‡æ¢ï¼‰ï¼ŒåŠ¨ç”»åº”ç”¨åœ¨è¿™ä¸ªè·Ÿå…ƒç´ ä¸Šï¼Œä¸ä¼šäº§ç”Ÿé¢å¤–Domå…ƒç´ ã€‚
*   **è¿‡æ²³æ‹†æ¡¥--äº‹åæ¸…ç†**ï¼šåŠ¨ç”»å®Œæˆåï¼ŒCSSåŠ¨ç”»èµ„æºä¼šè¢«æ¸…é™¤ï¼ŒVueä¼šè‡ªåŠ¨ç›‘å¬`transitionend`ï¼Œæˆ–`animationend`äº‹ä»¶ã€‚
*   **è¿‡æ¸¡CSSç±»åè§„èŒƒ**ï¼šå¦‚ä¸‹è¡¨æ ¼ï¼ŒæŒ‰ç…§CSSç±»åå†™æ ·å¼ï¼ŒVueè‡ªåŠ¨è°ƒç”¨ã€‚`v`ä¸ºåŠ¨ç”»ç»„ä»¶`<transition>`çš„`name`å€¼ï¼Œæ²¡æœ‰åˆ™é»˜è®¤`v`ã€‚
*   **CSSè¿‡æ¸¡ç±»attribute**ï¼šä½œç”¨åŒä¸Šï¼Œå€¼æ˜¯Classæ ·å¼ç±»åï¼Œä¼˜å…ˆçº§æ›´é«˜ã€‚CSSå€¼å¯ä»¥è‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒç”¨ç¬¬ä¸‰æ–¹CSSåŠ¨ç”»åº“ã€‚

**è¿›å…¥è¿‡æ¸¡**

**ç¦»å¼€è¿‡æ¸¡**

**CSSè¿‡æ¸¡ç±»attributeï¼Œ**ä¼˜å…ˆçº§æ›´é«˜

v-enterï¼šåˆå§‹ç‚¹çŠ¶æ€

v-leaveï¼šåˆå§‹ç‚¹çŠ¶æ€

enter-classã€leave-class

v-enter-toï¼šç»“æŸç‚¹çŠ¶æ€

v-leave-toï¼šç»“æŸç‚¹çŠ¶æ€

enter-to-classã€leave-to-class

v-enter-activeï¼šè¿›å…¥è¿‡ç¨‹ï¼Œè®¾ç½®åŠ¨ç”»å‚æ•°

v-leave-activeï¼šç¦»å¼€è¿‡ç¨‹

enter-active-classã€leave-active-class

ğŸŒ°è¿‡æ¸¡åŠ¨ç”»ç¤ºä¾‹ï¼š[CodePen](https://codepen.io/kanding/pen/bGMGWBg)

    <link href="https://cdn.jsdelivr.net/npm/animate.css@3.5.1" rel="stylesheet">
    <div id="app15">
        <div>
            <button v-on:click="acitve = !acitve" ref="btn">æ¶ˆå¤±</button>
            <transition name="h" v-on:after-enter="updateBtn" v-on:after-leave="updateBtn">
                <p v-show="acitve" style="color:red">ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³ï¼Œä¸‡é‡Œé•¿å¾äººæœªè¿˜ï¼</p>
            </transition>
            <!-- CSSè¿‡æ¸¡ç±»Classï¼Œä½¿ç”¨äº†animateç»„ä»¶-->
            <transition name="h" enter-active-class="animated fadeInRightBig" leave-active-class="animated zoomOut">
                <p v-show="acitve" style="color:blue">ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³ï¼Œèµ¶å¿«ä¸‹æ¥¼åšæ ¸é…¸ï¼</p>
            </transition>
        </div>
    </div>
    <style>
        .h-enter-active,
        .h-leave-active { transition: all 0.5s cubic-bezier(1.0, 0.8, 0.5, 1.1); }
        .h-enter, .h-leave-to { opacity: 0; }
        .h-enter { transform: translateX(80px); }
        .h-leave-to { transform: translateX(-80px); }
    </style>
    <script>
        let app15 = new Vue({
            el: "#app15",
            data: { acitve: true },
            methods: {
                updateBtn: function (e) { this.$refs.btn.innerText = this.acitve ? "æ¶ˆå¤±" : "å‡ºæ¥"; }
            }
        })
    </script>
    

![1.gif](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114601-1165195791.gif)

[transition](https://v2.cn.vuejs.org/v2/api/?#transition)åŠ¨ç”»å…ƒç´ çš„å±æ€§ã€é’©å­äº‹ä»¶ï¼š

**âœ”ï¸**`<transition>`å±æ€§

**æè¿°**

name

ç”¨äºè‡ªåŠ¨ç”Ÿæˆ CSS è¿‡æ¸¡ç±»åï¼š`name-enter`ã€`name-leave`

appear

å¼€åœºåŠ¨ç”»ï¼Œæ˜¯å¦åœ¨åˆå§‹æ¸²æŸ“æ—¶ä½¿ç”¨è¿‡æ¸¡ï¼Œboolï¼Œé»˜è®¤ä¸º false

css

boolï¼Œæ˜¯å¦ä½¿ç”¨ CSS è¿‡æ¸¡ç±»ï¼Œé»˜è®¤tureã€‚å¦‚æœç”¨é’©å­å‡½æ•°JSæ§åˆ¶åŠ¨ç”»ï¼Œå¯ä»¥å…³é—­cssã€‚

type

Vue ç›‘å¬è¿‡æ¸¡äº‹ä»¶ç±»å‹ç±»å‹ï¼Œç”¨äºåŠ¨ç”»å®Œæˆåæ¸…ç†classèµ„æºï¼Œanimation ï¼ˆ`animationend`ï¼‰ æˆ– transitionï¼ˆ`transitionend`ï¼‰

mode

è¿‡æ¸¡æ¨¡å¼ï¼Œæ§åˆ¶æ–°æ—§å…ƒç´ è¿›å…¥/ç¦»å¼€è¿‡æ¸¡çš„å…ˆåé¡ºåºï¼Œ `out-in` ã€`in-out`ï¼Œé»˜è®¤åŒæ—¶è¿›è¡Œã€‚

duration

è¿‡æ¸¡çš„æŒç»­æ—¶é—´ï¼ˆmsï¼‰ï¼Œ`{ enter: 500, leave: 500}` ï¼Œç”¨äºäº‹åæ¸…ç†èµ„æºï¼Œè€Œä¸æ˜¯è®¾ç½®åŠ¨ç”»æ—¶é—´

**âœ”ï¸CSS è¿‡æ¸¡ç±» attribute**

  

è¿›å…¥è¿‡æ¸¡

**enter**\-classã€**enter-to**\-classã€**enter-active**\-class

ç¦»å¼€è¿‡æ¸¡

**leave**\-classã€**leave-to**\-classã€**leave-active**\-class

åˆå§‹æ¸²æŸ“è¿‡æ¸¡

**appear**\-classã€**appear-to**\-classã€**appear-active**\-class

**âœ”ï¸JavaScript é’©å­**

ç”¨äºJSçš„åŠ¨ç”»æ§åˆ¶ï¼Œå¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹JSåŠ¨ç”»åº“

è¿›å…¥è¿‡æ¸¡

**before-enter**(el)ã€**enter**(el, done)ã€**after-enter**(el)ã€**enter-cancelled**(el)  
å½“åªç”¨ JavaScript è¿‡æ¸¡çš„æ—¶å€™ï¼Œåœ¨ enter å’Œ leave ä¸­å¿…é¡»ä½¿ç”¨ done è¿›è¡Œå›è°ƒã€‚å¦åˆ™ï¼Œå®ƒä»¬å°†è¢«åŒæ­¥è°ƒç”¨ï¼Œè¿‡æ¸¡ä¼šç«‹å³å®Œæˆã€‚

ç¦»å¼€è¿‡æ¸¡

**before-leave**(el)ã€**leave**(el, done)ã€**after-leave**(el)ã€**leave-cancelled** (el)  
leaveCancelled åªç”¨äº v-show ä¸­

åˆå§‹æ¸²æŸ“è¿‡æ¸¡

**before-appear**(el)ã€**appear**(el)ã€**after-appear**(el)ã€**appear-cancelled**(el)

3.2ã€transition-groupåˆ—è¡¨è¿‡æ¸¡åŠ¨ç”»
--------------------------

åˆ—è¡¨çš„è¿‡æ¸¡æ˜¯é’ˆå¯¹å¤šä¸ªå…ƒç´ ï¼Œéœ€è¦ [transition-group](https://v2.cn.vuejs.org/v2/api/?#transition-group)ç»„ä»¶ï¼Œæ”¯æŒçš„è¿‡æ¸¡ç±»ã€ç‰¹æ€§å’Œäº‹ä»¶å’Œ`<transition>`ç±»ä¼¼ï¼Œå¤šäº†`tag`ã€`ç§»åŠ¨è¿‡æ¸¡`ã€‚ä¸è¿‡è¿‡æ¸¡é’ˆå¯¹çš„ä¸æ˜¯ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œè€Œæ˜¯å†…éƒ¨çš„æ¯ä¸€ä¸ªä¸€çº§å…ƒç´ ã€‚`<transition-group>`ä¼šäº§ç”Ÿä¸€ä¸ªå…ƒç´ `<span>`ï¼Œå¯é€šè¿‡tagä¿®æ”¹æ¸²æŸ“çš„å…ƒç´ ï¼Œæ¯”å¦‚ç”¨æ¥ä»£æ›¿`<ul>`ä¸é”™ã€‚

`<transition-group>`

**æè¿°**

tag

`<transition-group>`äº§ç”Ÿçš„å…ƒç´ æ ‡ç­¾åï¼Œé»˜è®¤ä¸º`span`ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è®¾ç½®ã€‚

**âœ”ï¸**CSS è¿‡æ¸¡ç±» attribute

  

**ç§»åŠ¨è¿‡æ¸¡**

move-classï¼ˆç±»åï¼šv-moveï¼‰

å¦‚æœåªæ˜¯ç”¨è¿›å…¥ã€ç¦»å¼€è¿‡æ¸¡ï¼Œä¼šå¯¼è‡´å…¶ä»–å…ƒç´ çš„ä½ç½®å˜åŒ–æ¯”è¾ƒç”Ÿç¡¬ã€‚ä½¿ç”¨ç§»åŠ¨è¿‡æ¸¡`v-move/move-class`ï¼Œåœ¨å…ƒç´ æ”¹å˜å®šä½çš„æ—¶å€™ä½¿ç”¨ã€‚Vue ä½¿ç”¨äº†ä¸€ä¸ª [FLIP](https://aerotwist.com/blog/flip-your-animations/) çš„åŠ¨ç”»é˜Ÿåˆ—ï¼Œä½¿ç”¨`transforms`å°†å…ƒç´ ä½ç½®å¹³æ»‘ç§»åŠ¨ã€‚

> ğŸ“¢**v-for æ—¶éœ€è®¾ç½®key**ï¼š`v-fo`råˆ›å»ºåˆ—è¡¨å…ƒç´ æ—¶ï¼Œå¼ºçƒˆå»ºè®®è®¾ç½®åˆ—è¡¨é¡¹çš„keyå€¼ï¼Œåˆ—è¡¨åŠ¨ç”»ä¸­è¿™æ˜¯å¼ºåˆ¶è¦æ±‚äº†ï¼

ä»£ç ç¤ºä¾‹ï¼š[CodePen](https://codepen.io/kanding/pen/LYmxKxG)

    <h1>app15: åŠ¨ç”»</h1>
    <div id="app15">
        <h3>åˆ—è¡¨åŠ¨ç”»ï¼š<button @click="shuffle">éšæœºä¹±åº</button></h3>
        <div>
            <transition-group tag="ul" name="list" enter-active-class="animated flipInX">
                <li v-for="(s,i) in list" v-bind:key="s">{{s}}
                    <button @click="list.splice(i,1)">-</button> 
                    <button @click="list.splice(i+1,0,s+index++)">+</button>
                </li>
            </transition-group>
        </div>
    </div>
    <style>
        .list-enter { opacity:0; }
        .list-enter-to{ transform: translateX(50px); }
        .list-leave-active{ transition: all 1s; }        
        .list-leave-to { opacity: 0; transform: translateX(50px); }
        .list-leave-active {
            position: absolute;   /*è®©å…ƒç´ ç§»åŠ¨æ›´é¡ºæ»‘*/
            transition: all 1s; }
        .list-move { transition: 0.5s; }
    </style>
    <script>
        let app15 = new Vue({
            el: "#app15",
            data: { acitve: true, index: 1, list: ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'å¯¹å…­', 'å°ä¸ƒ', 'æç™½'] },
            methods: {
                // éšæœºæ’åº
                shuffle: function () { this.list.sort((a, b) => Math.random() - 0.5) }
            }
        })
    </script>
    

![1.gif](https://img2022.cnblogs.com/blog/151257/202211/151257-20221119173114589-1238450300.gif)

* * *

> **Â©ï¸ç‰ˆæƒç”³æ˜**ï¼šç‰ˆæƒæ‰€æœ‰@å®‰æœ¨å¤•ï¼Œæœ¬æ–‡å†…å®¹ä»…ä¾›å­¦ä¹ ï¼Œæ¬¢è¿æŒ‡æ­£ã€äº¤æµï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼[_åŸæ–‡ç¼–è¾‘åœ°å€-è¯­é›€_](https://www.yuque.com/kanding/ktech/lrqg93)