---
layout: post
title: "åŸºäºERNIELayout&pdfplumber-UIEçš„å¤šæ–¹æ¡ˆå­¦æœ¯è®ºæ–‡ä¿¡æ¯æŠ½å–"
date: "2023-01-05T04:20:16.965Z"
---
åŸºäºERNIELayout&pdfplumber-UIEçš„å¤šæ–¹æ¡ˆå­¦æœ¯è®ºæ–‡ä¿¡æ¯æŠ½å–
========================================

åŸºäºERNIELayout&pdfplumber-UIEçš„å¤šæ–¹æ¡ˆå­¦æœ¯è®ºæ–‡ä¿¡æ¯æŠ½å–ï¼Œå°æ ·æœ¬èƒ½åŠ›å¼ºæ‚ï¼ŒOCRã€ç‰ˆé¢åˆ†æã€ä¿¡æ¯æŠ½å–ä¸€åº”ä¿±å…¨ã€‚

æœ¬é¡¹ç›®é“¾æ¥ï¼š[https://aistudio.baidu.com/aistudio/projectdetail/5196032?contributionType=1](https://aistudio.baidu.com/aistudio/projectdetail/5196032?contributionType=1)  
åŸºäºERNIELayout&pdfplumber-UIEçš„å¤šæ–¹æ¡ˆå­¦æœ¯è®ºæ–‡ä¿¡æ¯æŠ½å–ï¼Œå°æ ·æœ¬èƒ½åŠ›å¼ºæ‚ï¼ŒOCRã€ç‰ˆé¢åˆ†æã€ä¿¡æ¯æŠ½å–ä¸€åº”ä¿±å…¨ã€‚

0.é—®é¢˜æè¿°
======

å¯ä»¥å‚è€ƒissueï¼š ERNIE-Layoutåœ¨ï¼ˆäººåå’Œé‚®ç®±ï¼‰ä¿¡æ¯æŠ½å–çš„è¯¸å¤šé—®é¢˜é˜è¿°[#4031](https://github.com/PaddlePaddle/PaddleNLP/issues/4031)

1.  ERNIE-Layoutå› ä¸ºçœ‹åˆ°åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§å°±å°è¯•äº†ä¸€ä¸‹ï¼Œä½†é‡åˆ°ä¿¡æ¯æŠ½å–é”™è¯¯ï¼Œä»¥åŠæŠ½å–ä¸å…¨ç­‰é—®é¢˜
2.  ä½¿ç”¨PDFPlumberåº“å’ŒPaddleNLP UIEæ¨¡å‹æŠ½å–ï¼Œé‡åˆ°é—®é¢˜ï¼šæ— æ³•æŠŠå§“åå’Œé‚®ç®±ä¸€ä¸€å¯¹åº”ã€‚

1.åŸºäºERNIE-Layoutçš„DocPromptå¼€æ”¾æ–‡æ¡£æŠ½å–é—®ç­”æ¨¡å‹
====================================

ERNIE-Layoutä»¥æ–‡å¿ƒæ–‡æœ¬å¤§æ¨¡å‹ERNIEä¸ºåº•åº§ï¼Œèåˆæ–‡æœ¬ã€å›¾åƒã€å¸ƒå±€ç­‰ä¿¡æ¯è¿›è¡Œè·¨æ¨¡æ€è”åˆå»ºæ¨¡ï¼Œåˆ›æ–°æ€§å¼•å…¥å¸ƒå±€çŸ¥è¯†å¢å¼ºï¼Œæå‡ºé˜…è¯»é¡ºåºé¢„æµ‹ã€ç»†ç²’åº¦å›¾æ–‡åŒ¹é…ç­‰è‡ªç›‘ç£é¢„è®­ç»ƒä»»åŠ¡ï¼Œå‡çº§ç©ºé—´è§£å¶æ³¨æ„åŠ›æœºåˆ¶ï¼Œåœ¨å„æ•°æ®é›†ä¸Šæ•ˆæœå–å¾—å¤§å¹…åº¦æå‡ï¼Œç›¸å…³å·¥ä½œERNIE-Layout: Layout-Knowledge Enhanced Multi-modal Pre-training for Document Understandingå·²è¢«EMNLP 2022 Findingsä¼šè®®æ”¶å½•\[1\]ã€‚è€ƒè™‘åˆ°æ–‡æ¡£æ™ºèƒ½åœ¨å¤šè¯­ç§ä¸Šå•†ç”¨å¹¿æ³›ï¼Œä¾æ‰˜PaddleNLPå¯¹å¤–å¼€æºä¸šç•Œæœ€å¼ºçš„å¤šè¯­è¨€è·¨æ¨¡æ€æ–‡æ¡£é¢„è®­ç»ƒæ¨¡å‹ERNIE-Layoutã€‚

![](https://s2.51cto.com/images/blog/202301/05101921_63b633a9ca65024526.png?x-oss-process=image/watermark,size_14,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_20,type_ZmFuZ3poZW5naGVpdGk=)

æ”¯æŒï¼š

*   å‘ç¥¨æŠ½å–é—®ç­”
*   æµ·æŠ¥æŠ½å–
*   ç½‘é¡µæŠ½å–
*   è¡¨æ ¼æŠ½å–
*   é•¿æ–‡æ¡£æŠ½å–
*   å¤šè¯­è¨€ç¥¨æ®æŠ½å–
*   åŒæ—¶æä¾›pipelinesæµæ°´çº¿æ­å»º

æ›´å¤šå‚è€ƒå®˜ç½‘ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†

ERNIE-Layout GitHubåœ°å€ï¼š[https://github.com/PaddlePaddle/PaddleNLP/tree/develop/model\_zoo/ernie-layout](https://github.com/PaddlePaddle/PaddleNLP/tree/develop/model_zoo/ernie-layout)

Hugging Faceç½‘é¡µç‰ˆï¼š[https://huggingface.co/spaces/PaddlePaddle/ERNIE-Layout](https://huggingface.co/spaces/PaddlePaddle/ERNIE-Layout)

    #ç¯å¢ƒå®‰è£…
    !pip install --upgrade opencv-python
    !pip install --upgrade paddlenlp
    !pip install --upgrade paddleocr --user
    #å¦‚æœå®‰è£…å¤±è´¥å¤šè¯•å‡ æ¬¡ ä¸€èˆ¬éƒ½æ˜¯ç½‘ç»œé—®é¢˜
    !pip install xlwt
    
    # æ”¯æŒå•æ¡ã€æ‰¹é‡é¢„æµ‹
    from paddlenlp import Taskflow
    docprompt_en= Taskflow("document_intelligence",lang="en",topn=10)
    docprompt_en({"doc": "./image/paper_1.jpg", "prompt": ["äººåå’Œé‚®ç®±" ]})
    
    # batch_sizeï¼šæ‰¹å¤„ç†å¤§å°ï¼Œè¯·ç»“åˆæœºå™¨æƒ…å†µè¿›è¡Œè°ƒæ•´ï¼Œé»˜è®¤ä¸º1ã€‚
    # langï¼šé€‰æ‹©PaddleOCRçš„è¯­è¨€ï¼Œchå¯åœ¨ä¸­è‹±æ··åˆçš„å›¾ç‰‡ä¸­ä½¿ç”¨ï¼Œenåœ¨è‹±æ–‡å›¾ç‰‡ä¸Šçš„æ•ˆæœæ›´å¥½ï¼Œé»˜è®¤ä¸ºchã€‚
    # topn: å¦‚æœæ¨¡å‹è¯†åˆ«å‡ºå¤šä¸ªç»“æœï¼Œå°†è¿”å›å‰nä¸ªæ¦‚ç‡å€¼æœ€é«˜çš„ç»“æœï¼Œé»˜è®¤ä¸º1ã€‚
    

    [{'prompt': 'äººåå’Œé‚®ç®±',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79},
       {'value': 'banafshch.nikfar@gmail.com',
        'prob': 0.98,
        'start': 153,
        'end': 159}]}]
    
    

å¯ä»¥çœ‹åˆ°æ•ˆæœä¸å¥½ï¼Œå¤šä¸ªå®ä½“ä¸èƒ½ä¸€åŒæŠ½å–ï¼Œéœ€è¦æ„å»ºæˆå•ä¸ªé—®ç­”ï¼Œæ¯”å¦‚å§“åå’Œé‚®ç®±åˆ†å¼€æŠ½å–ï¼Œå°è¯•æ„é€ åˆç†çš„å¼€æ”¾å¼promptã€‚

**å°æŠ€å·§**

*   **Promptè®¾è®¡**ï¼šåœ¨DocPromptä¸­ï¼ŒPromptå¯ä»¥æ˜¯é™ˆè¿°å¥ï¼ˆä¾‹å¦‚ï¼Œæ–‡æ¡£é”®å€¼å¯¹ä¸­çš„Keyï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ç–‘é—®å¥ã€‚å› ä¸ºæ˜¯å¼€æ”¾åŸŸçš„æŠ½å–é—®ç­”ï¼ŒDocPromptå¯¹Promptçš„è®¾è®¡**æ²¡æœ‰ç‰¹æ®Šé™åˆ¶ï¼Œåªè¦ç¬¦åˆè‡ªç„¶è¯­è¨€è¯­ä¹‰å³å¯**ã€‚å¦‚æœå¯¹å½“å‰çš„æŠ½å–ç»“æœä¸æ»¡æ„ï¼Œ**å¯ä»¥å¤šå°è¯•ä¸€äº›ä¸åŒçš„Prompt**ã€‚
    
*   **æ”¯æŒçš„è¯­è¨€**ï¼šæ”¯æŒæœ¬åœ°è·¯å¾„æˆ–è€…HTTPé“¾æ¥çš„**ä¸­è‹±æ–‡å›¾ç‰‡**è¾“å…¥ï¼ŒPromptæ”¯æŒå¤šç§ä¸åŒè¯­è¨€ï¼Œå‚è€ƒä»¥ä¸Šä¸åŒåœºæ™¯çš„ä¾‹å­ã€‚
    

    docprompt_en({"doc": "./image/paper_1.jpg", "prompt": ["äººåæ˜¯ä»€ä¹ˆ","é‚®ç®±æ˜¯å¤šå°‘", ]})
    #æ— æ³•ç½—åˆ—å…¨éƒ¨å§“å
    
    [{'prompt': 'äººåæ˜¯ä»€ä¹ˆ',
      'result': [{'value': 'AA.Momtazi-Borojeni',
        'prob': 0.74,
        'start': 0,
        'end': 4}]},
     {'prompt': 'é‚®ç®±æ˜¯å¤šå°‘',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79}]}]
    
    [{'prompt': 'äººåæ˜¯ä»€ä¹ˆ',
      'result': [{'value': 'AA.Momtazi-Borojeni',
        'prob': 0.74,
        'start': 0,
        'end': 4}]},
     {'prompt': 'é‚®ç®±æ˜¯å¤šå°‘',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79}]}]
    
    [{'prompt': 'äººå',
      'result': [{'value': 'J.Mosafer', 'prob': 0.95, 'start': 80, 'end': 82},
       {'value': 'B.Nikfar', 'prob': 0.94, 'start': 111, 'end': 113},
       {'value': 'AVaezi', 'prob': 0.94, 'start': 225, 'end': 225},
       {'value': 'AA.Momtazi-Borojeni', 'prob': 0.88, 'start': 0, 'end': 4}]},
     {'prompt': 'email',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79},
       {'value': 'banafshch.nikfar@gmail.com',
        'prob': 0.98,
        'start': 153,
        'end': 159}]}]
    
    docprompt_en({"doc": "./image/paper_1.jpg", "prompt": ["äººå","é‚®ç®±","å§“å","åå­—","email"]})
    [{'prompt': 'äººå',
      'result': [{'value': 'J.Mosafer', 'prob': 0.95, 'start': 80, 'end': 82},
       {'value': 'B.Nikfar', 'prob': 0.94, 'start': 111, 'end': 113},
       {'value': 'AVaezi', 'prob': 0.94, 'start': 225, 'end': 225},
       {'value': 'AA.Momtazi-Borojeni', 'prob': 0.88, 'start': 0, 'end': 4}]},
     {'prompt': 'é‚®ç®±',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79},
       {'value': 'banafshch.nikfar@gmail.com',
        'prob': 0.87,
        'start': 153,
        'end': 159}]},
     {'prompt': 'å§“å',
      'result': [{'value': 'AA.Momtazi-Borojeni',
        'prob': 0.76,
        'start': 0,
        'end': 4}]},
     {'prompt': 'åå­—',
      'result': [{'value': 'AA.', 'prob': 0.7, 'start': 0, 'end': 1}]},
     {'prompt': 'email',
      'result': [{'value': 'momtaziaa921@mums.ac.irabbasmomtazi@yahoo.com',
        'prob': 1.0,
        'start': 69,
        'end': 79},
       {'value': 'banafshch.nikfar@gmail.com',
        'prob': 0.98,
        'start': 153,
        'end': 159}]}]
    
    
    

å¯ä»¥çœ‹å‡ºå¾—åˆ°çš„æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼Œæ¯”è¾ƒç„å­¦ï¼ŒåŸå› åº”è¯¥å°±æ˜¯ocrè¯†åˆ«å¯¹åº”å§“åäººåå‡†ç¡®ç‡ç›¸å¯¹ä¸é«˜ï¼Œæ— æ³•å…¨éƒ¨å‘½ä¸­ï¼›å¹¶ä¸”æ— æ³•ä¸€ä¸€å¯¹åº”ã€‚

è¿™å—å»ºè®®çœ‹çœ‹paddleocrå…·ä½“å®ç°æ­¥éª¤ï¼Œç ”ç©¶ä¸€ä¸‹åœ¨çœ‹çœ‹æ€ä¹ˆå¤„ç†ã€‚

ä¸‹é¢è®²ç¬¬äºŒç§æ–¹æ³•

2.åŸºäºPDFplumber-UIEä¿¡æ¯æŠ½å–
======================

2.1 PDFæ–‡æ¡£è§£æï¼ˆpdfplumberåº“ï¼‰
------------------------

å®‰è£…PDFPlumber  
!pip install pdfplumber --user

å®˜ç½‘é“¾æ¥ï¼š[https://github.com/jsvine/pdfplumber](https://github.com/jsvine/pdfplumber)

pdfçš„æ–‡æœ¬å’Œè¡¨æ ¼å¤„ç†ç”¨å¤šç§æ–¹å¼å¯ä»¥å®ç°ï¼Œ æœ¬æ–‡ä»‹ç»pdfplumberå¯¹æ–‡æœ¬å’Œè¡¨æ ¼æå–ã€‚è¿™ä¸ªåº“åœ¨GitHubä¸Šstars:3.3Kå¤šï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œ æ•ˆæœä¹Ÿå¾ˆå¥½ï¼Œå¯ä»¥æ»¡è¶³å¯¹pdfä¸­ä¿¡æ¯çš„æå–éœ€æ±‚ã€‚

pdfplumber.pdfä¸­åŒ…å«äº†.metadataå’Œ.pagesä¸¤ä¸ªå±æ€§ã€‚

*   metadataæ˜¯ä¸€ä¸ªåŒ…å«pdfä¿¡æ¯çš„å­—å…¸ã€‚
*   pagesæ˜¯ä¸€ä¸ªåŒ…å«pdfplumber.Pageå®ä¾‹çš„åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå®ä¾‹ä»£è¡¨pdfæ¯ä¸€é¡µçš„ä¿¡æ¯ã€‚

æ¯ä¸ªpdfplumber.Pageç±»:pdfplumberæ ¸å¿ƒåŠŸèƒ½ï¼Œå¯¹PDFçš„å¤§éƒ¨åˆ†æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸ªç±»ï¼Œç±»ä¸­åŒ…å«äº†å‡ ä¸ªä¸»è¦çš„å±æ€§ï¼šæ–‡æœ¬ã€è¡¨æ ¼ã€å°ºå¯¸ç­‰

*   page\_number é¡µç 
*   width é¡µé¢å®½åº¦
*   height é¡µé¢é«˜åº¦
*   objects/.chars/.lines/.rects è¿™äº›å±æ€§ä¸­æ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨éƒ½åŒ…å«ä¸€ä¸ªå­—å…¸ï¼Œæ¯ä¸ªå­—å…¸ç”¨äºè¯´æ˜é¡µé¢ä¸­çš„å¯¹è±¡ä¿¡æ¯ï¼Œ åŒ…æ‹¬ç›´çº¿ï¼Œå­—ç¬¦ï¼Œ æ–¹æ ¼ç­‰ä½ç½®ä¿¡æ¯ã€‚

ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•

*   extract\_text() ç”¨æ¥æé¡µé¢ä¸­çš„æ–‡æœ¬ï¼Œå°†é¡µé¢çš„æ‰€æœ‰å­—ç¬¦å¯¹è±¡æ•´ç†ä¸ºçš„é‚£ä¸ªå­—ç¬¦ä¸²
*   extract\_words() è¿”å›çš„æ˜¯æ‰€æœ‰çš„å•è¯åŠå…¶ç›¸å…³ä¿¡æ¯
*   extract\_tables() æå–é¡µé¢çš„è¡¨æ ¼

### 2.1.1 pdfplumberç®€å•ä½¿ç”¨

    # åˆ©ç”¨metadataå¯ä»¥è·å¾—PDFçš„åŸºæœ¬ä¿¡æ¯ï¼Œä½œè€…ï¼Œæ—¥æœŸï¼Œæ¥æºç­‰åŸºæœ¬ä¿¡æ¯ã€‚
    import pdfplumber
    import pandas as pd
    
    with pdfplumber.open("/home/aistudio/work/input/test_paper.pdf") as pdf:
        print(pdf.metadata)
        # print("æ€»é¡µæ•°ï¼š"+str(len(pdf.pages))) #æ€»é¡µæ•°
        print("pdfæ–‡æ¡£æ€»é¡µæ•°:", len(pdf.pages))
    # è¯»å–ç¬¬ä¸€é¡µçš„å®½åº¦ï¼Œé¡µé«˜ç­‰ä¿¡æ¯
        # ç¬¬ä¸€é¡µpdfplumber.Pageå®ä¾‹
        first_page = pdf.pages[0]
        # æŸ¥çœ‹é¡µç 
        print('é¡µç ï¼š', first_page.page_number)
    
        # æŸ¥çœ‹é¡µå®½
        print('é¡µå®½ï¼š', first_page.width)
    
        # æŸ¥çœ‹é¡µé«˜
        print('é¡µé«˜ï¼š', first_page.height)
    
    {'CreationDate': "D:20180428190534+05'30'", 'Creator': 'Arbortext Advanced Print Publisher 9.0.223/W Unicode', 'ModDate': "D:20180428190653+05'30'", 'Producer': 'Acrobat Distiller 9.4.5 (Windows)', 'Title': '0003617532 1..23 ++', 'rgid': 'PB:324947211_AS:677565220007936@1538555545045'}
    pdfæ–‡æ¡£æ€»é¡µæ•°: 24
    é¡µç ï¼š 1
    é¡µå®½ï¼š 594.95996
    é¡µé«˜ï¼š 840.95996
    
    

    # å¯¼å…¥PDFPlumber
    import pdfplumber
    #æ‰“å°ç¬¬ä¸€é¡µä¿¡æ¯
    with pdfplumber.open("/home/aistudio/work/input/test_paper.pdf") as pdf:
        first_page = pdf.pages[0]
        textdata=first_page.extract_text()
    print(textdata)
    
    #æ‰“å°å…¨éƒ¨é¡µé¢
    import pdfplumber as ppl
    pdf_path = "/home/aistudio/work/input/test_paper.pdf"
    pdf = ppl.open(pdf_path)
    # è·å¾— PDFPlumber çš„å¯¹è±¡ï¼Œä¸‹é¢æŸ¥çœ‹pdfå…¨éƒ¨å†…å®¹
    for page in pdf.pages:
        print(page.extract_text())
    
    
    

!pip install xlwt

    #è¯»å–è¡¨æ ¼ç¬¬ä¸€é¡µ
    import pdfplumber
    import xlwt
    
    # åŠ è½½pdf
    path = "/home/aistudio/Scan-1.pdf"
    with pdfplumber.open(path) as pdf:
        page_1 = pdf.pages[0]  # pdfç¬¬ä¸€é¡µ
        table_1 = page_1.extract_table()  # è¯»å–è¡¨æ ¼æ•°æ®
        print(table_1)
        # 1.åˆ›å»ºExcelå¯¹è±¡
        workbook = xlwt.Workbook(encoding='utf8')
        # 2.æ–°å»ºsheetè¡¨
        worksheet = workbook.add_sheet('Sheet1')
        # 3.è‡ªå®šä¹‰åˆ—å
        clo1 = table_1[0]
        # 4.å°†åˆ—è¡¨å…ƒç»„clo1å†™å…¥sheetè¡¨å•ä¸­çš„ç¬¬ä¸€è¡Œ
        for i in range(0, len(clo1)):
            worksheet.write(0, i, clo1[i])
        # 5.å°†æ•°æ®å†™è¿›sheetè¡¨å•ä¸­
        for i in range(0, len(table_1[1:])):
            data = table_1[1:][i]
            for j in range(0, len(clo1)):
                worksheet.write(i + 1, j, data[j])
        # ä¿å­˜Excelæ–‡ä»¶åˆ†ä¸¤ç§
        workbook.save('/home/aistudio/work/input/test_excel.xls')
    
    

    #è¯»å–è¡¨æ ¼å…¨é¡µ
    import pdfplumber
    from openpyxl import Workbook
    
    class PDF(object):
        def __init__(self, file_path):
            self.pdf_path = file_path
            # è¯»å–pdfæ–‡ä»¶
            try:
                self.pdf_info = pdfplumber.open(self.pdf_path)
                print('è¯»å–æ–‡ä»¶å®Œæˆï¼')
            except Exception as e:
                print('è¯»å–æ–‡ä»¶å¤±è´¥ï¼š', e)
    
        # æ‰“å°pdfçš„åŸºæœ¬ä¿¡æ¯ã€è¿”å›å­—å…¸ï¼Œä½œè€…ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´/æ€»é¡µæ•°
        def get_pdf(self):
            pdf_info = self.pdf_info.metadata
            pdf_page = len(self.pdf_info.pages)
            print('pdfå…±%sé¡µ' % pdf_page)
            print("pdfæ–‡ä»¶åŸºæœ¬ä¿¡æ¯ï¼š\n", pdf_info)
            self.close_pdf()
    
        # æå–è¡¨æ ¼æ•°æ®,å¹¶ä¿å­˜åˆ°excelä¸­
        def get_table(self):
            wb = Workbook()  # å®ä¾‹åŒ–ä¸€ä¸ªå·¥ä½œç°¿å¯¹è±¡
            ws = wb.active  # è·å–ç¬¬ä¸€ä¸ªsheet
            con = 0
            try:
                # è·å–æ¯ä¸€é¡µçš„è¡¨æ ¼ä¸­çš„æ–‡å­—ï¼Œè¿”å›tableã€rowã€cellæ ¼å¼ï¼š[[[row1],[row2]]]
                for page in self.pdf_info.pages:
                    for table in page.extract_tables():
                        for row in table:
                            # å¯¹æ¯ä¸ªå•å…ƒæ ¼çš„å­—ç¬¦è¿›è¡Œç®€å•æ¸…æ´—å¤„ç†
                            row_list = [cell.replace('\n', ' ') if cell else '' for cell in row]
                            ws.append(row_list)  # å†™å…¥æ•°æ®
                    con += 1
                    print('---------------åˆ†å‰²çº¿,ç¬¬%sé¡µ---------------' % con)
            except Exception as e:
                print('æŠ¥é”™ï¼š', e)
            finally:
                wb.save('\\'.join(self.pdf_path.split('\\')[:-1]) + '\pdf_excel.xlsx')
                print('å†™å…¥å®Œæˆï¼')
                self.close_pdf()
    
        # å…³é—­æ–‡ä»¶
        def close_pdf(self):
            self.pdf_info.close()
    
    if __name__ == "__main__":
        file_path = "/home/aistudio/Scan-1.pdf"
        pdf_info = PDF(file_path)
        # pdf_info.get_pdf() # æ‰“å°pdfåŸºç¡€ä¿¡æ¯
        # æå–pdfè¡¨æ ¼æ•°æ®å¹¶ä¿å­˜åˆ°excelä¸­,æ–‡ä»¶ä¿å­˜åˆ°è·ŸpdfåŒä¸€æ–‡ä»¶è·¯å¾„ä¸‹
        pdf_info.get_table()
    
    

æ›´å¤šåŠŸèƒ½ï¼ˆè¡¨æ ¼è¯»å–ï¼Œå›¾ç‰‡æå–ï¼Œå¯è§†åŒ–ç•Œé¢ï¼‰å¯ä»¥å‚è€ƒå®˜ç½‘æˆ–è€…ä¸‹é¢é“¾æ¥ï¼š

[https://blog.csdn.net/fuhanghang/article/details/122579548](https://blog.csdn.net/fuhanghang/article/details/122579548)

### 2.1.2 å­¦æœ¯è®ºæ–‡ç‰¹å®šé¡µé¢æ–‡æœ¬æå–

å‘è¡¨è®ºæ–‡ä½œè€…ä¿¡æ¯é€šå¸¸æ”¾åœ¨è®ºæ–‡é¦–é¡µçš„è„šæœ«è¡Œæˆ–å‚è€ƒæ–‡çŒ®çš„åé¢ï¼Œæ ¹æ®è¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥è¿›è¡Œåˆ†ç±»ï¼ˆåªè¦è·å–ä½œè€…çš„é‚®ç®±ä¿¡æ¯å³å¯ï¼‰ï¼š

*   ç¬¬ä¸€ç§å›½å¤–è®ºæ–‡ï¼šé¦–é¡µå«ä½œè€…ç›¸å…³ä¿¡æ¯ or é¦–é¡µæ˜¯å°é¢ç¬¬äºŒé¡µæ‰æ˜¯ä½œè€…ä¿¡æ¯ ã€è·å–å‰né¡µå³å¯ï¼Œæ¨èæ˜¯2é¡µã€‘
*   ç¬¬äºŒç§å›½å†…è®ºæ–‡ï¼šé¦–é¡µå«ä½œè€…ä¿¡æ¯ï¼ˆé‚®ç®±ç­‰ï¼‰åœ¨å‚è€ƒæ–‡çŒ®ä¹‹åä¼šæœ‰å„ä¸ªåšçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯èŒä½ï¼Œç ”ç©¶é¢†åŸŸï¼Œç§‘ç ”æˆæœä»‹ç»ç­‰ç­‰ ã€è·å–å‰né¡µå’Œå°¾é¡µï¼Œæ¨èæ˜¯2é¡µ+å°¾é¡µã€‘

è¿™æ ·åšçš„å¥½å¤„åœ¨äºä¸¤ä¸ªæ–¹é¢ï¼š

1.  èŠ‚çº¦äº†å­˜å‚¨ç©ºé—´å’Œæ•°æ®å¤„ç†æ—¶é—´
2.  èŠ‚çº¦èµ„æºæ¶ˆè€—ï¼Œåœ¨æ¨¡å‹é¢„æµ‹æ—¶å€™è¾“å…¥æ–‡æœ¬æ•°é‡æ˜¾è‘—å‡å°‘ï¼Œåœ¨æ•°æ®é¢ä¸ŠåŠ é€Ÿæ¨ç†

é’ˆå¯¹1ç®€å•é˜è¿°ï¼šPDFåŸå§‹å¤§å°614.1KB

å¤„ç†æ–¹å¼

pdfè½¬æ–‡å­—æ—¶å»¶

å­˜å‚¨å ç”¨ç©ºé—´

ä¿å­˜æŒ‡å®šå‰né¡µé¢æ–‡å­—

242ms

2.8KB

ä¿å­˜æŒ‡å®šå‰né¡µé¢æ–‡å­—å’Œå°¾é¡µ

328ms

5.3KB

ä¿å­˜å…¨æ–‡

2.704s

64.1KB

é’ˆå¯¹äºŒï¼šä»¥ä¸‹6ä¸­æ–¹æ¡ˆæé€Ÿä¸è¿‡å¤šèµ˜è¿°ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢é¡¹ç›®

*   æ¨¡å‹é€‰æ‹© uie-miniç­‰å°æ¨¡å‹é¢„æµ‹ï¼ŒæŸå¤±ä¸€å®šç²¾åº¦æå‡é¢„æµ‹æ•ˆç‡
*   UIEå®ç°äº†FastTokenizerè¿›è¡Œæ–‡æœ¬é¢„å¤„ç†åŠ é€Ÿ
*   fp16åŠç²¾åº¦æ¨ç†é€Ÿåº¦æ›´å¿«
*   UIE INT8 ç²¾åº¦æ¨ç†
*   UIE Slim æ•°æ®è’¸é¦
*   SimpleServingæ”¯æŒæ”¯æŒå¤šå¡è´Ÿè½½å‡è¡¡é¢„æµ‹

UIE Slimæ»¡è¶³å·¥ä¸šåº”ç”¨åœºæ™¯ï¼Œè§£å†³æ¨ç†éƒ¨ç½²è€—æ—¶é—®é¢˜ï¼Œæå‡æ•ˆèƒ½ï¼ï¼š[https://aistudio.baidu.com/aistudio/projectdetail/4516470?contributionType=1](https://aistudio.baidu.com/aistudio/projectdetail/4516470?contributionType=1)

ä¹‹åæœ‰æ—¶é—´é‡æ–°æŠŠpaddlenlpæŠ€æœ¯è·¯çº¿æ•´ç†ä¸€ä¸‹

    #ç¬¬ä¸€ç§å†™æ³•ï¼šä¿å­˜æŒ‡å®šå‰né¡µé¢æ–‡å­—
    with pdfplumber.open("/home/aistudio/work/input/test_paper.pdf") as p:
        for i in range(3):
            page = p.pages[i]
            textdata = page.extract_text()
            # print(textdata)
            data = open('/home/aistudio/work/input/text.txt',"a") #aè¡¨ç¤ºæŒ‡å®šå†™å…¥æ¨¡å¼ä¸ºè¿½åŠ å†™å…¥
            data.write(textdata)
    #è¿™é‡Œæ‰“å°å‡ºné¡µæ–‡å­—ï¼Œå› ä¸ºæ˜¯è¿½åŠ ä¿å­˜å†…å®¹æ˜¯n-1é¡µ
    
    #ç¬¬ä¸€ç§å†™æ³•ï¼šä¿å­˜æŒ‡å®šå‰né¡µé¢æ–‡å­—
    with pdfplumber.open("/home/aistudio/work/input/test_paper.pdf") as p:
        for i in range(3):
            page = p.pages[i]
            textdata = page.extract_text()
            # print(textdata)
            data = open('/home/aistudio/work/input/text.txt',"a") #aè¡¨ç¤ºæŒ‡å®šå†™å…¥æ¨¡å¼ä¸ºè¿½åŠ å†™å…¥
            data.write(textdata)
    #è¿™é‡Œæ‰“å°å‡ºné¡µæ–‡å­—ï¼Œå› ä¸ºæ˜¯è¿½åŠ ä¿å­˜å†…å®¹æ˜¯n-1é¡µ
    
    #ä¿å­˜æŒ‡å®šå‰né¡µé¢æ–‡å­—å’Œå°¾é¡µ
    pdf_path = "/home/aistudio/work/input/test_paper.pdf"
    pdf = ppl.open(pdf_path)
    texts = []
    
    # æŒ‰é¡µæ‰“å¼€ï¼Œåˆå¹¶æ‰€æœ‰å†…å®¹ï¼Œä¿ç•™å‰2é¡µ
    for i in range(2):
        text = pdf.pages[i].extract_text()
        texts.append(text)
    #ä¿ç•™æœ€åä¸€é¡µï¼Œindexä»0å¼€å§‹
    end_num=len(pdf.pages)
    text_end=pdf.pages[end_num-1].extract_text()
    texts.append(text_end)
    txt_string = ''.join(texts)
    
    # ä¿å­˜ä¸ºå’ŒåŸPDFåŒåçš„txtæ–‡ä»¶
    txt_path = pdf_path.split('.')[0]+"_end" + '.txt'
    with open(txt_path, "w", encoding='utf-8') as f:
        f.write(txt_string)
        f.close()
    
    #ä¿ç•™å…¨éƒ¨æ–‡ç« ï¼š
    pdf_path = "/home/aistudio/work/input/test_paper.pdf"
    pdf = ppl.open(pdf_path)
    texts = []
    
    # æŒ‰é¡µæ‰“å¼€ï¼Œåˆå¹¶æ‰€æœ‰å†…å®¹ï¼Œå¯¹äºå¤šé¡µæˆ–ä¸€é¡µPDFéƒ½å¯ä»¥ä½¿ç”¨
    for page in pdf.pages:
        text = page.extract_text()
        texts.append(text)
    txt_string = ''.join(texts)
    
    # ä¿å­˜ä¸ºå’ŒåŸPDFåŒåçš„txtæ–‡ä»¶
    txt_path = pdf_path.split('.')[0] +"_all"+'.txt'
    with open(txt_path, "w", encoding='utf-8') as f:
        f.write(txt_string)
        f.close()
    
    #ä»txtä¸­è¯»å–æ–‡æœ¬ï¼Œä½œä¸ºä¿¡æ¯æŠ½å–çš„è¾“å…¥ã€‚å¯¹äºæ¯”è¾ƒé•¿çš„æ–‡æœ¬ï¼Œå¯èƒ½éœ€è¦äººå·¥çš„è®¾å®šä¸€äº›åˆ†å‰²å…³é”®è¯ï¼Œåˆ†æ®µè¾“å…¥ä»¥æå‡æŠ½å–çš„æ•ˆæœã€‚
    txt_path="/home/aistudio/work/input/test_paper2.txt"
    with open(txt_path, 'r') as f:
        file_data = f.readlines()
    record = ''
    for data in file_data:
        record += data
    print(record)
    
    

2.2 UIEä¿¡æ¯æŠ½å–ï¼ˆè®ºæ–‡ä½œè€…å’Œé‚®ç®±ï¼‰
--------------------

### 2.2.1 é›¶æ ·æœ¬æŠ½å–

    from pprint import pprint
    import json
    from paddlenlp import Taskflow
    
    def openreadtxt(file_name):
        data = []
        file = open(file_name,'r',encoding='UTF-8')  #æ‰“å¼€æ–‡ä»¶
        file_data = file.readlines() #è¯»å–æ‰€æœ‰è¡Œ
        for row in file_data:
            data.append(row) #å°†æ¯è¡Œæ•°æ®æ’å…¥dataä¸­     
        return data
    
    data_input=openreadtxt('/home/aistudio/work/input/test_paper2.txt')
    
    schema = ['äººå', 'email']
    few_ie = Taskflow('information_extraction', schema=schema, batch_size=16)
    
    results=few_ie(data_input)
    print(results)
    
    with open("./output/reslut_2.txt", "w+",encoding='UTF-8') as f:    #a :   å†™å…¥æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå…ˆåˆ›å»ºå†å†™å…¥ï¼Œä½†ä¸ä¼šè¦†ç›–åŸæ–‡ä»¶ï¼Œè€Œæ˜¯è¿½åŠ åœ¨æ–‡ä»¶æœ«å°¾
        for result in results:
            line = json.dumps(result, ensure_ascii=False)  #å¯¹ä¸­æ–‡é»˜è®¤ä½¿ç”¨çš„asciiç¼–ç .æƒ³è¾“å‡ºçœŸæ­£çš„ä¸­æ–‡éœ€è¦æŒ‡å®šensure_ascii=False
            f.write(line + "\n")
    
    print("æ•°æ®ç»“æœå·²å¯¼å‡º")
    
    

2.3é•¿æ–‡æœ¬çš„ç­”æ¡ˆè·å–
-----------

UIEå¯¹äºè¯å’Œå¥å­çš„æŠ½å–æ•ˆæœæ¯”è¾ƒå¥½ï¼Œä½†æ˜¯å¯¹åº”å¤§æ®µçš„æ–‡å­—ç»“æœï¼Œè¿˜æ˜¯éœ€è¦ä¼ ç»Ÿçš„æ­£åˆ™æ–¹å¼ä½œä¸ºé…åˆï¼Œåœ¨æœ¬æ¬¡ä½¿ç”¨çš„pdfä¸­ï¼Œè¿˜éœ€è¦è·å¾—æ³•é™¢å…·ä½“çš„åˆ¤å†³ç»“æœï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯çµæ´»åŒ¹é…æƒ³è¦çš„ç»“æœã€‚

    start_word = 'å¦‚ä¸‹'
    end_word = 'ç‰¹æ­¤å…¬å‘Š'
    
    start = re.search(start_word, record)
    end = re.search(end_word, record)
    print(record[start.span()[1]:end.span()[0]])
    
    ï¼š 
    æµ·å£ä¸­é™¢è®¤ä¸ºï¼šæ–°è¾¾å…¬å¸çš„ä½æ‰€åœ°åœ¨æµ·å£å¸‚å›½è´¸å¤§é“ 48
    å·æ–°è¾¾å•†åŠ¡å¤§å¦ï¼Œè¯¥å¸æ˜¯ç”±æµ·å—çœå·¥å•†è¡Œæ”¿ç®¡ç†å±€æ ¸å‡†ç™»è®°
    çš„ä¼ä¸šï¼Œæ•…æµ·å£ä¸­é™¢å¯¹æœ¬æ¡ˆæœ‰ç®¡è¾–æƒã€‚å› æ–°è¾¾å…¬å¸ä¸èƒ½æ¸…å¿
    åˆ°æœŸå€ºåŠ¡ï¼Œæ•…æ·±ç‰©ä¸šè‚¡ä»½å…¬å¸æå‡ºå¯¹æ–°è¾¾å…¬å¸è¿›è¡Œç ´äº§æ¸…ç®—
      1  
    çš„ç”³è¯·ç¬¦åˆå—ç†æ¡ä»¶ã€‚ä¾ç…§ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¼ä¸šç ´äº§æ³•ã€‹
    ç¬¬äºŒæ¡ç¬¬ä¸€æ¬¾ã€ç¬¬ä¸‰æ¡ã€ç¬¬ä¸ƒæ¡ç¬¬äºŒæ¬¾ä¹‹è§„å®šï¼Œè£å®šå¦‚ä¸‹ï¼š 
    å—ç†ç”³è¯·äººæ·±åœ³å¸‚ç‰©ä¸šå‘å±•ï¼ˆé›†å›¢ï¼‰è‚¡ä»½æœ‰é™å…¬å¸å¯¹è¢«
    ç”³è¯·äººæµ·å—æ–°è¾¾å¼€å‘æ€»å…¬å¸ç ´äº§æ¸…ç®—çš„ç”³è¯·ã€‚ 
    æœ¬è£å®šè‡ªå³æ—¥èµ·ç”Ÿæ•ˆã€‚ 
    äºŒã€å…¶ä»–æƒ…å†µ 
    æœ¬å…¬å¸å·²å¯¹æµ·å—å…¬å¸è´¦åŠ¡è¿›è¡Œäº†å…¨é¢è®¡æï¼Œç ´äº§æ¸…ç®—å¯¹
    æœ¬å…¬å¸è´¢åŠ¡çŠ¶å†µæ— å½±å“ã€‚ 
    å…·ä½“æƒ…å†µè¯·æŸ¥é˜…æœ¬å…¬å¸2011å¹´11æœˆ28æ—¥å‘å¸ƒçš„ã€Šè‘£äº‹ä¼š
    å†³è®®å…¬å‘Šã€‹ã€‚ 
    

2.4æ­£åˆ™æå‡æ•ˆæœ
---------

å¯¹äºé•¿æ–‡æœ¬ï¼Œå¯ä»¥æ ¹æ®å…³é”®è¯è¿›è¡Œåˆ†å‰²åæŠ½å–ï¼Œä½†æ˜¯å¯¹äºå¤šä¸ªå®ä½“ï¼Œæ¯”å¦‚è¿™ç¯‡å…¬å‘Šä¸­ï¼Œé€šè¿‡çš„å¤šä¸ªè®®æ¡ˆï¼Œå°±æ— æ³•ä½¿ç”¨UIEæŠ½å–ã€‚

    # å¯¼å…¥æ­£åˆ™è¡¨è¾¾å¼ç›¸å…³åº“
    import re 
    schema = ['é€šè¿‡è®®æ¡ˆ']
    start_word = 'é€šè¿‡ä»¥ä¸‹è®®æ¡ˆ'
    start = re.search(start_word, record)
    input_data = record[start.span()[0]:]
    print(input_data)
    ie = Taskflow('information_extraction', schema=schema)
    pprint(ie(input_data))
    
    # æ­£åˆ™åŒ¹é…â€œä¸€ äºŒ ä¸‰ å›› äº” å…­ ä¸ƒ å…« ä¹ åâ€ 
    print(re.findall(r"[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341]ã€.*\n", input_data))
    
    ['ä¸€ã€2021 å¹´ç¬¬ä¸‰å­£åº¦æŠ¥å‘Š \n', 'äºŒã€å…³äºåŒæ„å…¨èµ„å­å…¬å¸æ”¶è´­æ‹…ä¿å…¬å¸ 60%è‚¡æƒçš„è®®æ¡ˆ è¯¦è§å…¬å¸äº 2021 å¹´ 10 æœˆ 29 æ—¥åˆŠç™»åœ¨ã€Šè¯åˆ¸æ—¶æŠ¥ã€‹ã€ã€Šä¸­å›½è¯åˆ¸\n', 'ä¸‰ã€å…³äºåŒæ„æ§è‚¡å­å…¬å¸å¹¿è¥¿æ–°æŸ³é‚•å…¬å¸ä¸ºè®¤è´­å¹¿è¥¿æ–°æŸ³é‚•é¡¹\n', 'å››ã€å…³äºç»­è˜ä¼šè®¡å¸ˆäº‹åŠ¡æ‰€çš„è®®æ¡ˆ \n', 'äº”ã€å…³äºå‘é“¶è¡Œç”³è¯·ç»¼åˆæˆä¿¡é¢åº¦çš„è®®æ¡ˆ \n', 'ä¸€ã€å‘ä¸­å›½æ°‘ç”Ÿé“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸æ·±åœ³åˆ†è¡Œç”³è¯·ä¸è¶…è¿‡äººæ°‘å¸ 5\n', 'äºŒã€å‘æ‹›å•†é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸æ·±åœ³åˆ†è¡Œç”³è¯·ä¸è¶…è¿‡äººæ°‘å¸ 6 äº¿\n', 'å…­ã€ç»ç†å±‚ã€Šå²—ä½è˜ä»»åè®®ã€‹ \n', 'ä¸ƒã€ç»ç†å±‚ã€Šå¹´åº¦ç»è¥ä¸šç»©è´£ä»»ä¹¦ã€‹ \n', 'å…«ã€ç»ç†å±‚ã€Šä»»æœŸç»è¥ä¸šç»©è´£ä»»ä¹¦ã€‹ \n', 'ä¹ã€å…³äºæš‚ä¸å¬å¼€è‚¡ä¸œå¤§ä¼šçš„è®®æ¡ˆ \n']
    
    

    # 3.åŸºäºåŸºäºUIE-Xçš„ä¿¡æ¯æå–
    
    ## 3.1 è·¨æ¨¡æ€æ–‡æ¡£ä¿¡æ¯æŠ½å–
    
    è·¨æ¨¡æ€æ–‡æ¡£ä¿¡æ¯æŠ½å–èƒ½åŠ› UIE-X æ¥äº†ã€‚ ä¿¡æ¯æŠ½å–ç®€å•è¯´å°±æ˜¯åˆ©ç”¨è®¡ç®—æœºä»è‡ªç„¶è¯­è¨€æ–‡æœ¬ä¸­æå–å‡ºæ ¸å¿ƒä¿¡æ¯ï¼Œæ˜¯è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸçš„ä¸€é¡¹å…³é”®ä»»åŠ¡ï¼ŒåŒ…æ‹¬å‘½åå®ä½“è¯†åˆ«ï¼ˆä¹Ÿç§°å®ä½“æŠ½å–ï¼‰ã€å…³ç³»æŠ½å–ã€äº‹ä»¶æŠ½å–ç­‰ã€‚ä¼ ç»Ÿä¿¡æ¯æŠ½å–æ–¹æ¡ˆåŸºäºåºåˆ—æ ‡æ³¨ï¼Œéœ€è¦å¤§é‡æ ‡æ³¨è¯­æ–™æ‰èƒ½è·å¾—è¾ƒå¥½çš„æ•ˆæœã€‚2022å¹´5æœˆé£æ¡¨ PaddleNLP æ¨å‡ºçš„ UIEï¼Œæ˜¯ä¸šç•Œé¦–ä¸ªå¼€æºçš„é¢å‘é€šç”¨ä¿¡æ¯æŠ½å–çš„äº§ä¸šçº§æŠ€æœ¯æ–¹æ¡ˆ ï¼ŒåŸºäº Prompt æ€æƒ³ï¼Œé›¶æ ·æœ¬å’Œå°æ ·æœ¬èƒ½åŠ›å¼ºå¤§ï¼Œå·²ç»æˆä¸ºä¸šç•Œä¿¡æ¯æŠ½å–ä»»åŠ¡ä¸Šçš„é¦–é€‰æ–¹æ¡ˆã€‚
    
    é™¤äº†çº¯æ–‡æœ¬å†…å®¹å¤–ï¼Œä¼ä¸šä¸­è¿˜å­˜åœ¨å¤§é‡éœ€è¦ä»è·¨æ¨¡æ€æ–‡æ¡£ä¸­æŠ½å–ä¿¡æ¯å¹¶è¿›è¡Œå¤„ç†çš„ä¸šåŠ¡åœºæ™¯ï¼Œä¾‹å¦‚ä»åˆåŒã€æ”¶æ®ã€æŠ¥é”€å•ã€ç—…å†ç­‰ä¸åŒç±»å‹çš„æ–‡æ¡£ä¸­æŠ½å–æ‰€éœ€å­—æ®µï¼Œè¿›è¡Œå½•å…¥ã€æ¯”å¯¹ã€å®¡æ ¸æ ¡å‡†ç­‰æ“ä½œã€‚ä¸ºäº†æ»¡è¶³å„è¡Œä¸šçš„è·¨æ¨¡æ€æ–‡æ¡£ä¿¡æ¯æŠ½å–éœ€æ±‚ï¼ŒPaddleNLP åŸºäºæ–‡å¿ƒERNIE-Layout[1]è·¨æ¨¡æ€å¸ƒå±€å¢å¼ºé¢„è®­ç»ƒæ¨¡å‹ï¼Œé›†æˆPaddleOCRçš„PP-OCRã€PP-Structureç‰ˆé¢åˆ†æç­‰é¢†å…ˆèƒ½åŠ›ï¼ŒåŸºäºå¤§é‡ä¿¡æ¯æŠ½å–æ ‡æ³¨é›†ï¼Œè®­ç»ƒå¹¶å¼€æºäº†UIE-Xâ€“â€“â€“é¦–ä¸ªå…¼å…·æ–‡æœ¬åŠæ–‡æ¡£æŠ½å–èƒ½åŠ›ã€å¤šè¯­è¨€ã€å¼€æ”¾åŸŸçš„ä¿¡æ¯æŠ½å–æ¨¡å‹ã€‚
    
    * æ”¯æŒå®ä½“æŠ½å–ã€å…³ç³»æŠ½å–ã€è·¨ä»»åŠ¡æŠ½å–
    * æ”¯æŒè·¨è¯­è¨€æŠ½å–
    * é›†æˆPP-OCRï¼Œå¯çµæ´»å®šåˆ¶OCRç»“æœ
    * ä½¿ç”¨PP-Structureç‰ˆé¢åˆ†æåŠŸèƒ½
    * å¢åŠ æ¸²æŸ“æ¨¡å—ï¼ŒOCRå’Œä¿¡æ¯æŠ½å–ç»“æœå¯è§†åŒ–
    
    é¡¹ç›®é“¾æ¥ï¼š
    [https://aistudio.baidu.com/aistudio/projectdetail/5017442](https://aistudio.baidu.com/aistudio/projectdetail/5017442)
    
    ## 3.2 äº§ä¸šå®è·µåˆ†äº«ï¼šåŸºäºUIE-Xçš„åŒ»ç–—æ–‡æ¡£ä¿¡æ¯æå–
    
    PaddleNLPå…¨æ–°å‘å¸ƒUIE-X ğŸ§¾ï¼Œé™¤å·²æœ‰çº¯æ–‡æœ¬æŠ½å–çš„å…¨éƒ¨åŠŸèƒ½å¤–ï¼Œæ–°å¢æ–‡æ¡£æŠ½å–èƒ½åŠ›ã€‚
    
    UIE-Xå»¶ç»­UIEçš„æ€è·¯ï¼ŒåŸºäºè·¨æ¨¡æ€å¸ƒå±€å¢å¼ºé¢„è®­ç»ƒæ¨¡å‹æ–‡å¿ƒERNIE-Layouté‡è®­æ¨¡å‹ï¼Œèåˆæ–‡æœ¬ã€å›¾åƒã€å¸ƒå±€ç­‰ä¿¡æ¯è¿›è¡Œè”åˆå»ºæ¨¡ï¼Œèƒ½å¤Ÿæ·±åº¦ç†è§£å¤šæ¨¡æ€æ–‡æ¡£ã€‚åŸºäºPromptæ€æƒ³ï¼Œå®ç°å¼€æ”¾åŸŸä¿¡æ¯æŠ½å–ï¼Œæ”¯æŒé›¶æ ·æœ¬æŠ½å–ï¼Œå°æ ·æœ¬èƒ½åŠ›é¢†å…ˆã€‚
    
    å®˜ç½‘é“¾æ¥ï¼šhttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/applications/information_extraction
    
    æœ¬æ¡ˆä¾‹ä¸ºUIE-Xåœ¨åŒ»ç–—é¢†åŸŸçš„å®æˆ˜ï¼Œé€šè¿‡å°‘é‡æ ‡æ³¨+æ¨¡å‹å¾®è°ƒå³å¯å…·å¤‡å®šåˆ¶åœºæ™¯çš„ç«¯åˆ°ç«¯æ–‡æ¡£ä¿¡æ¯æå–
    
    ç›®å‰åŒ»ç–—é¢†åŸŸæœ‰å¤§é‡çš„åŒ»å­¦æ£€æŸ¥æŠ¥å‘Šå•ï¼Œç—…å†ï¼Œå‘ç¥¨ï¼ŒCTå½±åƒï¼Œçœ¼ç§‘ç­‰ç­‰çš„åŒ»ç–—å›¾ç‰‡æ•°æ®ã€‚ç°é˜¶æ®µï¼Œé’ˆå¯¹è¿™äº›å›¾ç‰‡éƒ½æ˜¯é äººå·¥åˆ†ç±»ï¼Œç»“æ„åŒ–å½•å…¥ç³»ç»Ÿä¸­ï¼Œåšæ‚£è€…çš„å…¨ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ã€‚ è€—æ—¶è€—åŠ›ï¼Œäººå·¥æˆæœ¬æå¤§ã€‚å¦‚æœèƒ½é äººå·¥æ™ºèƒ½çš„æŠ€æœ¯åšåˆ°å›¾ç‰‡çš„è‡ªåŠ¨åˆ†ç±»å’Œç»“æ„åŒ–ï¼Œå°†å¤§å¤§çš„é™ä½æˆæœ¬ï¼Œæé«˜ç³»ç»Ÿå½•å…¥çš„æ•´ä½“æ•ˆç‡ã€‚
    
    é¡¹ç›®é“¾æ¥ï¼š
    [https://aistudio.baidu.com/aistudio/projectdetail/5261592](https://aistudio.baidu.com/aistudio/projectdetail/5261592)
    
    

4.æ€»ç»“
====

æœ¬é¡¹ç›®æä¾›äº†åŸºäºERNIELayout&PDFplumber-UIEXå¤šæ–¹æ¡ˆå­¦æœ¯è®ºæ–‡ä¿¡æ¯æŠ½å–ï¼Œæœ‰å…´è¶£åŒå­¦å¯ä»¥ç ”ç©¶ä¸€ä¸‹UIE-Xã€‚

UIE-Xå»¶ç»­UIEçš„æ€è·¯ï¼ŒåŸºäºè·¨æ¨¡æ€å¸ƒå±€å¢å¼ºé¢„è®­ç»ƒæ¨¡å‹æ–‡å¿ƒERNIE-Layouté‡è®­æ¨¡å‹ï¼Œèåˆæ–‡æœ¬ã€å›¾åƒã€å¸ƒå±€ç­‰ä¿¡æ¯è¿›è¡Œè”åˆå»ºæ¨¡ï¼Œèƒ½å¤Ÿæ·±åº¦ç†è§£å¤šæ¨¡æ€æ–‡æ¡£ã€‚åŸºäºPromptæ€æƒ³ï¼Œå®ç°å¼€æ”¾åŸŸä¿¡æ¯æŠ½å–ï¼Œæ”¯æŒé›¶æ ·æœ¬æŠ½å–ï¼Œå°æ ·æœ¬èƒ½åŠ›é¢†å…ˆ.