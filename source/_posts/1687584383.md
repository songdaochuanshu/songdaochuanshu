---
layout: post
title: "001_iBase4Jå­¦ä¹ ä¹‹ç¯å¢ƒæ­å»º"
date: "2022-04-14T21:16:55.545Z"
---
001\_iBase4Jå­¦ä¹ ä¹‹ç¯å¢ƒæ­å»º
===================

![001_iBase4Jå­¦ä¹ ä¹‹ç¯å¢ƒæ­å»º](https://img2022.cnblogs.com/blog/1640839/202204/1640839-20220414162320244-332899951.png) å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ é¡ºåˆ©å¯åŠ¨ iBase4J è¿™ä¸ªæ¡†æ¶ï¼Œè§£å†³æ‚ä¸ƒæ‚å…«çš„æŠ¥é”™ï¼Œæ¯”å¦‚308é”™è¯¯çš„è¯·æ±‚å¤´ä¿¡æ¯ä¹‹ç±»çš„ã€‚

![iBase4J](https://s2.loli.net/2022/04/14/K1icwJHAvjMdaBy.png)

ç›®å½•

*   [åºè¨€](#åºè¨€)
*   [æ­£æ–‡](#æ­£æ–‡)
    *   [ç¬¬ä¸€å…³ã€æ‹‰å–é¡¹ç›®](#ç¬¬ä¸€å…³æ‹‰å–é¡¹ç›®)
    *   [ç¬¬äºŒå…³ã€å¯¼å…¥æ•°æ®åº“](#ç¬¬äºŒå…³å¯¼å…¥æ•°æ®åº“)
    *   [ç¬¬ä¸‰å…³ã€ä¿®æ”¹ JDBC é…ç½®æ–‡ä»¶](#ç¬¬ä¸‰å…³ä¿®æ”¹-jdbc-é…ç½®æ–‡ä»¶)
    *   [ç¬¬å››å…³ã€ç¯å¢ƒæ­å»ºï¼Œä¿®æ”¹ nginx è®¾ç½®](#ç¬¬å››å…³ç¯å¢ƒæ­å»ºä¿®æ”¹-nginx-è®¾ç½®)
    *   [ç¬¬äº”å…³ã€æ·»åŠ åœ°å€ç™½åå•](#ç¬¬äº”å…³æ·»åŠ åœ°å€ç™½åå•)
*   [å°¾å£°](#å°¾å£°)

åºè¨€
==

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç™½å¢¨ï¼

æœ¬æ¬¡çš„ç›®æ ‡æ˜¯å­¦ä¹  iBase4J è¿™ä¸ªæ¡†æ¶ï¼Œå…ˆè´´ä¸€ä¸ªå®˜æ–¹çš„ä»‹ç»ï¼š

> *   iBase4Jæ˜¯Javaè¯­è¨€çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ã€‚ ä½¿ç”¨Springæ•´åˆå¼€æºæ¡†æ¶ã€‚
> *   ä½¿ç”¨Mavenå¯¹é¡¹ç›®è¿›è¡Œæ¨¡å—åŒ–ç®¡ç†ï¼Œæé«˜é¡¹ç›®çš„æ˜“å¼€å‘æ€§ã€æ‰©å±•æ€§ã€‚
> *   ç³»ç»ŸåŒ…æ‹¬4ä¸ªå­ç³»ç»Ÿï¼šç³»ç»Ÿç®¡ç†Serviceã€ç³»ç»Ÿç®¡ç†Webã€ä¸šåŠ¡Serviceã€ä¸šåŠ¡Webã€‚
> *   ç³»ç»Ÿç®¡ç†ï¼šåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€æƒé™ç®¡ç†ã€æ•°æ®å­—å…¸ã€ç³»ç»Ÿå‚æ•°ç®¡ç†ç­‰ç­‰ã€‚
> *   ä¸šåŠ¡ç›¸å…³ï¼šæ‚¨çš„ä¸šåŠ¡å¼€å‘ã€‚
> *   å¯ä»¥æ— é™çš„æ‰©å±•å­ç³»ç»Ÿï¼Œå­ç³»ç»Ÿä¹‹é—´ä½¿ç”¨Dubboæˆ–MQè¿›è¡Œé€šä¿¡ã€‚

æˆ‘å…ˆè·Ÿç€ç½‘ä¸Šæ‰¾çš„ä¸€ç¯‡æ•™ç¨‹ [\[1\]](#fn1) èµ°äº†ä¸€éã€‚

ä½†æ•™ç¨‹è¿‡æ—¶ï¼Œæœ‰äº›åœ°æ–¹èµ°ä¸é€šï¼Œç„¶åå†è‡ªè¡Œç ”ç©¶ä¿®æ”¹ï¼Œæ‰€ä»¥æœ‰äº†æœ¬æ–‡ï¼Œå»ºè®®è¯»æœ¬æ–‡å‰å…ˆçœ‹çœ‹åŸæ•™ç¨‹ï¼Œé”™äº†ä¹Ÿæ²¡å…³ç³»ã€‚

åŸæ•™ç¨‹åœ°å€ï¼š [https://blog.csdn.net/u011781521/article/details/79022363](https://blog.csdn.net/u011781521/article/details/79022363)

ä¸»è¦æ˜¯è¿™ä¸ªé¡¹ç›®æ²¡æœ‰å®˜æ–¹çš„æ–‡æ¡£ï¼Œæ®è¯´å®˜æ–¹æ–‡æ¡£æ˜¯ä»˜è´¹è¿›Qç¾¤æ‰èƒ½è·å–ï¼Œè€Œä¸”ç°åœ¨ç¾¤åˆæ˜¯æ»¡çš„ï¼Œéš¾å—ã€‚

æ¥äººï¼Œç»™ä½œè€…ç»­è´¹ä¸ªå¹´è´¹è¶…ä¼šï¼

![image-20220412095838491](https://s2.loli.net/2022/04/14/bGgz7ZJD2kxwh4T.png)

æ­£æ–‡
==

ç¬¬ä¸€å…³ã€æ‹‰å–é¡¹ç›®
--------

é¡¹ç›®æºç åœ°å€ï¼š[https://gitee.com/iBase4J/iBase4J](https://gitee.com/iBase4J/iBase4J) ï¼Œç›´æ¥ç”¨ Git æ‹‰å–å°±è¡Œäº†ã€‚

ä¸ä¼šçš„è¯è¿›å…¥é¡µé¢æ‰‹åŠ¨ä¸‹è½½å§â€¦â€¦

å½“ç„¶ï¼Œæˆ‘è¿™ä¹Ÿæœ‰ä¸€æ¡é¾™æœåŠ¡ï¼Œä¿æ‚¨æ»¡æ„ï¼š [æ‰‹æŠŠæ‰‹æ•™ä½ IDEAè¿æ¥ç äº‘(Gitee)](https://www.cnblogs.com/baimoo/p/gitee.html)ã€‚

ç¬¬äºŒå…³ã€å¯¼å…¥æ•°æ®åº“
---------

ä½¿ç”¨çš„æ•°æ®åº“ç‰ˆæœ¬ä¸º MySQL8.0+ã€‚

![image-20220411153006012](https://s2.loli.net/2022/04/14/f4c6NUsqkwKbtSJ.png)

å¯¼å…¥ä»¥åç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![image-20220412100946941](https://s2.loli.net/2022/04/14/z7rhWSg5esj8RHk.png)

> é‚£ä¸ª ibase4j\_biz çš„æ•°æ®åº“ä¹Ÿæ˜¯ sql è¯­å¥ç”Ÿæˆçš„ï¼Œé‡Œé¢å•¥ä¹Ÿæ²¡æœ‰ï¼Œä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰ç”¨ï¼Œæš‚æ—¶æ²¡å»ç®¡å®ƒã€‚

ç¬¬ä¸‰å…³ã€ä¿®æ”¹ JDBC é…ç½®æ–‡ä»¶
----------------

ä¿®æ”¹ **ä¸¤ä¸ª Service æ¨¡å—** ä¸‹çš„ `jdbc.properties` é…ç½®æ–‡ä»¶ï¼Œå¼€å‘ã€ç”Ÿäº§ã€æµ‹è¯•ç¯å¢ƒåŠ èµ·æ¥ä¸€å…±æœ‰ 6 ä¸ªï¼Œä¸€è‚¡è„‘å…¨æ”¹äº†ã€‚

![image-20220411155859798](https://s2.loli.net/2022/04/14/c5wbpuyFfrhBW6q.png)

å…¶ä¸­å¯†ç æ˜¯é€šè¿‡è°ƒç”¨æ–¹æ³•è·å¾— `top.ibase4j.core.util.SecurityUtil.encryptDes(String password,byty[] key)` ï¼Œ

éšä¾¿æ‰¾ä¸ª main æ–¹æ³•è°ƒç”¨ååœ¨æ§åˆ¶å°è¾“å‡ºå³å¯è·å¾—ã€‚

> æ­¤å¤„ä¸ç½‘ç»œä¸Šçš„æ•™ç¨‹ä¸åŒï¼Œå¡äº†æˆ‘åŠå¤©ã€‚

å…·ä½“è°ƒç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

    System.err.println(SecurityUtil.encryptDes("root",new byte[]{57,48,49,51,57,49,49,57}));
    

å…¶ä¸­æ•°ç»„ `key` æ˜¯æˆ‘é€šè¿‡ `debug` æ—¶è§‚å¯Ÿè§£å¯†æ–¹æ³•ä¼ å…¥çš„å‚è·å¾—çš„ã€‚

![image-20220411160124426](https://s2.loli.net/2022/04/14/lRQ1PJ6OmeVfGas.png)

æˆ‘çš„å¯†ç æ˜¯ `root` ï¼ŒåŠ å¯†åä¸º `M1XaoOiy+J7=` ï¼Œ

å¦‚æœä½ çš„ä¹Ÿæ˜¯ï¼Œå¯ä»¥å…ˆè¯•è¯•èƒ½ä¸èƒ½ç›´æ¥ç”¨â€¦

ç¬¬å››å…³ã€ç¯å¢ƒæ­å»ºï¼Œä¿®æ”¹ nginx è®¾ç½®
--------------------

ç¯å¢ƒæœ‰ä¸€å †ï¼Œå…¨æ˜¯ Windows çš„ï¼Œæˆ‘çš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š

    apache-activemq-5.13.2
    apache-zookeeper-3.6.2-bin
    nginx-1.9.12
    Redis-x64-3.0.504
    

æ‰“äº†ä¸ªåŒ…ï¼Œæˆ‘è¿™å¥—ç¯å¢ƒçš„åœ°å€ï¼š [https://baimoo.lanzouh.com/isNdG036arwj](https://baimoo.lanzouh.com/isNdG036arwj) å¯†ç : `baimo`

å¼€å¤´æåˆ°çš„ã€åŸæ•™ç¨‹ã€‘é‡Œé¢ä¹Ÿåˆ†äº«äº†ä¸€å¥—ç¯å¢ƒï¼Œåœ¨è¿™ï¼š [https://baimoo.lanzouh.com/iF3cS036atuj](https://baimoo.lanzouh.com/iF3cS036atuj) å¯†ç : `baimo`

æ¥ä¸‹æ¥ä¿®æ”¹ nginx è®¾ç½®ï¼Œé…ç½®è·¯å¾„åœ¨ `nginx-1.9.12\conf\nginx.conf` ï¼Œå¦‚ä¸‹å›¾ï¼Œroot åé¢å¡«é™æ€é¡µé¢çš„è·¯å¾„ï¼Œ

ç½‘ä¸Šå…¬å¼€çš„æ•™ç¨‹éƒ½æ²¡æœ‰å†™åˆ° `src` è¿™ä¸€çº§ç›®å½•ï¼Œåº”è¯¥æ˜¯å½“æ—¶ä½œè€…è¿˜æ²¡æœ‰ä¿®æ”¹æ–‡ä»¶ä½ç½®å§ã€‚

> æ­¤å¤„ä¸ç½‘ç»œä¸Šçš„æ•™ç¨‹ä¸åŒï¼Œå¡äº†æˆ‘ä¸€å¤©ï¼Œä¸€ç›´åœ¨æŠ¥ 403ï¼

æ²¡å­¦è¿‡ nginx ï¼Œå§‘ä¸”çŒœæµ‹ç«¯å£å·å°±æ˜¯æœåŠ¡å™¨ç«¯çš„ç«¯å£å§ï¼Œæ‰€ä»¥æˆ‘å¡«äº† `127.0.0.1:8088` ã€‚

![image-20220411154353334](https://s2.loli.net/2022/04/14/piZEW3R8Cavry5w.png)

å…¶ä»–æ²¡ä»€ä¹ˆæ”¹åŠ¨ï¼Œåˆ†åˆ«å¯åŠ¨å³å¯ï¼ˆæœ€å¥½ç”¨ç®¡ç†å‘˜æ¨¡å¼ï¼‰ï¼Œè·¯å¾„å¦‚ä¸‹ï¼š

    apache-activemq-5.13.2\bin\win64\activemq.bat
    apache-zookeeper-3.6.2-bin\bin\zkServer.cmd
    Redis-x64-3.0.504\redis-server.exe
    nginx-1.9.12\nginx.batï¼ˆ<---éœ€è¦æ”¹ä¸€ä¸‹é‡Œé¢çš„å¯åŠ¨è·¯å¾„ï¼‰
    

ç¬¬äº”å…³ã€æ·»åŠ åœ°å€ç™½åå•
-----------

ä¸€åˆ‡æå¥½ä»¥åï¼Œåˆ†åˆ«å¯åŠ¨æ¨¡å— `iBase4J-SYS-Service` å’Œ `iBase4J-SYS-Web` ï¼Œ

ç„¶åè¿›å…¥ [http://127.0.0.1](http://127.0.0.1) ç»ˆäºæ‰“å¼€äº†ç™»å½•é¡µé¢ã€‚

å¯æ˜¯ç™»å½•æ—¶åˆè¿”å›äº† `308` é”™è¯¯ï¼Œåå°æŠ¥äº†ä¸ªè·¨ç«™è¯·æ±‚ï¼Œå¯æˆ‘æ‰€æœ‰ç¯å¢ƒéƒ½åœ¨æœ¬æœºã€‚

> è´¦å¯†ï¼š `admin/111111`

![image-20220411160641787](https://s2.loli.net/2022/04/14/Sr9oeHwFELv31nB.png)

![image-20220411161627505](https://s2.loli.net/2022/04/14/r3ibXABWOQk72Kx.png)

é€šè¿‡æœç´¢ [\[2\]](#fn2) ã€ debug æ’æŸ¥å‘ç°æœ‰ä¸ªåœ°å€ç™½åå•ã€‚

åœ¨ç±» `top.ibase4j.core.filter.CsrfFilter` é‡Œé¢æœ‰ä¸ª `whiteUrls` æ•°ç»„ï¼Œ

å€¼æ˜¯é€šè¿‡è¯»å–æ–‡ä»¶ `white/csrfWhite.txt` è·å–çš„ã€‚

![image-20220411161931290](https://s2.loli.net/2022/04/14/6CtkAjoNdmvY5gV.png)

é‚£ä¹ˆï¼Œæ‰¾åˆ°æ–‡ä»¶ï¼Œåœ¨ iBase4J-SYS-Web æ¨¡å—ä¸‹ï¼Œ `iBase4J-SYS-Web/src/main/resources/white/csrfWhite.txt` ã€‚

![image-20220411163049827](https://s2.loli.net/2022/04/14/XuE8jqJfkiTLmZs.png)

å¥½å®¶ä¼™ï¼Œä¸€ä¸ªéƒ½æ²¡æœ‰ï¼Œéš¾æ€ª size ä¸º 0ï¼Œæ°¸è¿œä¹Ÿç™»å½•ä¸äº†ã€‚

æŠŠæœ¬æœºåœ°å€åŠ è¿›å»ï¼Œç„¶åé‡å¯æ¨¡å— `iBase4J-SYS-Web` ã€‚

    http://127.0.0.1
    http://localhost/
    

å†æ¬¡è¿›å…¥ç™»å½•é¡µé¢ [http://127.0.0.1](http://127.0.0.1) ï¼Œè¾“å…¥ `admin/111111` ï¼Œç™»å½•æˆåŠŸã€‚

![image-20220411173418349](https://s2.loli.net/2022/04/14/1ZuKavoStNOBrWn.png)

> ä¸€å¼€å§‹æ²¡æœ‰ç™»å½•æˆåŠŸï¼Œä»¥ä¸ºæ˜¯å¯†ç é”™äº†ï¼Œ debug æ‰¾äº†åå‡ åˆ†é’Ÿçš„è®¤è¯æ–¹æ³•ï¼Œç»“æœå•¥ä¹Ÿæ²¡æ”¹ï¼Œçªç„¶åˆç™»å½•æˆåŠŸäº†ï¼Œè«åå…¶å¦™çš„ã€‚åŒäº‹è¯´å¯èƒ½æ˜¯ Redis ç¼“å­˜çš„é—®é¢˜ã€‚

å›¾ç‰‡æ˜¾ç¤ºæœ‰ç‚¹ bugï¼Œä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´ï¼

å°¾å£°
==

å¦‚æœç”¨çš„ UI æ˜¯ `iBase4J-UI-DataTables` ï¼Œç™»å½•æ—¶è¿˜ä¼šé‡åˆ°ä¼ ä¸äº†å‚çš„é—®é¢˜ã€‚

å¯ä»¥å…ˆåœ¨åå°æŠŠå¯†ç å†™æ­»ï¼Œå‡‘åˆç€ç”¨ğŸ˜—ä»¥åå†å»ä¿®å¤ Bugã€‚æ–¹æ³•å¦‚ä¸‹ï¼š

æ¨¡å— `iBase4J-SYS-Web` ï¼Œ

ç±» `org.ibase4j.web.LoginController` ï¼Œ

æ–¹æ³• `login` ï¼Œåœ¨æ–¹æ³•å†…ç¬¬ä¸€è¡ŒåŠ å…¥ä»¥ä¸‹ä»£ç ã€‚

    user.setAccount("admin");
    user.setPassword("96e79218965eb72c92a549dd5a330112");
    

ç®€å•ç²—æš´ï¼

å¥½äº†ï¼Œæœ¬æ–‡åˆ°æ­¤ç»“æŸï¼Œé¼“æŒï¼

> æœ€åå†åƒç‚¹ç“œï¼š [è­¦æƒ•æŒ‚ç€å¼€æºçš„æ‹›ç‰Œåˆ°å¤„å‘è’™æ‹éª—çš„åƒåœ¾é¡¹ç›®ï¼Œæ¯”å¦‚iBase4J](https://baijifeilong.github.io/2018/07/03/ibase4j/)

![ç‚¹èµ](https://img2020.cnblogs.com/blog/1640839/202106/1640839-20210614195404898-1945929058.png)

* * *

1.  ç å†œè‡´å¯Œ. [å¼€æºé¡¹ç›®å­¦ä¹ ä¹‹(äºŒ)------iBase4Jç¯å¢ƒæ­å»º](https://blog.csdn.net/u011781521/article/details/79022363) \[Z\].CSDNï¼Œ2018-01-10 [â†©ï¸](#fnref1)
    
2.  æ˜“æ°´. [å¦‚ä½•è§£å†³iBase4Jç™»å½•æ²¡æœ‰ååº”çš„é—®é¢˜](https://zhuanlan.zhihu.com/p/376890419) \[Z\].çŸ¥ä¹ï¼Œ2021-06-01 [â†©ï¸](#fnref2)