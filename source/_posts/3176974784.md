---
layout: post
title: "å·¥å…·æ¨è-ä½¿ç”¨RedisInsightå·¥å…·å¯¹Redisé›†ç¾¤CURDæ“ä½œåŠæ•°æ®å¯è§†åŒ–å’Œæ€§èƒ½ç›‘æ§"
date: "2022-09-21T02:23:44.641Z"
---
å·¥å…·æ¨è-ä½¿ç”¨RedisInsightå·¥å…·å¯¹Redisé›†ç¾¤CURDæ“ä½œåŠæ•°æ®å¯è§†åŒ–å’Œæ€§èƒ½ç›‘æ§
==============================================

![å·¥å…·æ¨è-ä½¿ç”¨RedisInsightå·¥å…·å¯¹Redisé›†ç¾¤CURDæ“ä½œåŠæ•°æ®å¯è§†åŒ–å’Œæ€§èƒ½ç›‘æ§](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214456686-97143952.png) RedisInsight æ˜¯ä¸€ä¸ªç›´è§‚è€Œé«˜æ•ˆçš„ Redis GUI (å¯è§†åŒ–å·¥å…·)ï¼Œå®ƒæä¾›äº†è®¾è®¡ã€å¼€å‘å’Œä¼˜åŒ– Redis åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ï¼ŒæŸ¥è¯¢ã€åˆ†ææ‚¨çš„ Redis æ•°æ®å¹¶ä¸ä¹‹äº¤äº’ï¼Œç®€åŒ–æ‚¨çš„ Redis åº”ç”¨ç¨‹åºå¼€å‘ ã€‚ï¼ˆå¿…å¤‡ï¼‰ RedisInsight ç°åœ¨é‡‡ç”¨äº†åŸºäºæµè¡Œçš„ Electron æ¡†æ¶çš„å…¨æ–°æŠ€æœ¯å †æ ˆ, å®ƒå¯ä»¥è·¨å¹³å°è¿è¡Œï¼Œæ”¯æŒ Linuxã€Windows å’Œ MacOSã€‚

\[ [ç‚¹å‡» ğŸ‘‰ å…³æ³¨ã€Œ WeiyiGeekã€å…¬ä¼—å·](https://www.weiyigeek.top/wechat.html?key=æ¬¢è¿å…³æ³¨) \]

è®¾ä¸ºã€Œâ­ï¸ **æ˜Ÿæ ‡**ã€æ¯å¤©å¸¦ä½ ç©è½¬ç½‘ç»œå®‰å…¨è¿ç»´ã€åº”ç”¨å¼€å‘ã€ç‰©è”ç½‘IOTå­¦ä¹ ï¼

å¸Œæœ›å„ä½çœ‹å‹ã€å…³æ³¨ã€ç‚¹èµã€è¯„è®ºã€æ”¶è—ã€æŠ•å¸ã€‘ï¼ŒåŠ©åŠ›æ¯ä¸€ä¸ªæ¢¦æƒ³ã€‚

![å¸…å“¥ï¼ˆé“ä»”ï¼‰ã€ç¾å¥³ï¼Œç‚¹ä¸ªå…³æ³¨åç»­ä¸è¿·è·¯](https://img2022.cnblogs.com/blog/2176087/202207/2176087-20220725152944616-1919009969.jpg)

**æœ¬ç« ç›®å½•**

ç›®å½•

*   [](#_)
*   [0x00 å¿«é€Ÿä»‹ç»](#0x00-å¿«é€Ÿä»‹ç»)
*   [0x01 å®‰è£…éƒ¨ç½²](#0x01-å®‰è£…éƒ¨ç½²)
    *   [äºŒè¿›åˆ¶æ–¹å¼](#äºŒè¿›åˆ¶æ–¹å¼)
    *   [å®¹å™¨åŒ–æ–¹å¼](#å®¹å™¨åŒ–æ–¹å¼)
*   [0x02 å®è·µåº”ç”¨](#0x02-å®è·µåº”ç”¨)
    *   [1.é…ç½®è¿æ¥çš„Redisæ•°æ®åº“](#1é…ç½®è¿æ¥çš„redisæ•°æ®åº“)
    *   [2.æŸ¥çœ‹Redisæ•°æ®åº“å®æ—¶ç»Ÿè®¡ä¿¡æ¯](#2æŸ¥çœ‹redisæ•°æ®åº“å®æ—¶ç»Ÿè®¡ä¿¡æ¯)
    *   [3.æ“ä½œRedisæ•°æ®åº“ä¸­çš„æ•°æ®](#3æ“ä½œredisæ•°æ®åº“ä¸­çš„æ•°æ®)
    *   [4.æ“ä½œRedisæ•°æ®åº“ä¸­çš„æµStreamsæ•°æ®](#4æ“ä½œredisæ•°æ®åº“ä¸­çš„æµstreamsæ•°æ®)
    *   [5.æ€§èƒ½å†…å­˜ã€æ…¢æŸ¥è¯¢åˆ†æ](#5æ€§èƒ½å†…å­˜æ…¢æŸ¥è¯¢åˆ†æ)
    *   [6.å¯è§†åŒ–é…ç½®redisæ•°æ®åº“](#6å¯è§†åŒ–é…ç½®redisæ•°æ®åº“)
*   [0x03 å…¥å‘å‡ºå‘](#0x03-å…¥å‘å‡ºå‘)
    *   [é—®é¢˜1.è¿è¡Œ RedisInsight-v2-linux-x86\_64 æ—¶å‡ºç°ä¸å­˜åœ¨`libatk-1.0.so.0/libatk-bridge-2.0.so.0/libcups.so.2/libgtk-3.so.0`ç­‰é”™è¯¯](#é—®é¢˜1è¿è¡Œ-redisinsight-v2-linux-x86_64-æ—¶å‡ºç°ä¸å­˜åœ¨libatk-10so0libatk-bridge-20so0libcupsso2libgtk-3so0ç­‰é”™è¯¯)
    *   [é—®é¢˜2.è¿è¡Œ RedisInsight-v2-linux-x86\_64 æ—¶å‡ºç° `root without --no-sandbox is not supported` é”™è¯¯æç¤ºï¼š](#é—®é¢˜2è¿è¡Œ-redisinsight-v2-linux-x86_64-æ—¶å‡ºç°-root-without---no-sandbox-is-not-supported-é”™è¯¯æç¤º)
*   [0x0n å‚è€ƒæ¥æº](#0x0n-å‚è€ƒæ¥æº)

* * *

é¦–å‘åœ°å€ï¼š[https://mp.weixin.qq.com/s/f3wOWgoacGzWb-7BJrWzZg](https://mp.weixin.qq.com/s/f3wOWgoacGzWb-7BJrWzZg)

æ¸©é¦¨æç¤ºï¼š[å”¯ä¸€æå®¢æŠ€æœ¯åšå®¢](https://blog.weiyigeek.top)æ–‡ç« åœ¨çº¿æµè§ˆã€**æå®¢å…¨æ ˆä¿®ç‚¼**ã€‘å°ç¨‹åºä¸Šçº¿äº†ï¼Œæ¶‰åŠç½‘ç»œå®‰å…¨ã€ç³»ç»Ÿè¿ç»´ã€åº”ç”¨å¼€å‘ã€ç‰©è”ç½‘å®æˆ˜ã€å…¨æ ˆæ–‡ç« ï¼Œå¸Œæœ›å’Œå¤§å®¶ä¸€èµ·å­¦ä¹ è¿›æ­¥ï¼Œæ¬¢è¿æµè§ˆäº¤æµï¼ï¼ˆå¸Œæœ›å¤§å®¶å¤šå¤šæææ„è§ï¼‰

![WeiyiGeek.æå®¢å…¨æ ˆä¿®ç‚¼å°ç¨‹åº](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220921092441986-429373120.png)

* * *

0x00 å¿«é€Ÿä»‹ç»
---------

**ä»€ä¹ˆæ˜¯RedisInsight?**

> RedisInsight æ˜¯ä¸€ä¸ªç›´è§‚è€Œé«˜æ•ˆçš„ Redis GUI (`å¯è§†åŒ–å·¥å…·`)ï¼Œå®ƒæä¾›äº†è®¾è®¡ã€å¼€å‘å’Œä¼˜åŒ– Redis åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ï¼ŒæŸ¥è¯¢ã€åˆ†ææ‚¨çš„ Redis æ•°æ®å¹¶ä¸ä¹‹äº¤äº’ï¼Œç®€åŒ–æ‚¨çš„ Redis åº”ç”¨ç¨‹åºå¼€å‘ ã€‚ï¼ˆå¿…å¤‡ï¼‰  
> RedisInsight ç°åœ¨é‡‡ç”¨äº†åŸºäºæµè¡Œçš„ `Electron` æ¡†æ¶çš„å…¨æ–°æŠ€æœ¯å †æ ˆ, å®ƒå¯ä»¥è·¨å¹³å°è¿è¡Œï¼Œæ”¯æŒ Linuxã€Windows å’Œ MacOSã€‚

![WeiyiGeek.RedisInsightæ¡Œé¢å®¢æˆ·ç«¯ç‰ˆ](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214406116-1105432602.jpg)

**ä¸ºå•¥ç”¨RedisInsight?**  
æè¿°ï¼šRedisInsight æä¾›ç›´è§‚çš„ Redis ç®¡ç† GUIï¼Œæœ‰åŠ©äºä¼˜åŒ–æ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­å¯¹ Redis çš„ä½¿ç”¨ï¼Œç›¸æ¯”äºå…¶ä»–å¯è§†åŒ–å·¥å…·ï¼Œå…¶å®ç°çš„åŠŸèƒ½æ›´å¼ºå¤§ã€æ‰§è¡Œæ•ˆç‡æ›´æ”¹ï¼Œé€šç”¨æ€§æ›´å¥½ç­‰ç‰¹å®šï¼Œ

ä¸‹é¢åˆ—ä¸¾å‡º RedisInsight çš„äº®ç‚¹åŠŸèƒ½ï¼š

*   å”¯ä¸€æ”¯æŒ Redis Cluster çš„ GUI å·¥å…·ï¼›
*   å¯ä»¥åŸºäº Browser çš„ç•Œé¢æ¥è¿›è¡Œæœç´¢é”®ã€æŸ¥çœ‹å’Œç¼–è¾‘æ•°æ®ï¼›
*   æ”¯æŒåŸºäº SSL/TLS çš„è¿æ¥ï¼ŒåŒæ—¶è¿˜å¯ä»¥åœ¨ç•Œé¢ä¸Šè¿›è¡Œå†…å­˜åˆ†æï¼›
*   æ”¯æŒè¿æ¥ Redis Open Sourceã€ Redis Stack ã€ Redis Enterprise Software ã€ Redis Enterprise Cloud å’Œ Amazon ElastiCacheç­‰ç³»ç»Ÿï¼›
*   æ”¯æŒè‡ªå®šä¹‰æ‰©å±•æ’ä»¶å®ç°æ›´å¤šåŠŸèƒ½ã€‚

  

RedisInsight æ”¯æŒçš„åŠŸèƒ½ï¼š

*   ç›´è§‚ä¸”é«˜æ•ˆçš„ GUI: å…è®¸æ‚¨ä¸æ•°æ®åº“äº¤äº’ã€ç›‘æ§å’Œç®¡ç†æ‚¨çš„æ•°æ®ã€‚
*   CRUDæ”¯æŒæ›´å¹¿æ³›ï¼šå…è®¸å¯¹åˆ—è¡¨ã€å“ˆå¸Œã€å­—ç¬¦ä¸²ã€é›†ã€æ’åºé›†ä»¥åŠæµStream æ•°æ®åº“ç»“æ„æ”¯æŒ CRUD ã€‚
*   å¤šè¡ŒæŸ¥è¯¢ç¼–è¾‘å™¨ï¼šè¿›è¡Œæ„å»ºæŸ¥è¯¢ã€æ¢ç´¢ç»“æœã€ä¼˜åŒ–å’Œå¿«é€Ÿè¿­ä»£ï¼Œæ”¯æŒ JSON ã€ Search ã€ Graph ã€ Streams ã€ Time Series å’Œ RedisGears ã€‚
*   å†…å­˜åˆ†æï¼šé€šè¿‡å¯†é’¥æ¨¡å¼ã€è¿‡æœŸå¯†é’¥å’Œé«˜çº§æœç´¢æ¥åˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä»¥è¯†åˆ«å†…å­˜é—®é¢˜ï¼Œ åˆ©ç”¨å»ºè®®æ¥å‡å°‘å†…å­˜ä½¿ç”¨é‡ã€‚
*   å‘½ä»¤è°ƒè¯•: è¯†åˆ«é¡¶éƒ¨é”®ã€é”®æ¨¡å¼å’Œå‘½ä»¤ï¼ŒæŒ‰é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹çš„å®¢æˆ·ç«¯ IP åœ°å€ã€å¯†é’¥æˆ–å‘½ä»¤è¿›è¡Œè¿‡æ»¤ï¼Œæœ‰æ•ˆåœ°è°ƒè¯• Lua è„šæœ¬ï¼Œå¹¶åˆ©ç”¨ Redis CLI æä¾›è¯­æ³•çªå‡ºæ˜¾ç¤ºå’Œè‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Œå¹¶é‡‡ç”¨é›†æˆå¸®åŠ©æ¥æä¾›ç›´è§‚çš„å³æ—¶å¸®åŠ©ã€‚
*   æŒ‡æ ‡ç›‘æ§ï¼šé€šè¿‡ç•Œé¢æ·±å…¥äº†è§£å®æ—¶æ€§èƒ½æŒ‡æ ‡ã€æ£€æŸ¥æ…¢é€Ÿå‘½ä»¤å¹¶ç®¡ç† Redis é…ç½®ã€‚
*   å‘å¸ƒ/è®¢é˜…ï¼šæ”¯æŒ Redis å‘å¸ƒ/è®¢é˜…ï¼Œæ”¯æŒè®¢é˜…é¢‘é“å¹¶å°†æ¶ˆæ¯å‘å¸ƒåˆ°é¢‘é“
*   æ•°æ®æµè§ˆï¼šæµè§ˆã€ç­›é€‰ã€å¯è§†åŒ–æ‚¨çš„é”®å€¼ Redis æ•°æ®ç»“æ„ï¼Œå¹¶æŸ¥çœ‹ä¸åŒæ ¼å¼ï¼ˆåŒ…æ‹¬ JSONã€åå…­è¿›åˆ¶ã€ASCII ç­‰ï¼‰çš„é”®å€¼
*   å¹³å°å…¼å®¹ï¼šé€‚ç”¨äºè‹¹æœæ“ä½œç³»ç»Ÿï¼ˆåŒ…æ‹¬ M1ï¼‰ã€Windowså’Œ Linux

è¡¥å……ï¼šå®˜æ–¹æ¨èçš„å…¶ä»–Redisæ•°æ®åº“ç›¸å…³å·¥å…·æŸ¥çœ‹ \[ [https://redis.io/docs/tools/](https://redis.io/docs/tools/) \]ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å¯ä»¥é€‰æ‹©å®¢æˆ·ç«¯æ¡Œé¢ç®¡ç†å·¥å…·(ä¾‹å¦‚ï¼ŒAnotherRedisDesktopManage \[ [https://github.com/qishibo/AnotherRedisDesktopManager](https://github.com/qishibo/AnotherRedisDesktopManager) \] )

* * *

0x01 å®‰è£…éƒ¨ç½²
---------

æè¿°ï¼šredis-insight ä¸ç°åœ¨å¤§å¤šæ•°è½¯ä»¶ä¸€æ ·ï¼Œæœ‰å¤šç§å®‰è£…æ–¹å¼å…¶ä¸­ç”¨å¾—æ¯”è¾ƒå¤šçš„å°±æ˜¯äºŒè¿›åˆ¶ã€æºç ç¼–è¯‘ä»¥åŠå®¹å™¨åŒ–éƒ¨ç½²çš„æ–¹å¼ã€‚

### äºŒè¿›åˆ¶æ–¹å¼

æè¿°ï¼šæˆ‘ä»¬éœ€è¦åœ¨Rediså®˜æ–¹è¿›è¡Œä¸‹è½½ redis-insight äºŒè¿›åˆ¶åŒ…ç„¶åè¿›è¡Œå®‰è£…éƒ¨ç½²ï¼Œæœ‰å¯èƒ½å›½å†…ä¸‹è½½æ¯”è¾ƒç¼“æ…¢ï¼Œæ­¤æ—¶æˆ‘å·²å°†å…¶æ‰“åŒ…ä¸‹æ¥ï¼Œæ–¹ä¾¿å¤§å®¶ä¸‹è½½ã€‚

Redis GUI redis-insight å·¥å…· ä¸‹è½½:

*   [https://share.weiyigeek.top/d/36158960-51461225-1d5ee1?p=2088](https://share.weiyigeek.top/d/36158960-51461225-1d5ee1?p=2088) (è®¿é—®å¯†ç : 2088)
*   [https://url60.ctfile.com/d/36158960-51461225-1d5ee1?p=2088](https://url60.ctfile.com/d/36158960-51461225-1d5ee1?p=2088) (è®¿é—®å¯†ç : 2088)

**ç¯å¢ƒä¾èµ–**

Requirement

Ubuntu

MacOS

Windows

Operating System

Ubuntu 18.04 LTS or later

MacOS 10.13 or later

Windows 10

Memory (RAM)

8GB

8GB

8GB

Processor

64 bit

64 bit

32 bit or 64 bit

  

**å®‰è£…ç¯å¢ƒ**

    $ lsb_release  -a
    No LSB modules are available.
    Distributor ID: Ubuntu
    Description:    Ubuntu 20.04.3 LTS
    Release:        20.04
    Codename:       focal
    
    $ lscpu  | grep "CPU(s)"
    CPU(s):                          4
    On-line CPU(s) list:             0-3
    
    $ lsmem  | grep "Total online memory"
    Total online memory:       8G
    

  

**å®‰è£…æµç¨‹**

æ­¥éª¤ 01.å®˜ç½‘ä¸‹è½½ RedisInsight ä¸Šä¼ åˆ° /usr/local/bin ç›®å½• å¹¶æ‰“å¼€ shell ç»ˆç«¯èµ‹äºˆå…¶ä¸‹è½½æƒé™ã€‚

    cd /usr/local/bin
    mv redisinsight-linux64-1.13.0 redisinsight-linux64
    chmod +x redisinsight-linux64
    

æ­¥éª¤ 02.è®¾ç½®Redisinsightå¯åŠ¨æ‰€éœ€çš„ç¯å¢ƒå˜é‡ï¼š

    mkdir ~/.redisinsight
    echo "export RIHOST=0.0.0.0" > ~/.bash_profile
    echo "export RIPORT=8081" >> ~/.bash_profile
    echo "export RIHOMEDIR=~/.redisinsight" >> ~/.bash_profile
    echo "export RILOGDIR=~/.redisinsight" >> ~/.bash_profile
    source ~/.bash_profile
    

æ¸©é¦¨æç¤ºï¼šå¦‚æœä½¿ç”¨äº†`REDISINSIGHT_HOST, REDISINSIGHT_PORT, REDISINSIGHT_HOME_DIR and LOG_DIR`ç­‰ç¯å¢ƒå˜é‡ä¾¿ä¼šå‡ºç°å¦‚ä¸‹æç¤ºã€‚

    WARNING 2022-09-20 05:56:33,461 redisinsight_startup REDISINSIGHT_HOST, REDISINSIGHT_PORT, REDISINSIGHT_HOME_DIR and LOG_DIR environment variables will be deprecated in the version v1.9.
    Please use RIHOST, RIPORT, RIHOMEDIR and RILOGDIR environment variables for setting host, port, db directory and log directory respectively.
    

æ­¥éª¤ 03.å¯åŠ¨Redisinsightå¹¶åå°è¿è¡Œå®ƒ

    #  åå°è¿è¡Œ
    nohup /usr/local/bin/redisinsight-linux64 > ~/.redisinsight/console.log 2>&1 &
    

æ­¥éª¤ 04.æŸ¥çœ‹ redisinsight è¿›ç¨‹è¿è¡Œæƒ…å†µ

    root@weiyigeek:~# ps aux | grep "redisinsight"
    root        6592  8.0  0.0   3220  2212 pts/0    S    13:59   0:00 /usr/local/bin/redisinsight-linux64
    root        6593  8.9  0.9 602080 74616 pts/0    Sl   13:59   0:00 /usr/local/bin/redisinsight-linux64
    root        6602  0.0  0.0   6432   724 pts/0    S+   13:59   0:00 grep redisinsight
    root@weiyigeek:~# netstat -ano | grep ":8081"
    tcp        0      0 0.0.0.0:8081            0.0.0.0:*               LISTEN      off (0.00/0/0)
    

æ­¥éª¤ 05.è®¿é—®éƒ¨ç½²çš„redisinsightç«™ç‚¹ [http://10.20.172.201:8081/](http://10.20.172.201:8081/) è¿›è¡Œä¸‹ä¸€æ­¥é…ç½®ï¼Œç»§ç»­é…ç½®ä½ çš„ Redis æ•°æ®åº“ï¼Œæ­¤å¤„æˆ‘å·²ç»æ­å»ºå¥½äº†ä¸€ä¸ªredisæ•°æ®åº“å¦‚éœ€æ­å»ºè¯·å‚è€ƒæ­¤ç¯‡æ–‡ç« ã€[https://blog.weiyigeek.top/2022/4-24-653.html](https://blog.weiyigeek.top/2022/4-24-653.html)ã€‘ï¼Œç‚¹å‡»è¿æ¥åˆ° Redis æ•°æ®åº“è¿›å…¥åˆ°ä¸‹ä¸€æ­¥ã€‚

![WeiyiGeek.redisinsightç«™ç‚¹](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214037691-1397976997.png)

æ­¥éª¤ 06.è¿›è¡Œé…ç½®Redisæ•°æ®åº“ä¿¡æ¯ï¼Œæ­¤å¤„æˆ‘æ˜¯å•èŠ‚ç‚¹è¿›è¡Œæ¼”ç¤ºï¼Œè¾“å…¥ä¸»æœºã€ç«¯å£ã€åç§°ã€ä»¥åŠrediså¯†ç ã€‚

![WeiyiGeek.é…ç½®Redisæ•°æ®åº“ä¿¡æ¯](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214132507-1014529155.png)

è‡³æ­¤å®‰è£…é…ç½®å®Œæˆï¼Œä½¿ç”¨å°†åœ¨åç»­å®è·µï¼

  

### å®¹å™¨åŒ–æ–¹å¼

æè¿°ï¼šå½“ä¸‹å¤§å¤šæ•°ä¼ä¸šçš„åº”ç”¨éƒ½æ˜¯åœ¨å®¹å™¨ç¯å¢ƒä¸­è¿è¡Œï¼Œæ‰€ä»¥rediså®˜æ–¹ä¹Ÿæä¾›äº†ç›¸åº”å®¹å™¨é•œåƒä»¥åŠåœ¨kubernetesä¸­éƒ¨ç½²çš„èµ„æºæ¸…å•ï¼Œä¸‹è¿°å°†æ¼”ç¤ºåœ¨ Kubernetes ä¸Šå®‰è£… RedisInsightï¼Œå®‰è£…é«˜å¯ç”¨çš„K8Så¯ä»¥å‚ç…§æ­¤ç¯‡æ–‡ç«  ã€ [https://blog.weiyigeek.top/2022/6-7-664.html](https://blog.weiyigeek.top/2022/6-7-664.html) ã€‘

é•œåƒä¸»é¡µï¼š[https://hub.docker.com/r/redislabs/redisinsight/tags](https://hub.docker.com/r/redislabs/redisinsight/tags)  
é•œåƒåç§°ï¼š`docker pull redislabs/redisinsight:1.13.0`

**éƒ¨ç½²æ–¹å¼**

æ­¥éª¤ 01.åœ¨ k8s é›†ç¾¤ä¸­åˆ›å»ºä¸€ä¸ª RedisInsight éƒ¨ç½²å’ŒæœåŠ¡ YAML æ–‡ä»¶èµ„æºæ¸…å•ï¼Œæ³¨æ„æ­¤å¤„æˆ‘ä½¿ç”¨äº†åŠ¨æ€å­˜å‚¨å·ï¼Œå¦‚æœæœ‰éœ€è¦çš„éƒ¨ç½²nfsåŠ¨æ€å­˜å‚¨å·å¯å‚è€ƒæ­¤ç¯‡æ–‡ç« ï¼ˆ [https://blog.weiyigeek.top/2022/6-7-664.html](https://blog.weiyigeek.top/2022/6-7-664.html) ï¼‰

    tee redisinsight-1.13.0.yaml <<'EOF'
    # RedisInsight service with name 'redisinsight-service'
    apiVersion: v1
    kind: Service
    metadata:
      name: redisinsight-service
      namespace: dev
    spec:
      type: LoadBalancer
      ports:
        - port: 8001
          targetPort: 8001
      selector:
        app: redisinsight
    ---
    # RedisInsight persistant storage 
    apiVersion: v1
    kind: PersistentVolumeClaim
    metadata:
      name: redisinsight-pv-claim
      namespace: dev
      labels:
        app: redisinsight
    spec:
      accessModes:
        - ReadWriteOnce
      resources:
        requests:
          storage: 2Gi
      storageClassName: managed-nfs-storage
    ---
    # RedisInsight deployment with name 'redisinsight'
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: redisinsight   # deployment name
      namespace: dev
      labels:
        app: redisinsight  # deployment label
    spec:
      replicas: 1          # a single replica pod
      strategy:
        type: Recreate
      selector:
        matchLabels:
          app: redisinsight # which pods is the deployment managing, as defined by the pod template
      template:             # pod template
        metadata:
          labels:
            app: redisinsight # label for pod/s
        spec:
          volumes:
            - name: db
              persistentVolumeClaim:
                claimName: redisinsight-pv-claim
          initContainers:
            - name: init
              image: busybox
              command:
                - /bin/sh
                - '-c'
                - |
                                chown -R 1001 /db
              resources: {}
              volumeMounts:
                - name: db
                  mountPath: /db
              terminationMessagePath: /dev/termination-log
              terminationMessagePolicy: File
          containers:
            - name:  redisinsight                  # Container name (DNS_LABEL, unique)
              image: redislabs/redisinsight:1.13.0 # Hub Image
              imagePullPolicy: IfNotPresent        # Pull Policy
              env: 
              - name: RIHOST
                value: "0.0.0.0"
              - name: RIPORT
                value: "8001"
              volumeMounts:
              - name: db 
                mountPath: /db
              ports:
              - containerPort: 8001        # exposed container port and protocol
                protocol: TCP
              livenessProbe:
                httpGet:
                  path : /healthcheck/     # exposed RI endpoint for healthcheck
                  port: 8001               # exposed container port
                initialDelaySeconds: 5      # number of seconds to wait after the container starts to perform liveness probe
                periodSeconds: 5            # period in seconds after which liveness probe is performed
                failureThreshold: 1         # number of liveness probe failures after which container restarts
    EOF
    

æ­¥éª¤02.åœ¨k8sé›†ç¾¤ä¸­éƒ¨ç½² redisinsight v1.13.0 åº”ç”¨ã€æœåŠ¡ä»¥åŠæŒä¹…åŒ–å·ï¼ŒæŸ¥çœ‹å…¶éƒ¨ç½²çŠ¶æ€ã€‚

    $ kubectl create namespace dev
    namespace/dev created
    
    $ kubectl apply -f redisinsight-1.13.0.yaml
    service/redisinsight-service created
    persistentvolumeclaim/redisinsight-pv-claim created
    deployment.apps/redisinsight created
    
    $ kubectl get pod,svc -n dev -o wide
    NAME                               READY   STATUS    RESTARTS   AGE     IP              NODE       NOMINATED NODE   READINESS GATES
    pod/redisinsight-55d44b5bb-xzggg   1/1     Running   0          3m22s   10.66.182.217   weiyigeek-226   <none>           <none>
    
    NAME                           TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE     SELECTOR
    service/redisinsight-service   LoadBalancer   10.108.198.8   <pending>     80:31793/TCP   3m22s   app=redisinsight
    
    $ curl -I 10.66.182.217:8001
    HTTP/1.1 200 OK
    Cache-Control: max-age=0, no-cache, no-store, must-revalidate, private
    
    # ç«¯å£è½¬å‘
    $ kubectl -n dev port-forward deployment/redisinsight --address 0.0.0.0 30081:8001
    Forwarding from 0.0.0.0:30081 -> 8001
    Handling connection for 30081
    Handling connection for 30081
    

æ­¥éª¤ 03.æˆåŠŸåº”ç”¨å¹¶å®Œæˆéƒ¨ç½²å’ŒæœåŠ¡ï¼Œæˆ‘ä»¬å¯é€šè¿‡æµè§ˆå™¨è®¿é—® 192.168.1.107:31793 ä¾¿å¯çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºç•Œé¢ã€‚  
![WeiyiGeek.redisinsightç«™ç‚¹](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214037691-1397976997.png)

è‡³æ­¤ï¼Œåœ¨k8sé›†ç¾¤ä¸­éƒ¨ç½²å®Œæ¯•

* * *

0x02 å®è·µåº”ç”¨
---------

### 1.é…ç½®è¿æ¥çš„Redisæ•°æ®åº“

æè¿°ï¼šåœ¨ä½¿ç”¨ä»»ä½•å·¥å…·å¤„ç†æ•°æ®åº“ä¹‹å‰ï¼Œå¿…é¡»å…ˆæ·»åŠ æ•°æ®åº“ï¼ˆAdd Databaseï¼‰ï¼Œä»¥ä¾¿ RedisInsight å¯ä»¥è¿æ¥åˆ°è¯¥æ•°æ®åº“ï¼Œæ·»åŠ ç‹¬ç«‹çš„ Redis æ•°æ®åº“ è¿™æ˜¯åªæœ‰ä¸€å° Redis æœåŠ¡å™¨çš„ Redis æ•°æ®åº“æœ€ç®€å•çš„è®¾ç½®ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒç‹¬ç«‹ Redis é›†ç¾¤ Redis Sentinel æˆ–è€… å…·æœ‰TLSè®¤è¯çš„Redisæ•°æ®åº“ã€‚  
æ³¨æ„ï¼šç›®å‰ RedisInsight æ”¯æŒ Redis ç‰ˆæœ¬ 4 åŠæ›´é«˜ç‰ˆæœ¬ã€‚

![WeiyiGeek.é…ç½®Redisæ•°æ®åº“ä¿¡æ¯](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214132507-1014529155.png)

### 2.æŸ¥çœ‹Redisæ•°æ®åº“å®æ—¶ç»Ÿè®¡ä¿¡æ¯

æè¿°ï¼šç‚¹å‡»é…ç½®å¥½çš„Redisæ•°æ®ç›®æ ‡ï¼Œå³å¯çœ‹åˆ°å¦‚ä¸‹overviewé¡µé¢

![WeiyiGeek.æ­¤Redisæ•°æ®åº“çš„å®æ—¶ç»Ÿè®¡ä¿¡æ¯](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214038993-607300177.png)

### 3.æ“ä½œRedisæ•°æ®åº“ä¸­çš„æ•°æ®

æè¿°: å¯ä»¥é€šè¿‡ä½¿ç”¨ Browserï¼ˆå›¾å½¢ï¼‰ æˆ–è€… cliï¼ˆå‘½ä»¤è¡Œï¼‰è¿›è¡ŒRedisæ•°æ®åº“çš„CURDï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º

![WeiyiGeek.Redisæ•°æ®åº“çš„CURDæ“ä½œ](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214039249-182657264.png)

### 4.æ“ä½œRedisæ•°æ®åº“ä¸­çš„æµStreamsæ•°æ®

æè¿°: å¯ä»¥é€šè¿‡ä½¿ç”¨ Streams é€‰é¡¹è¿›è¡Œ Redis æµæ“ä½œã€‚

![WeiyiGeek.Redisæ•°æ®åº“çš„æµæ“ä½œ](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214036878-64759793.png)

### 5.æ€§èƒ½å†…å­˜ã€æ…¢æŸ¥è¯¢åˆ†æ

æè¿°ï¼šRedisInsight æä¾›äº†å¼ºå¤§çš„åˆ†æåŠŸèƒ½ï¼Œæ”¯æŒå†…å­˜ä½¿ç”¨åˆ†æã€åˆ†æå™¨(`åœ¨Redisä¸­æ‰§è¡Œçš„å‘½ä»¤è¿‡ç¨‹æ‘˜è¦åˆ†æ`)ä»¥åŠæ…¢æ—¥å¿—æŸ¥è¯¢ã€‚

![WeiyiGeek.Redisæ•°æ®åº“åˆ†æ](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214040189-73609036.png)

### 6.å¯è§†åŒ–é…ç½®redisæ•°æ®åº“

æè¿°ï¼šåœ¨Databaseé€‰é¡¹å¡ä¸­æˆ‘ä»¬å¯ä»¥ç›´æ¥é…ç½®Redisæ•°æ®åº“ï¼ŒåŒ…æ‹¬å…¶ç½‘ç»œé…ç½®ã€é€šç”¨é…ç½®ä»¥åŠå¿«ç…§ã€é…ç½®ç­‰ç­‰ã€‚

![WeiyiGeek.åœ¨çº¿é…ç½®redisæ•°æ®åº“](https://img2022.cnblogs.com/blog/2176087/202209/2176087-20220920214048396-1569395616.png)

å½“ç„¶å¯¹åº”devopsæ¥è¯´ä½¿ç”¨æœ€å¤šçš„è¿˜æ˜¯CURDä»¥åŠæ€§èƒ½åˆ†æä»¥åŠä¼˜åŒ–ï¼Œæ­¤å·¥å…·è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œå¦‚éœ€è§£æ›´å¤šå…¶å®ƒåŠŸèƒ½éœ€çš„æœ‹å‹ï¼Œå¯å‚è€ƒ redisinsight ç”¨æˆ·ä½¿ç”¨æ–‡æ¡£ï¼š[https://docs.redis.com/latest/ri/using-redisinsight/](https://docs.redis.com/latest/ri/using-redisinsight/)

* * *

0x03 å…¥å‘å‡ºå‘
---------

### é—®é¢˜1.è¿è¡Œ RedisInsight-v2-linux-x86\_64 æ—¶å‡ºç°ä¸å­˜åœ¨`libatk-1.0.so.0/libatk-bridge-2.0.so.0/libcups.so.2/libgtk-3.so.0`ç­‰é”™è¯¯

*   é”™è¯¯ä¿¡æ¯

    root@weiyigeek:/usr/local/bin# wget https://download.redisinsight.redis.com/latest/RedisInsight-v2-linux-x86_64.AppImage
    root@weiyigeek:/usr/local/bin# mv RedisInsight-v2-linux-x86_64.AppImage RedisInsight
    root@weiyigeek:/usr/local/bin# chmod +x RedisInsight
    root@weiyigeek:/usr/local/bin# ./RedisInsight
    /tmp/.mount_RedisIuCY68M/redisinsight: error while loading shared libraries: libatk-1.0.so.0: cannot open shared object file: No such file or directory
    /tmp/.mount_RedisIbwUuBs/redisinsight: error while loading shared libraries: libatk-bridge-2.0.so.0: cannot open shared object file: No such file or directory
    /tmp/.mount_RedisIb3qNiD/redisinsight: error while loading shared libraries: libcups.so.2: cannot open shared object file: No such file or directory
    /tmp/.mount_RedisI9GZsHC/redisinsight: error while loading shared libraries: libgtk-3.so.0: cannot open shared object file: No such file or directory
    

*   è§£å†³åŠæ³•ï¼šç”±äºæˆ‘çš„æµ‹è¯•ç³»ç»Ÿæ˜¯Ubuntuçš„åˆ™ä½¿ç”¨aptå‘½ä»¤å®‰è£…é”™è¯¯æç¤ºä¸­çš„ä¾èµ–åŒ…ã€‚

    apt install libatk1.0-dev
    apt install libatk-bridge2.0-dev
    apt install libcups2-dev
    apt install libgtk-3-dev
    

  

### é—®é¢˜2.è¿è¡Œ RedisInsight-v2-linux-x86\_64 æ—¶å‡ºç° `root without --no-sandbox is not supported` é”™è¯¯æç¤ºï¼š

é”™è¯¯ä¿¡æ¯ï¼š`[0920/133850.852943:FATAL:electron_main_delegate.cc(292)] Running as root without --no-sandbox is not supported. See https://crbug.com/638180.`  
è§£å†³åŠæ³•ï¼šåœ¨ä½æƒé™ç”¨æˆ·ä¸­æ‰§è¡Œ`./RedisInsight`å¯åŠ¨RedisInsightæœåŠ¡å³å¯ã€‚

* * *

0x0n å‚è€ƒæ¥æº
---------

å®˜ç½‘åœ°å€ï¼š[https://redis.com/redis-enterprise/redis-insight/](https://redis.com/redis-enterprise/redis-insight/)  
é¡¹ç›®æºç ï¼š[https://github.com/RedisInsight/RedisInsight](https://github.com/RedisInsight/RedisInsight)  
é¡¹ç›®æ–‡æ¡£ï¼š[https://docs.redis.com/latest/ri](https://docs.redis.com/latest/ri)  
ä¸‹è½½åœ°å€ï¼š[https://redis.com/redis-enterprise/redis-insight/#insight-form](https://redis.com/redis-enterprise/redis-insight/#insight-form)

**åŸæ–‡åœ°å€**: [https://blog.weiyigeek.top/2022/9-20-686.html](https://blog.weiyigeek.top/2022/9-20-686.html)

æœ¬æ–‡è‡³æ­¤å®Œæ¯•ï¼Œæ›´å¤šæŠ€æœ¯æ–‡ç« ï¼Œå°½æƒ…æœŸå¾…ä¸‹ä¸€ç« èŠ‚ï¼

* * *

ã€**WeiyiGeek Blog ä¸ªäººåšå®¢ - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘**Â ã€‘

æ¬¢è¿å„ä½å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµã€[ç‚¹å‡»åŠ å…¥äº¤æµç¾¤](https://weiyigeek.top/visit.html)ã€‘ï¼Œå¦‚æ–‡ç« æœ‰è¯¯è¯·åœ¨ä¸‹æ–¹ç•™ä¸‹æ‚¨å®è´µçš„ç»éªŒçŸ¥è¯†!

ä½œè€…ä¸»é¡µ: ã€Â [https://weiyigeek.top](https://weiyigeek.top)ã€‘  
åšå®¢åœ°å€: ã€Â [https://blog.weiyigeek.top](https://blog.weiyigeek.top)Â ã€‘

![WeiyiGeek Blog åšå®¢ - ä¸ºäº†èƒ½åˆ°è¿œæ–¹ï¼Œè„šä¸‹çš„æ¯ä¸€æ­¥éƒ½ä¸èƒ½å°‘](https://img2022.cnblogs.com/blog/2176087/202207/2176087-20220729133413457-663916216.jpg)

ä¸“æ ä¹¦å†™ä¸æ˜“ï¼Œå¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªä¸“æ è¿˜ä¸é”™çš„ï¼Œè¯·ç»™è¿™ç¯‡ä¸“æ Â **ã€ç‚¹ä¸ªèµã€æŠ•ä¸ªå¸ã€æ”¶ä¸ªè—ã€å…³ä¸ªæ³¨ï¼Œè½¬ä¸ªå‘ï¼Œç•™ä¸ªè¨€ã€‘(äººé—´å…­å¤§æƒ…)**ï¼Œè¿™å°†å¯¹æˆ‘çš„è‚¯å®šï¼Œè°¢è°¢ï¼ã€‚

*   **echo "ã€ç‚¹ä¸ªèµã€‘ï¼ŒåŠ¨åŠ¨ä½ é‚£ç²—å£®çš„æ‹‡æŒ‡æˆ–è€…èŠŠèŠŠç‰æ‰‹ï¼Œäº²ï¼"**
    
*   **printf("%s", "ã€æŠ•ä¸ªå¸ã€‘ï¼Œä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼ŒæŠ•ä¸ªç¡¬å¸è¡Œä¸è¡Œï¼Œäº²ï¼")**
    
*   **fmt.Printf("ã€æ”¶ä¸ªè—ã€‘ï¼Œé˜…åå³ç„šä¸åƒç°ï¼Œäº²ï¼")**
    
*   **console.info("ã€è½¬ä¸ªå‘ã€‘ï¼Œè®©æ›´å¤šçš„å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·å­¦ä¹ äº¤æµï¼Œäº²ï¼")**
    
*   **System.out.println("ã€å…³ä¸ªæ³¨ã€‘ï¼Œåç»­æµè§ˆæŸ¥çœ‹ä¸è¿·è·¯å“Ÿï¼Œäº²ï¼")**
    
*   **cout << "ã€ç•™ä¸ªè¨€ã€‘ï¼Œæ–‡ç« å†™å¾—å¥½ä¸å¥½ã€æœ‰æ²¡æœ‰é”™è¯¯ï¼Œä¸€å®šè¦ç•™è¨€å“Ÿï¼Œäº²! " << endl;**
    

![https://blog.weiyigeek.top](https://img2022.cnblogs.com/blog/2176087/202207/2176087-20220729133413498-184024273.jpg)

æ›´å¤šç½‘ç»œå®‰å…¨ã€ç³»ç»Ÿè¿ç»´ã€åº”ç”¨å¼€å‘ã€ç‰©è”ç½‘å®è·µã€ç½‘ç»œå·¥ç¨‹ã€å…¨æ ˆæ–‡ç« ï¼Œå°½åœ¨ [https://blog.weiyigeek.top](https://blog.weiyigeek.top) ä¹‹ä¸­ï¼Œè°¢è°¢å„ä½çœ‹åˆæ”¯æŒï¼

* * *

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[WeiyiGeek](https://www.cnblogs.com/WeiyiGeek/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/WeiyiGeek/p/16712768.html](https://www.cnblogs.com/WeiyiGeek/p/16712768.html)ã€‚  
æ¬¢è¿å…³æ³¨åšä¸»ã€WeiyiGeekã€‘å…¬ä¼—å·ä»¥åŠã€æå®¢å…¨æ ˆä¿®ç‚¼ã€‘å°ç¨‹åº  
[![å¾®ä¿¡å…¬ä¼—å·ã€WeiyiGeekã€‘](https://weiyigeek.top/img/wechat-search.png)](https://weiyigeek.top/wechat.html?key=æ¬¢è¿å…³æ³¨)