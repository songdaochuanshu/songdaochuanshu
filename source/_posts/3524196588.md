---
layout: post
title: "å¦‚ä½•ä½¿ç”¨Photinoåˆ›å»ºBlazoré¡¹ç›®è¿›è¡Œè·¨å¹³å°"
date: "2023-03-26T01:13:35.187Z"
---
å¦‚ä½•ä½¿ç”¨Photinoåˆ›å»ºBlazoré¡¹ç›®è¿›è¡Œè·¨å¹³å°
==========================

Photinoæ˜¯ä»€ä¹ˆ
----------

Photinoæ˜¯ä¸€ç»„ä½¿ç”¨Web ï¼ˆHTML/CSS/JavaScriptï¼‰UIåˆ›å»ºæ¡Œé¢åº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚TryPhotino.io ç»´æŠ¤ .NET æ„å»ºï¼Œå¹¶é¼“åŠ±ç¤¾åŒºå¼€å‘ Photino.Native æ§ä»¶ä»¥ç”¨äºå…¶ä»–è¯­è¨€å’Œå¹³å°ã€‚æˆ‘ä»¬é¼“åŠ±å¹¶å°†æ”¯æŒPhotino.CPPï¼ŒPhotino.Rustï¼ŒPhotino.Goç­‰çš„å¼€å‘ã€‚

ä½¿ç”¨Photino Blazor
----------------

é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª.Net Coreæ§åˆ¶å°é¡¹ç›®ï¼Œé¡¹ç›®SDKæœ€ä½6.0

åœ¨é¡¹ç›®ä¸­æ·»åŠ `wwwroot`æ–‡ä»¶å¤¹

ä¿®æ”¹é¡¹ç›®æ–‡ä»¶

    <Project Sdk="Microsoft.NET.Sdk.Razor">
    
    	<PropertyGroup>
    		<OutputType>WinExe</OutputType>
    		<TargetFramework>net7.0</TargetFramework>
    		<ImplicitUsings>enable</ImplicitUsings>
    		<Nullable>enable</Nullable>
    	</PropertyGroup>
    
    	<ItemGroup>
    		<PackageReference Include="Photino.Blazor" Version="2.5.0" />
    	</ItemGroup>
    
    	<ItemGroup>
    		<Content Update="wwwroot\**">
    			<CopyToOutputDirectory>Always</CopyToOutputDirectory>
    		</Content>
    	</ItemGroup>
    </Project>
    

åœ¨`wwwroot`ä¸‹é¢åˆ›å»º`index.html`ï¼Œå¹¶ä¸”æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œç”¨äºå¯åŠ¨æ‰˜ç®¡Blazoré¡¹ç›®ï¼Œappçš„åŸç”Ÿå°±æ˜¯BlazoråŠ è½½çš„ä½ç½®

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Demo</title>
        <base href="/" />
        <link href="Demo.styles.css" rel="stylesheet" />
        <style>
            html, body {
                font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            }
    
            h1:focus {
                outline: none;
            }
    
            a, .btn-link {
                color: #0071c1;
            }
    
            .btn-primary {
                color: #fff;
                background-color: #1b6ec2;
                border-color: #1861ac;
            }
    
            .valid.modified:not([type=checkbox]) {
                outline: 1px solid #26b050;
            }
    
            .invalid {
                outline: 1px solid red;
            }
    
            .validation-message {
                color: red;
            }
    
            #blazor-error-ui {
                background: lightyellow;
                bottom: 0;
                box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
                display: none;
                left: 0;
                padding: 0.6rem 1.25rem 0.7rem 1.25rem;
                position: fixed;
                width: 100%;
                z-index: 1000;
            }
    
            #blazor-error-ui .dismiss {
                cursor: pointer;
                position: absolute;
                right: 0.75rem;
                top: 0.5rem;
            }
        </style>
    </head>
    
    <body>
        <div id="app">åŠ è½½ä¸­...</div>
    
        <div id="blazor-error-ui">
            An unhandled error has occurred.
            <a href="" class="reload">Reload</a>
            <a class="dismiss">ğŸ—™</a>
        </div>
        <script src="_framework/blazor.webview.js"></script>
    </body>
    </html>
    

åˆ›å»º`_Imports.razor`æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œæ–‡ä»¶ç”¨äºBlazorçš„å…¨å±€å¼•ç”¨ï¼Œå‡å°‘razoræ–‡ä»¶ä½¿ç”¨using

    @using System.Net.Http
    @using System.Net.Http.Json
    @using Microsoft.AspNetCore.Authorization
    @using Microsoft.AspNetCore.Components.Forms
    @using Microsoft.AspNetCore.Components.Routing
    @using Microsoft.AspNetCore.Components.Web
    @using Microsoft.AspNetCore.Components.Web.Virtualization
    @using Microsoft.JSInterop
    @using Microsoft.Extensions.Logging
    

åˆ›å»º`App.razor`æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä»¥ä¸‹ä»£ç æ˜¯æ·»åŠ Blazorè·¯ç”±

    @using Demo.Shared
    
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
            <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
        </Found>
        <NotFound>
            <PageTitle>Not found</PageTitle>
            <LayoutView Layout="@typeof(MainLayout)">
                <p role="alert">Sorry, there's nothing at this address.</p>
            </LayoutView>
        </NotFound>
    </Router>
    

åˆ›å»º`Shared`æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»º`MainLayout.razor`ï¼Œå¹¶ä¸”æ·»åŠ ä»¥ä¸‹å†…å®¹

    @inherits LayoutComponentBase
    
    <div>
    	@Body
    <div>
    
    

åˆ›å»º`Pages`æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»º`Index.razor`æ–‡ä»¶ï¼Œå¹¶ä¸”æ·»åŠ é¡µé¢åŠŸèƒ½ï¼Œé¡µé¢æ˜¯ä¸€ä¸ªç‚¹å‡»æŒ‰é’®æ–°å¢æ•°é‡çš„åŠŸèƒ½ï¼Œç”¨äºæµ‹è¯•Blazoræ˜¯å¦æ­£å¸¸è¿è¡Œ

    @page "/"
    
    <span>å½“å‰æ•°é‡ @Count </span>
    <button @onclick="OnClick">å¢åŠ æ•°é‡</button>
    
    @code {
        private int Count = 1;
    
        private void OnClick()
        {
            Count++;
        }
    
    }
    

æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹`Program.cs`æ–‡ä»¶çš„ä»£ç ï¼Œè¿™é‡Œå°†æ˜¯å…¥å£ï¼Œ

    using Photino.Blazor;
    
    namespace Demo;
    
    public class Program
    {
        [STAThread]
        public static void Main(string[] args)
        {
            var appBuilder = PhotinoBlazorAppBuilder.CreateDefault(args);
    
            appBuilder.RootComponents.Add<App>("#app");
    
            var app = appBuilder.Build();
    
            app.MainWindow
                .SetTitle("Photino Blazor Sample");
    
            AppDomain.CurrentDomain.UnhandledException += (sender, error) =>
            {
                app.MainWindow.OpenAlertWindow("Fatal exception", error.ExceptionObject.ToString());
            };
    
            app.Run();
        }
    }
    

PhotinoBlazorAppBuilder.CreateDefaultæ˜¯åˆ›å»ºäº†ä¸€ä¸ªç±»ä¼¼äºWebApiçš„æ–¹æ³•ï¼Œç”¨äºæ‰˜ç®¡æˆ‘ä»¬çš„ç•Œé¢ï¼Œ

`appBuilder.RootComponents.Add<App>("#app");`æ˜¯å°†`App.razor`çš„ç»„ä»¶ç»‘å®šåˆ°`html`çš„å…ƒç´ idä¸º`app`çš„ä¸Šé¢ï¼ŒåŠ è½½çš„Blazorç»„ä»¶å°†ç›´æ¥æ¸²æŸ“åˆ°domä¸Š

`app.MainWindow.SetTitle("Photino Blazor Sample");`å°†å¯åŠ¨ä¸€ä¸ªçª—ä½“ï¼Œ`SetTitle`æ˜¯è®¾ç½®çª—ä½“çš„æ ‡é¢˜ï¼Œè¯·æ³¨æ„å¯åŠ¨æ–¹æ³•å¿…é¡»åŠ `[STAThread]`ä¸ç„¶å¯èƒ½çœ‹ä¸åˆ°æ•ˆæœï¼Œ

ç„¶åæˆ‘ä»¬å¯åŠ¨ä¸€ä¸‹é¡¹ç›®ï¼Œæ•ˆæœå¦‚å›¾ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»å¢åŠ æ•°é‡å‘ç°ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„

![](https://img2023.cnblogs.com/blog/2415052/202303/2415052-20230325184627412-498164984.png)

Photinoæ€§èƒ½
---------

åœ¨å‘å¸ƒä»¥åå¯åŠ¨çš„é¡¹ç›®å†…å­˜å ç”¨åœ¨`63.7MB`å·¦å³ï¼Œå¯¹æ¯”MAUIæ¥è¯´å¾ˆå°äº†

![](https://img2023.cnblogs.com/blog/2415052/202303/2415052-20230325184632943-248077900.png)

é¡¹ç›®ä½“ç§¯ï¼š

è¿™ä¸ªæ˜¯å‘å¸ƒçš„å•æ–‡ä»¶ï¼Œå ç”¨åœ¨`3MB`ä»¥å†…ï¼Œå ç”¨ä¹Ÿæ˜¯éå¸¸å°

![](https://img2023.cnblogs.com/blog/2415052/202303/2415052-20230325184640045-1146297080.png)

åœ¨äº†è§£ä¸€ä¸‹`Photino`å¦‚ä½•å®ç°

Photino.Blazorå»ºç«‹åœ¨Photinoä¹‹ä¸Šã€‚é€šè¿‡ä½¿ç”¨Photinoçš„NETã€‚NET NuGet åŒ…ã€‚å…¶ç›®çš„æ˜¯ä½¿.NETå¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾åœ°ä½¿ç”¨Blazor Web UIåˆ›å»º.NET 6åŠæ›´é«˜ç‰ˆæœ¬çš„æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œè¯¥UIå¯ä»¥åœ¨Windowsï¼ŒLinuxå’ŒMacä¸Šè·¨å¹³å°å·¥ä½œï¼Œè€Œä¸æ˜¯ä½¿ç”¨Windows Formsï¼ŒWindows Presentation Foundationï¼ˆWPFï¼‰ï¼ŒXcodeï¼ŒSwiftæˆ–GTKç­‰æŠ€æœ¯æ„å»ºç‰¹å®šäºæ“ä½œç³»ç»Ÿçš„UIã€‚å®ƒåªæ˜¯å°† Blazor åŠŸèƒ½æ·»åŠ åˆ° .NET åŒ…ã€‚

Photino.Blazor ä¸æ˜¯æœåŠ¡å™¨ç«¯ Blazorï¼Œä¹Ÿä¸æ˜¯ WASM å®¢æˆ·ç«¯ Blazorã€‚å½“ .NETï¼ˆæ§åˆ¶å°ï¼‰åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå®ƒä½¿ç”¨å®Œæ•´çš„ .NET 6 æ¡†æ¶ã€‚æ¡†æ¶å¯ä»¥é¢„å®‰è£…åœ¨è®¡ç®—æœºä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨â€œå•ä¸ªæ–‡ä»¶åº”ç”¨ç¨‹åºâ€çš„æƒ…å†µä¸‹ä¸åº”ç”¨ç¨‹åºä¸€èµ·æ‰“åŒ…ã€‚åœ¨ Blazor ä¸­æ‰§è¡Œæ‰€æœ‰ .NET ä»£ç å°†é‡å®šå‘åˆ°ä¸æ§åˆ¶å°åº”ç”¨ç›¸åŒçš„æ¡†æ¶ã€‚

æ§åˆ¶å°åº”ç”¨ç¨‹åºè¿›ç¨‹ä»¥åŠæœ¬æœºçª—å£å’Œæµè§ˆå™¨æ§ä»¶çš„è¿›ç¨‹éƒ½ä½¿ç”¨ç›¸åŒçš„æ¡†æ¶ã€‚è¿™æ˜¯é€šè¿‡åœ¨ photnio ä¸­åŒ…å«ä¸€äº› Blazor æºä»£ç æ¥å®ç°çš„ã€‚Blazor é¡¹ç›®å¹¶ä¸ºæ­¤ç›®çš„å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚

æœ€ä½æ”¯æŒæ˜¯`.NET 6`

å¦‚æœä½ æ˜¯æ¡Œé¢ç¨‹åºï¼Œå»ºè®®ç”¨Blazorå†™ç•Œé¢å’Œä¸šåŠ¡ï¼Œè¿è¡Œå¹³å°å°±å¯ä»¥æœ‰å¤šä¸ªé€‰æ‹©äº†ï¼Œæ¯”å¦‚`Photnio`ï¼Œ`Photnio`æœ¬èº«ä¹Ÿæ˜¯è·¨å¹³å°ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨`Linux`ä¸­è¿è¡Œäº†ï¼Œç”¨äº†Blazorå°±ä¸éœ€è¦æ‹…å¿ƒèƒ½ä¸èƒ½è·¨å¹³å°äº†ï¼Œ

æ¥ç€tokençš„åˆ†äº«

å­¦ä¹ äº¤æµï¼š737776595