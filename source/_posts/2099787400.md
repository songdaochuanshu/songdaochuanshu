---
layout: post
title: "[.NET学习]EFCore学习之旅 -2 简单的增删改查"
date: "2022-12-03T06:19:34.552Z"
---
\[.NET学习\]EFCore学习之旅 -2 简单的增删改查
===============================

1.实例化创建数据库上下文类

　　首先实例化一个数据库操作上下文类，注意到DbContext实现了IDisposable接口，所以使用using语句，避免内存泄露。

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203134034672-1961454753.png)

2.插入

　　以Person类为例，先生成一些简单的数据。

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203134602762-1702375526.png)

　　注意，在新增/删除/修改操作后，需要执行一次保存操作，才能把数据更新到数据库。

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203134646337-711704764.png) 这里我们使用的是异步方法，也可以使用同步。

3.查询

　　这里演示一些简单的常用查询，查询不需要SaveChange。

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203135606125-1107529781.png)

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203135614918-1242906998.png)

4.修改和删除

　　这里把ID为1的Person的BirthPlace更新为 成都市 ，删除ID为2的Person。

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203140240260-424884155.png)

　　![](https://img2023.cnblogs.com/blog/2914220/202212/2914220-20221203140148744-1369237785.png) 注意到id为1的person的BirthPlace已经修改为成都市。而id为2 的person已经被删除。

5.结束

　　以上就是本次介绍的全部内容，本次只是进行了一些简单的crud操作，更复杂的操作后续再更新~