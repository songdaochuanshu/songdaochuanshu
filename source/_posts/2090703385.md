---
layout: post
title: "åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (26) é›†æˆSwaggeræ¥å£æ–‡æ¡£"
date: "2023-02-05T12:28:33.344Z"
---
åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (26) é›†æˆSwaggeræ¥å£æ–‡æ¡£
==============================================

å‰è¨€
--

è¿™æ˜¯StarBlogç³»åˆ—åœ¨2023å¹´çš„ç¬¬ä¸€ç¯‡æ›´æ–°ğŸ˜ƒ~

åœ¨ä¹‹å‰çš„æ–‡ç« é‡Œï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†éƒ¨åˆ†æ¥å£çš„å¼€å‘ï¼Œæ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨ curlã€Postman è¿™ç±»å·¥å…·å¯¹è¿™äº›æ¥å£è¿›è¡Œæµ‹è¯•ï¼Œä½†æ¥å£ä¸€å¤šï¼Œæ¯æ¬¡æµ‹è¯•éƒ½è¦ä¸€ä¸ªä¸ªå¡«å…¥åœ°å€å’Œå¯¹åº”å‚æ•°ä¼šæ¯”è¾ƒéº»çƒ¦â€¦

æˆ‘ä»¬éœ€è¦ä¸€ç§ç›´è§‚çš„æ–¹å¼æ¥æ±‡æ€»é¡¹ç›®é‡Œçš„æ‰€æœ‰æ¥å£ï¼Œå¹¶ä¸”å¦‚æœèƒ½ç›´æ¥åœ¨é‡Œé¢è°ƒè¯•æ¥å£ï¼Œé‚£å°±æ›´å¥½äº†ã€‚

> Swaggerï¼šè¯¶å˜¿ï¼Œè¯´çš„ä¸å°±æ˜¯æˆ‘å—ï¼ŸğŸ˜

Swaggerä»‹ç»
---------

æ¥ä¸€æ®µå®˜ç½‘çš„ä»‹ç»

> Simplify API development for users, teams, and enterprises with the Swagger open source and professional toolset.
> 
> ç¿»è¯‘ï¼šSwagger æ˜¯å¼€æºå’Œä¸“ä¸šçš„å·¥å…·é›†ï¼Œå¯ä»¥ç®€åŒ–ç”¨æˆ·ã€å›¢é˜Ÿå’Œä¼ä¸šçš„ API å¼€å‘ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œswaggerç”¨èµ·æ¥æœ‰ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ OpenAPI ä¸€ä¸ªæ˜¯ SwaggerUI

åœ¨Swaggerå®˜ç½‘ä¸Šï¼ŒOpenAPI ä»‹ç»å¾—å¤©èŠ±ä¹±å ğŸ™‚

> The OpenAPI Specification, formerly known as the Swagger Specification, is the worldâ€™s standard for defining RESTful interfaces. The OAS enables developers to design a technology-agnostic API interface that forms the basis of their API development and consumption.
> 
> ç¿»è¯‘ï¼šOpenAPI è§„èŒƒï¼Œä»¥å‰ç§°ä¸º Swagger è§„èŒƒï¼Œæ˜¯å®šä¹‰ RESTful æ¥å£çš„ä¸–ç•Œæ ‡å‡†ã€‚ OAS ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè®¾è®¡ä¸€ä¸ªä¸æŠ€æœ¯æ— å…³çš„ API æ¥å£ï¼Œè¯¥æ¥å£æ„æˆäº†ä»–ä»¬ API å¼€å‘å’Œä½¿ç”¨çš„åŸºç¡€ã€‚

ç®€å•è¯´ OpenAPI æ˜¯ä¸ªæ ‡å‡†ï¼Œéœ€è¦æ¯ç§è¯­è¨€å’Œæ¡†æ¶**è‡ªè¡Œå®ç°**ä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥æŠŠé¡¹ç›®é‡Œçš„æ¥å£éƒ½æ•´åˆèµ·æ¥ï¼Œç”Ÿæˆ `swagger.json` æ–‡ä»¶

ç„¶å SwaggerUI å°±æ˜¯ä¸ªç½‘é¡µï¼Œè¯»å–è¿™ä¸ª `swagger.json` å°±å¯ä»¥æŠŠæ‰€æœ‰æ¥å£ä»¥åŠå‚æ•°æ˜¾ç¤ºå‡ºæ¥ï¼Œè¿˜å¯ä»¥å¾ˆæ–¹ä¾¿è°ƒè¯•ï¼Œæ•ˆæœå¦‚å›¾ã€‚

![image](https://img2023.cnblogs.com/blog/866942/202302/866942-20230205150224791-1341193604.png)

Swashbuckle.AspNetCore
----------------------

å‰é¢è¯´åˆ°æ¯ç§æ¡†æ¶éƒ½è¦è‡ªå·±å®ç°ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆ `swagger.json` ï¼Œè¿™ä¸ª Swashbuckle.AspNetCore å°±æ˜¯ .NetCore å¹³å°çš„å®ç°ï¼Œç”¨å°±å®Œäº‹äº†ã€‚

é¡¹ç›®ä¸»é¡µ: [https://github.com/domaindrivendev/Swashbuckle.AspNetCore](https://github.com/domaindrivendev/Swashbuckle.AspNetCore)

> Tipsï¼šå¦‚æœæ˜¯åˆ›å»º WebApi é¡¹ç›®ï¼Œä»£ç æ¨¡æ¿é‡Œé¢é»˜è®¤å°±æœ‰ Swagger äº†ï¼Œä¸ç”¨æ‰‹åŠ¨æ·»åŠ ã€‚

StarBlogé¡¹ç›®ä¸€å¼€å§‹æ˜¯ä½¿ç”¨MVCæ¨¡æ¿ï¼Œæ‰€ä»¥æ²¡æœ‰è‡ªå¸¦Swaggerï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ã€‚

ç›´æ¥ä½¿ç”¨nugetæ·»åŠ  `Swashbuckle.AspNetCore` è¿™ä¸ªåŒ…å°±å®Œäº‹äº†ã€‚

è¿™ä¸ªåŒ…åŠŸèƒ½å¾ˆå¤šï¼Œå†…ç½®äº† SwaggerUI è¿™ä¸ªå®˜æ–¹ç•Œé¢ï¼Œè¿˜æœ‰ä¸€ä¸ª ReDoc çš„çº¯é™æ€æ¥å£æ–‡æ¡£ç½‘é¡µï¼ˆè¿™ä¸ª ReDoc åªèƒ½çœ‹æ¥å£ä¸èƒ½è°ƒè¯•ï¼‰ã€‚

åˆæ­¥ä½¿ç”¨
----

ä¸ºäº†ä¿è¯ `Program.cs` ä»£ç æ•´æ´ï¼Œæˆ‘ä»¬åœ¨ `StarBlog.Web/Extensions` é‡Œé¢åˆ›å»º `ConfigureSwagger` ç±»

    public static class ConfigureSwagger {
      public static void AddSwagger(this IServiceCollection services) {
        services.AddSwaggerGen(options => {
          options.SwaggerDoc("v1", new OpenApiInfo { Version = "v1", Title = "APIs"});
    
          // åœ¨æ¥å£æ–‡æ¡£ä¸Šæ˜¾ç¤º XML æ³¨é‡Š
          var filePath = Path.Combine(System.AppContext.BaseDirectory, $"{typeof(Program).Assembly.GetName().Name}.xml");
          options.IncludeXmlComments(filePath, true);
        });
      }
      
      public static void UseSwaggerPkg(this IApplicationBuilder app) {
        app.UseSwagger();
        app.UseSwaggerUI(options => {
          options.RoutePrefix = "api-docs/swagger";
          options.SwaggerEndpoint("/swagger/v1/swagger.json", "APIs");
        });
        app.UseReDoc(options => {
          options.RoutePrefix = "api-docs/redoc";
          options.SpecUrl = "/swagger/v1/swagger.json";
        });
      }
    }
    

ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°æœ‰ä¸‰æ­¥

*   `AddSwaggerGen` - å¯¹åº”å‰æ–‡è¯´çš„ç”Ÿæˆ `swagger.json`
*   `UseSwagger` - è®©æµè§ˆå™¨å¯ä»¥è®¿é—®åˆ° `/swagger/v1/swagger.json` è¿™ç±»è·¯å¾„
*   `UseSwaggerUI` - æä¾› SwaggerUI çš„ç½‘é¡µè®¿é—®

ç„¶åå›åˆ° `Program.cs` é‡Œé¢ï¼Œåˆ†åˆ«æ³¨å†ŒæœåŠ¡å’Œæ·»åŠ ä¸­é—´ä»¶å°±å¥½äº†ã€‚

    // æ³¨å†ŒæœåŠ¡
    builder.Services.AddSwagger();
    // æ·»åŠ ä¸­é—´ä»¶
    app.UseSwaggerPkg();
    

ç°åœ¨å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—® `http://[æœ¬åœ°åœ°å€]/api-docs/swagger` å°±èƒ½çœ‹åˆ°æ¥å£æ–‡æ¡£äº†

æ•ˆæœå¤§æ¦‚è¿™æ ·

![image](https://img2023.cnblogs.com/blog/866942/202302/866942-20230205150235079-2146646895.png)

### æ‰©å±•ï¼šå…³äºXMLæ³¨é‡Š

C# çš„ä»£ç æ³¨é‡Šå¯ä»¥å¯¼å‡ºXMLï¼Œç„¶åæ˜¾ç¤ºåœ¨ swagger æ–‡æ¡£ä¸Š

æ³¨æ„éœ€è¦æ‰‹åŠ¨åœ¨ `.csproj` é¡¹ç›®é…ç½®é‡Œé¢å¼€å¯ï¼Œæ‰ä¼šè¾“å‡ºXMLæ–‡æ¡£

    <!--  è¾“å‡ºXML  -->
    <PropertyGroup>
      <GenerateDocumentationFile>true</GenerateDocumentationFile>
      <NoWarn>$(NoWarn);1591</NoWarn>
    </PropertyGroup>
    

ä½†æ˜¯å¼€å¯XMLä¹‹åï¼ŒIDEå¾ˆè ¢çš„è¦æ±‚æˆ‘ä»¬æ‰€æœ‰publicæˆå‘˜éƒ½å†™ä¸Šæ³¨é‡Šï¼Œå¾ˆçƒ¦ï¼ŒåŠ ä¸Š `<NoWarn>$(NoWarn);1591</NoWarn>` è¿™è¡Œå°±å¯ä»¥å…³æ‰è¿™ä¸ªè­¦å‘Šã€‚

åœ¨ Swagger é‡ŒåŠ è½½XMLæ–‡æ¡£ï¼Œæ—¢å¯ä»¥ç”¨æœ¬æ–‡å‰é¢å†™çš„æ–¹å¼

    var filePath = Path.Combine(System.AppContext.BaseDirectory, $"{typeof(Program).Assembly.GetName().Name}.xml");
    options.IncludeXmlComments(filePath, true);
    

è¿˜å¯ä»¥ç”¨ç¬¬äºŒç§ï¼ŒåŠ è½½ç›®å½•é‡Œçš„å…¨éƒ¨XML

    var xmlFiles = Directory.GetFiles(AppContext.BaseDirectory, "*.xml");
    foreach (var file in xmlFiles) {
      options.IncludeXmlComments(file, true);
    }
    

å…·ä½“ç”¨å“ªç§ï¼Œéƒ½è¡Œå§ï¼Œçœ‹å¿ƒæƒ…~

### æ‰©å±•ï¼šå…³äº `AddEndpointsApiExplorer`

åœ¨ `AddSwagger` æ‰©å±•æ–¹æ³•è¿™é‡Œå¯èƒ½æœ‰åŒå­¦ä¼šæœ‰ç–‘é—®

ä¸ºå•¥åˆ›å»º .Net6 é¡¹ç›®åé»˜è®¤æ˜¯è¿™ä¸¤è¡Œä»£ç 

    builder.Services.AddEndpointsApiExplorer();
    builder.Services.AddSwaggerGen();
    

è€Œæˆ‘è¿™é‡Œåªæœ‰ä¸€è¡Œä»£ç 

    services.AddSwaggerGen();
    

**å…ˆè¯´ç»“è®ºï¼š`AddEndpointsApiExplorer` æ˜¯ä¸ºäº†æ”¯æŒ Minimal Api çš„ã€‚**

å› ä¸º StarBlog é¡¹ç›®ä½¿ç”¨çš„æ˜¯MVCæ¨¡æ¿ï¼Œåœ¨ `Program.cs` çš„æœ€å¼€å§‹å¯ä»¥çœ‹åˆ°è¿™è¡Œä»£ç ï¼Œæ·»åŠ æ§åˆ¶å™¨å’Œè§†å›¾

    builder.Services.AddControllersWithViews();
    

ç¿»ä¸€ä¸‹è¿™ä¸ªæ¡†æ¶çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•çš„å¥—å¨ƒæ˜¯è¿™æ ·çš„

    AddControllersWithViews() -> AddControllersWithViewsCore() -> AddControllersCore()
    

è€Œåœ¨ `AddControllersCore` é‡Œé¢ï¼Œåˆè°ƒç”¨äº† `AddApiExplorer`

    private static IMvcCoreBuilder AddControllersCore(IServiceCollection services) {
      // This method excludes all of the view-related services by default.
      var builder = services
        .AddMvcCore()
        .AddApiExplorer()
        .AddAuthorization()
        .AddCors()
        .AddDataAnnotations()
        .AddFormatterMappings();
    
      if (MetadataUpdater.IsSupported) {
        services.TryAddEnumerable(
          ServiceDescriptor.Singleton<IActionDescriptorChangeProvider, HotReloadService>());
      }
    
      return builder;
    }
    

å°±æ˜¯è¯´æ­£å¸¸çš„é¡¹ç›®å·²ç»æœ‰ `ApiExplorer` è¿™ä¸ªä¸œè¥¿äº†ï¼Œä½†æ˜¯ Minimal Api é¡¹ç›®æ²¡æœ‰ï¼Œæ‰€ä»¥æœ¬é¡¹ç›®ä¸éœ€è¦ `builder.Services.AddEndpointsApiExplorer();` è¿™è¡Œä»£ç ã€‚

**è¯¦æƒ…å¯ä»¥é˜…è¯»å‚è€ƒèµ„æ–™çš„ç¬¬ä¸€ä¸ªé“¾æ¥ã€‚**

æ¥å£åˆ†ç»„
----

æ¥å£æ–‡æ¡£æœ‰äº†ï¼Œä½†é¡¹ç›®é‡Œæ¥å£å¤ªå¤šäº†ï¼Œå‡ åä¸ªæ¥å£å…¨æŒ¤åœ¨ä¸€ä¸ªé¡µé¢ä¸Šï¼Œæ‰¾éƒ½æ‰¾å¾—çœ¼èŠ±äº†ğŸ˜‘

è¿™æ—¶å€™å¯ä»¥ç»™æ¥å£åˆ†ä¸ªç»„

å…ˆæ¥ç»™ StarBlog é¡¹ç›®é‡Œé¢çš„æ¥å£åˆ†ä¸ªç±»ï¼Œæ ¹æ®ä¸åŒç”¨é€”ï¼Œå¤§è‡´åˆ†æˆè¿™äº”ç±»ï¼š

*   admin - ç®¡ç†å‘˜ç›¸å…³æ¥å£
*   common - é€šç”¨å…¬å…±æ¥å£
*   auth - æˆæƒæ¥å£
*   blog - åšå®¢ç®¡ç†æ¥å£
*   test - æµ‹è¯•æ¥å£

è¿˜æ˜¯åœ¨ä¸Šé¢é‚£ä¸ª `ConfigureSwagger.cs` æ–‡ä»¶

ä¿®æ”¹ `AddSwagger` æ–¹æ³•ï¼ŒæŠŠè¿™å‡ ä¸ªåˆ†ç»„æ·»åŠ è¿›å»

    services.AddSwaggerGen(options => {
      options.SwaggerDoc("admin", new OpenApiInfo {
        Version = "v1",
        Title = "Admin APIs",
        Description = "ç®¡ç†å‘˜ç›¸å…³æ¥å£"
      });
      options.SwaggerDoc("common", new OpenApiInfo {
        Version = "v1",
        Title = "Common APIs",
        Description = "é€šç”¨å…¬å…±æ¥å£"
      });
      options.SwaggerDoc("auth", new OpenApiInfo {
        Version = "v1",
        Title = "Auth APIs",
        Description = "æˆæƒæ¥å£"
      });
      options.SwaggerDoc("blog", new OpenApiInfo {
        Version = "v1",
        Title = "Blog APIs",
        Description = "åšå®¢ç®¡ç†æ¥å£"
      });
      options.SwaggerDoc("test", new OpenApiInfo {
        Version = "v1",
        Title = "Test APIs",
        Description = "æµ‹è¯•æ¥å£"
      });
    });
    

è¿™æ ·å°±ä¼šç”Ÿæˆäº”ä¸ª `swagger.json` æ–‡ä»¶ï¼Œè·¯å¾„åˆ†åˆ«æ˜¯

*   `/swagger/admin/swagger.json`
*   `/swagger/common/swagger.json`
*   `/swagger/auth/swagger.json`
*   `/swagger/blog/swagger.json`
*   `/swagger/test/swagger.json`

æ‰€ä»¥ä¸‹é¢çš„ `UseSwaggerPkg` æ–¹æ³•ä¹Ÿè¦å¯¹åº”ä¿®æ”¹

    public static void UseSwaggerPkg(this IApplicationBuilder app) {
      app.UseSwagger();
      app.UseSwaggerUI(options => {
        options.RoutePrefix = "api-docs/swagger";
        options.SwaggerEndpoint("/swagger/admin/swagger.json", "Admin");
        options.SwaggerEndpoint("/swagger/blog/swagger.json", "Blog");
        options.SwaggerEndpoint("/swagger/auth/swagger.json", "Auth");
        options.SwaggerEndpoint("/swagger/common/swagger.json", "Common");
        options.SwaggerEndpoint("/swagger/test/swagger.json", "Test");
      });
    }
    

æ¥ä¸‹æ¥ï¼Œè¦è®© Swagger çŸ¥é“æ¯ä¸ªæ¥å£éƒ½æ˜¯å±äºå“ªä¸ªåˆ†ç»„çš„ã€‚

å…·ä½“æ–¹æ³•æ˜¯åœ¨ Controller ä¸Šæ·»åŠ  `ApiExplorerSettings` ç‰¹æ€§ã€‚

æ¯”å¦‚ `BlogController` æ˜¯å±äº blog åˆ†ç»„ï¼Œåœ¨ class å®šä¹‰å‰é¢æ·»åŠ ä¸€è¡Œä»£ç 

    [ApiExplorerSettings(GroupName = "blog")]
    public class BlogController : ControllerBase {
      // ...
    }
    

å…¶ä»–çš„ Controller ä¹Ÿæ˜¯ç±»ä¼¼çš„æ“ä½œï¼Œå…·ä½“åˆ†ç»„è·Ÿ `StarBlog.Web/Apis` ä¸‹çš„ç›®å½•ç»“æ„ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚

### å®ç°æ•ˆæœ

åšå®Œä¹‹åï¼Œæ‰“å¼€ swagger æ¥å£æ–‡æ¡£é¡µé¢

å¯ä»¥çœ‹åˆ°å³ä¸Šè§’å¯ä»¥é€‰æ‹©æ¥å£åˆ†ç»„äº†

![image](https://img2023.cnblogs.com/blog/866942/202302/866942-20230205150254027-1575330571.png)

æå®šã€‚

ä¼˜åŒ–åˆ†ç»„
----

å‰æ–‡å¯¹äº Swagger åˆ†ç»„çš„å®ç°å…¶å®æ˜¯ä¸€ç§ç¡¬ç¼–ç ï¼Œä¸åŒåˆ†ç»„çš„ Controller ä¸Šé¢éœ€è¦åŠ ä¸Š `[ApiExplorerSettings(GroupName = "blog")]` ç‰¹æ€§ï¼Œåˆ†ç»„åå…¨é å¤åˆ¶ç²˜è´´ï¼Œåœ¨é¡¹ç›®æ¯”è¾ƒå°çš„æƒ…å†µä¸‹è¿˜å¥½ï¼Œå¦‚æœåˆ†ç»„å¤šèµ·æ¥äº†ï¼Œæœ‰å‡ ç™¾ä¸ªæ¥å£çš„æ—¶å€™ï¼Œä¼°è®¡äººå°±éº»äº†å§ğŸ˜‚

> Qï¼šâ€œä½ åˆšæ‰å¹²å˜›ä¸æ—©è¯´ğŸ˜‘â€
> 
> Aï¼šâ€œå¾ªåºæ¸è¿›å˜›ğŸ˜›â€
> 
> Aï¼šâ€œStarBlogé¡¹ç›®ä¹Ÿæ˜¯æœ€è¿‘æ‰æ¢åˆ°æ–°ç‰ˆåˆ†ç»„çš„ğŸ˜â€

åœ¨ `StarBlog.Web/Models` é‡Œæ·»åŠ ä¸ªæ–°çš„ç±» `SwaggerGroup`

    public class SwaggerGroup {
        /// <summary>
        /// ç»„åç§°ï¼ˆåŒæ—¶ç”¨äºåšURLå‰ç¼€ï¼‰
        /// </summary>
        public string Name { get; set; }
    
        public string? Title { get; set; }
        public string? Description { get; set; }
    
        public SwaggerGroup(string name, string? title = null, string? description = null) {
            Name = name;
            Title = title;
            Description = description;
        }
    
        /// <summary>
        /// ç”Ÿæˆ <see cref="Microsoft.OpenApi.Models.OpenApiInfo"/>
        /// </summary>
        public OpenApiInfo ToOpenApiInfo(string version = "1.0") {
            var item = new OpenApiInfo();
            Title ??= Name;
            Description ??= Name;
            return new OpenApiInfo { Title = Title, Description = Description, Version = version };
        }
    }
    

ç„¶åæ”¹é€ ä¸€ä¸‹ `StarBlog.Web/Extensions/ConfigureSwagger.cs`

åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢æ·»åŠ ä¸ªæ–°çš„ç±»ï¼Œè¿™æ ·å°±ä¸ä¼šç¡¬ç¼–ç äº†ğŸ˜ƒ

    public static class ApiGroups {
      public const string Admin = "admin";
      public const string Auth = "auth";
      public const string Common = "common";
      public const string Blog = "blog";
      public const string Test = "test";
    }
    

åœ¨ `ConfigureSwagger` é‡Œæ·»åŠ ä¸€äº›ä»£ç ï¼Œåˆ›å»º `SwaggerGroup` åˆ—è¡¨

    public static class ConfigureSwagger {
      public static readonly List<SwaggerGroup> Groups = new() {
        new SwaggerGroup(ApiGroups.Admin, "Admin APIs", "ç®¡ç†å‘˜ç›¸å…³æ¥å£"),
        new SwaggerGroup(ApiGroups.Auth, "Auth APIs", "æˆæƒæ¥å£"),
        new SwaggerGroup(ApiGroups.Common, "Common APIs", "é€šç”¨å…¬å…±æ¥å£"),
        new SwaggerGroup(ApiGroups.Blog, "Blog APIs", "åšå®¢ç®¡ç†æ¥å£"),
        new SwaggerGroup(ApiGroups.Test, "Test APIs", "æµ‹è¯•æ¥å£")
      };
    }
    

ç„¶åæŠŠåé¢çš„ `AddSwagger` æ–¹æ³•æ”¹æˆè¿™æ ·ï¼Œé‚£ä¸€å¨ä¸œè¥¿ï¼Œç°åœ¨ä¸€è¡Œä»£ç å°±ä»£æ›¿äº†ğŸ˜€

    public static void AddSwagger(this IServiceCollection services) {
      services.AddSwaggerGen(options => {
        Groups.ForEach(group => options.SwaggerDoc(group.Name, group.ToOpenApiInfo()));
    
        // XMLæ³¨é‡Š
        var filePath = Path.Combine(AppContext.BaseDirectory, $"{typeof(Program).Assembly.GetName().Name}.xml");
        options.IncludeXmlComments(filePath, true);
      });
    }
    

æ¥ç€æ˜¯ `UseSwaggerPkg` æ–¹æ³•ï¼Œç®€å•ğŸ˜

    public static void UseSwaggerPkg(this IApplicationBuilder app) {
      app.UseSwagger();
      app.UseSwaggerUI(opt => {
        opt.RoutePrefix = "api-docs/swagger";
        // åˆ†ç»„
        Groups.ForEach(group => opt.SwaggerEndpoint($"/swagger/{group.Name}/swagger.json", group.Name));
      });
    }
    

Controlleré‡Œé¢ä¹Ÿå¯¹åº”ä¿®æ”¹æˆè¿™æ ·

    [ApiExplorerSettings(GroupName = ApiGroups.Blog)]
    public class BlogController : ControllerBase {
    }
    

å®Œç¾ğŸ†’ğŸ¥³

å°ç»“
--

â€œSwaggerä¹‹å¤§ï¼Œä¸€é”…ç‚–ä¸ä¸‹â€

å…³äºSwaggerè¿˜æœ‰å…¶ä»–çš„ç”¨æ³•ï¼Œä½†éœ€è¦ä¸€äº›å‰ç½®çŸ¥è¯†ï¼Œå› æ­¤æœ¬æ–‡ä¸ä¼šæŠŠStarBlogé¡¹ç›®ä¸­å…³äºSwaggerçš„éƒ¨åˆ†å…¨éƒ¨ä»‹ç»å®Œ

ç­‰æŠŠç›¸å…³çš„å‰ç½®çŸ¥è¯†å†™å®Œï¼Œå†æ¥å®Œå–„å¯¹åº”çš„ç”¨æ³•~

è¿™ä¹Ÿè·ŸStarBlogçš„å¼€å‘è¿‡ç¨‹æ˜¯å»åˆçš„ğŸ˜€

å‚è€ƒèµ„æ–™
----

*   [https://stackoverflow.com/questions/71932980/what-is-addendpointsapiexplorer-in-asp-net-core-6](https://stackoverflow.com/questions/71932980/what-is-addendpointsapiexplorer-in-asp-net-core-6)

ç³»åˆ—æ–‡ç« 
----

*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (1) ä¸ºä»€ä¹ˆéœ€è¦è‡ªå·±å†™ä¸€ä¸ªåšå®¢ï¼Ÿ](https://www.cnblogs.com/deali/p/16104454.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (2) ç¯å¢ƒå‡†å¤‡å’Œåˆ›å»ºé¡¹ç›®](https://www.cnblogs.com/deali/p/16172342.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (3) æ¨¡å‹è®¾è®¡](https://www.cnblogs.com/deali/p/16180920.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (4) markdownåšå®¢æ‰¹é‡å¯¼å…¥](https://www.cnblogs.com/deali/p/16211720.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (5) å¼€å§‹æ­å»ºWebé¡¹ç›®](https://www.cnblogs.com/deali/p/16276448.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (6) é¡µé¢å¼€å‘ä¹‹åšå®¢æ–‡ç« åˆ—è¡¨](https://www.cnblogs.com/deali/p/16286780.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (7) é¡µé¢å¼€å‘ä¹‹æ–‡ç« è¯¦æƒ…é¡µé¢](https://www.cnblogs.com/deali/p/16293309.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (8) åˆ†ç±»å±‚çº§ç»“æ„å±•ç¤º](https://www.cnblogs.com/deali/p/16307604.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (9) å›¾ç‰‡æ‰¹é‡å¯¼å…¥](https://www.cnblogs.com/deali/p/16328825.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (10) å›¾ç‰‡ç€‘å¸ƒæµ](https://www.cnblogs.com/deali/p/16335162.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (11) å®ç°è®¿é—®ç»Ÿè®¡](https://www.cnblogs.com/deali/p/16349155.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (12) Razoré¡µé¢åŠ¨æ€ç¼–è¯‘](https://www.cnblogs.com/deali/p/16391656.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (13) åŠ å…¥å‹æƒ…é“¾æ¥åŠŸèƒ½](https://www.cnblogs.com/deali/p/16421699.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (14) å®ç°ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½](https://www.cnblogs.com/deali/p/16441294.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (15) ç”Ÿæˆéšæœºå°ºå¯¸å›¾ç‰‡](https://www.cnblogs.com/deali/p/16457314.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (16) ä¸€äº›æ–°åŠŸèƒ½ (ç›‘æ§/ç»Ÿè®¡/é…ç½®/åˆå§‹åŒ–)](https://www.cnblogs.com/deali/p/16523157.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (17) è‡ªåŠ¨ä¸‹è½½æ–‡ç« é‡Œçš„å¤–éƒ¨å›¾ç‰‡](https://www.cnblogs.com/deali/p/16586437.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (18) å®ç°æœ¬åœ°Typoraæ–‡ç« æ‰“åŒ…ä¸Šä¼ ](https://www.cnblogs.com/deali/p/16758878.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (19) Markdownæ¸²æŸ“æ–¹æ¡ˆæ¢ç´¢](https://www.cnblogs.com/deali/p/16834452.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (20) å›¾ç‰‡æ˜¾ç¤ºä¼˜åŒ–](https://www.cnblogs.com/deali/p/16929677.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (21) å¼€å§‹å¼€å‘RESTFulæ¥å£](https://www.cnblogs.com/deali/p/16989798.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (22) å¼€å‘åšå®¢æ–‡ç« ç›¸å…³æ¥å£](https://www.cnblogs.com/deali/p/16991279.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (23) æ–‡ç« åˆ—è¡¨æ¥å£åˆ†é¡µã€è¿‡æ»¤ã€æœç´¢ã€æ’åº](https://www.cnblogs.com/deali/p/16992573.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (24) ç»Ÿä¸€æ¥å£æ•°æ®è¿”å›æ ¼å¼](https://www.cnblogs.com/deali/p/16995384.html)
*   [åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (25) å›¾ç‰‡æ¥å£ä¸æ–‡ä»¶ä¸Šä¼ ](https://www.cnblogs.com/deali/p/16999818.html)
*   åŸºäº.NetCoreå¼€å‘åšå®¢é¡¹ç›® StarBlog - (26) é›†æˆSwaggeræ¥å£æ–‡æ¡£

å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€ ä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚