---
layout: post
title: "Docker | å¸¸ç”¨å‘½ä»¤â€”â€”æ’é”™å¾ˆæœ‰å¸®åŠ©"
date: "2022-11-09T09:19:37.204Z"
---
Docker | å¸¸ç”¨å‘½ä»¤â€”â€”æ’é”™å¾ˆæœ‰å¸®åŠ©
=====================

Docker æ’æŸ¥é—®é¢˜ç›¸è¾ƒè€Œè¨€æ˜¯å›°éš¾çš„ã€‚å› æ­¤ï¼Œç†ŸçŸ¥ä¸€äº›å¸¸ç”¨å‘½ä»¤å¯¹æˆ‘ä»¬å¿«é€Ÿçš„æ’æŸ¥å®šä½é—®é¢˜æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚ä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹å§ğŸ‘‡

> ä¼—æ‰€å‘¨çŸ¥ï¼Œdocker æ’æŸ¥é—®é¢˜ç›¸è¾ƒè€Œè¨€æ˜¯å›°éš¾çš„ã€‚å› æ­¤ï¼Œç†ŸçŸ¥ä¸€äº›å¸¸ç”¨å‘½ä»¤å¯¹æˆ‘ä»¬å¿«é€Ÿçš„æ’æŸ¥å®šä½é—®é¢˜æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚ä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ ä¸€ä¸‹å§ğŸ‘‡

1ã€æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯
---------------

docker info

    [root@xiao docker]# docker info
    Client:
     Context:    default
     Debug Mode: false
     Plugins:
      app: Docker App (Docker Inc., v0.9.1-beta3)
      buildx: Build with BuildKit (Docker Inc., v0.6.1-docker)
      scan: Docker Scan (Docker Inc.)
    
    Server:
     Containers: 8
      Running: 5
      Paused: 0
      Stopped: 3
     Images: 16
     Server Version: 20.10.8
     Storage Driver: overlay2
      Backing Filesystem: extfs
      Supports d_type: true
      Native Overlay Diff: true
      userxattr: false
     Logging Driver: json-file
     Cgroup Driver: cgroupfs
     Cgroup Version: 1
     Plugins:
      Volume: local
      Network: bridge host ipvlan macvlan null overlay
      Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
     Swarm: inactive
     Runtimes: io.containerd.runc.v2 io.containerd.runtime.v1.linux runc
     Default Runtime: runc
     Init Binary: docker-init
     containerd version: e25210fe30a0a703442421b0f60afac609f950a3
     runc version: v1.0.1-0-g4144b63
     init version: de40ad0
     Security Options:
      seccomp
       Profile: default
     Kernel Version: 3.10.0-1062.1.2.el7.x86_64
     Operating System: CentOS Linux 7 (Core)
     OSType: linux
     Architecture: x86_64
     CPUs: 1
     Total Memory: 1.795GiB
     Name: xiao
     ID: SR3Y:RSZT:2ZAE:M33P:O2LT:55KN:A3XY:WE7V:QXJY:7Z32:M34L:NX7N
     Docker Root Dir: /var/lib/docker
     Debug Mode: false
     Registry: https://index.docker.io/v1/
     Labels:
     Experimental: false
     Insecure Registries:
      127.0.0.0/8
     Registry Mirrors:
      https://4h8ex9ed.mirror.aliyuncs.com/
     Live Restore Enabled: false
    
    [root@xiao docker]#
    

    docker version       #æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯
    docker info	     #æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡
    docker --help
    

æ–‡æ¡£åœ°å€ï¼š [https://docs.docker.com/reference/](https://docs.docker.com/reference/)

    port  	  # æŸ¥çœ‹æ˜ å°„ç«¯å£å¯¹åº”çš„å®¹å™¨å†…éƒ¨æºç«¯å£
    pause	    # æš‚åœå®¹å™¨
    ps        # å®¹å™¨åˆ—è¡¨
    pull      # ä»dockeré•œåƒæºæœåŠ¡å™¨æ‹‰å–æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒ
    push      # æ¨é€æŒ‡å®šé•œåƒæˆ–è€…åº“é•œåƒè‡³dockeræºæœåŠ¡å™¨
    restart   # é‡å¯è¿è¡Œçš„å®¹å™¨
    rm        # ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨
    rmi       # ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ ï¼ˆæ— å®¹å™¨ä½¿ç”¨è¯¥é•œåƒæ‰å¯åˆ é™¤ï¼Œå¦åˆ™éœ€è¦åˆ é™¤ç›¸å…³å®¹å™¨æ‰å¯ç»§ç»­æˆ– -f å¼ºåˆ¶åˆ é™¤ï¼‰
    run       # åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤
    save      # ä¿å­˜ä¸€ä¸ªé•œåƒä¸ºä¸€ä¸ª tar åŒ…ã€å¯¹åº” loadã€‘
    search    # åœ¨ docker hub ä¸­æœç´¢é•œåƒ
    start     # å¯åŠ¨å®¹å™¨
    stop      # åœæ­¢å®¹å™¨
    tag       # ç»™æºä¸­é•œåƒæ‰“æ ‡ç­¾
    top       # æŸ¥çœ‹å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯
    unpause   # å–æ¶ˆæš‚åœå®¹å™¨
    version   # æŸ¥çœ‹ dockerç‰ˆæœ¬å·
    wait      # æˆªå–å®¹å™¨åœæ­¢æ—¶çš„é€€å‡ºçŠ¶æ€å€¼
    attach    # Attach to a running container  #å½“å‰shellä¸‹attachè¿æ¥æŒ‡å®šè¿è¡Œé•œåƒ
    build     # Build an image from a Dockerfile  #é€šè¿‡Dockerfileå®šåˆ¶é•œåƒ
    commit    # Create a new image from a containers changes  #æäº¤å½“å‰å®¹å™¨ä¸ºæ–°çš„é•œåƒ
    cp        # Copy files/folders from a container to a HOSTDIR or to STDOUT  #ä»å®¹å™¨ä¸­æ‹·è´æŒ‡å®šæ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¿ä¸»æœºä¸­
    create    # Create a new container  #åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼ŒåŒrun ä½†ä¸å¯åŠ¨å®¹å™¨
    diff      # Inspect changes on a containers filesystem  #æŸ¥çœ‹dockerå®¹å™¨å˜åŒ–
    events    # Get real time events from the server#ä»dockeræœåŠ¡è·å–å®¹å™¨å®æ—¶äº‹ä»¶
    exec      # Run a command in a running container#åœ¨å·²å­˜åœ¨çš„å®¹å™¨ä¸Šè¿è¡Œå‘½ä»¤
    export    # Export a containers filesystem as a tar archive  #å¯¼å‡ºå®¹å™¨çš„å†…å®¹æµä½œä¸ºä¸€ä¸ªtarå½’æ¡£æ–‡ä»¶(å¯¹åº”import)
    history   # Show the history of an image  #å±•ç¤ºä¸€ä¸ªé•œåƒå½¢æˆå†å²
    inspect   # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
    kill      # kill æŒ‡å®šçš„å®¹å™¨
    

2ã€é•œåƒå‘½ä»¤
------

docker images

    docker images
    REPOSITORY            TAG       IMAGE ID       CREATED        SIZE
    jenkins/jenkins       latest    ba8a0e5dc5cb   4 months ago   570MB
    nginx                 latest    d1a364dc548d   4 months ago   133MB
    portainer/portainer   latest    580c0e4e98b0   6 months ago   79.1MB
    hello-world           latest    d1165f221234   6 months ago   13.3kB
    
    # è§£é‡Š
    REPOSITORY: é•œåƒä»“åº“æº
    TAG: é•œåƒç‰ˆæœ¬ä¿¡æ¯
    IMAGE ID: é•œåƒçš„ID
    CREATED: é•œåƒçš„åˆ›å»ºå®é™…çˆ±ä½ 
    SIZE: é•œåƒçš„å¤§å°
    
    å¯é€‰å‚æ•°
    docker images
    	-a : (--all) åˆ—å‡ºæ‰€æœ‰é•œåƒ
    	-q : (--quiet) åªæ˜¾ç¤ºé•œåƒID
    

### 2.1ã€æœç´¢é•œåƒ

docker search \[xxx\]

    docker search mysql
    
    NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
    mysql                             MySQL is a widely used, open-source relationâ€¦   11470     [OK]       
    mariadb                           MariaDB Server is a high performing open souâ€¦   4354      [OK]       
    mysql/mysql-server                Optimized MySQL Server Docker images. Createâ€¦   848                  [OK]
    percona                           Percona Server is a fork of the MySQL relatiâ€¦   555       [OK]       
    phpmyadmin                        phpMyAdmin - A web interface for MySQL and Mâ€¦   332       [OK]       
    centos/mysql-57-centos7           MySQL 5.7 SQL database server                   91                    [OK]
    
    
    docker search mysql --filter=STARS=3000 # æœç´¢startæ•°å¤§äº3000çš„
    NAME      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
    mysql     MySQL is a widely used, open-source relationâ€¦   11470     [OK]       
    mariadb   MariaDB Server is a high performing open souâ€¦   4354      [OK]
    

### 2.2ã€æ‹‰å–é•œåƒ

hub æœç´¢

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170241582-1727611460.png)

    docker pull é•œåƒå[:tag]
    
    # eg
    docker pull mysql
    Using default tag: latest               # å¦‚æœä¸å†™tag, é»˜è®¤å°±æ˜¯latest
    latest: Pulling from library/mysql
    a330b6cecb98: Pull complete 		# åˆ†å±‚ä¸‹è½½ï¼Œdocker image çš„æ ¸å¿ƒ è”åˆæ–‡ä»¶ç³»ç»Ÿ
    9c8f656c32b8: Pull complete 
    88e473c3f553: Pull complete 
    062463ea5d2f: Pull complete 
    daf7e3bdf4b6: Pull complete 
    1839c0b7aac9: Pull complete 
    cf0a0cfee6d0: Pull complete 
    1b42041bb11e: Pull complete 
    10459d86c7e6: Pull complete 
    b7199599d5f9: Pull complete 
    1d6f51e17d45: Pull complete 
    50e0789bacad: Pull complete 
    Digest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c  # ç­¾å
    Status: Downloaded newer image for mysql:latest
    docker.io/library/mysql:latest				# çœŸå®åœ°å€
    
    ----
    
    docker pull mysql
    ç­‰ä»·äº
    docker pull docker.io/library/mysql:latest
    
    ---
    # æŒ‡å®štag
    docker pull mysql:5.7
    5.7: Pulling from library/mysql
    a330b6cecb98: Already exists 			# è”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œå·²å­˜åœ¨çš„ä¸å†é‡å¤ä¸‹è½½
    9c8f656c32b8: Already exists 
    88e473c3f553: Already exists 
    062463ea5d2f: Already exists 
    daf7e3bdf4b6: Already exists 
    1839c0b7aac9: Already exists 
    cf0a0cfee6d0: Already exists 
    fae7a809788c: Pull complete 			# ä¸‹è½½ä¸å­˜åœ¨çš„
    dae5a82a61f0: Pull complete 
    7063da9569eb: Pull complete 
    51a9a9b4ef36: Pull complete 
    Digest: sha256:d9b934cdf6826629f8d02ea01f28b2c4ddb1ae27c32664b14867324b3e5e1291
    Status: Downloaded newer image for mysql:5.7
    docker.io/library/mysql:5.7
    
    ---
    #æŸ¥çœ‹
    docker images
    REPOSITORY            TAG       IMAGE ID       CREATED        SIZE
    mysql                 5.7       1d7aba917169   3 weeks ago    448MB
    mysql                 latest    0716d6ebcc1a   3 weeks ago    514MB
    jenkins/jenkins       latest    ba8a0e5dc5cb   4 months ago   570MB
    nginx                 latest    d1a364dc548d   4 months ago   133MB
    portainer/portainer   latest    580c0e4e98b0   6 months ago   79.1MB
    hello-world           latest    d1165f221234   6 months ago   13.3kB
    

### 2.3ã€åˆ é™¤é•œåƒ

docker rmi -f \[é•œåƒåã€é•œåƒID\]

    docker rmi -f [é•œåƒåã€é•œåƒID]
    
    docker rmi -f 1d7aba917169
    Untagged: mysql:5.7
    Untagged: mysql@sha256:d9b934cdf6826629f8d02ea01f28b2c4ddb1ae27c32664b14867324b3e5e1291
    Deleted: sha256:1d7aba9171693947d53f474014821972bf25d72b7d143ce4af4c8d8484623417
    Deleted: sha256:94ebbead5c58282fef91cc7d0fb56e4006a72434b4a6ae2cd5be98f369cb8c21
    Deleted: sha256:989da5efad29ec59bd536cd393d277bc777f8b9b34b8e3ad9593a4b0a83b40f4
    Deleted: sha256:7457ee6817c678da3cb383d27a3d79d5f3f25fbcb92958d5e8d5709e7631e23c
    Deleted: sha256:fe7dac53adebe33519b4e4fc577bfcddd7372cc313c35fae681fc82fb325fdc0
    

3ã€å®¹å™¨å‘½ä»¤
------

æœ‰äº†é•œåƒæ‰å¯ä»¥åˆ›å»ºå®¹å™¨ï¼Œä¸‹è½½centosé•œåƒè¿›è¡Œå­¦ä¹ 

    docker pull centos
    

### 3.1ã€æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨

    docker run [å¯é€‰å‚æ•°] imageName/imageId
    # å‚æ•°è¯´æ˜
    --name "NAME"  å®¹å™¨åå­—ï¼Œtomcat01, tomcat02, ç”¨æ¥åŒºåˆ†å®¹å™¨
    -d  åå°æ–¹å¼è¿è¡Œ
    -i  , -t   #ä½¿ç”¨äº¤äº’æ¨¡å¼è¿è¡Œï¼Œå¯ä»¥è¿›å…¥å®¹å™¨æŸ¥çœ‹å†…å®¹
    -p         #æŒ‡å®šå®¹å™¨ç«¯å£ -p 8080   
    	   -p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£  -p 3344:80
    	   -p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£   (å¸¸ç”¨)
               -p å®¹å™¨ç«¯å£
               å®¹å™¨ç«¯å£
    -P  	   #éšæœºæŒ‡å®šç«¯å£
    

### 3.2ã€å¯åŠ¨å®¹å™¨ï¼Œå¹¶è¿›å…¥å®¹å™¨

    [root@iZm5e----- ~]# docker run -it centos /bin/bash
    [root@c4a1504a9cf9 /]# ls  #æŸ¥çœ‹å®¹å™¨å†…çš„centos
    bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
    [root@c4a1504a9cf9 /]# exit # é€€å‡ºå®¹å™¨
    exit
    [root@iZm5e----- ~]# 
    

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170242020-205749936.png)

CONTAINER ID c4a1504a9cf9

### 3.3ã€æŸ¥çœ‹æ‰€æœ‰è¿è¡Œçš„å®¹å™¨

    docker ps     # æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨  exitä¹‹åå°±åœæ­¢äº†å®¹å™¨
    docker ps -a  # æŸ¥çœ‹æ‰€æœ‰è¿è¡Œè¿‡çš„ä»¥åŠåœ¨è¿è¡Œçš„å®¹å™¨
    
    docker ps -a
    CONTAINER ID   IMAGE                 COMMAND                  CREATED         STATUS                      PORTS     NAMES
    c4a1504a9cf9   centos                "/bin/bash"              7 minutes ago   Exited (0) 3 minutes ago              hungry_euler
    dc0c5076048e   hello-world           "/hello"                 2 months ago    Exited (0) 2 months ago               busy_cori
    
    
    docker ps -a -n=[æ•°å­—]  # æœ€è¿‘åˆ›å»ºçš„å®¹å™¨
    docker ps -a -n=1
    CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS                     PORTS     NAMES
    c4a1504a9cf9   centos    "/bin/bash"   11 minutes ago   Exited (0) 7 minutes ago             hungry_euler
    

### 3.4ã€é€€å‡ºå®¹å™¨

    exit          #å®¹å™¨åœæ­¢å¹¶é€€å‡º
    ctrl + p + q  #å®¹å™¨ä¸åœæ­¢é€€å‡º
    

### 3.5ã€åˆ é™¤å®¹å™¨

    docker rm å®¹å™¨ID                  # åˆ é™¤æŒ‡å®šå®¹å™¨  ä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨
    docker rm -f $(docker ps -aq)     # é€’å½’åˆ é™¤æ‰€æœ‰å®¹å™¨
    docker ps -a -q|xargs docker rm   # åˆ é™¤æ‰€æœ‰å®¹å™¨
    

### 3.6ã€å¯åŠ¨å’Œåœæ­¢å®¹å™¨

    docker start å®¹å™¨ID	# å¯åŠ¨å®¹å™¨
    docker restart å®¹å™¨ID 	# é‡å¯å®¹å™¨
    docker stop å®¹å™¨ID      # åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
    docker kill å®¹å™¨ID      # å¼ºåˆ¶åœæ­¢å½“å‰å®¹å™¨
    

4ã€å¸¸ç”¨å…¶å®ƒå‘½ä»¤
--------

### 4.1ã€åå°è¿è¡Œå®¹å™¨

    docker run -d centos
    463f1dc43e444ff6b6d0efd3f0c5047e118ddf64deed3aea2a8b5a6c89df61bb
    [root@iZm5e----- ~]# docker ps
    CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
    [root@iZm5e----- ~]#
    

å‘ç°åå°è¿è¡Œçš„å®¹å™¨ï¼Œåœæ­¢äº†

â— dockerä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ã€‚å¦åˆ™ï¼Œdockerå‘ç°æ²¡æœ‰æœåŠ¡ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢ğŸ‘€

### 4.2ã€æŸ¥çœ‹æ—¥å¿—

    docker logs --help
    
    #shellè„šæœ¬é€ æ—¥å¿—
    docker run -d centos /bin/sh -c "while true;do echo xiao;sleep 1;done"
    d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b
    [root@iZm5e----- ~]# docker ps
    CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES
    d5033adf13b4   centos    "/bin/sh -c 'while tâ€¦"   5 seconds ago   Up 4 seconds             competent_jang
    [root@iZm5e----- ~]# 
    
    #æ˜¾ç¤ºæ—¥å¿—
    docker logs -f -t --tail 10 d5033adf13b4
    2021-09-27T07:05:08.800676670Z xiao
    2021-09-27T07:05:09.803226803Z xiao
    2021-09-27T07:05:10.806019019Z xiao
    2021-09-27T07:05:11.809012200Z xiao
    2021-09-27T07:05:12.811505073Z xiao
    2021-09-27T07:05:13.817109532Z xiao
    2021-09-27T07:05:14.819543508Z xiao
    2021-09-27T07:05:15.822718210Z xiao
    ...
    
    -tf                 #æ˜¾ç¤ºæ—¥å¿—
    --tail [æ•°å­—]	    # æ˜¾ç¤ºæ—¥å¿—çš„æ¡æ•°
    

### 4.3ã€æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯ (ps - linux)

docker topå‘½ä»¤

    docker top å®¹å™¨ID
    
    docker top d5033adf13b4
    UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD
    root                29087               29069               0                   15:01               ?                   00:00:00            /bin/sh -c while true;do echo xiao;sleep 1;done
    root                29908               29087               0                   15:08               ?                   00:00:00            /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1
    [root@iZm5e----- ~]# 
    

### 4.4ã€æŸ¥çœ‹é•œåƒçš„æºæ•°æ®

dockers inspect å‘½ä»¤

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170242433-1923516998.png)

    docker inspect d5033adf13b4
    [
        {
            "Id": "d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b",
            "Created": "2021-09-27T07:01:42.833109605Z",
            "Path": "/bin/sh",
            "Args": [
                "-c",
                "while true;do echo xiao;sleep 1;done"
            ],
            "State": {
                "Status": "running",
                "Running": true,
                "Paused": false,
                "Restarting": false,
                "OOMKilled": false,
                "Dead": false,
                "Pid": 29087,
                "ExitCode": 0,
                "Error": "",
                "StartedAt": "2021-09-27T07:01:43.288158158Z",
                "FinishedAt": "0001-01-01T00:00:00Z"
            },
            "Image": "sha256:5d0da3dc976460b72c77d94c8a1ad043720b0416bfc16c52c45d4847e53fadb6",
            "ResolvConfPath": "/var/lib/docker/containers/d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b/resolv.conf",
            "HostnamePath": "/var/lib/docker/containers/d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b/hostname",
            "HostsPath": "/var/lib/docker/containers/d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b/hosts",
            "LogPath": "/var/lib/docker/containers/d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b/d5033adf13b49f537430fc19df9fe00b477301dfd3a2d9c287060c65c1a59d7b-json.log",
            "Name": "/competent_jang",
            "RestartCount": 0,
            "Driver": "overlay2",
            "Platform": "linux",
            "MountLabel": "",
            "ProcessLabel": "",
            "AppArmorProfile": "",
            "ExecIDs": null,
            "HostConfig": {
                "Binds": null,
                "ContainerIDFile": "",
                "LogConfig": {
                    "Type": "json-file",
                    "Config": {}
                },
                "NetworkMode": "default",
                "PortBindings": {},
                "RestartPolicy": {
                    "Name": "no",
                    "MaximumRetryCount": 0
                },
                "AutoRemove": false,
                "VolumeDriver": "",
                "VolumesFrom": null,
                "CapAdd": null,
                "CapDrop": null,
                "CgroupnsMode": "host",
                "Dns": [],
                "DnsOptions": [],
                "DnsSearch": [],
                "ExtraHosts": null,
                "GroupAdd": null,
                "IpcMode": "private",
                "Cgroup": "",
                "Links": null,
                "OomScoreAdj": 0,
                "PidMode": "",
                "Privileged": false,
                "PublishAllPorts": false,
                "ReadonlyRootfs": false,
                "SecurityOpt": null,
                "UTSMode": "",
                "UsernsMode": "",
                "ShmSize": 67108864,
                "Runtime": "runc",
                "ConsoleSize": [
                    0,
                    0
                ],
                "Isolation": "",
                "CpuShares": 0,
                "Memory": 0,
                "NanoCpus": 0,
                "CgroupParent": "",
                "BlkioWeight": 0,
                "BlkioWeightDevice": [],
                "BlkioDeviceReadBps": null,
                "BlkioDeviceWriteBps": null,
                "BlkioDeviceReadIOps": null,
                "BlkioDeviceWriteIOps": null,
                "CpuPeriod": 0,
                "CpuQuota": 0,
                "CpuRealtimePeriod": 0,
                "CpuRealtimeRuntime": 0,
                "CpusetCpus": "",
                "CpusetMems": "",
                "Devices": [],
                "DeviceCgroupRules": null,
                "DeviceRequests": null,
                "KernelMemory": 0,
                "KernelMemoryTCP": 0,
                "MemoryReservation": 0,
                "MemorySwap": 0,
                "MemorySwappiness": null,
                "OomKillDisable": false,
                "PidsLimit": null,
                "Ulimits": null,
                "CpuCount": 0,
                "CpuPercent": 0,
                "IOMaximumIOps": 0,
                "IOMaximumBandwidth": 0,
                "MaskedPaths": [
                    "/proc/asound",
                    "/proc/acpi",
                    "/proc/kcore",
                    "/proc/keys",
                    "/proc/latency_stats",
                    "/proc/timer_list",
                    "/proc/timer_stats",
                    "/proc/sched_debug",
                    "/proc/scsi",
                    "/sys/firmware"
                ],
                "ReadonlyPaths": [
                    "/proc/bus",
                    "/proc/fs",
                    "/proc/irq",
                    "/proc/sys",
                    "/proc/sysrq-trigger"
                ]
            },
            "GraphDriver": {
                "Data": {
                    "LowerDir": "/var/lib/docker/overlay2/9aec4e083e254075a863c62c5c54f7ad2d7321750b4384ff1e092e25c5dc257e-init/diff:/var/lib/docker/overlay2/d6e4be0166eac21b08ff7e34bb088bd7488086c5fd04603879424af35f8e6190/diff",
                    "MergedDir": "/var/lib/docker/overlay2/9aec4e083e254075a863c62c5c54f7ad2d7321750b4384ff1e092e25c5dc257e/merged",
                    "UpperDir": "/var/lib/docker/overlay2/9aec4e083e254075a863c62c5c54f7ad2d7321750b4384ff1e092e25c5dc257e/diff",
                    "WorkDir": "/var/lib/docker/overlay2/9aec4e083e254075a863c62c5c54f7ad2d7321750b4384ff1e092e25c5dc257e/work"
                },
                "Name": "overlay2"
            },
            "Mounts": [],
            "Config": {
                "Hostname": "d5033adf13b4",
                "Domainname": "",
                "User": "",
                "AttachStdin": false,
                "AttachStdout": false,
                "AttachStderr": false,
                "Tty": false,
                "OpenStdin": false,
                "StdinOnce": false,
                "Env": [
                    "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                ],
                "Cmd": [
                    "/bin/sh",
                    "-c",
                    "while true;do echo xiao;sleep 1;done"
                ],
                "Image": "centos",
                "Volumes": null,
                "WorkingDir": "",
                "Entrypoint": null,
                "OnBuild": null,
                "Labels": {
                    "org.label-schema.build-date": "20210915",
                    "org.label-schema.license": "GPLv2",
                    "org.label-schema.name": "CentOS Base Image",
                    "org.label-schema.schema-version": "1.0",
                    "org.label-schema.vendor": "CentOS"
                }
            },
            "NetworkSettings": {
                "Bridge": "",
                "SandboxID": "182c5e5a4f65a8c8ae6fffc733ef2ff02b9c7ea0e374331017cb651077fb77c6",
                "HairpinMode": false,
                "LinkLocalIPv6Address": "",
                "LinkLocalIPv6PrefixLen": 0,
                "Ports": {},
                "SandboxKey": "/var/run/docker/netns/182c5e5a4f65",
                "SecondaryIPAddresses": null,
                "SecondaryIPv6Addresses": null,
                "EndpointID": "7dd5c90916bf7c472a88dc308498f198b59c9606c144c6d413b77ecc03e05cc1",
                "Gateway": "172.17.0.1",
                "GlobalIPv6Address": "",
                "GlobalIPv6PrefixLen": 0,
                "IPAddress": "172.17.0.2",
                "IPPrefixLen": 16,
                "IPv6Gateway": "",
                "MacAddress": "02:42:ac:11:00:02",
                "Networks": {
                    "bridge": {
                        "IPAMConfig": null,
                        "Links": null,
                        "Aliases": null,
                        "NetworkID": "feafa30d4051f24353508959bd420fd163ad0c98d6b30ec8ff13b59a59552bb1",
                        "EndpointID": "7dd5c90916bf7c472a88dc308498f198b59c9606c144c6d413b77ecc03e05cc1",
                        "Gateway": "172.17.0.1",
                        "IPAddress": "172.17.0.2",
                        "IPPrefixLen": 16,
                        "IPv6Gateway": "",
                        "GlobalIPv6Address": "",
                        "GlobalIPv6PrefixLen": 0,
                        "MacAddress": "02:42:ac:11:00:02",
                        "DriverOpts": null
                    }
                }
            }
        }
    ]
    [root@iZm5e----- ~]#
    

### 4.5ã€è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨

#### 4.5.1ã€docker exec -it å®¹å™¨ID bashShell ï¼ˆå¸¸ç”¨ï¼‰

    docker exec -it d5033adf13b4 /bin/bash
    [root@d5033adf13b4 /]# ls
    bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
    [root@d5033adf13b4 /]# ps -ef
    UID        PID  PPID  C STIME TTY          TIME CMD
    root         1     0  0 07:01 ?        00:00:00 /bin/sh -c while true;do echo xiao;sleep 1;done
    root      1895     0  0 07:33 pts/0    00:00:00 /bin/bash
    root      1937     1  0 07:33 ?        00:00:00 /usr/bin/coreutils --coreutils-prog-shebang=sleep /usr/bin/sleep 1
    root      1938  1895  0 07:33 pts/0    00:00:00 ps -ef
    [root@d5033adf13b4 /]# 
    

#### 4.5.2ã€docker attach å®¹å™¨ID

    docker attach d5033adf13b4
    xiao
    xiao
    xiao
    xiao
    xiao
    ...
    

#### 4.5.3ã€äºŒè€…åŒºåˆ«

*   docker exec # è¿›å…¥å®¹å™¨åï¼Œ**å¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯**ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œ
    
*   docker attach # è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œ**ä¸ä¼šå¼€å¯æ–°çš„è¿›ç¨‹**ã€‚
    

### 4.6ã€æ‹·è´å®¹å™¨å†…æ–‡ä»¶åˆ°ä¸»æœºä¸Š

æ‰‹åŠ¨åŒæ­¥

docker cp å‘½ä»¤

    docker cp å®¹å™¨ID:å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„
    
    docker cp 2b7529b86ad0:/home/index.txt /home
    [root@iZm5e----- ~]# ls
    life  mysql-community-release-el7-5.noarch.rpm  study  testSH  work
    [root@iZm5e----- ~]# cd /home/
    [root@iZm5e----- home]# ls
    index.txt  jenkins  test
    [root@iZm5e----- home]# 
    

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170242865-1991650073.png)

#### 4.6.1ã€é—®é¢˜æ¢ç´¢

ğŸ‘€å¦‚ä½•å®ç°è‡ªåŠ¨åŒæ­¥ï¼Œæ‰“é€šå®¹å™¨å’Œä¸»æœº

è¿™ä¸ªé—®é¢˜ä¸‹ç¯‡è®²è§£ğŸ˜Š

### 4.7ã€æŸ¥çœ‹cpuå†…å­˜ä½¿ç”¨æƒ…å†µ

docker stats

æ¯ç§’åˆ·æ–°

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170243323-2091108362.png)

![](https://img2022.cnblogs.com/blog/1037867/202211/1037867-20221109170243723-267486152.png)

æˆ‘æ˜¯ [**ç”œç‚¹cc**](https://blog.i-xiao.space/)â˜­

å¾®ä¿¡å…¬ä¼—å·ï¼šã€çœ‹è§å¦ä¸€ç§å¯èƒ½ã€‘

çƒ­çˆ±å‰ç«¯å¼€å‘ï¼Œä¹Ÿå–œæ¬¢ä¸“ç ”å„ç§è·Ÿæœ¬èŒå·¥ä½œå…³ç³»ä¸å¤§çš„æŠ€æœ¯ï¼ŒæŠ€æœ¯ã€äº§å“å…´è¶£å¹¿æ³›ä¸”æµ“åšã€‚æœ¬å·ä¸»è¦è‡´åŠ›äºåˆ†äº«ä¸ªäººç»éªŒæ€»ç»“ï¼Œå¸Œæœ›å¯ä»¥ç»™ä¸€å°éƒ¨åˆ†äººä¸€äº›å¾®å°å¸®åŠ©ã€‚

å¸Œæœ›èƒ½å’Œå¤§å®¶ä¸€èµ·åŠªåŠ›è¥é€ ä¸€ä¸ªè‰¯å¥½çš„å­¦ä¹ æ°›å›´ï¼Œä¸ºäº†ä¸ªäººå’Œå®¶åº­ã€ä¸ºäº†æˆ‘å›½çš„äº’è”ç½‘ç‰©è”ç½‘æŠ€æœ¯ã€æ•°å­—åŒ–è½¬å‹ã€æ•°å­—ç»æµå‘å±•åšä¸€ç‚¹ç‚¹è´¡çŒ®ã€‚æ•°é£æµäººç‰©è¿˜çœ‹ä¸­å›½ã€çœ‹ä»Šæœã€çœ‹ä½ æˆ‘ã€‚

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[ç”œç‚¹cc](https://www.cnblogs.com/all-smile/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/all-smile/p/16874416.html](https://www.cnblogs.com/all-smile/p/16874416.html)