---
layout: post
title: "Isaac Sim æœºå™¨äººä»¿çœŸå™¨ä»‹ç»ã€å®‰è£…ä¸ Docker [1]"
date: "2023-01-07T22:14:13.642Z"
---
Isaac Sim æœºå™¨äººä»¿çœŸå™¨ä»‹ç»ã€å®‰è£…ä¸ Docker \[1\]
===================================

å‰è¨€ä¸å‚è€ƒ
=====

æ­¤æ–‡ä¹¦å†™äºï¼š January 6, 2023ï¼Œ æ›´æ–°äº January 6, 2023 ï¼›å¯èƒ½ä¼šéšç€æ—¶é—´çš„å˜åŒ– æ­¤æ•™ç¨‹ä¼šæœ‰è¿‡æ—¶æ¦‚å¿µå“¦

Isaac Sim ç›¸å…³å‚è€ƒé“¾æ¥ï¼š

1.  [å®˜æ–¹æ–‡æ¡£åœ°å€](https://docs.omniverse.nvidia.com/app_isaacsim/app_isaacsim/overview.html)
2.  [å®˜æ–¹docker image é•œåƒåœ°å€](https://catalog.ngc.nvidia.com/orgs/nvidia/containers/isaac-sim)
3.  [å®˜æ–¹è®¨è®º è®ºå›é“¾æ¥](https://forums.developer.nvidia.com/c/omniverse/simulation/69)ï¼Œå»ºè®®æ²¡å•¥äº‹å°±å¯ä»¥é€›é€›ï¼Œçœ‹é—®é¢˜å’Œå›ç­”ä¹Ÿæ˜¯ä»¶å¾ˆæœ‰æ„æ€çš„äº‹

æœ¬ç¯‡ä¸»è¦æ˜¯æ ¹æ®å‚è€ƒ1ï¼Œç›¸å½“éƒ¨åˆ†æ–‡å­—ç›´æ¥ç¿»è¯‘è€Œæ¥

* * *

Test computer and System:

*   Desktop setting: i9-12900KF, GPU 3090, CUDA 11.3
*   System setting: Ubuntu 20.04, ROS noetic (Python 3.8)

Introduction ä»‹ç»
===============

Isaac Simæ˜¯ä»€ä¹ˆå‹’ï¼Ÿæ˜¯ä¸€ä¸ªé’ˆå¯¹äºæœºå™¨äººçš„ä»¿çœŸå™¨ï¼›ä¹‹å‰æˆ‘æœ‰å†™è¿‡ä¸€ç³»åˆ—çš„CARLAä»¿çœŸå™¨æ•™ç¨‹ï¼Œè€Œè¿™é‡Œä¸ºä»€ä¹ˆè¦æ–°å¼€ä»¿çœŸå™¨å‘¢ï¼Ÿä¸»è¦å°±æ˜¯CARLAçš„å®šä½æ˜¯é’ˆå¯¹äºå®¤å¤–æ— äººé©¾é©¶çš„ï¼Œè€ŒIsaac Simæ›´å¤šé’ˆå¯¹äºå®¤å†…çš„æœºå™¨äººç³»åˆ—ï¼ŒåŒ…æ‹¬AGVï¼Œ è½¦ä¸Šå¸¦ä¸ªæœºæ¢°è‡‚ï¼Œå…¶å®æ›´é è¿‘ CoppeliaSim VREP çš„ä½¿ç”¨æ–¹å‘ã€‚

![](https://img-blog.csdnimg.cn/64a95cbde0374995bb8e42d3316dd994.png)

å®˜æ–¹æˆªå›¾

æ—¢ç„¶ä»‹ç»åˆ°äº†ä»¿çœŸå™¨ï¼Œé‚£ä¸€å£æ°”éƒ½è¯´ä¸€ä¸‹å¥½äº† ã€æˆ‘å’Œå°ä¼™ä¼´å·²çŸ¥çš„ã€‘ï¼š

Some simulators for robotics or autonomous driving scenarios

*   CARLA focus on autonomous driving æ— äººé©¾é©¶åœºæ™¯ï¼›[http://carla.org/](http://carla.org/)
*   CoppeliaSim focuses on robotics æœºå™¨äººåœºæ™¯ï¼›[https://www.coppeliarobotics.com/](https://www.coppeliarobotics.com/) ã€usually on Robotic Arms æœºæ¢°è‡‚å¸¸ç”¨ã€‘
*   Isaac Sim focuses on robotics æœºå™¨äººåœºæ™¯ï¼›[https://developer.nvidia.com/isaac-sim](https://developer.nvidia.com/isaac-sim)
*   IssacÂ Gym is the same as the above one but has more RL setting here; åŒä¸Šï¼ŒRLç¯å¢ƒæ›´å¤šï¼›[https://developer.nvidia.com/isaac-gym](https://developer.nvidia.com/isaac-gym)
*   RaiSim focuses on robotics æœºå™¨äººåœºæ™¯ï¼Œ official introduction: a cross-platform multi-body physics engine for robotics and AIï¼›[https://raisim.com/](https://raisim.com/)

Isaac SimèƒŒé NVIDIA è‹±ä¼Ÿè¾¾ï¼æ‰€ä»¥å¯¹æ¯”ä¸coppeliasim å®ƒå¯¹äºä¼ æ„Ÿå™¨å’Œä¸–ç•Œçš„ä»¿çœŸæ›´æ›´ä¸ºçœŸå®ä¸€ç‚¹ã€æˆ‘æ²¡éå¸¸ä»”ç»†å¯¹æ¯”è¿‡ è¯´é”™äº†ä¸æ€ªæˆ‘ çº¯è‚‰çœ¼çœ‹çš„æ„Ÿè§‰ã€‘ï¼Œç„¶åæ˜¯å¯¹äºGPUçš„æ”¯æŒï¼Œåªè¦GPUåˆ°ä½ ä»¿çœŸæ”¶æ•°æ®é€Ÿåº¦ä»€ä¹ˆçš„éƒ½åº”è¯¥å¯ä»¥å¾ˆå¿«

å®˜æ–¹ä»‹ç»ç¿»è¯‘ï¼š

> Isaac Sim å…·æœ‰æ„å»ºè™šæ‹Ÿæœºå™¨äººä¸–ç•Œå’Œå®éªŒçš„åŸºæœ¬åŠŸèƒ½ã€‚å®ƒä¸ºç ”ç©¶äººå‘˜å’Œä»ä¸šè€…æä¾›äº†åˆ›å»ºç¨³å¥ã€ç‰©ç†ä¸Šå‡†ç¡®çš„æ¨¡æ‹Ÿå’Œåˆæˆæ•°æ®é›†æ‰€éœ€çš„å·¥å…·å’Œå·¥ä½œæµç¨‹ã€‚Isaac Sim é€šè¿‡ ROS/ROS2 æ”¯æŒå¯¼èˆªå’Œæ“ä½œåº”ç”¨ç¨‹åºã€‚å®ƒæ¨¡æ‹Ÿæ¥è‡ª RGB-Dã€æ¿€å…‰é›·è¾¾å’Œ IMU ç­‰ä¼ æ„Ÿå™¨çš„ä¼ æ„Ÿå™¨æ•°æ®ï¼Œç”¨äºå„ç§è®¡ç®—æœºè§†è§‰æŠ€æœ¯ï¼Œä¾‹å¦‚åŸŸéšæœºåŒ–ã€åœ°é¢å®å†µæ ‡è®°ã€åˆ†å‰²å’Œè¾¹ç•Œæ¡†ã€‚

å¼€å‘å·¥ä½œæµç¨‹å›¾
-------

ä»å›¾é‡Œèƒ½çœ‹å‡ºæ¥ æ•´ä¸ªworkflowï¼ŒUIã€Python APIã€ROSç­‰ å‡å¯ä»¥é€šä¿¡

![](https://img-blog.csdnimg.cn/65ce9d61dbbb49e9bae3c94e95898362.png)

çœ‹å®˜æ–¹æ–‡æ¡£ åº”è¯¥æ˜¯ç†Ÿæ‚‰ä¸€ä¸‹UI æ¯”å¦‚æ·»åŠ ç‰©å“ä¹‹ç±»çš„

æœ¬æœºç¯å¢ƒ
====

Install å®‰è£…
----------

ç‚¹å‡»Downloadï¼Œç„¶åå¡«å†™ä¿¡æ¯åå°±å¯ä»¥é€‰æ‹©ä¸‹è½½Window or Linuxäº†ï¼Œå®‰è£…å®Œæˆåè¿›å…¥Running è¿è¡Œéƒ¨åˆ†ï¼›å‰ææè¦ [å®‰è£…æ˜¾å¡åŠæ˜¾å¡é©±åŠ¨ï¼Œè¯¦æƒ…ç‚¹å‡»æ­¤æ–‡å­— è§åšå®¢](https://www.cnblogs.com/kin-zhang/p/17007246.html)

[2\. Workstation Installation - Omniverse Robotics documentation](https://docs.omniverse.nvidia.com/app_isaacsim/app_isaacsim/install_workstation.html)

æ­¤ä¸ºUbuntuç¤ºä¾‹ï¼ŒWIndowå†…ç½®æœ‰nvidiaå®˜æ–¹æ‹çš„è§†é¢‘

1.  ä¸‹è½½ Download theÂ [Omniverse Launcher](https://www.nvidia.com/en-us/omniverse/).
    
2.  å®‰è£…è¿è¡Œ [Install Omniverse Launcher](https://docs.omniverse.nvidia.com/prod_launcher/prod_launcher/installing_launcher.html)
    
        sudo chmod +x omniverse-launcher-linux.AppImage
        ./omniverse-launcher-linux.AppImage
        
    
3.  ä¸‹è½½ Isaac Simï¼›å¦‚å›¾ ã€å…¨UIæ“ä½œã€‘ ä¸‹è½½ Isaac Sim éœ€è¦ 7.49G
    
    ![](https://img-blog.csdnimg.cn/535c9595f88c4a5ca6944d3f87efe6ca.png)
    

Running è¿è¡Œ
----------

å¦‚å›¾ å®‰è£…å®Œæˆåä¼šå‡ºç° isaac sim ç„¶åç‚¹ä¸€ä¸‹launchï¼Œç„¶åå†æŒ‰ä¸ªstartï¼›åç»­å¯ä»¥ä»LIBRARYå¤„ç‚¹å‡»launch

![](https://img-blog.csdnimg.cn/1384a7b9ecc2482ea2a3c65a02d969cc.png)

å³é”®éšä¾¿åŠ äº†ä¸€ä¸ªåœ†é”¥ é¡ºä¾¿æˆªå›¾æœ‰æŒ‡æ˜æ˜¾å­˜è€—çš„æƒ…å†µã€æ˜¾ç¤ºå™¨æ˜¯1080pçš„ã€‘

![](https://img-blog.csdnimg.cn/64d50705509c4a9b83eae6b518ac0b81.png)

DockeråŠäº‘ç«¯
=========

Install å®‰è£…
----------

[3\. Container Installation - Omniverse Robotics documentation](https://docs.omniverse.nvidia.com/app_isaacsim/app_isaacsim/install_container.html)

Docker å®‰è£…è§ è¯¦æƒ…ç‚¹å‡»æ­¤è¿›å…¥å¯¹åº”åšå®¢æ–‡ç« 

å¦‚ä¸‹ éœ€è¦åƒdockerhubä¸€ä¸‹æ³¨å†Œè´¦å·ç­‰

![](https://img-blog.csdnimg.cn/0e125ab77b174b59b27e24b0060fa47b.png)

    docker login nvcr.io
    
    docker pull nvcr.io/nvidia/isaac-sim:2022.2.0
    

ç„¶åå‘¢ éœ€è¦ç”¨ [Omniverse Streaming Client](https://docs.omniverse.nvidia.com/app_streaming-client/app_streaming-client/user-manual.html) æ¥è¿›è¡Œçª—å£å±•ç¤º

æ³¨æ„å¦‚æœæ˜¯æœåŠ¡å™¨ï¼ï¼å¤§éƒ¨åˆ†æœåŠ¡å™¨ä¸ºäº†å®‰å…¨ç€æƒ³ åªä¼šå¼€å‡ ä¸ªå›ºå®šç«¯å£è¿›è¡Œé“¾æ¥ï¼Œæ‰€ä»¥ä¸€å®šè¦ç¡®ä¿è‡ªå·±ä»¥ä¸‹ç«¯å£æ‰“å¼€å¹¶å¯ä»¥è¿æ¥ï¼š

    Should the host be located on the infrastructure of a third-party Cloud provider, 
    it may additionally be required that the following ports be opened, and that 
    firewall rules allow traffic inbound and outbound traffic:
    
    TCP: 47995 to 48012
    TCP: 49000 to 49007
    TCP: 49100
    UDP: 47995 to 48012
    UDP: 49000 to 49007
    

æ›´å¤šå¯è§ [å®˜æ–¹ç»™çš„æç¤ºï¼Œç‚¹å‡»æ­¤è·³è½¬å®˜æ–¹ç½‘é¡µ](https://docs.omniverse.nvidia.com/app_streaming-client/app_streaming-client/user-manual.html)

Running è¿è¡Œ
----------

å› ä¸ºæ‰‹å¤´æ²¡æœ‰å¯ç”¨æœåŠ¡å™¨ï¼Œæ‰€ä»¥å°±å±•ç¤ºä¸€ä¸‹Dockerçš„ç”¨æ³•ï¼Œä¸»è¦æ˜¯`--net=host`åä¸€åˆ‡éƒ½å¥½åŠ

1.  ç”¨imageå¼€ä¸€ä¸ªcontainer
    
        docker run --name isaac-sim --entrypoint bash -it --gpus all -e "ACCEPT_EULA=Y" --rm --network=host \
            -v /usr/share/vulkan/icd.d/nvidia_icd.json:/etc/vulkan/icd.d/nvidia_icd.json \
            -v /usr/share/vulkan/implicit_layer.d/nvidia_layers.json:/etc/vulkan/implicit_layer.d/nvidia_layers.json \
            -v /usr/share/glvnd/egl_vendor.d/10_nvidia.json:/usr/share/glvnd/egl_vendor.d/10_nvidia.json \
            -v ~/docker/isaac-sim/cache/ov:/root/.cache/ov:rw \
            -v ~/docker/isaac-sim/cache/pip:/root/.cache/pip:rw \
            -v ~/docker/isaac-sim/cache/glcache:/root/.cache/nvidia/GLCache:rw \
            -v ~/docker/isaac-sim/cache/computecache:/root/.nv/ComputeCache:rw \
            -v ~/docker/isaac-sim/logs:/root/.nvidia-omniverse/logs:rw \
            -v ~/docker/isaac-sim/config:/root/.nvidia-omniverse/config:rw \
            -v ~/docker/isaac-sim/data:/root/.local/share/ov/data:rw \
            -v ~/docker/isaac-sim/documents:/root/Documents:rw \
            nvcr.io/nvidia/isaac-sim:2022.2.0
        
    
    å”¯ä¸€ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ã€å› ä¸ºå®˜æ–¹é»˜è®¤çš„ä¸é€‚é…æˆ‘çš„ç¯å¢ƒ ä¸Šè¿°å·²ç»æ˜¯å˜äº†çš„ã€‘ æ‰¾åˆ°è‡ªå·±`nvidia_icd.json` æ–‡ä»¶åœ°å€ï¼›å¯èƒ½åœ°å€å¦‚ä¸‹ï¼š
    
        # å®˜æ–¹é»˜è®¤
        -v /etc/vulkan/icd.d/nvidia_icd.json:/etc/vulkan/icd.d/nvidia_icd.json \
        -v /etc/vulkan/implicit_layer.d/nvidia_layers.json:/etc/vulkan/implicit_layer.d/nvidia_layers.json \
        
        # æˆ‘çš„ç¯å¢ƒ
        -v /usr/share/vulkan/icd.d/nvidia_icd.json:/etc/vulkan/icd.d/nvidia_icd.json \
        -v /usr/share/vulkan/implicit_layer.d/nvidia_layers.json:/etc/vulkan/implicit_layer.d/nvidia_layers.json \
        
    
2.  åœ¨containerè¿è¡Œä¸€è¡Œ
    
        # inside container
        ./runheadless.native.sh
        
    
    è¯·éµå¾ªå®˜æ–¹çš„æ‰‹å†Œ ç­‰åˆ°ç»ˆç«¯æ‰“å°å‡º å†è¿›è¡Œä¸‹é¢çš„çª—å£å±•ç¤º ã€ç¬¬ä¸€æ¬¡ä¸€èˆ¬æ…¢ä¸€ç‚¹ å®˜æ–¹æ–‡å­—ï¼šIt may take **a few minutes** for Isaac Sim to be completely loaded.ã€‘
    
        Isaac Sim Headless Native App is loaded.
        # å®é™…ä¸Šæˆ‘æ˜¾ç¤ºçš„æ˜¯è¿™ä¸ª
        [22.315s] app ready
        
    
    ![](https://img-blog.csdnimg.cn/f95f05c982f54ed396e06b0bf9cc1227.png)
    
3.  ç”¨ [Omniverse Streaming Client](https://docs.omniverse.nvidia.com/app_streaming-client/app_streaming-client/user-manual.html) æ¥è¿›è¡Œçª—å£å±•ç¤º
    
    ![](https://img-blog.csdnimg.cn/3d18c210fea947b3a538f875fc2ca112.png)
    
    ç„¶åæ³¨æ„è¿™ä¸€æ­¥ ä¸€å¼€å§‹å¯èƒ½æ˜¾ç¤ºçš„æ˜¯RTX Loading å°±æ˜¯è¿˜åœ¨ç¼–è¯‘ ray tracing shadersï¼Œè¿™ä¸€ç‚¹å®˜æ–¹ä¹Ÿæœ‰æç¤º ç¬¬ä¸€æ¬¡çš„æ—¶å€™ ä¸€èˆ¬éœ€è¦å‡ åˆ†é’Ÿï¼Œæ¯”å¦‚æˆ‘çš„é…ç½® è€—æ—¶äº†212så»å®Œæˆè¿™ä¸ªæ˜¾ç¤º
    
    The first time loading Isaac Sim will take a while for the shaders to be cached. Subsequent runs of Isaac Sim with be quick once the shaders are cached and the cache is mounted when the container runs.
    
    åœ¨å¦‚å³RTX readyå éšæ‰‹åŠ äº†create ä¸¤ä¸ªmesh shape
    

æœ€ååœ¨dockerå†… çª—å£å¥½åƒæœ‰ç‚¹æ²¡æ³•å˜ è¿™ä¸€ç‚¹å¥½åƒå¾—è®¾ç½®ä¸€ä¸‹ restart [å…·ä½“è§å®˜æ–¹é“¾æ¥æ“ä½œå§](https://docs.omniverse.nvidia.com/app_streaming-client/app_streaming-client/user-manual.html)

    # Default value is set to `1.0`, and can be adjusted for best results:
    --/app/window/dpiScaleOverride=1.5
    

è¿˜æœ‰dockerè¿è¡Œé‡Œ éšæ‰‹å¼€äº†ä¸€ä¸ªexampleçš„åœºæ™¯ä¹Ÿè¿˜è¡Œï¼š

![](https://img-blog.csdnimg.cn/3ccf549e4387408f89b7b08d5acfb609.png)

æ€»ç»“
==

ä»¥ä¸Š ä¸º Isaac ç›¸å…³ä»‹ç»å•¦~ åŒ…æ‹¬ä¸€ç³»åˆ—çš„å®‰è£… åç»­å¯èƒ½å†æ¥ä¸€ä¸ªæ”¾ä¸ªå°æœºå™¨äºº æå‡ ä¸ªä¼ æ„Ÿå™¨ å¼€æ”¶æ•°æ® å·®ä¸å¤šå°±ç»“æŸäº† APIå¯ä»¥å¯¹ç€å®˜æ–¹æ–‡æ¡£çœ‹å°±è¡Œ

* * *

èµ äººç‚¹èµ æ‰‹æœ‰ä½™é¦™ ğŸ˜†ï¼›æ­£å‘å›é¦ˆ æ‰èƒ½æ›´å¥½å¼€æ”¾è®°å½• hhh