---
layout: post
title: "ä¸åŒç¨‹åºé›†ï¼Œåç§°ç©ºé—´ç±»åå’Œæ–¹æ³•ç­¾åéƒ½ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚ä½•è°ƒç”¨"
date: "2023-02-21T01:16:36.697Z"
---
ä¸åŒç¨‹åºé›†ï¼Œåç§°ç©ºé—´ç±»åå’Œæ–¹æ³•ç­¾åéƒ½ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚ä½•è°ƒç”¨
============================

æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œä¸åŒç¨‹åºé›†ï¼Œåç§°ç©ºé—´ç±»åå’Œæ–¹æ³•ç­¾åéƒ½ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚ä½•è°ƒç”¨ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡åˆ«åçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

æœ‰æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œä¸åŒç¨‹åºé›†ï¼Œåç§°ç©ºé—´ç±»åå’Œæ–¹æ³•ç­¾åéƒ½ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚ä½•è°ƒç”¨ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡åˆ«åçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

åˆ›å»ºä¸¤ä¸ªä¸åŒçš„ç¨‹åºé›†
----------

æˆ‘ä»¬æ¥åˆ›å»ºä¸¤ä¸ªä¸åŒçš„ç¨‹åºé›†ï¼Œä½†æ˜¯ä»–ä»¬çš„åç§°ç©ºé—´ä¸€æ ·ï¼š

    dotnet new classlib -o ClassLibrary1 -n ClassLibrary1
    dotnet new classlib -o ClassLibrary2 -n ClassLibrary2
    

ä¿®æ”¹ä»–ä»¬çš„ RootNamespace ä¸º Exampleï¼š

    <Project Sdk="Microsoft.NET.Sdk">
    
      <PropertyGroup>
        <TargetFramework>net7.0</TargetFramework>
        <RootNamespace>Example</RootNamespace>
      </PropertyGroup>
    
    </Project>
    

ç„¶åï¼Œæˆ‘ä»¬åœ¨ä¸¤ä¸ªç¨‹åºé›†ä¸­éƒ½åˆ›å»ºä¸€ä¸ªç±»ï¼Œç±»åä¹Ÿä¸€æ ·ï¼Œå¹¶ä¸”æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ Where æ‰©å±•æ–¹æ³•ï¼š

    namespace Example
    {
        public static class LinqExtensions
        {
            public static void Where(IEnumerable<int> source)
            {
                // åœ¨è¿™é‡Œæ·»åŠ ä»£ç 
                Console.WriteLine("ClassLibrary1.Class1.Where");
            }
        }
    }
    

åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°åº”ç”¨
---------

ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°åº”ç”¨ï¼Œæ¥è°ƒç”¨è¿™ä¸¤ä¸ªç¨‹åºé›†ä¸­çš„ Where æ–¹æ³•ï¼š

    dotnet new console -o ConsoleAppShi -n ConsoleAppShi
    dotnet add ConsoleAppShi reference ClassLibrary1
    dotnet add ConsoleAppShi reference ClassLibrary2
    

ç„¶åï¼Œæˆ‘ä»¬åœ¨æ§åˆ¶å°åº”ç”¨ä¸­è°ƒç”¨è¿™ä¸¤ä¸ªç¨‹åºé›†ä¸­çš„ Where æ–¹æ³•ï¼š

    using Example;
    var list = new int[]{1,2,3};
    LinqExtensions.Where(list);
    

å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¿™ä¸ªé”™è¯¯ï¼š

    Ambiguous reference: Example.LinqExtensions Example.LinqExtensions match
    

é€šè¿‡åˆ«åçš„æ–¹å¼æ¥è§£å†³
----------

æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ«åçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆä¿®æ”¹é¡¹ç›®æ–‡ä»¶ï¼Œè®¾ç½®ä¸¤ä¸ªç¨‹åºé›†çš„åˆ«åï¼š

    <Project Sdk="Microsoft.NET.Sdk">
    
      <ItemGroup>
        <ProjectReference Include="..\ClassLibrary1\ClassLibrary1.csproj">
          <Aliases>ClassLibrary1</Aliases>
        </ProjectReference>
        <ProjectReference Include="..\ClassLibrary2\ClassLibrary2.csproj">
          <Aliases>ClassLibrary2</Aliases>
        </ProjectReference>
      </ItemGroup>
    </Project>
    

ç„¶åï¼Œæˆ‘ä»¬åœ¨æ§åˆ¶å°åº”ç”¨ä¸­è°ƒç”¨è¿™ä¸¤ä¸ªç¨‹åºé›†ä¸­çš„ Where æ–¹æ³•ï¼š

    extern alias ClassLibrary1;
    extern alias ClassLibrary2;
    
    var list = new[] { 1, 2, 3 };
    
    ClassLibrary1::Example.LinqExtensions.Where(list);
    ClassLibrary2::Example.LinqExtensions.Where(list);
    

è¿è¡Œå°±ä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœï¼š

    ClassLibrary1.Class1.Where
    ClassLibrary2.Class1.Where
    

ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§é—®é¢˜
---------

ä¸€èˆ¬æ¥è¯´ä½ ä¼šåœ¨ä¸‰ç§æƒ…å†µä¸‹é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼š

1.  æŸä¸ªå¼€æºé¡¹ç›®ä½¿ç”¨ ILmerge æŠŠå¤šä¸ªç¨‹åºé›†åˆå¹¶æˆä¸€ä¸ªç¨‹åºé›†ã€‚å…¶ä¸­ä¸€ä¸ªä¾èµ–é¡¹ A æ°å¥½ä¹Ÿæ˜¯ä½ çš„ä¾èµ–é¡¹ï¼Œä½†æ˜¯ A çš„ç‰ˆæœ¬å’Œå¼€æºé¡¹ç›®çš„ä¾èµ–é¡¹ A çš„ç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œè¿™æ—¶å€™ä½ å°±ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚
2.  å¾ˆæ—©ä¹‹å‰ Rx.net æ­£å¯¹ System.Linq.Async è¿›è¡Œäº†æ”¯æŒï¼Œè€Œåæ¥ç³»ç»Ÿä¹Ÿå†…ç½®äº† System.Linq.Asyncã€‚ä½ ä¼šåœ¨ä½¿ç”¨ Rx.net çš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚
3.  ä½ çš„åŒäº‹æƒ³è€ƒéªŒä½ ä¸€ä¸‹ï¼Œä¼°è®¡æŠŠè‡ªå·±å†™çš„ Sqlite æ‰©å±•å’Œ MSSQL æ‰©å±•ä¸­åŠ å…¥äº†åŒæ ·çš„æ–¹æ³•ç­¾åï¼Œç„¶åä½ å°±ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚

æ€»ç»“
--

é€šè¿‡åˆ«åçš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³ä¸åŒç¨‹åºé›†ï¼Œåç§°ç©ºé—´ç±»åå’Œæ–¹æ³•ç­¾åéƒ½ä¸€æ ·çš„æ–¹æ³•ï¼Œå¦‚ä½•è°ƒç”¨çš„é—®é¢˜ã€‚

å‚è€ƒ
--

*   [extern alias (C# Reference)](https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/extern-alias?WT.mc_id=DX-MVP-5003606)1

æ„Ÿè°¢é˜…è¯»ï¼Œå¦‚æœè§‰å¾—æœ¬æ–‡æœ‰ç”¨ï¼Œä¸å¦¨ç‚¹å‡»æ¨èğŸ‘æˆ–è€…åœ¨è¯„è®ºåŒºç•™ä¸‹ Markï¼Œè®©æ›´å¤šçš„äººå¯ä»¥çœ‹åˆ°ã€‚

> æ¬¢è¿å…³æ³¨ä½œè€…çš„å¾®ä¿¡å…¬ä¼—å·â€œnewbeæŠ€æœ¯ä¸“æ â€ï¼Œè·å–æ›´å¤šæŠ€æœ¯å†…å®¹ã€‚ ![å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€œnewbeæŠ€æœ¯ä¸“æ â€](https://www.newbe.pro/images/weixin_public_qrcode.png)

*   æœ¬æ–‡ä½œè€…ï¼š [newbe36524](https://www.newbe.pro/)
*   æœ¬æ–‡é“¾æ¥ï¼š [https://www.newbe.pro/Others/0x022-how-to-call-a-method-with-the-same-method-signature-in-different-assemblies/](https://www.newbe.pro/Others/0x022-how-to-call-a-method-with-the-same-method-signature-in-different-assemblies/)
*   ç‰ˆæƒå£°æ˜ï¼š æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ BY-NC-SA è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼

* * *

1.  https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/extern-alias?WT.mc\_id=DX-MVP-5003606â†©