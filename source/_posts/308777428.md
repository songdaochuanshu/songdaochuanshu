---
layout: post
title: "Azure DevOpsï¼ˆä¸€ï¼‰åŸºäº Net6.0 çš„ WPF ç¨‹åºå¦‚ä½•è¿›è¡ŒæŒç»­é›†æˆã€æŒç»­ç¼–è¯‘"
date: "2023-04-20T01:05:01.709Z"
---
Azure DevOpsï¼ˆä¸€ï¼‰åŸºäº Net6.0 çš„ WPF ç¨‹åºå¦‚ä½•è¿›è¡ŒæŒç»­é›†æˆã€æŒç»­ç¼–è¯‘
==============================================

ä¸€ï¼Œå¼•è¨€
----

ã€€ã€€æˆ‘ä»¬æ˜¯å¦æ­£åœ¨ä¸ºå¦‚ä½•å¿«é€Ÿçš„ç¼–è¯‘ã€éƒ¨ç½²å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºè€Œçƒ¦æ¼ï¼Ÿè¿™ä¹Ÿæ˜¯åšä¸»æœ€è¿‘é‡åˆ°çš„é—®é¢˜ã€‚ç›®å‰åšä¸»æ‰€åœ¨å…¬å¸ä¸»è¦åšé¡¹ç›®çº§çš„å®šåˆ¶åŒ–å¼€å‘ï¼Œå¤šä»¥ C/S æ¶æ„çš„ WPF ç¨‹åºä¸ºä¸»ï¼Œæ¯æ¬¡åˆ°äº†ååŠ©å¼€å‘å›¢é˜Ÿç»™å®æ–½å›¢é˜Ÿç¼–è¯‘å¥½çš„è¦æµ‹è¯•ç¨‹åºåŒ…æ—¶ï¼Œå°±ä¼šå‡ºç°å¤šäººååŠ©ï¼Œç¼–è¯‘ã€æ‰“åŒ…å¥½çš„äºŒè¿›åˆ¶ç¨‹åºåŒ… pull æœ€æ–°ä»£ç  ï¼Œä»¥åŠå®æ–½åŒäº‹æ— æ³•åŠæ—¶çš„è·å–åˆ°æœ‰æ–°ç¨‹åºå‘å¸ƒçš„é€šçŸ¥ç­‰é—®é¢˜ã€‚æœ‰äº†è¿™æ ·çš„èƒŒæ™¯ï¼Œåšä¸»æ‰€åœ¨å›¢é˜Ÿå¼€å§‹å‡†å¤‡å¼€å§‹äº†è§£ï¼Œä½¿ç”¨å›¢é˜Ÿåä½œç³»ç»Ÿ ----- Azure DevOpsï¼Œé€šè¿‡è‡ªåŠ¨åŒ–è½¯ä»¶äº¤ä»˜æ¥ä¸ºç”¨æˆ·æä¾›æŒç»­ä»·å€¼ã€‚

äºŒï¼Œæ­£æ–‡
----

### 1ï¼Œ Azure DevOps åˆ›å»ºé¡¹ç›®

Project nameï¼šâ€NetCore\_WPF\_Sampleâ€œ

Visibilityï¼šâ€Privateâ€œï¼ˆæ ¹æ®å®é™…é¡¹ç›®éœ€æ±‚ï¼‰

Version controlï¼šâ€Gitâ€œ

Work item processï¼šâ€Agileâ€œ

ç‚¹å‡» â€Createâ€œ åˆ›å»ºæ–°çš„é¡¹ç›®

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419210521723-1761251497.png)

### 2ï¼Œé…ç½® Azure DevOps æµæ°´çº¿

é€‰æ‹© â€Pipelines =ã€‹â€œpepelinesâ€œï¼Œç‚¹å‡» â€Create Pipelineâ€œ åˆ›å»ºæŒç»­é›†æˆç®¡é“

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419214224253-802466053.png)

é€‰æ‹© â€GitHUbâ€œ Yaml

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419214823754-2038567275.png)

é€‰æ‹©å¥½éœ€è¦é¡¹ç›®ï¼Œå¼€å§‹é…ç½® â€azure-pipelines.ymlâ€œ

\# .NET Desktop
# Build and run tests for .NET Desktop or Windows classic desktop solutions.
# Add steps that publish symbols, save build artifacts, and more:
# https://docs.microsoft.com/azure/devops/pipelines/apps/windows/dot-net
trigger:
\- master

pool:
  vmImage: 'windows-latest'

variables:
  solution: '\*\*/\*.sln'
  buildPlatform: 'Any CPU'
  buildConfiguration: 'Release'

steps:
\- task: NuGetToolInstaller@1

- task: NuGetCommand@2
  inputs:
    restoreSolution: '$(solution)'

- task: VSBuild@1
  inputs:
    solution: '$(solution)'
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'
    clean: true

- task: VSTest@2
  inputs:
    platform: '$(buildPlatform)'
    configuration: '$(buildConfiguration)'

- task: PublishSymbols@2
  displayName: 'Publish symbols path'
  inputs:
    SearchPattern: '\*\*\\bin\\\*\*\\\*.pdb'
    PublishSymbols: false
  continueOnError: true

- task: CopyFiles@2
  displayName: 'Copy Files to: $(build.artifactstagingdirectory)'
  inputs:
    SourceFolder: '**Standard.Tool.Platform**'
    Contents: '\*\*\\bin\\$(BuildConfiguration)\\\*\*'
    TargetFolder: '$(build.artifactstagingdirectory)'
  condition: succeededOrFailed()

è°ƒæ•´å®Œ yml æ–‡ä»¶åï¼Œç‚¹å‡» â€Runâ€œ æ‰§è¡Œ pipelineÂ 

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419215608938-1158152663.png)

ç‚¹å‡» â€Runâ€œ å¼€å§‹æ‰§è¡Œ

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419220118660-775680584.png)

æ­¤æ—¶æˆ‘ä»¬çš„ pipeline ä»»åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡» â€Jobâ€œ æŸ¥çœ‹è¯¦ç»†ä½œä¸š

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419221001766-57634701.png)

Â ä½œä¸šå®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ç¼–è¯‘å¥½çš„ç¨‹åºåŒ…

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419221826830-146117745.png)

Â ç‚¹å‡» â€Download artifactsâ€œ ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ç¨‹åºåŒ…

![](https://img2023.cnblogs.com/blog/1996262/202304/1996262-20230419222003954-1115183816.png)

Bingo!!!ğŸ‰âœŒï¸ğŸ‰âœŒï¸ğŸ‰âœŒï¸ğŸ‰âœŒï¸

æ­¤æ¼”ç¤ºæ­¥éª¤å®ç°äº† NET çš„æ¡Œé¢åº”ç”¨ç¨‹åºçš„æŒç»­é›†æˆä¸æŒç»­ç¼–è¯‘ï¼Œå½“æˆ‘ä»¬ pipeline ç›‘æµ‹åˆ° master åˆ†æ”¯æœ‰å˜åŠ¨åï¼Œå°±ä¼šç«‹å³æ‰§è¡Œç®¡é“ä½œä¸šï¼Œå¯ä»¥ç¡®ä¿æˆ‘ä»¬ä¸å¿…å†äººå·¥æ‹‰å–ä»£ç ï¼Œç¼–è¯‘ï¼Œå‘å¸ƒäºŒè¿›åˆ¶ç¨‹åºåŒ…äº†ã€‚

ä¸‰ï¼Œç»“å°¾
----

Â ã€€ã€€é€šè¿‡ Azure DevOps çš„ Pipeline å®ç°çš„å¼€å‘å›¢é˜ŸååŠ©æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ä»Šå¤©çš„å†…å®¹ä¹Ÿä¸»è¦æ˜¯å®æˆ˜æ“ä½œï¼Œå¤§å®¶ä¹Ÿå¤šå¤šç»ƒä¹ ã€‚ç†Ÿèƒ½ç”Ÿå·§ã€‚æœ¬æ–‡æ‰€åˆ†äº«çš„å†…å®¹ä¹Ÿå­˜åœ¨ç€å¾ˆå¤šæˆ‘è‡ªå·±çš„ä¸€äº›ç†è§£ï¼Œæœ‰ç†è§£ä¸åˆ°ä½çš„ï¼Œè¿˜å¸Œæœ›å¤šå¤šåŒ…æ¶µï¼Œå¹¶ä¸”æŒ‡å‡ºä¸è¶³ä¹‹å¤„ã€‚

githubï¼š[https://github.com/yunqian44/Standard.Tool.Platform](https://github.com/yunqian44/Standard.Tool.Platform)

ä½œè€…ï¼š[Allen](https://www.cnblogs.com/AllenMaster)Â 

ç‰ˆæƒï¼šè½¬è½½è¯·åœ¨æ–‡ç« æ˜æ˜¾ä½ç½®æ³¨æ˜ä½œè€…åŠå‡ºå¤„ã€‚å¦‚å‘ç°é”™è¯¯ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚

ä½œè€…ï¼šAllen ç‰ˆæƒï¼šè½¬è½½è¯·åœ¨æ–‡ç« æ˜æ˜¾ä½ç½®æ³¨æ˜ä½œè€…åŠå‡ºå¤„ã€‚å¦‚å‘ç°é”™è¯¯ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£ã€‚