---
layout: post
title: "漫谈计算机网络：概述 ------ 从起源开始到分层协议结构，初识究竟什么是计算机网络？"
date: "2022-11-27T08:21:01.245Z"
---
漫谈计算机网络：概述 ------ 从起源开始到分层协议结构，初识究竟什么是计算机网络？
============================================

👇博主的上篇连载文章《初识图像处理技术》
=====================

[图像处理技术：数字图像分割 ------ 图像分割、边界分割（边缘检测）、区域分割 - slowlydance2me - 博客园 (cnblogs.com)](https://www.cnblogs.com/slowlydance2me/p/16916491.html)
========================================================================================================================================

2022/11/27
==========

　　从今天开始更新《漫谈计算机网络》一文，读者们可以跟着博主一起深入浅出，了解计算机网络知识，学习计算机网络的应用。
==========================================================

博主仍在不断学习进步中，在本文中对于计算机网络的理解与认识尚浅，如有错误之处烦请批评指正，如有疑问欢迎评论区留言。

1.1 计算机网络在信息时代中的作用
==================

　　1.1.1 计算机网络的定义
----------------

### 大众熟悉的三大类网络

*   电信网络

*   有线电视网络

*   计算机网络

#### **_发展最快的并起到核心作用的是计算机网络。_**

**三网融合 成为 现代计算机网络技术**

****_![](https://img2022.cnblogs.com/blog/2986763/202211/2986763-20221126211334930-1276844728.png)_****

　　1.1.2 计算机网络的特点
----------------

### 全球最大的、最重要的计算机网络：_**Internet**_

*   l 如何称呼 Internet？
*   l 因特网：推荐，但却长期未得到推广。
*   l 互联网：目前流行最广，事实上的标准译名。
*   l 互联网 ≠互连网。

#### 互连网：局部范围互连起来的计算机网络。

#### 互联网是什么？

　　互联网（internet），又称国际网络，指的是网络与网络之间所串连成的庞大网络，这些网络以一组通用的协议相连，形成逻辑上的单一巨大国际网络。（来源于百度百科）

　　The **Internet** (or **internet**)[\[a\]](https://en.wikipedia.org/wiki/Internet#cite_note-1) is the global system of interconnected [computer networks](https://en.wikipedia.org/wiki/Computer_network "Computer network") that uses the [Internet protocol suite](https://en.wikipedia.org/wiki/Internet_protocol_suite "Internet protocol suite") (TCP/IP)[\[b\]](https://en.wikipedia.org/wiki/Internet#cite_note-3) to communicate between networks and devices. It is a _[network of networks](https://en.wikipedia.org/wiki/Internetworking "Internetworking")_ that consists of private, public, academic, business, and government networks of local to global scope, linked by a broad array of electronic, wireless, and [optical networking](https://en.wikipedia.org/wiki/Optical_networking) technologies. The Internet carries a vast range of information resources and services, such as the inter-linked [hypertext](https://en.wikipedia.org/wiki/Hypertext "Hypertext") documents and [applications](https://en.wikipedia.org/wiki/Web_application "Web application") of the [World Wide Web](https://en.wikipedia.org/wiki/World_Wide_Web "World Wide Web") (WWW), [electronic mail](https://en.wikipedia.org/wiki/Email "Email"), [telephony](https://en.wikipedia.org/wiki/Internet_telephony "Internet telephony"), and [file sharing](https://en.wikipedia.org/wiki/File_sharing "File sharing"). 👉[Internet - Wikipedia](https://en.wikipedia.org/wiki/Internet)

### 互联网的 2 个重要基本特点

*   #### 连通性 (connectivity)
    

• 使上网用户之间可以非常便捷、非常经济地交换各种信息

• 好像这些用户终端都彼此直接连通一样。

*   #### 资源共享 (Sharing)
    

• 实现信息共享、软件共享、硬件共享。

• 由于网络的存在，这些资源好像就在用户身边一样地方便使用。

### 互联网+：新的经济形态

l 指“互联网+各个传统行业” 。

l 把互联网的创新成果深度融合于经济社会各领域。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127132912553-1102223062.png)

### 互联网的负面影响

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127132942862-2045819130.png)

1.2 互联网概述
=========

　　1.2.1 网络的网络
-------------

l 计算机网络：

　　 由若干节点(node)和连接这些节点的链路(link)组成。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133137901-782230714.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133340466-176195868.png)

　　 节点可以是计算机、集线器、交换机或路由器等。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133151654-816967248.png)

### l 互连网 (internetwork 或internet)：

　　多个网络通过一些路由器相互连接起来，构成了一个覆盖范围更大的计算机网络。

　　“网络的网络”(network of networks)。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133313928-674281485.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133333163-1711269708.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133323917-509381358.png)

l 网络：把许多计算机连接在一起。

l 互连网：把许多网络通过一些路由器连接在一起。与网络相连的

计算机常称为主机。

l 互连网 (internet) ≠ 互联网 (Internet)

　　1.2.2 互联网基础结构发展的三个阶段
----------------------

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133510340-51808453.png)

### 第一阶段：1969 – 1990

　　

l ARPA NET：最初只是一个单个的分组交换网，不是一个互连网。

l 1983 年，_**TCP/IP**_ 协议成为 ARPANET上的标准协议，使得所有使用 TCP/IP 协议的计算机都能利用互连网相互通信。

#### l 人们把 1983 年作为互联网的诞生时间。

l 1990 年，ARPA NET 正式宣布关闭。

### 第二阶段：1985 – 1993

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133806465-1332595234.png)

l 国家科学基金网 NSF NET。

#### l 三级结构：主干网、地区网和校园网（或企业网）。

l 覆盖了全美国主要的大学和研究所，并且成为互联网中的主要组成部分。

### 第三阶段：1993 – 现在

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127133925526-1492670325.png)

l 出现了互联网服务提供者 ISP (Internet Service Provider)：

　　提供接入到互联网的服务。

　　 需要收取一定的费用。

#### l 多层次 ISP 结构：

　　主干 ISP、地区 ISP 和本地 ISP。

　　覆盖面积大小和所拥有的 IP 地址数目的不同

l 互联网交换点 IXP (Internet eXchange Point)：允许两个网络直接相连并快速交换分组。

　　常采用工作在数据链路层的网络交换机。

　　世界上较大的 IXP 的峰值吞吐量都在 Tbit/s 量级。

l 内容提供者 (Content Provider)：在互联网上向所有用户提供视频等内容的公司。不向用户提供互联网的转接服务。

l 万维网 WWW (World Wide Web)：

　　由欧洲原子核研究组织 CERN开发。

　　成为互联网指数级增长的主要驱动力。

　　1.2.3 互联网的标准化工作
-----------------

#### 互联网的标准化工作对互联网的发展起到了非常重要的作用。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127134334644-1044875530.png)

标准发表：以 RFC 的形式

l RFC：Request For Comments （请求评论）。

l 所有的 RFC 文档都可从互联网上免费下载。

l 任何人都可以用电子邮件随时发表对某个文档的意见或建议。

l 但并非所有的 RFC 文档都是互联网标准。只有很少部分的 RFC 文档最后才能变成互联网标准。

l RFC 文档按发表时间的先后编上序号（即 RFCxxxx，xxxx 是阿拉伯数字）。

1.3 互联网的组成
==========

从互联网的工作方式上看，可以划分为两大块：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127134456635-274005534.png)

l 边缘部分： 由所有连接在互联网上的主机组成，由用户直接使用，用来进行通信（传送数据、音频或视频）和资源共享。

l 核心部分：由大量网络和连接这些网络的路由器组成，为边缘部分提供服务（提供连通性和交换）。

1.3.1 互联网的边缘部分
--------------

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127134618928-1316895364.png)

#### l 处在互联网边缘部分的就是连接在互联网上的所有的主机。这些主机又称为端系统 (end system)。

l 端系统在功能上可能有很大差别：

　　小的端系统：普通个人电脑、智能手机、网络摄像头等。

　　大的端系统：非常昂贵的大型计算机或服务器。

l 端系统的拥有者：可以是个人、单位、或某个 ISP。

### “计算机之间通信”的含义 --实际上是指：主机 A 的某个进程和主机 B 上的另一个进程进行通信。

#### 端系统之间的两种通信方式：

##### 客户/服务器方式

• Client / Server 方式

###### • 简称为 C/S 方式

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127134947174-1224121475.png)

客户 A 向服务器 B 发出请求服务，服务器 B 向客户 A 提供服务。

　　l 客户/服务器方式所描述的是进程之间服务和被服务的关系。

　　l 客户是服务的请求方，服务器是服务的提供方。

　　客户与服务器的通信关系建立后，通信可以是双向的，客户和服务器都可发送和接收数据。

#### 客户程序和服务器程序主要特点

l 客户程序

　　被用户调用后运行，需主动向远地服务器发起通信（请求服务）。必须知道服务器程序的地址。

　　不需要特殊的硬件和很复杂的操作系统。

l 服务器程序

　　专门用来提供某种服务的程序，可同时处理多个客户请求。

　　一直不断地运行着，被动地等待并接受来自各地的客户的通信请求。不需要知道客户程序的地址。

　　一般需要强大的硬件和高级的操作系统支持。

##### 对等方式

• Peer to Peer 方式

###### • 简称为 P2P 方式

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135216917-305775835.png)

l 两台主机在通信时不区分服务请求方和服务提供方。

l 只要都运行了 P2P 软件，就可以进行平等的、对连接通信。

 对等连接方式（P2P 方式）对等连接方式从本质上看仍然是使用客户服务器方式，只是对等连接中的每一个主机既是客户又是服务器。

1.3.2 互联网的核心部分
--------------

l 是互联网中最复杂的部分。

l 向网络边缘中的主机提供连通性，使任何一台主机都能够向其他主机通信。

#### **l 在网络核心部分起特殊作用的是路由器 (router)。**

l 路由器是实现分组交换(packet switching) 的关键构件，其任务是转发收到的分组。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135441542-349916730.png)

### 分组转发是网络核心部分最重要的功能。

### l 典型交换技术包括：

### 　　电路交换

电线对的数量与电话机数量的平方（N2）成正比。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135559019-1861361449.png)

### 使用交换机 

当电话机的数量增多时，使用电话交换机将这些电话连接起来。

每一部电话都直接连接到交换机上，而交换机使用交换的方法，让电话用户彼此之间可以很方便地通信。

这种交换方式就是电路交换(circuit switching)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135625232-266759211.png)

#### “交换 (switching)”的含义：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135804720-2047354501.png)

转接：把一条电话线转接到另一条电话线，使它们连通起来。

从通信资源的分配角度来看，就是按照某种方式动态地分配传输线路的资源。

### 电路交换特点:

分为三个阶段：

l 建立连接：建立一条专用的物理通路（占用通信资源）。

l 通话：主叫和被叫双方互相通电话（一直占用通信资源）。

l 释放连接：释放刚才使用的专用的物理通路（归还通信资源）。

### **这种必须经过“建立连接（占用通信资源）、通话（一直占用通信资源）、释放连接（归还通信资源）”三个步骤的交换方式称为电路交换。**

### **电路交换特点：通话的两个用户始终占用端到端的通信资源**

**![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127135920525-1453862460.png)**

计算机数据具有突发性，这导致在传送数据时，通信线路的利用率很低，真正用来传送数据的时间往往不到 10%，甚至不到 1%，

#### 已被用户占用的通信线路资源在绝大部分时间里都是空闲的。

### 　　分组交换

#### 分组交换的主要特点

l 采用存储转发技术。

分组：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127140629346-2007057327.png)

##### 数据段前面添加首部就构成了分组 (packet)

分组又称为“包” ，而分组的首部也可称为“包头” 。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127140738349-1858449266.png)

##### 分组交换以“分组”作为数据传输单元

l 互联网采用分组交换技术。分组是在互联网中传送的数据单元。

l 发送端依次把各分组发送到接收端。

##### 接收端收到分组后剥去首部，还原成原来的报文

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127140849266-1621227942.png)

#### 分组在互联网中的转发过程：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141026452-1600480586.png)

l 根据首部中包含的目的地址、源地址等重要控制信息进行转发。

l 每一个分组在互联网中独立选择传输路径。

l 位于网络核心部分的路由器负责转发分组，即进行分组交换。

l 路由器要创建和动态维护转发表

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141107395-2132690120.png)

#### 分组交换的优点：（高效、灵活、迅速、可靠）

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141214330-280778693.png)

#### 分组交换带来的问题：（排队延迟、不保证带宽、增加开销）

l 排队延迟：分组在各路由器存储转发时需要排队。

l 不保证带宽：动态分配。

l 增加开销：各分组必须携带控制信息；路由器要暂存分组，维护转发表等。 

### 　　报文交换 ：

l 在 20 世纪 40 年代，电报通信就采用了基于存储转发原理的报文交换 (message switching)。

l 但报文交换的时延较长，从几分钟到几小时不等。

l 现在报文交换已经很少有人使用了

### 电路交换、报文交换和分组交换的主要区别：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141510620-250248133.png)

### 三种交换方式的选择:

l 若要连续传送大量的数据，且其传送时间远大于连接建立时间，则电路交换的传输速率较快。

l 报文交换和分组交换**不**需要**预先分配传输带宽**，在传送突发数据时可提高整个网络的信道利用率。

l 由于一个分组的长度往往远小于整个报文的长度，因此**分组交换比报文交换的时延小**，同时也具有更好的灵活性。

### l 互联网的核心部分采用分组交换技术。

1.4 计算机网络在我国的发展
===============

l 1980 年，铁道部开始进行计算机联网实验。

l 1989 年 11 月，我国第一个公用分组交换网 CNPAC 建成运行。

l 1994 年 4 月 20 日，我国用 64 kbit/s 专线正式连入互联网，我国被国际上正式承认为接入互联网的国家。

l 1994 年 5 月，中国科学院高能物理研究所设立了我国的第一个万维网服务器。

l 1994 年 9 月，中国公用计算机互联网 CHINANET 正式启动。

l 到目前为止，我国陆续建造了基于互联网技术的并能够和互联网互连的多个全国范围的公用计算机网络，其中规模最大的就是下面这五个：

　　中国电信互联网 CHINANET（也就是原来的中国公用计算机互联网）

　　中国联通互联网 UNINET

　　中国移动互联网 CMNET

　　中国教育和科研计算机网 CERNET

　　中国科学技术网 CSTNET

l 1994 年，中国教育和科研计算机网 CERNET (China Education and Research NETwork) 是我国第一个 IPv4 互联网主干网。

l 2004 年 2 月，我国的第一个下一代互联网 CNGI 的主干网 CERNET2 试验网正式开通，并提供服务。

　　 试验网以 2.5~10 Gbit/s 的速率连接北京、上海和广州三个 CERNET 核心节点，并与国际下一代互联网相连接。

l 中国互联网络信息中心 CNNIC (ChiNa Network Information Center) 每年两次公布我国互联网的发展情况。

l 到 2019 年底，我国的国际出口带宽已超过 8.8 Tbit/s （1 Tbit/s = 103Gbit/s）。

对我国互联网事业发展影响较大的人物和事件

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141942777-89010765.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127141957629-45937350.png)

1.5 计算机网络的类别
============

1.5.1 计算机网络的定义
--------------

l 计算机网络的精确定义并未统一。

l 较好的定义:

　　

　　计算机网络主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的（例如，传送数据或视频信号）。这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。

##### l “可编程的硬件”表明：这种硬件一定包含有中央处理器 CPU。

l 计算机网络所连接的硬件包括：

　　一般的计算机；

　　智能手机、电视 等。

计算机网络可以：

　　 传送数据；

　　支持多种应用（包括今后可能出现的各种应用）。

1.5.2 几种不同类别的计算机网络
------------------

l 计算机网络有多种类别。

l 可以按以下方法分类：

#### 　　按照网络的作用范围进行分类；

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127142252567-806234837.png)

若中央处理机之间的距离非常近（如仅 1 米甚至更小些），则一般就称之为多处理机系统，而不称它为计算机网络。

####    　 按照网络的使用者进行分类；

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127142345487-1994008532.png)

公用网和专用网都可以传送多种业务。如传送的是计算机数据，则分别是公用计算机网络和专用计算机网络。

#### 　　用来把用户接入到互联网的网络。

l 接入网 AN (Access Network)

  

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127142546979-1881721431.png)

　　又称为本地接入网或居民接入网。

　　用于将用户接入互联网。

　　是从某个用户端系统到本地 ISP 的第一个路由器（也称为边缘路由器）之间的一种网络。

　　实际上就是本地 ISP 所拥有的网络，它既不是互联网的核心部分，也不是互联网的边缘部分。

##### 　　从覆盖的范围看，很多接入网还是属于局域网。

1.6 计算机网络的性能
============

1.6.1 计算机网络的性能指标
----------------

性能指标：

从不同的方面来度量计算机网络的性能。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127142649060-703215675.png)

### 1\. 速率

l 最重要的一个性能指标。

l 指的是数据的传送速率，也称为**数据率** (data rate) 或**比特率** (bitrate)。

l 单位：bit/s，或 kbit/s、Mbit/s、 Gbit/s 等。

例如 4 \*1010 bit/s 的数据率就记为 40 Gbit/s。

l 速率往往是指额定速率或标称速率，非实际运行速率。

单位:

千 = K = 210 = 1024，兆 = M = 220 = 1024 K，吉 = G = 230 = 1024 M ，1 字节 (Byte) = 8 比特 (bit）

### 2\. 带宽 (bandwidth)

#### 频域带宽：　　

• 某个信号具有的频带宽度。

• 单位是赫（或千赫、兆赫、吉赫等）。

###### • 某信道允许通过的信号频带范围称为该信道的带宽（或通频带）。

#### 时域带宽：

• 网络中某通道传送数据的能力，表示在单位时间内网络中的某信道所能通过的“最高数据率”。

• 单位就是数据率的单位 bit/s。

　　**两者本质相同。**

　　一条通信链路的“带宽”越宽，其所能传输的“最高数据率”也越高。

### 3\. 吞吐量 (throughput)

l 单位时间内通过某个网络（或信道、接口）的实际数据量。

l 受网络的带宽或网络的额定速率的限制。

　　额定速率是绝对上限值。

　　可能会远小于额定速率，甚至下降到零！

l 有时可用**每秒传送的字节数**或**帧数**来表示。

### 4\. 时延 (delay 或 latency)

l 指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。

l 有时也称为延迟或迟延。

l 组成：

##### 　　**发送 时延**　

**![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127143448156-1964621898.png)**

　　也称为传输时延。

　　是主机或路由器发送数据帧所需要的时间，也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。

  

##### 　　**传播时延**

**![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127143516489-92869424.png)**

是电磁波在信道中传播一定的距离需要花费的时间。

###### 常见电磁波传播速率：

　　自由空间的传播速率是光速 = 3.0 ⅹ 105 km/s

　　在铜线电缆中的传播速率约 = 2.3 ⅹ 105 km/s

　　在光纤中的传播速率约 = 2.0 ⅹ 105 km/s

注意：发送时延与传播时延有本质上的不同。

　　发送时延发生在机器内部的发送器中，与传输信道的长度无关。

　　传播时延则发生在机器外部的传输信道媒体上，而与信号的发送速率无关。

##### 　　**处理时延**

　　主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间。

##### 　　**排队时延**

　　分组在路由器输入输出队列中排队等待处理和转发所经历的时延。

　　排队时延的长短往往取决于网络中当时的通信量。当网络的通信量很大时会发生队列溢出，使分组丢失，这相当于排队时延为无穷大。

### 总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127143805275-575118874.png)

l 一般说来，小时延的网络要优于大时延的网络。

l 在某些情况下，一个低速率、小时延的网络很可能要优于一个高速率但大时延的网络。

分析过程中必须指出，在总时延中，究竟是哪一种时延占主导地位，必须具体分析。

### 四种时延产生的地方：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127143926200-1153266428.png)

#### 容易产生的错误概念

1.

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127144028906-446856141.png)

l 对于高速网络链路，我们提高的仅仅是数据的发送速率，而不是比特在链路上的传播速率。

l 提高数据的发送速率只是减小了数据的发送时延。

2.

不能笼统地认为：“数据的发送速率越高，其传送的总时延就越小”。

### 　　5. 时延带宽积 = 传播时延 \* 带宽

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127144326227-1316841011.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127144420218-368339946.png)

链路的时延带宽积又称为以比特为单位的链路长度。

管道中的比特数表示从发送端发出但尚未到达接收端的比特数。

只有在代表链路的管道都充满比特时，链路才得到了充分利用。

### 　　6. 往返时间 RTT (Round-Trip Time)

表示从发送方发送完数据，到发送方收到来自接收方的确认总共经历的时间（发送后的一个来回 ）。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127144723543-601477728.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127144631234-1613438526.png)

###### 总时延 -  RTT = A的处理排队时延+ A的发送时延 

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145256109-1088601331.png)

l 在互联网中，往返时间还包括各中间结点的处理时延、排队时延以及转发数据时的发送时延。

l 当使用卫星通信时，往返时间 RTT 相对较长，此时，**RTT 是很重要的一个性能指标。**

### 例题：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145117478-1794239075.png)

结点 A 要将一个 **100 MB** 数据以 **100 Mbit/s** 的速率发送给结点 B，B 正确收完该数据后，就立即向 A 发送确认。假定 A 只有在收到 B 的确认信息后，才能继续向 B发送数据，且确认信息很短。计算 A 向 B 发送数据的**有效数据率**。

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145153562-1199193976.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145201064-576655450.png)

### 　　7. 利用率

#### 信道利用率

• 某信道有百分之几的时间是被利用的（即有数据通过）。

• 完全空闲的信道的利用率是零。

#### 网络利用率

• 全网络的信道利用率的加权平均值。

#### 信道利用率越高越好吗？

#### 时延与网络利用率的关系（正相关）

根据排队论，当某信道的利用率增大时，时延会迅速增加。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145438217-546947942.png)

其中：

D0：网络空闲时的时延。

D：网络在当前的时延。

U：网络当前的利用率，数值在0 到 1 之间。

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145505972-348276274.png)

###### 当信道的利用率增大时，该信道引起的时延迅速增加。

1.6.2 计算机网络的非性能特征
-----------------

这些非性能特征与性能指标有很大的关系。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127145656202-1491182235.png)

1.7 计算机网络的体系结构
==============

1.7.1 计算机网络体系结构的形成
------------------

计算机网络是一个非常复杂的系统。

#### 两台计算机要互相传送文件需解决很多问题：

(1) 必须有一条传送数据的**通路**。

(2) 发起方必须**激活通路**。

(3) 要告诉网络**如何识别**接收方。

(4) 发起方要清楚对方是否已开机，且与网络连接正常。

(5) 发起方要清楚对方是否准备好接收和存储文件。

(6) 若文件**格式不兼容**，要完成**格式的转换**。

(7) 要**处理各种差错和意外事故**，保证收到正确的文件。

l 最初的 ARPA NET 设计时提出了**分层**的设计方法。

l 分层：将庞大而复杂的问题，转化为若干较小的局部问题。

l 1974 年，IBM 按照分层的方法制定并提出了系统网络体系结构 **SNA** (System Network Architecture) 。

l 此后，其他一些公司也相继推出了具有不同名称的体系结构。

**但由于网络体系结构的不同，不同公司的设备很难互相连通。**

#### 国际标准：开放系统互连参考模型 OSI/RM

l ISO (国际标准化组织) 提出的 OSI/RM (Open Systems Interconnection Reference Model) 是使各种计算机在世界范围

内互连成网的标准框架。

l OSI/RM 是个抽象的概念。

l 1983年，形成了著名的 ISO 7498 国际标准，即**七层协议的体系结构**

OSI 试图达到一种理想境界：全球计算机网络都遵循这个统一标准，因而全球的计算机将能够很方便地进行互连和交换数据。

#### 但 ISO/OSI 失败了：原因：

l 基于 TCP/IP 的互联网已抢先在全球相当大的范围成功地运行了。

l OSI 的专家们在完成 OSI 标准时没有商业驱动力；

l OSI 的协议实现起来过分复杂，且运行效率很低；

l OSI 标准的制定周期太长，使得按 OSI 标准生产的设备无法及时进入市场；

l OSI 的层次划分也不太合理，有些功能在多个层次中重复出现。

存在两种国际标准

法律上的 (de jure) 国际标准 OSI

• 但并没有得到市场的认可。

事实上的 (de facto) 国际标准 TCP/IP

• 获得了最广泛的应用。

1.7.2 协议与划分层次
-------------

#### l 网络协议 (network protocol)，简称为协议，

是为进行网络中的数据交换而建立的规则、标准或约定。

l 三个组成要素：

　　语法：数据与控制信息的结构或格式 。

　　语义：需要发出何种控制信息，完成何种动作以及做出何种响应。

　　同步：事件实现顺序的详细说明。

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127150251682-1278728924.png)

##### 网络协议是计算机网络的不可缺少的组成部分。

协议的两种形式：

文字描述：便于人来阅读和理解。

程序代码：让计算机能够理解。

不论什么形式，都必须能够对网络上信息交换过程做出精确的解释。

**ARPANET 的研制经验表明：对于非常复杂的计算机网络协议，其结构应该是层次式的。**

划分层次的概念举例：两台主机通过网络传送文件

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127150427643-343634022.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127150450503-991042802.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127150501588-629097548.png)

#### 分层的优点与缺点：

优：

*   各层之间是独立的。灵活性好。
*   结构上可分割开。
*   易于实现和维护
*   能促进标准化工作。

缺：

*   有些功能会重复出现，因而产生了额外开销。

注意：每一层的功能应非常明确。

层数太少，就会使每一层的协议太复杂。

层数太多，又会在描述和综合各层功能的系统工程任务时遇到较多的困难。

##### 各层完成的主要功能

l 差错控制：使相应层次对等方的通信更加**可靠**。

l 流量控制：发送端的发送速率必须使接收端**来得及接收**，不要太快。

l 分段和重装：发送端将要发送的数据块**划分为更小的单位**，在接收端将其还原。

l 复用和分用：发送端几个高层会话**复用一条低层的连接**，在接收端再进行分用。

l 连接建立和释放：交换数据前**先建立一条逻辑连接**，数据传送结束后释放连接。

#### 计算机网络的体系结构：

l 网络的体系结构 (Network Architecture) 是计算机网络的各层及其协议的集合，就是这个计算机网络及其构件所应完成的功能的精确定义（不涉及实现）。

l 实现 (implementation) 是遵循这种体系结构的前提下，用何种硬件或软件完成这些功能的问题。

体系结构是**抽象**的，而实现则是**具体**的，是真正在运行的计算机硬件和软件。

1.7.3 具有五层协议的体系结构
-----------------

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127150903990-30518524.png)

### 各层的主要功能：

*   ### 应用层　　
    
    *   *   *   l 任务：通过应用进程间的交互来完成特定网络应用。
                
                l 协议：定义的是应用进程间通信和交互的规则。
                
                l 把应用层交互的数据单元称为报文(message)。
                
                l 例如：DNS，HTTP，SMTP
                

*   ### 运输层
    
    *   *   任务：负责向两台主机中进程之间的通信提供
            
            通用的数据传输服务。
            
            l 具有复用和分用的功能。
            
            l 主要使用两种协议：
            
            　　传输控制协议 TCP
            
            　　用户数据报协议 UDP 
            
            *   *   *   *   #### l TCP (Transmission Control Protocol)：
                            
                            　　 提供面向连接的、可靠的数据传输服务。
                            
                            　　 数据传输的单位是报文段 (segment)。
                            
                            #### l UDP (User Datagram Protocol)：
                            
                            　　提供无连接的尽最大努力 (best-effort) 的数据传输服务（不保证数据传输的可靠性）。
                            
                            　　数据传输的单位是用户数据报。
                            
*   ### 网络层
    
    *   *   *   *   l 为分组交换网上的不同主机提供通信服务。
                    
                    l 两个具体任务：
                    
                    　　路由选择：通过一定的算法，在互联网中的每一个路由器上，生成一个用来转发分组的转发表。
                    
                    　　转发：每一个路由器在接收到一个分组时，要依据转发表中指明的路径把分组转发到下一个路由器。
                    
                
                  
                
                *   l 互联网使用的网络层协议是**无连接的网际协议IP** (Internet Protocol) 和许多种路由选择协议，因此互联网的网络层也叫做**网际层**或I**P** **层。**
                    
                    l IP 协议分组也叫做 **IP 数据报**，或简称为数据报。
                    
                
*   ### 数据链路层
    
    *   *   l 常简称为链路层。
            
            l 任务：实现两个相邻节点之间的可靠通信。
            
            l 在两个相邻节点间的链路上传送帧（frame）。
            
            l 如发现有差错，就简单地丢弃出错帧。
            
            l 如果需要改正出现的差错，就要采用可靠传输协议来纠正出现的差错。这种方法会使数据链路层协议复杂。
            
*   ### 物理层
    

l 任务：实现比特（0 或 1）的传输。

l 确定连接电缆的插头应当有多少根引脚，以及各引脚应如何连接。

l 注意：传递信息所利用的一些物理媒体，如绞线、同轴电缆、光缆、无线信道等，并不在物理层协议之内，而是在物理层协议的下面。

#### 数据在各层之间的传递过程：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152226951-1694111376.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152244747-854662982.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152251196-806574140.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152257245-1190385073.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152054640-1240172627.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152203961-1188488876.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152322599-1873041329.png)

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152354921-574348215.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152425470-1491025485.png)

 👆

#### 对等层与协议数据单元 PDU：

l OSI 参考模型把对等层次之间传送的数据单位称为该层的协议数据单元 PDU (Protocol Data Unit)。

l 任何两个同样的层次把 PDU （即数据单元加上控制信息）通过水平虚线直接传递给对方。这就是所谓的“对等层”之间的通信。

### **各层协议实际上就是在各个对等层之间传递数据时的各项规定。**

1.7.4 实体、协议、服务和服务访问点
--------------------

l 实体 (entity) ：表示任何可发送或接收信息的硬件或软件**进程**。

l 协议：控制两个对等实体进行通信的**规则的集合**。

l 在协议的控制下，两个对等实体间的通信使得本层能够向上一层**提****供服务**。

l 要实现本层协议，还需要使用下层所提供的服务。

#### 注意：协议和服务在概念上是不一样的：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127152651471-1882177448.png)

#### 服务访问点 SAP与服务数据单元SDU：

在同一系统中相邻两层的实体进行交互（即交换信息） 的地方，通常称为服务访问点 **SAP** (Service Access Point)。

l SAP 是一个抽象的概念，它实际上就是一个逻辑接口。

l OSI 把层与层之间交换的数据的单位称为服务数据单元 SDU(Service Data Unit)。

l SDU （垂直的）可以与 PDU （水平的）不一样。

　　例如：可以是多个 SDU 合成为一个 PDU，也可以是一个 SDU 划分为几个 PDU

#### _**相邻两层以及对等层之间的关系：**_

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153020964-1163367986.png)

协议很复杂，要应付所有异常情况：例如两军包夹：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153113608-1223112165.png)

没有一种协议能够使蓝军100% 获胜。（后面会讲到 三次握手 四次挥手）

1.7.5 TCP/IP 的体系结构
------------------

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153212219-1085550413.png)

#### **路由器在转发分组时最高只用到网际层，没有使用运输层和应用层。**

现在互联网使用的 TCP/IP 体系结构已经发生了演变，即某些应用_程序可以直接使用 IP 层，或甚至直接使用最下面的网络接口层。_

___![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153316279-1863224271.png)___

#### 沙漏计时器形状的 TCP/IP 协议族：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153351161-1084239486.png)

 ![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153414643-250620650.png)

在了解了分层协议后再看 互联网中客户-服务器工作方式：
---------------------------

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153556293-774500064.png)

同时运行多个服务器进程同时为多个客户进程提供服务：

![](https://img2023.cnblogs.com/blog/2986763/202211/2986763-20221127153646751-284241198.png)

hello my world

本文来自博客园，作者：[slowlydance2me](https://www.cnblogs.com/slowlydance2me/)，转载请注明原文链接：[https://www.cnblogs.com/slowlydance2me/p/16928574.html](https://www.cnblogs.com/slowlydance2me/p/16928574.html)