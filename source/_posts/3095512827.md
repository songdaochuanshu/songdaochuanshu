---
layout: post
title: "æˆ‘çš„Vueä¹‹æ—…ã€02 ES6åŸºç¡€ã€æ¨¡å—ã€è·¯å¾„ã€IO"
date: "2022-09-17T13:34:53.482Z"
---
æˆ‘çš„Vueä¹‹æ—…ã€02 ES6åŸºç¡€ã€æ¨¡å—ã€è·¯å¾„ã€IO
=========================

![æˆ‘çš„Vueä¹‹æ—…ã€02 ES6åŸºç¡€ã€æ¨¡å—ã€è·¯å¾„ã€IO](https://img2022.cnblogs.com/blog/2290413/202209/2290413-20220917145503728-535155754.png) æˆ‘çš„å‰ç«¯ä¹‹æ—…ã€‚æœ¬èŠ‚å¤ä¹ ES6è¯­æ³•åŸºç¡€çŸ¥è¯†ï¼Œæ¨¡å—åŒ–ä½¿ç”¨æ–¹å¼ï¼ŒNode.JSè·¯å¾„æ“ä½œã€IOè¯»å†™æ“ä½œã€‚

è‡ªå®šä¹‰æ¨¡å—
-----

> ä¸ºä»€ä¹ˆè¦æ¨¡å—ï¼Ÿæ¨¡å—åŒ–æºä»£ç èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿ
> 
> è¯•æƒ³ä¸€ä¸ªå·¨æ— éœ¸ç½‘è´­å¹³å°ï¼Œåœ¨æ²¡æœ‰æ¨¡å—åŒ–çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå‡ºç°bugï¼Œç¨‹åºå‘˜å°±è¦åœ¨å‡ ç™¾ä¸‡è¡Œä»£ç é‡Œè°ƒè¯•ï¼Œå¯¼è‡´åæœŸç»´æŠ¤æˆæœ¬ä¸Šå‡ï¼Œä¸ºäº†è§£å†³é—®é¢˜ï¼Œæ¨¡å—åŒ–æŒ‰åŠŸèƒ½åˆ‡åˆ†ï¼ŒæŠŠå¤§é—®é¢˜è½¬æ¢æˆå°é—®é¢˜ï¼Œè®©æ¯ä¸ªæ¨¡å—ç‹¬ç«‹è¿è¥ï¼Œé€šè¿‡æ¥å£å¯¹å¤–å¼€æ”¾ï¼Œè®©ç¨‹åºç»Ÿä¸€è°ƒç”¨ï¼Œé™ä½ç¨‹åºå‡ºé”™çš„é£é™©ï¼Œä¹Ÿèƒ½æ–¹ä¾¿å‡çº§æ¨¡å—å†…éƒ¨çš„ä»£ç ï¼Œä¸å½±å“å…¨å±€
> 
> ![image-20220917142438805](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917142440_image-20220917142438805.png)

### åˆ›å»ºæ¨¡å—ï¼ˆğŸ”è®¡ç®—å™¨ï¼‰

æ¨¡æ‹Ÿå·¨æ— éœ¸ç¨‹åºï¼ˆç°æœ‰ä¸¤ä¸ªjsæ–‡ä»¶ app.js server.jsï¼‰  
![image-20220917142512979](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917142514_image-20220917142512979.png)

å¦‚æœæ²¡æœ‰æ¨¡å—åŒ–ç¨‹åºï¼Œé‚£ä¹ˆserver.jsä¹Ÿæƒ³ç”¨è¿™äº›åŠŸèƒ½çš„æ—¶å€™ä¹Ÿå¿…é¡»å°†å‡½æ•°å†™ä¸€éã€‚å°±ä¼šå‡ºç°ä»£ç é‡å ï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œå°±è¦å…¨éƒ¨è¿›è¡Œä¿®æ”¹  
â­ æ‰€ä»¥æˆ‘ä»¬å°†è¿™éƒ¨åˆ†å‡½æ•°æ¨¡å—åŒ–

1.  æ–°å»ºcalculator.jsï¼Œå°† app.js çš„å‡½æ•°å‰ªè´´åˆ°å…¶ä¸­ï¼ˆæ­¤æ—¶å†è¿è¡Œapp.jsä¼šå‡ºé”™ï¼‰
    
2.  æˆ‘ä»¬éœ€è¦åœ¨ app.js ä¸­å¼•å…¥æˆ‘ä»¬æ–°å»ºçš„æ¨¡å—æ‰“å°å‡ºæ¥äº†ä¸€ä¸ª { } ç©º Object å¯¹è±¡ï¼Œâš ï¸ è¿™æ˜¯å› ä¸º calculator.js é‡Œçš„å‡½æ•°æ˜¯ä¸ä¼šè‡ªåŠ¨æš´éœ²æˆ–è€…è¢«è¾“å‡ºçš„ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®å‘Šè¯‰NodeJSå“ªä¸€ä¸ªå‡½æ•°éœ€è¦è¢«è¾“å‡ºï¼Œé‚£æ ·æ‰èƒ½è¢«å…¶ä»–ç¨‹åºå¼•å…¥å’Œè°ƒç”¨
    

![image-20220917142809311](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917142810_image-20220917142809311.png)

3.  æ¨¡å—ä½¿ç”¨ module.exports è¯­å¥ï¼Œåœ¨è¿è¡Œ app.js consoleè¾“å‡ºå‡½æ•° add

![image-20220917143041561](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143043_image-20220917143041561.png)

![image-20220917143013806](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143015_image-20220917143013806.png)

4.  ğŸ˜… é‚£ subtract æ€ä¹ˆåŠå‘¢ï¼Œå› ä¸ºmodule.exports={ }ï¼Œæˆ‘ä»¬å¯ä»¥å¾€é‡Œæ·»åŠ æ–°æ•°æ®ï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›ä¸€å¯¹ key-value å³å¯

![image-20220917143101733](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143103_image-20220917143101733.png)

![image-20220917143120353](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143121_image-20220917143120353.png)

5.  consoleè¾“å‡ºä¸¤ä¸ªå‡½æ•° add, subtract

    // app.js
    const calculator = require('./calculator.js');
    
    console.log(calculator);
    
    let addResult = calculator.add(1,2);
    
    console.log(`1 + 2 = ${addResult}`);
    

![image-20220917143153713](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143155_image-20220917143153713.png)

    const calculator = require('./calculator.js');
    
    console.log(calculator);
    
    let SubtractResult = calculator.subtract(5,2);
    
    console.log(`5 - 2 = ${SubtractResult}`);
    

![image-20220917143223602](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143224_image-20220917143223602.png)

    function add(num1,num2){
        return num1 + num2;
    }
    
    function subtract(num1,num2){
        return num1-num2;
    }
    
    //module.exports.add = add;
    //module.exports.subtract = subtract;
    
    //exports.add = add;
    //exports.subtract = subtract;
    
    module.exports = {
        add,  //add:add,
        subtract     //subtract:subtract
    }
    

> ğŸ’¡ è‡ªå®šä¹‰æ¨¡å—å°æŠ€å·§
> 
> *   â­ å¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šæ¨¡å—ï¼Œé‡å¤è¾“å…¥ module.exports æ˜¯å¾ˆéº»çƒ¦çš„ï¼ŒNodeJSç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¾¿åˆ©ï¼Œ**ç›´æ¥æŠŠæœ€å‰é¢çš„ module å»æ‰**
> *   â­ æˆ‘ä»¬å¯ä»¥å†™æˆ module.exports = **{ å†…å®¹ }** çš„å½¢å¼æ¥ç®€åŒ–ï¼Œå¦‚æœkey-valueç›¸ç­‰ï¼Œå¯ä»¥åªå†™key  
>     ![image-20220917143240658](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917143242_image-20220917143240658.png)

ğŸ–¥ï¸ CMDç»ˆç«¯çš„åŸºæœ¬ä½¿ç”¨
--------------

    sysdm.cpl  å¯å¿«é€Ÿæ‰“å¼€è®¡ç®—æœºè®¾ç½®é…ç½®ç¯å¢ƒå˜é‡
    md abc 	åˆ›å»ºç›®å½• abc
    rd abc 	åˆ é™¤ç›®å½• abc
    cd ..	è¿›åˆ°ä¸Šå±‚ç›®å½• 
    
    å¦‚æœç›®å½•ä¸æ˜¯ç©ºçš„ä¸èƒ½ç”¨rdåˆ é™¤ç›®å½•ï¼Œéœ€è¦åŠ ä¸¤ä¸ªå‚æ•°
    rd /s/q abc   (sub-directory quiet)
    
    echo on a.txt åˆ›å»º a.txt
    å¾€é‡Œé¢è¦†ç›–å†…å®¹
    echo 123 > a.txt
    å¾€é‡Œé¢è¿½åŠ å†…å®¹
    echo 456 >> a.txt
    
    cat a.txt è¾“å‡ºæ–‡ä»¶å†…å®¹
    
    rm a.txt åˆ é™¤æ–‡ä»¶
    
    cat > hello.txt è¦†ç›–ï¼ˆæŒ‰ctrl c é€€å‡ºï¼‰
    cat >> hello.txt è¿½åŠ å†…å®¹ï¼ˆæŒ‰ctrl c é€€å‡ºï¼‰
    
    åœ¨æ–‡ä»¶å†…æŒ‰ Shift å³é”® é€‰æ‹© åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤è¡Œ
    

Node.JS å…¨å±€æˆå‘˜
------------

    console.log(123);
    
    // åŒ…å«æ–‡åç§°çš„å…¨è·¯å¾„
    console.log(__filename);
    // æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¸åŒ…å«æ–‡ä»¶åç§°ï¼‰
    console.log(__dirname);
    
    // å®šæ—¶å‡½æ•°
    const a = setTimeout(()=>{
        console.log(123);
    },3000);
    
    setTimeout(()=>{console.log(123)},200);
    clearTimeout(a);
    
    // process.argv æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé»˜è®¤æƒ…å†µå‰ä¸¤é¡¹æ•°æ®åˆ†åˆ«æ˜¯ï¼šNode.jsçš„å®‰è£…ç¯å¢ƒçš„è·¯å¾„ï¼Œå½“å‰æ‰§è¡Œçš„jsæ–‡ä»¶çš„å…¨è·¯å¾„
    // ä»ç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹è¡¨ç¤ºå‘½ä»¤è¡Œå‚æ•°
    console.log(process.argv);
    console.log(process.argv0);
    
    // æ‰“å°å½“å‰ç³»ç»Ÿçš„æ¶æ„(x64, x86)
    console.log(process.arch);
    

åˆè¯†æ¨¡å—åŒ–ï¼ˆ1-2ï¼‰
----------

    /*
    	index.js
        æ¨¡å—åŒ–å¼€å‘
    
        ä¼ ç»Ÿéæ¨¡å—åŒ–å¼€å‘æœ‰å¦‚ä¸‹çš„ç¼ºç‚¹ï¼š
        1ã€å‘½åå†²çªï¼ˆå›¢é˜Ÿå¼€å‘ï¼‰
        2ã€æ–‡ä»¶ä¾èµ–ï¼ˆæ–‡ä»¶å¼•å…¥ä¸å…ˆåæ¬¡åºï¼‰
    
        å‰ç«¯æ ‡å‡†çš„æ¨¡å—åŒ–è§„èŒƒï¼š
        1ã€AMD - requirejs
        2ã€CMD - seajs
    
        åç«¯æ ‡å‡†çš„æ¨¡å—åŒ–è§„èŒƒï¼š
        1ã€CommonJS - Node.js
    
        æ¨¡å—åŒ–ç›¸å…³çš„è§„åˆ™ï¼š
        1ã€ å¦‚ä½•å®šä¹‰æ¨¡å—ï¼šä¸€ä¸ªjsæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæ¨¡å—å†…éƒ¨çš„æˆå‘˜éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„
        2ã€ æ¨¡å—æˆå‘˜çš„å¯¼å‡ºå’Œå¼•å…¥
    */
    
    const a = function(a,b){
        return parseInt(a) + parseInt(b);
    }
    
    // å¯¼å‡ºæ¨¡å—æˆå‘˜
    //exports.sum = a;
    
    module.exports = a; //æ­¤æ—¶è¿™ä¸ªæ¨¡å—æœ¬èº«å°±æ˜¯ä¸ªæ–¹æ³•
    

    /*
    	a.js
        å¼•å…¥æ¨¡å—
    */
    
    const mod = require('./index.js');
    
    console.log(mod);
    
    //var ret = mod.sum(12,13);
    
    var ret = mod(12,13);
    
    console.log(ret);
    

æ¨¡å—åŒ–ç»†èŠ‚è¡¥å……
-------

    /*
    	index.js
        æ¨¡å—æˆå‘˜çš„å¯¼å‡º global
    
        å·²ç»åŠ è½½çš„æ¨¡å—ä¼šç¼“å­˜ï¼Œå¦‚æœå†…å­˜ä¸­æœ‰åŒæ ·çš„æ–‡ä»¶å°±ä¸ä¼šåŠ è½½ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
    */
    
    console.log('hello');
    
    var flag = 123;
    
    // å¾ˆå°‘ä½¿ç”¨
    global.flag = flag;
    

    /*
    	a.js
        æ¨¡å—æ–‡ä»¶çš„åç¼€3ç§æƒ…å†µï¼š .js .json .nodeï¼ˆCã€C++ï¼‰ï¼ˆä¸åŠ åç¼€æ—¶åŠ è½½é¡ºåºï¼‰
        */
    
    //require('./index.js'); 
    //require('./index.js');
    //require('./index.js');
    
    require('./index');   // åç¼€å¯ä»¥ç›´æ¥çœç•¥
    
    var data = require('./data')
    
    console.log(global.flag);
    console.log(data);
    

    // data.json
    {
        "username":"å¼ ä¸‰",
        "age":12
    }
    

ES6 letã€const ä½¿ç”¨è§„èŒƒ
------------------

    /*
        å£°æ˜å˜é‡ letå’Œconst
    */
    
    // let å£°æ˜çš„å˜é‡ä¸å­˜åœ¨é¢„è§£æ
    //console.log(flag);
    // var flag = 123;
    // let flag = 456;
    
    // let å£°æ˜çš„å˜é‡ä¸å…è®¸é‡å¤ï¼ˆåŒä¸€ä½œç”¨åŸŸï¼‰
    //let flag = 123;
    //let flag = 456;
    //console.log(flag);
    
    // ES6 å¼•å…¥äº†å—çº§ä½œç”¨åŸŸ
    // å—å†…éƒ¨letå®šä¹‰çš„å˜é‡ï¼Œåœ¨å¤–éƒ¨è®¿é—®ä¸åˆ°
    // if(true){
    //     //var flag = 123;
    //     let flag = 123;
    // }
    /* -------------------------------------------------------------------------- */
    {
        // è¿™é‡Œæ˜¯å—çº§ä½œç”¨åŸŸ
        let flag = 123;
        console.log(flag);
    }
    //console.log(flag);
    /* -------------------------------------------------------------------------- */
    for(let i = 0; i < 3; i++){
        // forå¾ªç¯æ‹¬å·ä¸­letå£°æ˜çš„å˜é‡åªèƒ½åœ¨å¾ªç¯ä½“ä¸­ä½¿ç”¨
        console.log(i);
    }
    /* -------------------------------------------------------------------------- */
    // åœ¨å—çº§ä½œç”¨åŸŸå†…éƒ¨ï¼Œå˜é‡åªèƒ½å…ˆå£°æ˜å†ä½¿ç”¨ï¼Œå› ä¸ºæ²¡æœ‰é¢„è§£æ
    if(true){
        //console.log(flag);
        let flag = 123;
    }
    
    /* ---------------------------------- const --------------------------------- */
    
    // constç”¨æ¥å£°æ˜å¸¸é‡ï¼Œä¸å…è®¸é‡æ–°èµ‹å€¼ï¼Œä¸€å¼€å§‹å¿…é¡»è¦åˆå§‹åŒ–
    // ä¸Šè¿°è§„åˆ™å¯¹ const åŒæ ·é€‚ç”¨
    // const n = 1;
    // n = 2;
    
    

ES6 å˜é‡è§£æ„èµ‹å€¼
----------

    /*
        å˜é‡çš„è§£æ„èµ‹å€¼
    */
    
    // var a = 1;
    // var b = 2;
    // var c = 3;
    
    // var a = 1,b = 2,c = 3;
    
    // * æ•°ç»„çš„è§£æ„èµ‹å€¼ï¼Œæ ¹æ®é¡ºåºï¼Œè¿˜å¯ä»¥æ·»åŠ é»˜è®¤å€¼
    //let [a,b,c] = [1,2,3];
    
    //let [a=111,b,c] = [,123,];
    
    //console.log(a,b,c);
    
    // * å¯¹è±¡çš„è§£æ„èµ‹å€¼
    //let {foo,bar} = {foo:'hello',bar : 'hi'};
    //let {foo,bar} = {bar : 'hi',foo:'hello'};
    
    // * å¯¹è±¡å±æ€§åˆ«åï¼ˆå¦‚æœèµ·äº†åˆ«åï¼Œé‚£ä¹ˆåŸæ¥çš„åå­—å°±æ— æ•ˆäº†ï¼‰
    // let {foo:abc,bar} = {foo:'hello',bar : 'hi'}
    
    // console.log(typeof(abc),bar,abc);
    
    // * å¯¹è±¡çš„è§£æ„èµ‹å€¼è®¾ç½®é»˜è®¤å€¼
    let {foo:abc="hello",bar} = {bar : 'hi'};
    console.log(abc,bar);
    
    // * æŠŠå¯¹è±¡å½“ä¸­çš„å±æ€§ä¸åç§°çš„è¿›è¡Œç»‘å®š
    let {cos,sin,random} = Math;
    
    console.log(typeof cos,typeof sin,typeof random);
    /* -------------------------------------------------------------------------- */
    // * å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼
    
    let [a,b,c,d,e,length] = "hello";
    console.log(a,b,c,d,e,length);
    
    let {length:len} = "hel";
    
    console.log(len);
    

ES6 å­—ç¬¦ä¸²æ‰©å±•ä¸æ¨¡æ¿å­—ç¬¦ä¸²
---------------

    /*
        å­—ç¬¦ä¸²ç›¸å…³æ‰©å±•
        includes()  åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­ä¸²ï¼ˆæœ‰çš„è¯è¿”å›trueï¼Œå¦åˆ™è¿”å›falseï¼‰
                    å‚æ•°ä¸€ï¼šåŒ¹é…çš„å­ä¸²ï¼›å‚æ•°äºŒï¼šä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…
        startsWith()  åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥ç‰¹å®šçš„å­ä¸²å¼€å§‹
        endsWith()  åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥ç‰¹å®šçš„å­ä¸²ç»“æŸ
    
        æ¨¡æ¿å­—ç¬¦ä¸²
    */
    
    console.log('hello world'.includes('world',6));
    
    let url = 'admin/index.php';
    
    console.log(url.startsWith('admin'));
    console.log(url.endsWith('php'));
    
    /* -------------------------------------------------------------------------- */
    let obj = {
        username : 'æå››',
        age:'12',
        gender: 'male'
    };
    
    let tag = '<div><span>'+obj.username+'</span><span>'+obj.age+'</span><span>'+obj.gender+'</span></div>';
    // åå¼•å·è¡¨ç¤ºæ¨¡æ¿ï¼Œæ¨¡æ¿ä¸­çš„å†…å®¹å¯ä»¥æœ‰æ ¼å¼ï¼Œé€šè¿‡ ${}æ–¹å¼å¡«å……æ•°æ®
    let fn = (x)=> x;
    let tag2 = `
    <div>
        <span>${obj.username}</span>
        <span>${obj.age}</span>
        <span>${obj.gender}</span>
        <span>${1+1}</span>
        <span>${fn('nihao')}</span>
    </div>
    `
    
    console.log(tag);
    console.log(tag2); // * æ¨¡æ¿å­—ç¬¦ä¸²åæœŸç»´æŠ¤æ–¹ä¾¿
    

ES6 å‡½æ•°æ‰©å±•
--------

    /*
        å‡½æ•°æ‰©å±•
        - å‚æ•°é»˜è®¤å€¼
        - å‚æ•°è§£æ„èµ‹å€¼
        - restå‚æ•°
        - ...æ‰©å±•è¿ç®—ç¬¦
    */
    
    //å‚æ•°é»˜è®¤å€¼è€å¼æ–¹æ³•
    function foo(param) {
        let p = param || 'hello';
        console.log(p);
    }
    foo();
    
    function foo2(param = 'nihao') {
        console.log(param);
    }
    
    foo2();
    foo2('123456');
    
    /* -------------------------------------------------------------------------- */
    
    function foo3(uname = 'list', age = 12) {
        console.log(uname, age);
    }
    
    foo3();
    foo3('å¼ ä¸‰', 13);
    
    // * å‚æ•°è§£æ„èµ‹å€¼
    function foo4({
        uname = 'lisi',
        age = 10
    } = {}) {
        console.log(uname, age);
    }
    
    foo4(); //! ä¸ä¼ å‚ä¼šå‡ºé—®é¢˜ï¼Œå¯ä»¥ç»™å‡½æ•°å‚æ•°ä¸€ä¸ªé»˜è®¤å€¼ {}
    foo4({
        uname: 'zhangsan',
        age: 15
    });
    
    /* -------------------------------------------------------------------------- */
    // * restå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰...
    function foo5(a, ...params) {
        console.log(params);
    }
    
    foo5(1, 2, 3, 4, 5);
    
    // æ‰©å±•è¿ç®—ç¬¦ ...
    
    function foo6(a, b, c, d, e, f){
        console.log(a + b + c + d + e + f);
    }
    
    foo6(1,2,3,4,5,6);
    let arr = [1,2,3,4,5,6];
    //foo6.apply(null,arr); 
    
    foo6(...arr);  // ! æ‰©å±•è¿ç®—ç¬¦
    
    // åˆå¹¶æ•°ç»„
    let arr1 = [1,2,3];
    let arr2 = [4,5,6];
    let arr3 = [...arr1,...arr2];
    console.log(arr3);
    

[applyã€callå‡½æ•°å¦™ç”¨](https://www.cnblogs.com/chenhuichao/p/8493095.html)

ES6 ç®­å¤´å‡½æ•°
--------

![image-20220917144137475](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917144138_image-20220917144137475.png)

    nodeæ‰§è¡Œè°ƒè¯•å®Œæˆä¹‹åè¿›ç¨‹é€€å‡ºï¼Œè¿™æ—¶å€™å»çœ‹å®ƒçš„æ‰“å°å†…å®¹å°±çœ‹ä¸åˆ°äº†
    
    éœ€è¦çœ‹åˆ°ä»–å…·ä½“çš„å€¼ï¼Œåœ¨æ‰“å°çš„åœ°æ–¹åŠ ä¸Šæ–­ç‚¹å³å¯
    

    /*
        ç®­å¤´å‡½æ•°
    */
    
    function foo(){
        console.log('hello');
    }
    foo();
    
    let foo2= () => console.log('hello');
    foo2();
    
    let foo3= x => x;
    foo3(123);
    
    // * å¤šä¸ªå‚æ•°å¿…é¡»ç”¨å°æ‹¬å·åŒ…ä½
    let foo4 = (a,b) => console.log(a+b);
    foo4(1,2);
    
    let arr = [1,2,3];
    arr.forEach(function(value,index){
        console.log(value,index);
    });
    
    arr.forEach((value,index)=>console.log(value,index));
    
    // ! ç®­å¤´å‡½æ•°çš„æ³¨æ„äº‹é¡¹
    // - ç®­å¤´å‡½æ•°ä¸­çš„thiså–å†³äºå‡½æ•°çš„å®šä¹‰ä½ç½®è€Œä¸æ˜¯è°ƒç”¨ä½ç½®
    // - ç®­å¤´å‡½æ•°ä¸å¯ä»¥ new
    // - ç®­å¤´å‡½æ•°ä¸å¯ä»¥ä½¿ç”¨ arguments è·å–å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨restå‚æ•°ä»£æ›¿
    function foo5(){
        // ä½¿ç”¨callè°ƒç”¨foo5æ—¶ï¼Œè¿™é‡Œçš„thiså…¶å®å°±æ˜¯callçš„ç¬¬ä¸€ä¸ªå‚æ•°
        console.log(this);
        setTimeout(()=>{
            console.log(this,this.num);
        },1000);
    }
    
    foo5();
    foo5.call({num:1});
    /* -------------------------------------------------------------------------- */
    let foo6 = ()=> {this.num = 123;}
    //new foo6();
    /* -------------------------------------------------------------------------- */
    let foo7 = (a,b) =>{
        console.log(a,b,arguments); //è¿™ç§æ–¹å¼è·å–ä¸åˆ°å®å‚åˆ—è¡¨
    }
    foo7(123,456);
    
    let foo8 = (...param) => {  //restå‚æ•°
        console.log(param);
    }
    foo8(123,456);
    

ES6 ç±»ä¸ç»§æ‰¿
--------

    /*
        ç±»ä¸ç»§æ‰¿
    */
    // function Animal(name){
    //     this.name = name;
    // }
    
    // Animal.prototype.showName = function(){
    //     console.log(this.name);
    // }
    // var a = new Animal('Tom');
    // a.showName();
    // var b = new Animal('Jerry');
    // a.showName();
    /* -------------------------------------------------------------------------- */
    
    class Animal{
        // * é™æ€æ–¹æ³•(é™æ€æ–¹æ³•åªèƒ½é€šè¿‡ç±»åè°ƒç”¨ï¼Œä¸å¯ä»¥ä½¿ç”¨å®ä¾‹å¯¹è±¡è°ƒç”¨)
        static showInfo(){
            console.log('hello');
        }
        // * æ„é€ å‡½æ•°
        constructor(name){
            this.name = name;
        }
        showName(){
            console.log(this.name);
        }
    }
    let a = new Animal('spike');
    a.showName();
    Animal.showInfo();
    /* -------------------------------------------------------------------------- */
    // ç±»çš„ç»§æ‰¿ extends
    class Dog extends Animal{
        constructor(name,color){
            super(name); // superç”¨æ¥è°ƒç”¨çˆ¶ç±»
            this.color = color;
        }
        ShowColor(){
            console.log(this.color);
        }
    }
    
    let d = new Dog('doudou','yellow');
    d.showName();
    d.ShowColor();
    Dog.showInfo();
    
    

BufferåŸºæœ¬æ“ä½œ
----------

    console.log(Buffer.isEncoding('utf8'));
    console.log(Buffer.isEncoding('gbk'));
    
    let buf = Buffer.from('hello');
    console.log(buf);
    console.log(Buffer.isBuffer(buf));
    console.log(Buffer.isBuffer({}));
    
    let buf2 = Buffer.from('ä¸­å›½','ascii');
    console.log(Buffer.byteLength(buf2));
    console.log(buf2.toString());
    
    let buf31 = Buffer.alloc(3);
    let buf32 = Buffer.alloc(5);
    let buf33 = Buffer.concat([buf31,buf32]);
    console.log(Buffer.byteLength(buf33));
    
    /* -------------------------------------------------------------------------- */
    // å®ä¾‹æ–¹æ³• 
    
    let buf4 = Buffer.alloc(5);
    buf4.write('hello',2,2); // * å‘bufferå¯¹è±¡ä¸­å†™å…¥å†…å®¹  [from] - counts
    console.log(buf4);
    
    let buf51 = Buffer.from('hello');
    let buf52 = buf51.slice();
    console.log(buf51==buf52); // ! ä¸¤ä¸ªä¸åŒçš„bufferå¯¹è±¡
    buf52 = buf51.slice(1,3); // * æˆªå–bufferå¯¹è±¡çš„å†…å®¹ [from] - (to)
    console.log(buf52.toString());
    
    // ! toJSONæ–¹æ³•ä¸éœ€è¦æ˜¾å¼è°ƒç”¨ï¼Œå½“JSON.stringifyæ–¹æ³•è°ƒç”¨çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨toJSONæ–¹æ³• 
    const buf6 = Buffer.from('hello');
    const json = JSON.stringify(buf6); // * å°†bufferå¯¹è±¡è½¬æˆJSONï¼Œå¯¹åº”çš„åè¿›åˆ¶
    console.log(json);
    

Node.JS è·¯å¾„æ“ä½œ
------------

    /*
        è·¯å¾„æ“ä½œ
    */
    const path = require('path');
    
    // * è·å–è·¯å¾„çš„æœ€åä¸€éƒ¨åˆ†
    console.log(path.basename('/foo/bar/baz/asdf/quux.html'));
    console.log(path.basename('/foo/bar/baz/asdf/quux.html','.html'));
    
    // * è·å–è·¯å¾„
    console.log(__dirname);
    console.log(path.dirname('/abc/qq/www/aabc.txt'));
    
    // * è·å–æ–‡ä»¶æ‰©å±•å
    console.log(path.extname('index.html'));
    
    // * è·¯å¾„çš„æ ¼å¼åŒ–å¤„ç†
    // path.format() obj->string
    // path.parse() string->obj
    
    let obj = path.parse(__filename);
    console.log(obj);
    
    /*
    {
      root: 'F:\\',   æ–‡ä»¶æ ¹è·¯å¾„
      dir: 'F:\\Node.JS\\Codes\\1031\\NodeJSåŸºç¡€\\2-1 è·¯å¾„æ“ä½œ', æ–‡ä»¶å…¨è·¯å¾„
      base: 'index.js', æ–‡ä»¶åç§°
      ext: '.js',   æ–‡ä»¶æ‰©å±•å
      name: 'index' æ–‡ä»¶åç§°
    }
    */
    
    let objpath = {
        root: 'd:\\',  
        base: 'abc.txt',
        dir : 'd:\\aaaaa\\cccc\\', 
        ext: '.txt',   
        name: 'abc', 
    };
    let strPath = path.format(objpath);
    console.log(strPath);
    
    // * åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„
    path.isAbsolute('C:/foo/..'); 
    
    // * æ‹¼æ¥è·¯å¾„ï¼Œåœ¨è¿æ¥è·¯å¾„çš„æ—¶å€™ä¼šæ ¼å¼åŒ–
    console.log(path.join('/foo','bar','baz/asdf','quux','../../')); // ! ä¸¤ä¸ªç‚¹æ˜¯ä¸Šå±‚è·¯å¾„ï¼Œä¸€ä¸ªç‚¹è¡¨ç¤ºå½“å‰è·¯å¾„
    
    // * è§„èŒƒåŒ–è·¯å¾„
    console.log(path.normalize('/foo/bar//baz/asdf/quux/..'))
    console.log(path.normalize('C:\\temp\\\\foo\\bar\\..\\'));
    
    // * ä»ä¸¤ä¸ªç»å¯¹è·¯å¾„æ¢ç®—å‡ºæ¥ç›¸å¯¹è·¯å¾„
    console.log(path.relative('C:\\orandea\\test\\aaa', 'C:\\orandea\\impl\\bbb'));
    
    // * è§£æè·¯å¾„
    console.log(path.resolve('wwwroot', 'static_files/png/', '../gif/image.gif'));
    
    // * ä¸¤ä¸ªç‰¹æ®Šå±æ€§
    console.log(path.delimiter); // * ç¯å¢ƒå˜é‡åˆ†éš”ç¬¦ windows æ˜¯ ; linux æ˜¯ :
    console.log(path.sep);  // * è·¯å¾„åˆ†éš”ç¬¦ï¼Œwindows æ˜¯ \  LINUXæ˜¯ /
    

å¼‚æ­¥I/O
-----

![image-20220917144835319](https://xiaonenglife.oss-cn-hangzhou.aliyuncs.com/static/pic/2022/09/20220917144836_image-20220917144835319.png)

    /*
        å¼‚æ­¥I/O input/output
        - æ–‡ä»¶æ“ä½œ
        - ç½‘ç»œæ“ä½œ
    
        åœ¨æµè§ˆå™¨ä¸­ä¹Ÿå­˜åœ¨å¼‚æ­¥æ“ä½œï¼š
        - å®šæ—¶ä»»åŠ¡
        - äº‹ä»¶å¤„ç†
        - Ajaxå›è°ƒå¤„ç†
    
        jsçš„è¿è¡Œæ˜¯å•çº¿ç¨‹çš„
        å¼•å…¥äº†äº‹ä»¶é˜Ÿåˆ—æœºåˆ¶
    
        Node.jsä¸­çš„äº‹ä»¶æ¨¡å‹ä¸æµè§ˆå™¨ä¸­çš„äº‹ä»¶æ¨¡å‹ç±»ä¼¼
        å•çº¿ç¨‹+äº‹ä»¶é˜Ÿåˆ—
    
        Node.jsä¸­å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼š
        1ã€æ–‡ä»¶I/O
        2ã€ç½‘ç»œI/O
    
        åŸºäºå›è°ƒå‡½æ•°çš„ç¼–ç é£æ ¼
    */
    

æ–‡ä»¶æ“ä½œ
----

### æ–‡ä»¶çŠ¶æ€

    /*
        æ–‡ä»¶çŠ¶æ€
    */
    const fs = require('fs');
    console.log(1);
    fs.stat(`${__dirname}/data.txt`,(err,stat)=>{
        // ! ä¸€èˆ¬å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é”™è¯¯å¯¹è±¡ï¼Œå¦‚æœerrä¸ºnullï¼Œè¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå¦åˆ™è¡¨ç¤ºæŠ¥é”™äº†
        if(err) return;
        console.log(stat);
        if(stat.isFile()){
            console.log('æ–‡ä»¶');
        }
        else if(stat.isDirectory()){
            console.log('ç›®å½•');
        }
        /* 
        atime è®¿é—®æ—¶é—´
        mtime æ–‡ä»¶æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶é—´
        ctime æ–‡ä»¶çŠ¶æ€ä¿¡æ¯å‘ç”Ÿå˜æ¢çš„æ—¶é—´ï¼ˆæ¯”å¦‚æ–‡ä»¶çš„æƒé™ï¼‰
        birthtime æ–‡ä»¶åˆ›å»ºçš„æ—¶é—´
        */
    });
    console.log(2);
    
    // åŒæ­¥æ“ä½œ
    // console.log(1);
    // let ret = fs.statSync(`${__dirname}/data.txt`);
    // console.log(ret);
    // console.log(2);
    
    // ! å½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œäº†æ‰ä¼šç©ºé—²ï¼Œå»æŠŠäº‹ä»¶é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡å–å‡ºæ¥
    

### è¯»æ–‡ä»¶

    /*
        è¯»æ–‡ä»¶æ“ä½œ
    */
    const fs = require('fs');
    const path = require('path');
    
    let strPath = path.join(__dirname,'data.txt');
    
    fs.readFile(strPath,(err,data)=>{
        if(err) return;
        console.log(data); // * æ‰“å°å‡ºå­—èŠ‚æ•°ç»„
        console.log(data.toString());
    });
    
    // * ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šç¼–ç ï¼Œå¾—åˆ°çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²
    // * å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å°±æ˜¯Bufferå®ä¾‹å¯¹è±¡
    fs.readFile(strPath,'utf8',(err,data)=>{
        if(err) return;
        console.log(data); // * æ‰“å°å‡ºå­—ç¬¦ä¸²
    });
    
    // ! åŒæ­¥æ“ä½œï¼Œä¸éœ€è¦å›è°ƒå‡½æ•°
    let ret = fs.readFileSync(strPath,'utf8');
    console.log(ret);
    

### å†™æ–‡ä»¶

    /*
        å†™æ–‡ä»¶æ“ä½œ
    */
    const fs = require('fs');
    const path = require('path');
    
    let strpath = path.join(__dirname,'data.txt');
    // * é»˜è®¤ç¼–ç æ–¹å¼ encoding : utf 8
    // fs.writeFile(strpath,'hello cat',(err)=>{
    //     if(err) throw err;
    //     else {
    //         console.log('æ–‡ä»¶å†™å…¥æˆåŠŸ');
    //     }
    // })
    // ! å¤šæ¬¡å†™å…¥éœ€è¦ä½¿ç”¨æ•°æ®æµçš„æ–¹å¼
    
    // let buf = Buffer.from('world');
    // fs.writeFile(strpath,buf,(err)=>{
    //     if(err) throw err;
    //     else {
    //         console.log('æ–‡ä»¶å†™å…¥æˆåŠŸ');
    //     }
    // })
    
    // ! åŒæ­¥æ“ä½œ
    fs.writeFileSync(strpath,'tom and jerry');
    

### æ–‡ä»¶æµå¼æ“ä½œï¼ˆé’ˆå¯¹å¤§æ–‡ä»¶ï¼‰

    /*
        å¤§æ–‡ä»¶æ“ä½œï¼ˆæµå¼æ“ä½œï¼‰
        fs.createWriteStream(path[, options])
        fs.createReadStream(path[, options])
    */
    const path = require('path');
    const fs = require('fs');
    
    let sPath = path.join(__dirname,'../files','file.zip');
    let dPath = path.join('P:\\','file.zip');
    
    let readStream = fs.createReadStream(sPath);
    let writeStream = fs.createWriteStream(dPath);
    
    // åŸºäºäº‹ä»¶çš„å¤„ç†æ–¹å¼
    // * ä¸¾ä¾‹
    // $('input[type=button]').on('click',function(){
    //     console.log('hello');
    // });
    
    // * åœ¨NodeJSä¸­æ— DOMæ“ä½œï¼Œæ‰€ä»¥æ²¡æœ‰ç‚¹å‡»äº‹ä»¶
    
    // let num = 0;
    // readStream.on('data',(chunk)=>{ // ! data æ˜¯å›ºå®šçš„äº‹ä»¶ï¼Œæ¯è¯»å–ä¸€éƒ¨åˆ†å°±è§¦å‘
    //     num++;
    //     writeStream.write(chunk);
    // });
    
    // readStream.on('end',()=>{ // ! end æ˜¯å›ºå®šçš„äº‹ä»¶
    //     console.log(num);
    //     console.log('æ–‡ä»¶å¤„ç†å®Œæˆ');
    // })
    
    /* -------------------------------------------------------------------------- */
    
    // * å¦å¤–ä¸€ç§æ–¹å¼ï¼Œpipeçš„ä½œç”¨ç›´æ¥æŠŠè¾“å…¥æµï¼ˆä»ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼‰ä¸è¾“å‡ºæµï¼ˆä»å†…å­˜å†™å…¥åˆ°ç£ç›˜ï¼‰
    readStream.pipe(writeStream);
    
    /* -------------------------------------------------------------------------- */
    
    fs.createReadStream(sPath).pipe(fs.createWriteStream(dPath));
    

### ç›®å½•æ“ä½œ

    /*
        ç›®å½•æ“ä½œ
        - åˆ›å»ºç›®å½•
        fs.mkdir(path[, options], callback)
        fs.mkdirSync(path[, options])
        - è¯»å–ç›®å½•
        fs.readdir
        fs.readdirSync
    
    */
    
    const path = require('path');
    const fs = require('fs');
    
    // fs.mkdir(path.join(__dirname,'../files','abc'),(err)=>{
    //     console.log(err);
    // });
    
    // fs.mkdirSync(path.join(__dirname,'../files','abc'));
    /* -------------------------------------------------------------------------- */
    // è¯»å–ç›®å½•ä¸‹çš„ç›®å½•ä¸æ–‡ä»¶
    // fs.readdir(path.join(__dirname,'..'),(err,files)=>{
    // console.log(err,files);
    //     files.forEach((item,index)=>{
    //         fs.stat(path.join(__dirname,'..',item),(err,stat)=>{
    //             if(stat.isFile()){
    //                 console.log(item,'æ–‡ä»¶');
    //             }
    //             else if(stat.isDirectory()){
    //                 console.log(item,'ç›®å½•');
    //             }
    //         })
    //     })
    // });
    
    // ! åŒæ­¥æ“ä½œ
    // let files = fs.readdirSync(path.join(__dirname,'..'));
    // files.forEach((item,index)=>{
    //     fs.stat(path.join(__dirname,'..',item),(err,stat)=>{
    //         if(stat.isFile()){
    //             console.log(item,'æ–‡ä»¶');
    //         }
    //         else if(stat.isDirectory()){
    //             console.log(item,'ç›®å½•');
    //         }
    //     })
    // })
    
    // ! åˆ é™¤ç›®å½•
    fs.rmdir(path.join(__dirname,'../files','abc'),(err)=>{
        console.log(err);
    });
    
    fs.rmdirSync(path.join(__dirname,'../files','abc'));
    

æ–‡ä»¶å®æ“æ¡ˆä¾‹ï¼ˆåˆå§‹åŒ–ç›®å½•ä¸æ–‡ä»¶ï¼‰
----------------

    /*
        æ–‡ä»¶æ“ä½œæ¡ˆä¾‹ï¼ˆåˆå§‹åŒ–ç›®å½•ç»“æ„ï¼‰
    */
    
    const path = require('path');
    const fs = require('fs');
    
    let root = 'P:\\'
    let fileContent = `
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        æ¬¢è¿è®¿é—®
    </body>
    </html>
    `;
    
    // åˆå§‹åŒ–æ•°æ®
    let initData = {
        projectName : 'mydemo',
        data : [{
            name : 'img',
            type : 'dir'
        },{
            name : 'js',
            type : 'dir'
        },{
            name : 'css',
            type : 'dir'
        },{
            name : 'index.html',
            type : 'file'
        }]
    };
    
    // åˆ›å»ºé¡¹ç›®æ ¹è·¯å¾„
    fs.mkdir(path.join(root,initData.projectName),(err)=>{
        if(err) return;
        // åˆ›å»ºå­ç›®å½•å’Œæ–‡ä»¶
        initData.data.forEach((item)=>{
            if(item.type == 'dir'){
                // * åˆ›å»ºå­ç›®å½•
                fs.mkdirSync(path.join(root,initData.projectName,item.name));
            }
            else if(item.type == 'file'){
                fs.writeFileSync(path.join(root,initData.projectName,item.name),fileContent);
            }
        })
    });