---
layout: post
title: "K3S ç³»åˆ—æ–‡ç« -5G IoT ç½‘å…³è®¾å¤‡ POD è®¿é—®æŠ¥é”™ DNS 'i/o timeout'åˆ†æä¸è§£å†³"
date: "2023-02-19T01:15:51.940Z"
---
K3S ç³»åˆ—æ–‡ç« -5G IoT ç½‘å…³è®¾å¤‡ POD è®¿é—®æŠ¥é”™ DNS 'i/o timeout'åˆ†æä¸è§£å†³
====================================================

å¼€ç¯‡
--

*   ã€Š[K3s ç³»åˆ—æ–‡ç« ](https://ewhisper.cn/tags/K3S/)ã€‹
*   ã€Š[Rancher ç³»åˆ—æ–‡ç« ](https://ewhisper.cn/tags/Rancher/)ã€‹

é—®é¢˜æ¦‚è¿°
----

20220606 5G IoT ç½‘å…³è®¾å¤‡åŒæ—¶å®‰è£… K3S Server, ä½†æ˜¯ POD å´æ— æ³•è®¿é—®äº’è”ç½‘åœ°å€ï¼ŒæŸ¥çœ‹ CoreDNS æ—¥å¿—æç¤ºå¦‚ä¸‹ï¼š

    ...
    [ERROR] plugin/errors: 2 update.traefik.io. A: read udp 10.42.0.3:38545->8.8.8.8:53: i/o timeout
    [ERROR] plugin/errors: 2 update.traefik.io. AAAA: read udp 10.42.0.3:38990->8.8.8.8:53: i/o timeout
    ...
    

å³ DNS æŸ¥è¯¢ forward åˆ°äº† 8.8.8.8 è¿™ä¸ª DNS æœåŠ¡å™¨ï¼Œå¹¶ä¸”æŸ¥è¯¢è¶…æ—¶ã€‚

ä»è€Œå¯¼è‡´éœ€è¦è”ç½‘å¯åŠ¨çš„ POD æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œé¢‘ç¹ CrashLoopBackoff, å¦‚ä¸‹å›¾ï¼š

![éœ€è¦è”ç½‘å¯åŠ¨çš„ POD CrashLoopBackoff](https://img2023.cnblogs.com/other/3034537/202302/3034537-20230218074701767-1026092426.png)

ä½†æ˜¯é€šè¿‡ Node ç›´æ¥è®¿é—®ï¼Œå´æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®çš„ï¼Œå¦‚ä¸‹å›¾ï¼š

![é€šè¿‡ Node å¯ä»¥æ­£å¸¸è®¿é—®](https://img2023.cnblogs.com/other/3034537/202302/3034537-20230218074702175-1099756074.png)

### ç¯å¢ƒä¿¡æ¯

1.  ç¡¬ä»¶ï¼š5G IoT ç½‘å…³
2.  ç½‘ç»œï¼š
    1.  äº’è”ç½‘è®¿é—®ï¼š5G ç½‘å¡ï¼šå°±æ˜¯ä¸€ä¸ª usb ç½‘å¡ï¼Œéœ€è¦é€šè¿‡æ‹¨å·ç¨‹åºå¯åŠ¨ï¼Œç¨‹åºä¼šè°ƒç”¨ç³»ç»Ÿçš„ dhcp/dnsmasq/resolvconf ç­‰
    2.  å†…ç½‘è®¿é—®ï¼šwlan ç½‘å¡
3.  è½¯ä»¶ï¼šK3S Server v1.21.7+k3s1, dnsmasq ç­‰

åˆ†æ
--

### ç½‘ç»œè¯¦ç»†é…ç½®ä¿¡æ¯

ä¸€æ­¥ä¸€æ­¥æ£€æŸ¥åˆ†æï¼š

1.  çœ‹ `/etc/resolv.conf`, å‘ç°é…ç½®æ˜¯ 127.0.0.1
2.  netstat æŸ¥çœ‹ æœ¬åœ° 53 ç«¯å£ç¡®å®åœ¨è¿è¡Œ
3.  è¿™ç§æƒ…å†µä¸€èˆ¬éƒ½æ˜¯æœ¬åœ°å¯åŠ¨äº† DNS æœåŠ¡å™¨æˆ– ç¼“å­˜ï¼ŒæŸ¥çœ‹ dnsmasq è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œç¡®å®å­˜åœ¨
4.  dnsmasq ç”¨çš„ resolv.conf é…ç½®æ˜¯ `/run/dnsmasq/resolv.conf`

    $ cat /etc/resolv.conf
    # Generated by resolvconf
    nameserver 127.0.0.1
    
    $ netstat -anpl|grep 53
    (Not all processes could be identified, non-owned process info
     will not be shown, you would have to be root to see it all.)
    tcp        0      0 0.0.0.0:53              0.0.0.0:*               LISTEN      -
    tcp6       0      0 :::53                   :::*                    LISTEN      -
    udp        0      0 0.0.0.0:53              0.0.0.0:*                           -
    udp6       0      0 :::53                   :::*                                -
    
    $ ps -ef|grep dnsmasq
    dnsmasq    912     1  0 6 æœˆ 06 ?       00:00:00 /usr/sbin/dnsmasq -x /run/dnsmasq/dnsmasq.pid -u dnsmasq -r /run/dnsmasq/resolv.conf -7 /etc/dnsmasq.d,.dpkg-dist,.dpkg-old,.dpkg-new --local-service --trust-anchor=...
    
    $ systemctl status dnsmasq.service
    â— dnsmasq.service - dnsmasq - A lightweight DHCP and caching DNS server
       Loaded: loaded (/lib/systemd/system/dnsmasq.service; enabled; vendor preset: enabled)
       Active: active (running) since Mon 2022-06-06 17:21:31 CST; 16h ago
     Main PID: 912 (dnsmasq)
        Tasks: 1 (limit: 4242)
       Memory: 1.1M
       CGroup: /system.slice/dnsmasq.service
               â””â”€912 /usr/sbin/dnsmasq -x /run/dnsmasq/dnsmasq.pid -u dnsmasq -r /run/dnsmasq/resolv.conf -7 /etc/dnsmasq.d,.dpkg-dist,.dpkg-old,.dpkg-new --local-service --trust-anchor=...
    
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq[912]: started, version 2.80 cachesize 150
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq[912]: compile time options: IPv6 GNU-getopt DBus i18n IDN DHCP DHCPv6 no-Lua TFTP conntrack ipset auth DNSSEC loop-detect inotify dumpfile
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq-dhcp[912]: DHCP, IP range 192.168.51.100 -- 192.168.51.200, lease time 3d
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq[912]: read /etc/hosts - 8 addresses
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq[912]: no servers found in /run/dnsmasq/resolv.conf, will retry
    6 æœˆ 06 17:21:31 orangebox-7eb3 dnsmasq[928]: Too few arguments.
    6 æœˆ 06 17:21:31 orangebox-7eb3 systemd[1]: Started dnsmasq - A lightweight DHCP and caching DNS server.
    6 æœˆ 06 17:22:18 orangebox-7eb3 dnsmasq[912]: reading /run/dnsmasq/resolv.conf
    6 æœˆ 06 17:22:18 orangebox-7eb3 dnsmasq[912]: using nameserver 222.66.251.8#53
    6 æœˆ 06 17:22:18 orangebox-7eb3 dnsmasq[912]: using nameserver 116.236.159.8#53
    
    $ cat /run/dnsmasq/resolv.conf
    # Generated by resolvconf
    nameserver 222.66.251.8
    nameserver 116.236.159.8
    

### CoreDNS åˆ†æ

è¿™é‡Œå¾ˆå¥‡æ€ªï¼Œå°±æ˜¯æ²¡å‘ç°å“ªå„¿æœ‰é…ç½® DNS 8.8.8.8, ä½†æ˜¯æ—¥å¿—ä¸­å´æ˜¾ç¤ºæŒ‡å‘äº†è¿™ä¸ª DNS:

    [ERROR] plugin/errors: 2 update.traefik.io. A: read udp 10.42.0.3:38545->8.8.8.8:53: i/o timeout
    [ERROR] plugin/errors: 2 update.traefik.io. AAAA: read udp 10.42.0.3:38990->8.8.8.8:53: i/o timeout
    

å…ˆæŸ¥çœ‹ä¸€ä¸‹ CoreDNS çš„é…ç½®ï¼š(K3S çš„ CoreDNS æ˜¯é€šè¿‡ manifests å¯åŠ¨çš„ï¼Œä½äºï¼š`/var/lib/rancher/k3s/server/manifests/coredns.yaml` ä¸‹ï¼‰

    apiVersion: v1
    kind: ConfigMap
    metadata:
      name: coredns
      namespace: kube-system
    data:
      Corefile: |
        .:53 {
            errors
            health
            ready
            kubernetes cluster.local in-addr.arpa ip6.arpa {
              pods insecure
              fallthrough in-addr.arpa ip6.arpa
            }
            hosts /etc/coredns/NodeHosts {
              ttl 60
              reload 15s
              fallthrough
            }
            prometheus :9153
            forward . /etc/resolv.conf
            cache 30
            loop
            reload
            loadbalance
        }
    

è¿™é‡Œä¸»è¦æœ‰ 2 ä¸ªé…ç½®éœ€è¦å…³æ³¨ï¼š

*   `forward . /etc/resolv.conf`
*   `loop`

#### CoreDNS é—®é¢˜å¸¸ç”¨åˆ†ææµç¨‹

æ£€æŸ¥ DNS Pod æ˜¯å¦æ­£å¸¸è¿è¡Œ - ç»“æœï¼šæ˜¯çš„ï¼›

    # kubectl -n kube-system get pods -l k8s-app=kube-dns
    NAME                       READY   STATUS    RESTARTS   AGE
    coredns-7448499f4d-pbxk6   1/1     Running   1          15h
    

æ£€æŸ¥ DNS æœåŠ¡æ˜¯å¦å­˜åœ¨æ­£ç¡®çš„ cluster-ip - ç»“æœï¼šæ˜¯çš„ï¼š

    # kubectl -n kube-system get svc -l k8s-app=kube-dns
    NAME       TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)                  AGE
    kube-dns   ClusterIP   10.43.0.10   <none>        53/UDP,53/TCP,9153/TCP   15h
    

æ£€æŸ¥æ˜¯å¦èƒ½è§£æåŸŸåï¼š  
å…ˆæ˜¯å†…éƒ¨åŸŸå - ç»“æœï¼šæ— æ³•è§£æï¼š

    $ kubectl run -it --rm --restart=Never busybox --image=busybox -- nslookup kubernetes.default
    Server:         10.43.0.10
    Address:        10.43.0.10:53
    
    ;; connection timed out; no servers could be reached
    

å†è¯•å¤–éƒ¨åŸŸå - ç»“æœï¼šæ— æ³•è§£æï¼š

    $ kubectl run -it --rm --restart=Never busybox --image=busybox -- nslookup www.baidu.com
    Server:         10.43.0.10
    Address:        10.43.0.10:53
    
    ;; connection timed out; no servers could be reached
    

æ£€æŸ¥ resolv.conf ä¸­çš„ nameserver é…ç½® - ç»“æœï¼šç¡®å®æ˜¯ 8.8.8.8

    $ kubectl run -i --restart=Never --rm test-${RANDOM} --image=ubuntu --overrides='{"kind":"Pod", "apiVersion":"v1", "spec": {"dnsPolicy":"Default"}}' -- sh -c 'cat /etc/resolv.conf'
    nameserver 8.8.8.8
    pod "test-7517" deleted
    

ç»¼ä¸Šï¼š  
åº”è¯¥æ˜¯ POD å†…çš„ `/etc/resolv.conf` è¢«é…ç½®ä¸º `nameserver 8.8.8.8` å¯¼è‡´äº†æ­¤æ¬¡é—®é¢˜ã€‚  
ä½†æ˜¯æ•´ä¸ª Node OS çº§åˆ«å¹¶æ²¡æœ‰é…ç½® `nameserver 8.8.8.8`, æ‰€ä»¥æ€€ç–‘æ˜¯ï¼šKubernetesã€Kubeletã€CoreDNS æˆ– CRI å±‚é¢æœ‰è¿™æ ·çš„æœºåˆ¶ï¼šåœ¨ DNS é…ç½®å¼‚å¸¸æ—¶ï¼Œè‡ªåŠ¨é…ç½®å…¶ä¸º `nameserver 8.8.8.8`ã€‚

é‚£ä¹ˆï¼Œè¦è§£å†³é—®é¢˜ï¼Œè¿˜æ˜¯è¦æ‰¾åˆ° DNS é…ç½®å¼‚å¸¸ã€‚

### å®¹å™¨ç½‘ç»œ DNS æœåŠ¡

æˆ‘è¿™é‡Œæš‚æ—¶æ²¡æœ‰æŸ¥åˆ° Kubernetesã€Kubeletã€CoreDNS æˆ– CRI çš„ç›¸å…³ DNS çš„å…·ä½“è¯æ®ï¼ŒK3S çš„ CRI æ˜¯ containerdï¼Œä½†æ˜¯æˆ‘åœ¨ [Docker çš„å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/config/containers/container-networking/#dns-services) çœ‹åˆ°äº†è¿™æ ·çš„æè¿°ï¼š

> ğŸ“šï¸ **Reference:**  
> If the container cannot reach any of the IP addresses you specify, Googleâ€™s public DNS server 8.8.8.8 is added, so that your container can resolve internet domains.  
> å¦‚æœå®¹å™¨æ— æ³•åˆ°è¾¾æ‚¨æŒ‡å®šçš„ä»»ä½• (DNS) IP åœ°å€ï¼Œåˆ™æ·»åŠ è°·æ­Œçš„å…¬å…± DNS æœåŠ¡å™¨ 8.8.8.8ï¼Œä»¥ä¾¿æ‚¨çš„å®¹å™¨å¯ä»¥è§£æ internet åŸŸã€‚

è¿™é‡ŒçŒœæµ‹ Kubernetesã€Kubeletã€CoreDNS æˆ– CRI å¯èƒ½ä¹Ÿæœ‰ç±»ä¼¼çš„æœºåˆ¶ã€‚

ä»è¿™é‡Œåˆ†æå¯ä»¥çŸ¥é“ï¼Œæ ¹å› è¿˜æ˜¯ DNS é…ç½®é—®é¢˜ï¼ŒCoreDNS é…ç½®æ˜¯é»˜è®¤çš„ï¼Œé‚£ä¹ˆæœ€å¤§çš„å¯èƒ½å°±æ˜¯ `/etc/resolv.conf` é…ç½®ä¸º `nameserver 127.0.0.1` å¯¼è‡´çš„æ­¤æ¬¡é—®é¢˜ã€‚

æ ¹å› åˆ†æ
----

**æ ¹å› **: `/etc/resolv.conf` é…ç½®ä¸º `nameserver 127.0.0.1` å¯¼è‡´çš„æ­¤æ¬¡é—®é¢˜ã€‚

CoreDNS çš„å®˜æ–¹æ–‡æ¡£æ˜ç¡®è¯´æ˜äº†è¿™ç§æƒ…å†µï¼š

> ğŸ“šï¸ **Reference:**
> 
> [loop | CoreDNS Docs](https://coredns.io/plugins/loop/)  
> å½“ CoreDNS æ—¥å¿—åŒ…å«æ¶ˆæ¯`Loop ... detected ...`æ—¶ï¼Œè¿™æ„å‘³ç€æ£€æµ‹æ’ä»¶`loop`åœ¨å…¶ä¸­ä¸€ä¸ªä¸Šæ¸¸ DNS æœåŠ¡å™¨ä¸­æ£€æµ‹åˆ°æ— é™è½¬å‘å¾ªç¯ã€‚è¿™æ˜¯ä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼Œå› ä¸ºä½¿ç”¨æ— é™å¾ªç¯è¿›è¡Œæ“ä½œå°†æ¶ˆè€—å†…å­˜å’Œ CPUï¼Œç›´åˆ°ä¸»æœºæœ€ç»ˆå†…å­˜ä¸è¶³æ­»äº¡ã€‚  
> è½¬å‘ç¯è·¯é€šå¸¸ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š  
> æœ€å¸¸è§çš„æ˜¯ï¼ŒCoreDNS ç›´æ¥è½¬å‘è¯·æ±‚ç»™è‡ªå·±ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡`127.0.0.1`ã€`::1`æˆ–`127.0.0.53`ç­‰ç¯å›åœ°å€  
> è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ Corefile ä¸­æ£€æµ‹åˆ°å¾ªç¯çš„åŒºåŸŸçš„ä»»ä½•è½¬å‘ã€‚ç¡®ä¿ä»–ä»¬æ²¡æœ‰è½¬å‘åˆ°ä¸€ä¸ªæœ¬åœ°åœ°å€æˆ–åˆ°å¦ä¸€ä¸ª DNS æœåŠ¡å™¨ï¼Œè¿™æ˜¯è½¬å‘è¯·æ±‚å› CoreDNSã€‚å¦‚æœ forward æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªæ–‡ä»¶ï¼ˆä¾‹å¦‚/etc/resolv.conf)ï¼Œè¯·ç¡®ä¿è¯¥æ–‡ä»¶ä¸åŒ…å«æœ¬åœ°åœ°å€ã€‚

è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ CoreDNS é…ç½®åŒ…å«ï¼š`forward . /etc/resolv.conf`, ä¸” Node ä¸Šçš„ `/etc/resolv.conf` ä¸º`nameserver 127.0.0.1`. å’Œä¸Šé¢æåˆ°çš„**æ— é™è½¬å‘å¾ªç¯** çš„ **è‡´å‘½é”™è¯¯** åŒ¹é…ã€‚

è½¬å‘ç¯è·¯é€šå¸¸ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š

æœ€å¸¸è§çš„æ˜¯ï¼ŒCoreDNS å°†è¯·æ±‚ç›´æ¥è½¬å‘åˆ°è‡ªèº«ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç¯å›åœ°å€ï¼Œä¾‹å¦‚ ï¼Œæˆ– 127.0.0.1::1127.0.0.53

è§£å†³åŠæ³•
----

> ğŸ“šï¸ **Reference:**
> 
> [loop | CoreDNS Docs](https://coredns.io/plugins/loop/)  
> å®˜æ–¹æä¾›äº† 3 ç§è§£å†³åŠæ³•ï¼š
> 
> 1.  kubelet æ·»åŠ  `--resolv-conf` ç›´æ¥æŒ‡å‘"çœŸæ­£"çš„ `resolv.conf`, ä¸€èˆ¬æ˜¯ï¼š`/run/systemd/resolve/resolv.conf`
> 2.  ç¦ç”¨ Node ä¸Šçš„æœ¬åœ° DNS ç¼“å­˜
> 3.  quick dirty åŠæ³•ï¼šä¿®æ”¹ Corefile, æŠŠ `forward . /etc/resolv.conf` æ›¿æ¢ä¸º `forward . 8.8.8.8` ç­‰å¯ä»¥è®¿é—®çš„ DNS åœ°å€

é’ˆå¯¹ä¸Šé¢çš„åŠæ³•ï¼Œæˆ‘ä»¬é€ä¸€åˆ†æä¸‹ï¼š

1.  âœ”ï¸ å¯è¡Œï¼škubelet æ·»åŠ  `--resolv-conf` ç›´æ¥æŒ‡å‘"çœŸæ­£"çš„ `resolv.conf`: å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œæˆ‘ä»¬çš„"çœŸæ­£"çš„ `resolv.conf`ä¸ºï¼š`/run/dnsmasq/resolv.conf`
2.  âŒ ä¸å¯è¡Œï¼šç¦ç”¨ Node ä¸Šçš„æœ¬åœ° DNS ç¼“å­˜ï¼Œå› ä¸ºè¿™æ˜¯åŸºäº 5G IoT ç½‘å…³çš„ç‰¹æ®Šæƒ…å†µï¼Œ5G ç½‘å…³ç¨‹åºæœºåˆ¶å°±æ˜¯å¦‚æ­¤ï¼Œè¦ç”¨åˆ° dnsmasq
3.  âŒ ä¸å¯è¡Œï¼šdirty çš„åŠæ³•ï¼Œå¹¶ä¸” 5G ç½‘å…³è·å–åˆ°çš„ DNS æ˜¯ä¸å›ºå®šï¼Œéšæ—¶å˜åŒ–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿæ— æ³•æŒ‡å®š `forward . <å›ºå®šçš„ DNS åœ°å€>`

ç»¼ä¸Šï¼Œè§£å†³åŠæ³•å¦‚ä¸‹ï¼š  
åœ¨ K3S service ä¸­æ·»åŠ å¦‚ä¸‹å­—æ®µï¼š`--resolv-conf /run/dnsmasq/resolv.conf`

æ·»åŠ åå¦‚ä¸‹ï¼š

    [Unit]
    Description=Lightweight Kubernetes
    Documentation=https://k3s.io
    Wants=network-online.target
    After=network-online.target
    
    [Install]
    WantedBy=multi-user.target
    
    [Service]
    Type=notify
    EnvironmentFile=/etc/systemd/system/k3s.service.env
    KillMode=process
    Delegate=yes
    # Having non-zero Limit*s causes performance problems due to accounting overhead
    # in the kernel. We recommend using cgroups to do container-local accounting.
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity
    TasksMax=infinity
    TimeoutStartSec=0
    Restart=always
    RestartSec=5s
    ExecStartPre=-/sbin/modprobe br_netfilter
    ExecStartPre=-/sbin/modprobe overlay
    ExecStart=/usr/local/bin/k3s server --flannel-iface wlan0 --write-kubeconfig-mode "644" --disable-cloud-controller --resolv-conf  /run/dnsmasq/resolv.conf
    

ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ reload å’Œ é‡å¯ï¼š

    systemctl daemon-reload
    systemctl stop k3s.service
    k3s-killall.sh
    systemctl start k3s.service
    

å³å¯æ¢å¤æ­£å¸¸ã€‚

å¦‚æœéœ€è¦åœ¨å®‰è£…æ—¶è§£å†³ï¼Œè§£å†³åŠæ³•å¦‚ä¸‹ï¼š

*   ä½¿ç”¨ k3s-ansible è„šæœ¬ï¼Œgroup\_vars é¢å¤–å†æ·»åŠ å¦‚ä¸‹`--resolv-conf`å‚æ•°ï¼š`extra_server_args: '--resolv-conf /run/dnsmasq/resolv.conf'`
*   ä½¿ç”¨ k3s å®˜æ–¹è„šæœ¬ï¼šå‚è€ƒ [K3s Server é…ç½®å‚è€ƒ | Rancher æ–‡æ¡£](https://docs.rancher.cn/docs/k3s/installation/install-options/server-config/_index), æ·»åŠ å‚æ•°ï¼š`--resolv-conf /run/dnsmasq/resolv.conf` æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š`K3S_RESOLV_CONF=/run/dnsmasq/resolv.conf`

ğŸ‰ğŸ‰ğŸ‰

ğŸ“šï¸å‚è€ƒæ–‡æ¡£
-------

*   [DNS | Rancher æ–‡æ¡£](https://docs.rancher.cn/docs/rancher2/troubleshooting/dns/_index/)
*   [loop | CoreDNS Docs](https://coredns.io/plugins/loop/)
*   [K3s Server é…ç½®å‚è€ƒ | Rancher æ–‡æ¡£](https://docs.rancher.cn/docs/k3s/installation/install-options/server-config/_index)
*   [Container networking | Docker Documentation](https://docs.docker.com/config/containers/container-networking/#dns-services)

> _ä¸‰äººè¡Œ, å¿…æœ‰æˆ‘å¸ˆ; çŸ¥è¯†å…±äº«, å¤©ä¸‹ä¸ºå…¬._ æœ¬æ–‡ç”±ä¸œé£å¾®é¸£æŠ€æœ¯åšå®¢ [EWhisper.cn](https://EWhisper.cn) ç¼–å†™.