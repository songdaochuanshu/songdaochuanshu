---
layout: post
title: "【chatQA】nvm包版本管理"
date: "2023-03-12T01:16:39.319Z"
---
【chatQA】nvm包版本管理
================

**如何使用nvm来管理不同版本的 Node.js，然后使用不同的 Node.js 版本来运行不同版本的 React 应用？**
----------------------------------------------------------------

要使用 nvm 来管理不同版本的 Node.js，可以按照以下步骤进行操作：

1.  安装 nvm
    
    可以在 nvm 的 GitHub 仓库中找到安装说明，根据自己的操作系统和需求进行安装。
    
2.  安装多个 Node.js 版本
    
    在安装了 nvm 后，可以使用 `nvm install` 命令来安装多个 Node.js 版本，例如：
    

    nvm install 10.24.1
    nvm install 14.17.6
    
    

3.  使用指定版本的 Node.js
    
    安装完多个 Node.js 版本后，可以使用 `nvm use` 命令来切换使用不同版本的 Node.js，例如：
    
    `nvm use 10.24.1`
    
    这将会把当前的 Node.js 版本切换为 10.24.1。
    
    如果想在当前终端会话中永久切换到某个版本的 Node.js，可以使用 `nvm alias` 命令，例如：
    
    `nvm alias default 14.17.6`
    
    这将会把默认使用的 Node.js 版本切换为 14.17.6。
    
4.  运行 React 应用
    
    使用不同版本的 Node.js 运行 React 应用时，需要在项目的根目录下创建一个 `.nvmrc` 文件，并在文件中指定所需的 Node.js 版本，例如：
    

    # .nvmrc
    10.24.1
    
    

    当然也可以在里面使用别名
    

    # .nvmrc
    my-node
    

    然后在终端中进入项目根目录，使用 `nvm use` 命令来切换到指定版本的 Node.js，然后使用 `npm start` 命令来启动 React 应用，例如：
    

    nvm use
    npm start
    

    这将会在当前终端会话中切换到项目指定的 Node.js 版本，并启动 React 应用。如果要在其他终端会话中也使用相同版本的 Node.js，需要再次使用 `nvm use` 命令来切换版本。
    

可以自己命名nvm的不同环境吗?
----------------

可以使用 nvm 创建自定义别名（alias）来为每个环境指定您喜欢的名称。使用以下命令创建自定义别名：

`nvm alias myapp 14.16.1`

这将创建一个名为 `myapp` 的别名，指向 `14.16.1` 版本的 Node.js。您可以使用 `nvm use` 命令切换到该版本：

`nvm use myapp`

同样，您可以创建多个不同的别名，每个别名可以指向不同版本的 Node.js。这样，您就可以在同一台计算机上同时运行多个 React 应用，每个应用使用不同版本的 Node.js 环境。

可以给同一个版本的node创建多个环境吗
--------------------

是的，您可以使用 nvm 创建多个相同版本的 Node.js 环境。这在您需要在不同的项目中使用相同版本的 Node.js 时非常有用，但每个项目可能需要不同的全局模块。

例如，要创建名为 `myproject1` 的新环境，可以使用以下命令：

`nvm install 14.16.1 --reinstall-packages-from=default --alias=myproject1`

这将在 `14.16.1` 版本的 Node.js 中创建一个新环境，并将 `default` 环境的全局模块重新安装到 `myproject1` 环境中。

要使用新环境，请使用 `nvm use` 命令：

`nvm use myproject1`

现在，您可以安装项目特定的全局模块，并在 `myproject1` 环境中运行应用程序。

您还可以使用类似的方式创建其他项目所需的环境，每个环境可以拥有不同的全局模块。

那我已经有了npm创建的环境，想要将现在的环境作为nvm默认环境，然后创建其他环境，应该如何操作？
-------------------------------------------------

如果您已经使用 `npm` 安装了 Node.js，并且希望将其设置为 `nvm` 的默认版本，则可以使用以下命令：

`nvm use system`

这将使用系统安装的 Node.js 版本，并将其设置为 `nvm` 的默认版本。

接下来，您可以使用 `nvm install` 命令来安装其他版本的 Node.js，并使用 `nvm use` 命令切换到特定版本的 Node.js。

例如，如果您要安装 `14.16.1` 版本的 Node.js，请使用以下命令：

`nvm install 14.16.1`

这将安装 `14.16.1` 版本的 Node.js。

然后，您可以使用以下命令将默认版本设置为 `14.16.1`：

`nvm alias default 14.16.1`

这将使 `14.16.1` 版本的 Node.js 成为默认版本。现在，每次打开新的终端窗口时，都会使用 `14.16.1` 版本的 Node.js。

您可以使用 `nvm use` 命令来切换到其他版本的 Node.js。例如，如果您要切换到 `12.22.1` 版本的 Node.js，请使用以下命令：

`nvm use 12.22.1`

这将使 `12.22.1` 版本的 Node.js 成为当前版本。