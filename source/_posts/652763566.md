---
layout: post
title: "å‰ç«¯å·¥ç¨‹åŒ–ç­‘åŸº-Node/npm/babel/polyfill/webpack"
date: "2022-12-27T05:14:41.444Z"
---
å‰ç«¯å·¥ç¨‹åŒ–ç­‘åŸº-Node/npm/babel/polyfill/webpack
=======================================

![å‰ç«¯å·¥ç¨‹åŒ–ç­‘åŸº-Node/npm/babel/polyfill/webpack](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113128045-944064783.png) å‰ç«¯æ¬ç –æ¡†æ¶ï¼šå¼€å‘ â‡¨ æ„å»º â‡¨ éƒ¨ç½²ä¸Šçº¿ â‡¨ æ‘¸é±¼ã€‚æœ¬æ–‡å¯¹å‰ç«¯å·¥ç¨‹ä¸­çš„åŸºæœ¬ç»„ä»¶ï¼Œå¦‚Node.jsï¼Œnpmï¼Œbabelï¼Œpolyfillï¼Œwebpackç­‰æ¡†æ¶ç”¨å›¾å½¢åŒ–ã€ç®€æ´çš„è¯­è¨€è¿›è¡Œäº†ç®€å•çš„ä»‹ç»ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042379-371837425.png)

00ã€å‰ç«¯æ¬ç –æ¡†æ¶
=========

**_å¼€å‘_** â‡¨ **_æ„å»º_** â‡¨ **_éƒ¨ç½²ä¸Šçº¿_** â‡¨ **_æ‘¸é±¼_**ï¼š

![image](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216144637296-870584215.png)

* * *

01ã€Node.js/npm
==============

[**Node.JS**](https://nodejs.org/zh-cn/) æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“ çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸æ˜¯JSåº“ï¼ˆæ˜¯C++å¼€å‘çš„ï¼‰ï¼Œæ˜¯ç”¨æ¥è§£é‡Šæ‰§è¡ŒJavaScript ä»£ç çš„ã€‚æˆ‘ä»¬å¼€å‘Webåº”ç”¨ä¸­çš„JavaScript ä»£ç éƒ½æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ä¸Šï¼Œæœ‰äº†Node.JSï¼Œå°±å¯ä»¥ç”¨JavaScript æ¥å¼€å‘ä¸­é—´ä»¶ã€åç«¯æœåŠ¡äº†ã€‚

æˆ‘ä»¬åœ¨VSCodeä¸­ç”¨åˆ°çš„å¾ˆå¤šç»„ä»¶éƒ½æ˜¯åŸºäºNode.JSæ¥å¼€å‘è¿è¡Œçš„ï¼Œå¦‚æ„å»ºå·¥å…·webpackã€vue-cliã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042389-1660322487.png)

1.1ã€ä»€ä¹ˆæ˜¯npmï¼Ÿ
-----------

**npm**ï¼ˆNode Package Managerï¼‰ä¸ºNode.JSçš„åŒ…ç®¡ç†å™¨ï¼Œç”¨æ¥ç®¡ç†JSç»„ä»¶æ¨¡å—çš„ï¼ŒåŒ…æ‹¬å®‰è£…ã€å¸è½½ã€ç®¡ç†ä¾èµ–ç­‰ã€‚å¾ˆå¤šè¯­è¨€éƒ½æœ‰è‡ªå·±çš„åŒ…ç®¡ç†å™¨ï¼Œå¦‚`Java`çš„`maven`ã€`.Net`çš„`Nuget`ç­‰ã€‚

![](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042387-1201748149.jpg)

**npmä»“åº“**(registry)ï¼šå®˜æ–¹çš„ [npmä»“åº“](https://www.npmjs.com/) å­˜æ”¾äº†å¤§é‡çš„ã€å‡ ä¹æ‰€æœ‰çš„ JSç»„ä»¶ï¼ˆè½®å­ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œä½ ä¼šå‘ç°ä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨æˆ˜æ–—ï¼å¤§å®¶å¼€æºçš„å„ç§å‰ç«¯ç»„ä»¶åº“éƒ½æ˜¯å‘å¸ƒåˆ°è¿™ä¸ªé›†ä¸­å¼çš„å¤§ä»“åº“é‡Œï¼Œä½¿ç”¨npmå·¥å…·å°±å¯ä»¥ä»ä»“åº“é‡Œå­¦ä¹ ï¼ˆcopyï¼‰ã€å®‰è£…ä½¿ç”¨å„ç§ç»„ä»¶äº†ã€‚

1.2ã€ä»€ä¹ˆæ˜¯yarn/pnpm?
-----------------

**yarn**ã€**pnpm**çš„ä½œç”¨åŒnpmä¸€æ ·ï¼Œéƒ½æ˜¯åŒ…ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨æ–¹å¼éƒ½æ¯”è¾ƒç›¸ä¼¼ã€‚

*   **npm**ï¼šè¿™æ˜¯Node.jså®˜æ–¹è‡ªå¸¦çš„åŒ…ç®¡ç†å·¥å…·ï¼Œ
*   **yarn**ï¼šç”±äºæ—©æœŸnpmå­˜åœ¨ä¸€äº›ä¸å®Œå–„çš„é—®é¢˜ï¼Œäºæ˜¯ä¸€äº›å¤§å…¬å¸æ¨å‡ºäº†yarnã€‚
*   **npmå®Œå–„**ï¼šå—yarnçš„åå‘æ¨åŠ¨ï¼Œåæ¥npmé€æ­¥å‡çº§å®Œå–„ã€‚
*   **pnpm**ï¼šä¸€ä¸ªæ¯”è¾ƒæ–°åŒ…ç®¡ç†å·¥å…·ï¼Œç›¸æ¯”npmã€yarnï¼Œæœ‰æ›´å¥½çš„ä¸‹è½½é€Ÿåº¦ã€ç£ç›˜ç®¡ç†ã€ä¾èµ–ç®¡ç†ã€‚

1.3ã€npmå‘½ä»¤/é…ç½®
------------

[NodeJSå®˜ç½‘](https://nodejs.org/zh-cn/) ä¸‹è½½å®‰è£…åŒ…ï¼Œå®‰è£…Node.JSçš„æ—¶å€™å°±è‡ªå¸¦npmäº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚npmæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼ŒæŒ‡ä»¤éƒ½æ˜¯åœ¨cmdå‘½ä»¤è¡Œå·¥å…·ä¸­æ‰§è¡Œçš„ï¼Œå¸¸ç”¨æŒ‡ä»¤å¦‚ä¸‹ï¼š

**å¸¸ç”¨æŒ‡ä»¤**

**è¯´æ˜**

node -v

æŸ¥çœ‹nodeJSç‰ˆæœ¬ï¼Œä¹Ÿç”¨æ¥éªŒè¯nodeæ˜¯å¦å®‰è£…

node

è¿›å…¥nodeå‘½ä»¤ç¯å¢ƒï¼Œå¯è¿è¡Œä»»ä½•JavaScriptä»£ç äº†

console.log('hello world')

åœ¨nodeç¯å¢ƒä¸­æ‰§è¡ŒJSä»£ç 

npm **\-v**

æŸ¥çœ‹npmç‰ˆæœ¬

npm **install** -g <åŒ…åç§°@ç‰ˆæœ¬å·>

å®‰è£…ä¸€ä¸ªæ¨¡å—ï¼Œ@å¯æŒ‡å®šç‰ˆæœ¬å·ï¼Œ-g è¡¨ç¤ºå…¨å±€å®‰è£…ã€‚`npm install -g vuex@3`

npm uninstall <åŒ…åç§°>

å¸è½½ä¸€ä¸ªæ¨¡å—

npm **update** <åŒ…åç§°>

æ›´æ–°æ¨¡å—

npm **list** -g

æŸ¥çœ‹æ‰€æœ‰å…¨å±€å®‰è£…çš„æ¨¡å—

npm **list** <åŒ…åç§°>

æŸ¥çœ‹æ¨¡å—çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œ`npm list vuex`

npm init

npmåˆå§‹åŒ–ï¼Œä¼šç”Ÿæˆä¸€ä¸ª package.json æ–‡ä»¶

npm install

è‡ªåŠ¨å®‰è£… package.json æ–‡ä»¶ä¸­çš„æ¨¡å—

npm install -save <åŒ…åç§°>

åœ¨`package`æ–‡ä»¶çš„`dependencies`å†™å…¥ä¾èµ–ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒã€‚ç®€å†™ npm i -S

npm install -save-dev <åŒ…åç§°>

åœ¨`package`æ–‡ä»¶çš„`devDependencies`å†™å…¥ä¾èµ–ï¼Œå¼€å‘ç¯å¢ƒã€‚ç®€å†™ï¼š`npm i -D`

npm cache clean -f

æ¸…é™¤ç¼“å­˜

**ğŸ”¸é…ç½®æœ¬åœ°çš„åŒ…å­˜å‚¨ç›®å½•**ï¼šæ–°å»ºnpmåŒ…çš„æ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾åŒ…çš„èµ„æºã€‚

*   **å…¨å±€npmåŒ…å­˜å‚¨è·¯å¾„** **`node_global`**ï¼š `npm config set prefix "D:\Project_Files\npm\node_global"`
*   **npmåŒ…çš„ç¼“å­˜è·¯å¾„** **`node_cache`**ï¼š`npm config set cache "D:\Project_Files\npm\node_cache"`

**ğŸ”¸ç¯å¢ƒé…ç½®**ï¼šä¿®æ”¹ç¯å¢ƒå˜é‡ï¼šç³»ç»Ÿå±æ€§ â¤ ç¯å¢ƒå˜é‡ã€‚é‡å¯ä¸€ä¸‹VSCodeã€å‘½ä»¤è¡Œå·¥å…·æ‰ç”Ÿæ•ˆã€‚

*   â¶ **æ·»åŠ ä¸€ä¸ªç³»ç»Ÿå˜é‡**ï¼šç³»ç»Ÿå˜é‡ â¤ æ–°å»ºï¼šå˜é‡å=`NODE_PATH`ï¼Œå˜é‡å€¼= ä¸Šé¢å‡†å¤‡å¥½çš„å…¨å±€`npm`åŒ…çš„è·¯å¾„ä¸‹çš„æ¨¡å—è·¯å¾„`D:\Project_Files\npm\node_global\node_modules`ã€‚
*   â· **æ·»åŠ Pathè·¯å¾„**ï¼šæ‰“å¼€ç³»ç»Ÿå˜é‡åˆ—è¡¨ä¸­çš„`Path`å˜é‡ï¼Œæ–°å»ºä¸€ä¸ªå€¼=å…¨å±€npmè·¯å¾„`D:\Project_Files\npm\node_global`

åˆ°è¿™é‡Œå°±å®Œæˆäº†åŸºç¡€é…ç½®äº†ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤å®‰è£…ç»„ä»¶äº†ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042377-976224100.png)

**ğŸ”¸npmä»“åº“é•œåƒ**ï¼šé»˜è®¤çš„npmä»“åº“åœ¨å›½å¤–ï¼Œä¸‹è½½å¯èƒ½ä¸ç¨³å®šã€æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥æ”¹ä¸ºå›½å†…çš„[æ·˜å®é•œåƒ](https://npmmirror.com/)ï¼ˆæ¯10åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼‰ã€‚

*   æŸ¥çœ‹åŒ…çš„ä»“åº“åœ°å€ï¼š`npm config get registry`
*   è®¾ç½®ä»“åº“åœ°å€ä¸ºæ·˜å®é•œåƒï¼š`npm config set registry https://registry.npmmirror.com/`
*   æˆ–è€…å®‰è£…`cnmp`æ’ä»¶ï¼š`npm install -g cnpm --registry=https://registry.npmmirror.com`

**ğŸ”¸åœ¨VSCodeä¸­ä½¿ç”¨**ï¼š

`è®¾ç½®` >> `Terminal â€º Integrated â€º Default Profile: Windows` çš„é€‰é¡¹å€¼ä¸ºä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæ¨èâ€œGit Bashâ€ï¼Œé‡å¯VSï¼å°±å¯ä»¥VSCodeä¸­çš„ç»ˆç«¯ä½¿ç”¨npmæŒ‡ä»¤äº†ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042388-250007964.png)

1.4ã€package.json
----------------

æ¯ä¸ªé¡¹ç›®éƒ½æœ‰ä¸€ä¸ª package.json æ–‡ä»¶ï¼Œå†…å®¹æ˜¯ä¸€ä¸ªjsonå¯¹è±¡ã€‚ç”¨äºå®šä¹‰é¡¹ç›®ä¾èµ–çš„å„ç§æ¨¡å—ï¼ŒåŠé¡¹ç›®é…ç½®ä¿¡æ¯ã€æ¨¡å—çš„é…ç½®ä¿¡æ¯ã€‚å‘½ä»¤ `npm init -y`å¯åˆ›å»ºä¸€ä¸ªåˆå§‹package.jsonæ–‡ä»¶ã€‚

    {
      "name": "vuep3",			//*é¡¹ç›®/æ¨¡å—åç§°
      "version": "0.1.0",		//*é¡¹ç›®ç‰ˆæœ¬ï¼Œæ ¼å¼ä¸ºï¼šã€Œä¸»ç‰ˆæœ¬å·. æ¬¡ç‰ˆæœ¬å·. ä¿®è®¢å·ã€
      "private": true,			//æ˜¯å¦ç§æœ‰
      "scripts": {					//npm è„šæœ¬å‘½ä»¤ï¼Œé€šè¿‡ npm run æ‰§è¡Œå‘½ä»¤
        "serve": "vue-cli-service serve",					//å¯åŠ¨vue-cli-serveræœåŠ¡
        "build": "vue-cli-service build",					//ç¼–è¯‘
        "test:unit": "vue-cli-service test:unit", //æ‰§è¡Œå•å…ƒæµ‹è¯•
        "lint": "vue-cli-service lint"						//æ‰§è¡Œä»£ç æ£€æŸ¥ï¼Ÿ
      },
      "dependencies": {				//ç”Ÿäº§ç¯å¢ƒé¡¹ç›®ä¾èµ–ï¼Œé€šè¿‡"npm install -save <åŒ…åç§°>"å®‰è£…ç»„ä»¶ï¼Œæˆ–"npm i -S"
        "core-js": "^3.8.3",	//keyä¸ºæ¨¡å—åï¼Œvalueä¸ºæ¨¡å—ç‰ˆæœ¬å·
        "vue": "^2.6.14"		  //
      },
      "devDependencies": {		//å¼€å‘ç¯å¢ƒé¡¹ç›®ä¾èµ–ï¼Œå¼€å‘ã€ç¼–è¯‘ä¸­ä½¿ç”¨ï¼Œä¸ä¼šè¾“å‡ºåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œå®‰è£…æŒ‡ä»¤ï¼šnpm i -D
        "@babel/core": "^7.12.16",
        "@babel/eslint-parser": "^7.12.16",
        "@vue/cli-plugin-babel": "~5.0.0",
        "@vue/cli-plugin-eslint": "~5.0.0",
        "@vue/cli-service": "~5.0.0",
        "@vue/eslint-config-airbnb": "^6.0.0",
        "eslint": "^7.32.0",
        "eslint-plugin-import": "^2.25.3",
        "eslint-plugin-vue": "^8.0.3",
        "eslint-plugin-vuejs-accessibility": "^1.1.0",
        "vue-template-compiler": "^2.6.14"
      },
      "eslintConfig": {		//æ£€æŸ¥æ–‡ä»¶é…ç½®
        "root": true,
        "env": {"node": true},
        "extends": [ "plugin:vue/essential", "@vue/airbnb" ],
        "parserOptions": {"parser": "@babel/eslint-parser" },
        "rules": {}
      },
      "browserslist": [		//é¡¹ç›®éœ€è¦å…¼å®¹çš„æµè§ˆå™¨é…ç½®ï¼Œå¤„ç†jsã€csså…¼å®¹æ€§æ˜¯ä¼šç”¨åˆ°
        "> 1%",
        "last 2 versions",
        "not dead"
      ]
    }
    

ğŸ”¸**package.json**æ–‡ä»¶ä¸­ç‰ˆæœ¬å·çš„è¯´æ˜ï¼Œ**ç‰ˆæœ¬å·æ ¼å¼**ï¼š`ã€Œä¸»ç‰ˆæœ¬å·. æ¬¡ç‰ˆæœ¬å·. ä¿®è®¢å·ã€`ã€‚

*   **`~`**ï¼šåŒ¹é…æœ€æ–°çš„ä¿®æ”¹çš„ç‰ˆæœ¬å·ï¼Œ"`~1.2.3`" åŒ¹é… `1.2.x` ä¸­æœ€æ–°çš„ç‰ˆæœ¬ã€‚
*   **`^`**ï¼šåŒ¹é…æœ€æ–°çš„æ­¤ç‰ˆæœ¬+ä¿®è®¢ç‰ˆæœ¬å·ï¼Œ`^1.2.3` ä¼šåŒ¹é… `1.x.x` ä¸­æœ€æ–°çš„ç‰ˆæœ¬ã€‚
*   **`*`**ï¼šåŒ¹é…æœ€æ–°çš„`x.x.x`ç‰ˆæœ¬ã€‚

* * *

02ã€babel/polyfill ä¸ºä½•ç‰©ï¼Ÿ
======================

**babel** æ˜¯ç”¨æ¥ç¼–è¯‘JavaScriptä»£ç çš„ï¼Œè§£å†³JavaScriptå…¼å®¹æ€§é—®é¢˜çš„ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042592-1282146958.png)

2.1ã€ä»€ä¹ˆæ˜¯polyfillï¼Ÿ
----------------

**polyfill** æ„ä¸º **è…»å­** /å«ç‰‡ï¼Œç›®çš„æ˜¯è§£å†³JavaScriptä»£ç çš„å…¼å®¹æ€§é—®é¢˜ï¼Œè§£å†³æ–¹å¼å°±æ˜¯ç”¨æµè§ˆå™¨æ”¯æŒçš„æ–¹å¼æ¨¡æ‹Ÿå®ç°ä¸€éã€‚å¦‚ES2015+ çš„å¾ˆå¤šä¸é”™çš„ç‰¹æ€§åœ¨ä¸€äº›å¤è€çš„æµè§ˆå™¨ä¸‹å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚å¼‚æ­¥`promise`ã€mapã€æ–°APIæ–¹æ³•ç­‰ã€‚äºæ˜¯å°±æœ‰äº†æ›¿ä»£æ–¹æ¡ˆï¼Œå¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼Œåˆ¤æ–­å¦‚æœä¸æ”¯æŒ`promise`åˆ™æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªï¼Œè¿™å°±ç§°ä¹‹ä¸º `polyfill` ï¼ˆpolyfill/ËˆpÉ’li fÉªl/ è…»å­è„šæœ¬ï¼‰ã€‚

    window.Promise = (function(window){
        if(window.Promise){
            return window.Promise
        }else{
            window.Promise = function(){  } // å…¼å®¹ä»£ç ï¼Œæ¨¡æ‹Ÿå®ç°
        }
    })(window)
    

äºæ˜¯å„ç§å„æ ·çš„`polyfill`å°±å‡ºç°äº†ï¼Œä¸ºäº†ç»Ÿä¸€è§„èŒƒå’Œç®¡ç†ï¼Œäºæ˜¯å‡ºç°äº† `babel`ï¼

2.2ã€ä»€ä¹ˆæ˜¯babelï¼Ÿ
-------------

**babel** æ˜¯ä¸€ä¸ªé’ˆå¯¹ECMScriptè¯­è¨€å…¼å®¹æ€§å¤„ç†çš„å·¥å…·é“¾ï¼Œï¼ˆbabel /ËˆbeÉªbl/ å·´åˆ«å¡”ï¼Œä¸€åº§é€šå¾€å¤©å ‚çš„é«˜å¡”ï¼Œæ¥è‡ªåœ£ç»çš„æ•…äº‹ï¼‰ï¼Œå°†ES2015+çš„ä»£ç è½¬è¯‘ä¸ºå‘åå…¼å®¹çš„JavaScriptä»£ç ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½å°±æ˜¯è½¬è¯‘ä»£ç ï¼Œè½¬è¯‘è¿‡ç¨‹ç®€å•æ¥è¯´ï¼Œå…ˆå¯¹JSä»£ç è¿›è¡Œè¯æ³•ã€è¯­æ³•åˆ†ææŠ½è±¡ä¸ºè¯­æ³•æ ‘ï¼Œç„¶åå¯¹è¯­æ³•æ ‘è¿›è¡Œå˜æ¢å’Œä»£ç ç”Ÿæˆã€‚ç¬¬äºŒæ­¥å°±æœ‰å¾ˆå¤šbabelçš„å·¥å…·é“¾æ’ä»¶å‚ä¸äº†ï¼Œç”¨äºä¸åŒç±»å‹ä»£ç çš„è½¬æ¢ç”Ÿæˆã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042603-2076582043.png)

â“**babelèƒ½å¹²ä»€ä¹ˆï¼Ÿ**

*   è¯­æ³•è½¬æ¢ï¼Œå¦‚letã€constã€ç®­å¤´å‡½æ•°ç­‰æ–°çš„è¯­æ³•ã€‚
*   `polyfill`ä»£ç ï¼Œå¦‚å¼‚æ­¥`promise`ã€mapã€æ–°APIæ–¹æ³•ç­‰ã€‚éœ€å¼•å…¥æ’ä»¶ï¼Œå¦‚`@babel/polyfill`ï¼Œç”±äºå­˜åœ¨å…¨å±€æ±¡æŸ“+é‡å¤ä»£ç é—®é¢˜ï¼Œè¢«åºŸå¼ƒï¼›`@babel/plugin-transform-runtime` ä»£æ›¿
*   å…¶ä»–ä»£ç è½¬æ¢ï¼Œå¦‚TypeScriptã€JSXã€‚

â“**å¤§é‡çš„å†—ä½™ä»£ç æ€ä¹ˆåŠï¼Ÿ**

ä½¿ç”¨babelï¼Œå¯ä»¥åœ¨ä»£ç ç¼–è¯‘çš„æ—¶å€™å°±è§£å†³æ‰€æœ‰çš„JSå…¼å®¹æ€§é—®é¢˜ã€‚ä½†é—®é¢˜æ˜¯å†—ä½™JSä»£ç ä¼šæ¯”è¾ƒå¤šï¼Œæœ‰äº›å®¢æˆ·çš„æµè§ˆå™¨æ¯”è¾ƒå…ˆè¿›ï¼Œå¹¶ä¸éœ€è¦`polyfill`ï¼ˆæˆ–åªéœ€è¦å°‘é‡å³å¯ï¼‰ï¼Œä¹Ÿè¦åŠ è½½è¿™ä¹ˆå¤šJSã€‚äºæ˜¯æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š

*   **é™æ€æŒ‰éœ€å¼•å…¥**ï¼šåœ¨ç¼–è¯‘æ—¶æŒ‡å®šéœ€è¦å…¼å®¹çš„æµè§ˆå™¨åŠç‰ˆæœ¬ï¼ŒæŒ‰éœ€å¼•å…¥`polyfill`ï¼Œå¦‚`@babel/preset-env`æ’ä»¶ï¼Œ`useBuiltIns` å‚æ•°è®¾ç½®éœ€å…¼å®¹çš„æµè§ˆå™¨ã€‚
*   **åŠ¨æ€æŒ‰éœ€å¼•å…¥**ï¼šæŠŠ`polyfill`ä»£ç æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯åŠ¨æ€çš„åˆ¤æ–­æµè§ˆå™¨çš„æƒ…å†µå†è¯·æ±‚`polyfill`ä»£ç ï¼Œå¦‚`@polyfill.io`æ–¹æ¡ˆã€‚

**â“æ€ä¹ˆä½¿ç”¨ï¼Ÿ**ç®€å•äº†è§£ä¸‹

1.  å®‰è£…babelæ ¸å¿ƒåº“ï¼Œ@babel/core
2.  å®‰è£…æ’ä»¶babelçš„å·¥å…·é“¾æ’ä»¶/é¢„è®¾ï¼ˆpreseté¢„è®¾çš„æ’ä»¶é›†åˆï¼‰
3.  é€šè¿‡`@babel/cli`æŒ‡ä»¤ï¼Œæˆ–è€…**webpack**ã€**vue-cli**æ¥æ‰§è¡Œ`babel`ç¼–è¯‘è½¬æ¢ã€‚

2.3ã€Vue-cliä¸­çš„babel
------------------

vue-cliä¸­ä½¿ç”¨äº†`@vue/babel-preset-app`é¢„è®¾ï¼ŒåŒ…å«äº†babel-preset-envã€JSX æ”¯æŒä»¥åŠä¸ºæœ€å°åŒ–åŒ…ä½“ç§¯ä¼˜åŒ–è¿‡çš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡ `babel.config.js` è¿›è¡Œé…ç½®ã€‚

* * *

03ã€webpacké€Ÿè§ˆ
============

`vue-cli` æ˜¯å»ºç«‹åœ¨webpackåŸºç¡€ä¹‹ä¸Šçš„ï¼Œç®€åŒ–äº†ç¹ççš„webpacké…ç½®å’Œä½¿ç”¨ï¼Œå…ˆåˆæ­¥äº†è§£ä¸‹webpackåŸºæœ¬åŸç†å’Œæµç¨‹ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042605-1743589618.png)

3.1ã€webpackæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ
-----------------

[**webpack**](https://webpack.docschina.org/) æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œä¹Ÿæ˜¯åŸºäºNode.jså¼€å‘å’Œè¿è¡Œï¼Œä½œç”¨å°±æ˜¯æŠŠå¼€å‘æ€çš„å„ç§ä»£ç ç¼–è¯‘ï¼ˆæ„å»ºã€æ‰“åŒ…ï¼‰ä¸ºæµè§ˆå™¨å¯ï¼ˆæ›´å¥½ï¼‰è¿è¡Œçš„ä»£ç ã€‚webpacké…ç½®çµæ´»ï¼ŒåŒ…å«ä¸°å¯Œçš„æ‰©å±•æ’ä»¶ï¼Œwebpackçš„å„é¡¹èƒ½åŠ›ä¹Ÿéƒ½æ˜¯é€šè¿‡è¿™äº›æ’ä»¶æ¥å®Œæˆçš„ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042605-1759064317.png)

> **âœ”ï¸æ ¸å¿ƒä½œç”¨**ï¼šæé«˜å¼€å‘æ•ˆç‡ï¼

*   **âœ…ä»£ç ç¼–è¯‘**ï¼šæé«˜å†™Bugæ•ˆç‡ï¼Œå¯ä»¥æ„‰å¿«çš„åˆ©ç”¨æ¨¡å—åŒ–ã€ç°ä»£çš„ES6è¯­æ³•ï¼ŒåŠé«˜çº§çš„CSSã€‚
    *   **CSSä»£ç ç¼–è¯‘**ï¼šlessã€sassçš„è½¬æ¢ï¼ŒCSSå…¼å®¹æ€§è¡¥å…¨ç­‰ã€‚
    *   **JSä»£ç ç¼–è¯‘**ï¼šES6è¯­æ³•çš„å…¼å®¹æ€§è½¬ï¼Œåˆ©ç”¨`babel/polyfill`ç›¸å…³æ’ä»¶
    *   **ä»£ç æ ¡éªŒ**ï¼šå¯¹CSSã€JSä»£ç çš„è§„èŒƒæ€§æ ¡éªŒæ£€æŸ¥ï¼Œ`ESLint`æ’ä»¶
    *   **çƒ­æ›´æ–°**ï¼šå¼€å‘æ€ä¿®æ”¹ä»£ç åŠ¨æ€æ›´æ–°é¡µé¢ï¼Œå®æ—¶é¢„è§ˆï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•ã€‚
*   **âœ…ä»£ç ä¼˜åŒ–**ï¼š
    *   **æ¨¡å—ä¾èµ–**ï¼Œå¤„ç†å„ç§ç¬¬ä¸‰æ–¹ç»„ä»¶çš„ä¾èµ–ï¼Œé¿å…é‡å¤åŠ è½½ã€å†²çªã€‚
    *   **ä»£ç æ¨¡å—æ‰“åŒ…**ï¼šä»£ç åˆå¹¶ã€å‹ç¼©ï¼Œå‡å°‘ä½“ç§¯ã€ç½‘ç»œè¯·æ±‚æ¬¡æ•°ã€‚
    *   **ä»£ç æ··æ·†**ï¼šæé«˜ä»£ç å®‰å…¨æ€§ã€‚
    *   **èµ„æºä¼˜åŒ–**ï¼Œä¸é™äºJSã€CSSï¼Œæ”¯æŒå¤„ç†å„ç§èµ„æºï¼Œå¦‚å°å›¾ä¼˜åŒ–å†…åµŒåˆ°ä»£ç ä¸­ã€‚

> ğŸ“¢ åœ¨webpackä¸­ï¼Œ**æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯æ¨¡å—**ï¼Œwebpack æŒ‰ç…§ä¸€å®šè§„åˆ™æ¥åŠ è½½ã€ç¼–è¯‘è¿™äº›æ¨¡å—ã€‚

![image](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216122440015-629746546.png)

**ğŸŸ¢webpack æ ¸å¿ƒæ¦‚å¿µ**ï¼š

*   ğŸ”¸**entry å…¥å£** ï¼š ä»å“ªé‡Œå¼€å§‹ï¼Ÿä»ä¸€ä¸ªæ ¹æ–‡ä»¶å…¥å£ï¼Œå¦‚â€œ`./src/main.js`â€ã€‚
*   ğŸ”¸**output å‡ºå£** ï¼š åˆ°å“ªé‡Œå»ï¼Ÿæ–‡ä»¶ç¼–è¯‘è¾“å‡ºä½ç½®ï¼Œå¦‚â€œ`./dist`â€ã€‚
*   ğŸ”¸[**loader**](https://www.webpackjs.com/contribute/writing-a-loader/) **åŠ è½½å™¨** ï¼š å¯¹æºç è¿›è¡Œè½¬æ¢ï¼Œä¸åŒç±»å‹æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰é‡‡ç”¨ä¸åŒçš„åŠ è½½å™¨æ¥ç¼–è¯‘è½¬æ¢ã€‚
    *   **cssä»£ç **ï¼šcss-loaderã€less-loaderã€sass-loaderã€postcss-loader ... ã€‚
    *   **å›¾ç‰‡èµ„æº**ï¼šurl-loaderã€file-loader ... ã€‚
    *   **HTM**Lï¼šhtml-minify-loader å‹ç¼©ã€‚
    *   **Javscript**ï¼š`babel-loader`è½¬æ¢ES6æ–‡ä»¶åˆ°ES5ï¼Œbabelæ˜¯webpackå†…ç½®çš„JSç¼–è¯‘å™¨ç»„ä»¶ã€‚
    *   ...ç­‰ç­‰ã€‚
*   ğŸ”¸[**plugin**](https://www.webpackjs.com/contribute/writing-a-plugin/) **æ’ä»¶** ï¼š å¤„ç†åŠ è½½å™¨å®Œæˆä¸äº†çš„åŠŸèƒ½ï¼Œé€šè¿‡webpackæš´éœ²çš„APIå’Œç”Ÿå‘½å‘¨æœŸé’©å­æ¥æ‰§è¡Œå„ç§å¤„ç†ï¼Œæ‰€ä»¥æ’ä»¶å¯ä»¥åœ¨æ‰“åŒ…çš„ä¸åŒé˜¶æ®µå‚ä¸ã€‚
    *   æ‰“åŒ…è¾“å‡ºæ–‡ä»¶å¤„ç†ï¼šæ‹†åˆ†chunkä»¥æ§åˆ¶è¾“å‡ºçš„æ–‡ä»¶ï¼Œå¦‚æå–cssåˆ°ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ã€‚
    *   `vue`ä¸­å¤åˆ¶`public`åˆ°è¾“å‡ºç›®å½•çš„`copy-webpack-plugin`ã€‚
    *   æ¯æ¬¡æ‰“åŒ…å‰æ¸…ç©º`dist`ç›®å½•çš„ `clean-webpack-plugin`ã€‚

3.2ã€æ„å»ºæµç¨‹
--------

webpackçš„æ„å»ºæ˜¯ä¸€ä¸ªä¸²è¡Œè¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æŠŠå„ä¸ªæ’ä»¶ï¼ˆloaderã€pluginï¼‰ä¸²è”èµ·æ¥æ‰§è¡Œã€‚âœï¸ç”»å›¾å›¾å§ï¼Œå¤§æ¦‚è¿™æ ·å­çš„ï¼š

![image](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216122634101-250099045.png)

**â‘  åˆå§‹åŒ–**ğŸ‘

*   è¯»å–å¹¶ç»„è£…é…ç½®ä¿¡æ¯è¿›è¡Œåˆå§‹åŒ–ï¼Œé…ç½®ä¿¡æ¯æ¥æºåŒ…æ‹¬é…ç½®æ–‡ä»¶ã€`cli`å‚æ•°ã€é»˜è®¤é…ç½®ã€‚
*   åˆå§‹åŒ–æ’ä»¶ã€é…ç½®æ’ä»¶çš„å‚æ•°ã€‚

**â‘¡ ç¼–è¯‘**ğŸ‘

*   ä»`entry`å…¥å£æ–‡ä»¶å¼€å§‹ï¼ˆvueä¸­å…¥å£æ–‡ä»¶é»˜è®¤ä¸ºâ€œ`./src/main.js`â€ï¼‰ï¼Œé€’å½’æ‰¾åˆ°æ‰€æœ‰çš„ä¾èµ–æ¨¡å—ï¼Œè°ƒç”¨ç›¸åº”çš„`loader`ç¼–è¯‘å¤„ç†æ–‡ä»¶å†…å®¹ã€‚
*   äº§ç”Ÿchunkï¼šchunkï¼ˆ/tÊƒÊŒÅ‹k/ å—ï¼‰æ˜¯webpackæ„å»ºè¿‡ç¨‹ä¸­çš„å—ï¼Œä¸€ä¸ªchunkåŒ…æ‹¬ç­‰å¤šä¸ªæ¨¡å—ï¼Œä¸ºæŸä¸ªå…¥å£æ–‡ä»¶æ‰¾åˆ°çš„æ‰€æœ‰ä¾èµ–æ¨¡å—ã€‚ç„¶åwebpackæ ¹æ®é…ç½®ä¸ºchunk ç”Ÿæˆèµ„æºåˆ—è¡¨ï¼ˆchunk assetsï¼‰ï¼Œæœ€ç»ˆè¾“å‡ºåˆ°æ–‡ä»¶ã€‚

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042601-222933309.png)

**â‘¢ è¾“å‡º**ğŸ‘

æ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„ã€æ–‡ä»¶åï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿã€‚

3.3ã€å®‰è£…ä½¿ç”¨
--------

**npm**å®‰è£…`webpack`ã€`webpack-cli`ä¸¤ä¸ªç»„ä»¶ã€‚

    //1.å…¨å±€ç¯å¢ƒå®‰è£…webpack
    npm install webpack -g
    //2.è¿›å…¥é¡¹ç›®ç›®å½•
    npm init -y   //åˆå§‹åŒ–npmï¼Œ-yå¿½ç•¥è¯¢é—®
    npm install webpack webpack-cli --save-dev   //å®‰è£…webpackã€webpack-cli åˆ°å¼€å‘ç¯å¢ƒ
    

    webpack.config.jsæ–‡ä»¶ç®€ä»‹ï¼š
    

    var path = require('path');
    
    module.exports = {
      //æ¨¡å¼ å¼€å‘æ¨¡å¼æ‰“åŒ…çš„æ˜¯æœªå‹ç¼©æ–‡ä»¶
      mode:"development",
      // å…¥å£æ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„èµ·ç‚¹ï¼ŒåŒæ—¶æ¯ä¸€ä¸ªå…¥å£æ–‡ä»¶å¯¹åº”æœ€åç”Ÿæˆçš„ä¸€ä¸ª chunkã€‚
      entry: './src/main.js'ï¼Œ
    
    // ç”Ÿæˆæ–‡ä»¶ï¼Œæ˜¯æ¨¡å—æ„å»ºçš„ç»ˆç‚¹ï¼ŒåŒ…æ‹¬è¾“å‡ºæ–‡ä»¶ä¸è¾“å‡ºè·¯å¾„ã€‚
    output: {
      path: path.resolve(__dirname, 'dist'),
        filename: '[name].js'
    },
    // è¿™é‡Œé…ç½®äº†å¤„ç†å„æ¨¡å—çš„ loader ï¼ŒåŒ…æ‹¬ css é¢„å¤„ç† loader ï¼Œes6 ç¼–è¯‘ loaderï¼Œå›¾ç‰‡å¤„ç† loaderã€‚
    module: {
      rules: [
        {
          test: /\.m?js$/,
          exclude: /(node_modules|bower_components)/,
          use: {
            loader: 'babel-loader',
            options: { presets: ['@babel/preset-env'] }
          }
        }
        { test: /\.css$/, use: 'css-loader' },
      { test: /\.ts$/, use: 'ts-loader' }
      ]},
    // webpack å„æ’ä»¶å¯¹è±¡ï¼Œåœ¨ webpack çš„äº‹ä»¶æµä¸­æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ã€‚
    plugins: [
      new webpack.HotModuleReplacementPlugin()
    ]
    };
    

package.jsonä¸­æ·»åŠ æ„å»ºæŒ‡ä»¤ï¼Œå°±å¯ä»¥è¿è¡Œäº†ï¼š`npm run build`æ¥ç¼–è¯‘ä»£ç äº†ã€‚

    "scripts": {
        "build":"webpack"
    },
    

* * *

04ã€expressæ­å»ºç®€æ˜“æœåŠ¡å™¨
=================

[**express**](https://www.expressjs.com.cn/) æ˜¯ä¸€ä¸ªåŸºäºNode.js çš„ç»„ä»¶ï¼Œç”¨äºæ­å»ºä¸€ä¸ªWEBæœåŠ¡å™¨ï¼Œä½¿ç”¨éå¸¸ç®€ä¾¿ã€çµæ´»ï¼Œ_ï¼ˆexpress /ÉªkËˆspres/ å¿«é€Ÿã€å¿«é€’ï¼‰_ã€‚æœ‰å¿…è¦äº†è§£ä¸€ä¸‹ï¼Œå°±å¯ä»¥è‡ªå·±å¼€å‘æœåŠ¡ç«¯APIäº†ã€‚

**express** æ˜¯ Node.js å®˜æ–¹æ¨èçš„Webå¼€å‘æ¡†æ¶ï¼Œä½¿ç”¨å¹¿æ³›ï¼Œé™¤äº†æ ¸å¿ƒhttpæœåŠ¡ï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ã€‚å¦‚é™æ€èµ„æºæœåŠ¡ã€æ¨¡æ¿è§£æï¼ˆå¯ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ã€ä¸°å¯Œçš„æ’ä»¶æ”¯æŒç­‰ã€‚å¦‚æœè¦åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„åç«¯é¡¹ç›®ï¼Œå¯ä»¥å€ŸåŠ©`express`çš„è„šæ‰‹æ¶ç»„ä»¶æ­å»ºä¸€ä¸ªæ›´å®Œæ•´çš„webæ¡†æ¶ã€‚

**â‘ ã€å‡†å¤‡ç¯å¢ƒ**ï¼šå…ˆåˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ server-express

    //1ã€åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ server-express
    //2ã€è¿›å…¥é¡¹ç›®ç›®å½•
    cd ../server-express
    //3ã€åˆå§‹åŒ–npm
    npm init -f
    //4ã€å®‰è£…express
    npm install express -D
    

![image.png](https://img2023.cnblogs.com/blog/151257/202212/151257-20221216113042605-677167338.png)

**â‘¡ã€ç¼–å†™æœåŠ¡ç«¯ç¨‹åº**ï¼šåˆ›å»ºä¸€ä¸ª`index.js`

    //å¼•å…¥expressæ¨¡å—ï¼Œæ³¨æ„è¯¥ä»£ç æ˜¯è¦åŸºäºNode.jsè¿è¡Œï¼Œéœ€è¦ç”¨Nodeçš„æ¨¡å—å†™æ³•
    let express = require('express');
    let path = require('path');
    //åˆ›å»ºexpresså®ä¾‹
    let server = new express();
    //è®¾ç½®é™æ€èµ„æºè®¿é—®ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®./static ç›®å½•çš„é™æ€èµ„æºäº†
    server.use('/static',express.static(path.resolve(__dirname, './static')));
    //å¯ç”¨jsonè§£ææ”¯æŒï¼Œç”¨äºè§£æbodyçš„jsonæ•°æ®
    server.use(express.json());  
    //æ·»åŠ ç›‘å¬ç«¯å£
    server.listen(3000, err => {
        if (!err)
            console.log('æœåŠ¡å™¨ç«¯å¯åŠ¨æˆåŠŸï¼åœ°å€ï¼šhttp://localhost:3000');
    })
    
    //é…ç½®APIè·¯ç”±ï¼šget
    server.get('/user/:userId', (req, res) => {
        //req.params è·å–è·¯ç”±åŠ¨æ€å‚æ•°ï¼Œreq.queryè·å–urlä¸Šçš„getå‚æ•°ï¼ŒåŒvue-router
        console.log(req.params, req.query);
        //è¿”å›å“åº”æ•°æ®
        res.json({ id: req.params.userId, name: 'sam', age: 30 });
    })
    //é…ç½®APIè·¯ç”±ï¼špost
    server.post('/user/add', (req, res) => {
        //req.body è·å–postæ•°æ®
        console.log(req.body);
        //è¿”å›å“åº”æ•°æ®
        res.send({ status: 'OK', message: "æ›´æ–°æˆåŠŸ" });
    })
    

**â‘¢ã€è¿è¡Œ**ï¼š`node index.js`

    //å¯åŠ¨æœåŠ¡ç«¯
    $ node index.js
    æœåŠ¡å™¨ç«¯å¯åŠ¨æˆåŠŸï¼åœ°å€ï¼šhttp://localhost:3000
    
    //æµ‹è¯•
    http://localhost:3000/static/img01.jpg
    http://localhost:3000/user/100?type=vip
    http://localhost:3000/user/add   // post: {"name": "å¼ ä¸‰",  "age": 40}
    

* * *

#å‚è€ƒèµ„æ–™
=====

*   [å¸¦ä½ å…¥é—¨å‰ç«¯å·¥ç¨‹](https://woai3c.github.io/introduction-to-front-end-engineering/)
*   [é¢è¯•å®˜ï¼šWebpackç³»åˆ—](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzU1OTgxNDQ1Nw==&action=getalbum&album_id=1842744101150982149&scene=173&from_msgid=2247487201&from_itemidx=2&count=3&nolastread=1#wechat_redirect)
*   Webpack5.0å­¦ä¹ æ€»ç»“-åŸºç¡€ç¯‡

* * *

> **Â©ï¸ç‰ˆæƒç”³æ˜**ï¼šç‰ˆæƒæ‰€æœ‰@å®‰æœ¨å¤•ï¼Œæœ¬æ–‡å†…å®¹ä»…ä¾›å­¦ä¹ ï¼Œæ¬¢è¿æŒ‡æ­£ã€äº¤æµï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼[_åŸæ–‡ç¼–è¾‘åœ°å€-è¯­é›€_](https://www.yuque.com/kanding/ktech/cs3x0k)