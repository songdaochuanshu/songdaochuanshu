---
layout: post
title: "ã€è®¾è®¡æ¨¡å¼ã€‘Javaè®¾è®¡æ¨¡å¼ -å·¥å‚æ¨¡å¼"
date: "2022-09-04T04:24:32.321Z"
---
ã€è®¾è®¡æ¨¡å¼ã€‘Javaè®¾è®¡æ¨¡å¼ -å·¥å‚æ¨¡å¼
====================

åœ¨å¤§å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨newå»å®ä¾‹åŒ–å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æœ‰çš„å¯¹è±¡çš„ç±»åˆ«æœ‰å¾ˆå¤šç§ï¼Œåˆå­˜åœ¨ç€å…±æ€§ï¼Œå°±å¥½æ¯”å¦‚æ±½è½¦ï¼Œæœ‰å¥”é©°ï¼Œçº¢æ——ï¼Œå®é©¬ç­‰å“ç‰Œï¼Œå¦‚æœæ˜¯ä¸€ä¸ªä¸€ä¸ªå»åˆ›å»ºç±»ï¼Œé‚£å°±éœ€è¦åˆ›å»ºå¾ˆå¤šï¼Œå› æ­¤å°±éœ€è¦ç”¨åˆ°å·¥å‚æ¨¡å¼ã€‚

ã€è®¾è®¡æ¨¡å¼ã€‘Javaè®¾è®¡æ¨¡å¼ -å·¥å‚æ¨¡å¼
====================

> ğŸ˜„ ä¸æ–­å­¦ä¹ æ‰æ˜¯ç‹é“  
> ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°  
> ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·  
> ğŸ† ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº @æ€’æ”¾å§å¾·å¾·  
> ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼

ç›®å½•

*   [ã€è®¾è®¡æ¨¡å¼ã€‘Javaè®¾è®¡æ¨¡å¼ -å·¥å‚æ¨¡å¼](#è®¾è®¡æ¨¡å¼javaè®¾è®¡æ¨¡å¼--å·¥å‚æ¨¡å¼)
    *   [ç®€ä»‹](#ç®€ä»‹)
    *   [1ã€æ™®é€šå·¥å‚(Simple Factory)æ¨¡å¼](#1æ™®é€šå·¥å‚simple-factoryæ¨¡å¼)
        *   [â‘ ã€å®šä¹‰ç±»](#å®šä¹‰ç±»)
        *   [â‘¡ã€å®šä¹‰ç®€å•çš„å·¥å‚ç±»](#å®šä¹‰ç®€å•çš„å·¥å‚ç±»)
        *   [â‘¢ã€å®ä¾‹](#å®ä¾‹)
    *   [2ã€æŠ½è±¡å·¥å‚(Abstract Factory)æ¨¡å¼](#2æŠ½è±¡å·¥å‚abstract-factoryæ¨¡å¼)
        *   [â‘ ã€å®šä¹‰ç±»](#å®šä¹‰ç±»-1)
        *   [â‘¡ã€å®šä¹‰å·¥å‚æ¥å£](#å®šä¹‰å·¥å‚æ¥å£)
        *   [â‘¢ã€å®ä¾‹](#å®ä¾‹-1)

ç®€ä»‹
--

åœ¨å¤§å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨newå»å®ä¾‹åŒ–å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æœ‰çš„å¯¹è±¡çš„ç±»åˆ«æœ‰å¾ˆå¤šç§ï¼Œåˆå­˜åœ¨ç€å…±æ€§ï¼Œå°±å¥½æ¯”å¦‚æ±½è½¦ï¼Œæœ‰å¥”é©°ï¼Œçº¢æ——ï¼Œå®é©¬ç­‰å“ç‰Œï¼Œå¦‚æœæ˜¯ä¸€ä¸ªä¸€ä¸ªå»åˆ›å»ºç±»ï¼Œé‚£å°±éœ€è¦åˆ›å»ºå¾ˆå¤šï¼Œå› æ­¤å°±éœ€è¦ç”¨åˆ°å·¥å‚æ¨¡å¼ã€‚

1ã€æ™®é€šå·¥å‚(Simple Factory)æ¨¡å¼
------------------------

åœ¨ç®€å•å·¥å‚æ¨¡å¼ä¸­ï¼Œå¯ä»¥æ ¹æ®å‚æ•°çš„ä¸åŒè¿”å›ä¸åŒç±»çš„å®ä¾‹ã€‚ç®€å•å·¥å‚æ¨¡å¼ä¸“é—¨å®šä¹‰ä¸€ä¸ªç±»æ¥è´Ÿè´£åˆ›å»ºå…¶ä»–ç±»çš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹é€šå¸¸éƒ½å…·æœ‰å…±åŒçš„çˆ¶ç±»ã€‚  
UMLå¦‚å›¾ï¼š  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/07ca762897c44e2f915be8f80bc68bb4.png)

### â‘ ã€å®šä¹‰ç±»

é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ±½è½¦æŠ½è±¡ç±»

    package com.lyd.demo.entity;
    
    /**
     * @Author: lyd
     * @Description: äº§å“å®ä½“
     * @Date: 2022-08-21
     */
    public abstract class ICar {
        protected String name;
    
        public ICar(String name) {
            this.name = name;
        }
    
        public String getName() {
            return name;
        }
    
        public void setName(String name) {
            this.name = name;
        }
    
        public abstract void contract();
    
        public void pickUp() {
            System.out.println("æè½¦->" + name);
        }
    }
    

å®šä¹‰å¥”é©°æ±½è½¦ç±»å’Œçº¢æ——æ±½è½¦ç±»ã€‚å¹¶ä¸”ç»§æ‰¿åŸºç±»  
å¥”é©°ï¼š

    package com.lyd.demo.entity;
    
    /**
     * @Author: lyd
     * @Description: å¥”é©°æ±½è½¦ç±»
     * @Date: 2022-08-21
     */
    public class BenzCar extends ICar {
        public BenzCar(String name) {
            super(name);
        }
    
        public void contract() {
            System.out.println("å¥”é©°æ——èˆ°åº—å’Œå®¢æˆ·ç­¾è®¢åˆåŒ");
        }
    }
    

> çº¢æ——ç±»ä¸å¥”é©°ç±»ä¼¼ï¼Œè¿™é‡Œå°±ä¸è´´å†—ä½™ä»£ç äº†

### â‘¡ã€å®šä¹‰ç®€å•çš„å·¥å‚ç±»

å·¥å‚ç±»ï¼š

    package com.lyd.demo.simpleFactory;
    
    import com.lyd.demo.entity.BenzCar;
    import com.lyd.demo.entity.HongQiCar;
    import com.lyd.demo.entity.ICar;
    
    import javax.naming.NotContextException;
    
    /**
     * @Author: lyd
     * @Description: æ™®é€šå·¥å‚æ¨¡å¼
     * @Date: 2022-08-20
     */
    public class CarFactory {
        public static ICar createCar(String carId) throws NotContextException {
            switch (carId) {
                case "1": return new BenzCar("å¥”é©°GLA");
                case "2": return new HongQiCar("çº¢æ——H7");
                default: throw new NotContextException("æ²¡æœ‰è¯¥ç¼–å·çš„æ±½è½¦");
            }
        }
    }
    

### â‘¢ã€å®ä¾‹

æµ‹è¯•å®éªŒ

> å¯¹è°ƒç”¨è€…æ¥è¯´ï¼Œå°±åªéœ€è¦çŸ¥é“createCaræ–¹æ³•ï¼ŒæŒ‡å®šæ±½è½¦çš„ç¼–å·å°±å¯ä»¥å®ä¾‹åŒ–å‡ºå¯¹åº”çš„å¯¹è±¡

    package com.lyd.demo.test;
    
    import com.lyd.demo.entity.ICar;
    import com.lyd.demo.simpleFactory.CarFactory;
    
    import javax.naming.NotContextException;
    
    /**
     * @Author: lyd
     * @Description: æµ‹è¯•ç±»
     * @Date: 2022-08-21
     */
    public class SimpleFactoryTest {
        public static void main(String[] args) throws NotContextException {
            ICar car = CarFactory.createCar("1");
            car.contract();
            car.pickUp();
        }
    }
    
    

è¿è¡Œç»“æœ:  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/508c134b50d941c1886ad7707bfd8b1b.png)

2ã€æŠ½è±¡å·¥å‚(Abstract Factory)æ¨¡å¼
--------------------------

æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›ä¸€ä¸ªæ¥å£ï¼Œä¸å¿…å»æŒ‡å®šå…·ä½“çš„äº§å“ï¼Œåˆ›å»ºå¤šä¸ªäº§å“æ—çš„äº§å“å¯¹è±¡ã€‚å¯¹äºæ™®é€šçš„å·¥å‚æ¥è¯´ï¼Œå¯ä»¥è§£å†³ä¸€ç±»å¯¹è±¡çš„åˆ›å»ºï¼Œä½†æ˜¯å¯¹è±¡æœ‰æ—¶å€™å¾ˆå¤æ‚ï¼Œåœ¨æœ‰å‡ åç§å¯¹è±¡ä¸­åˆåˆ†äº†å¥½å‡ ç§ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå·¥å‚çš„è¯ï¼Œå®ç°èµ·æ¥å°±ååˆ†å¤æ‚ï¼Œå› æ­¤éœ€è¦å§å·¥å‚åˆ†ä¸ºå¾ˆå¤šç§ï¼Œå°±æ¯”å¦‚æ±½è½¦ä¸­æœ‰å¥”é©°ã€çº¢æ——ç­‰ï¼Œåœ¨å¥”é©°ä¸­åˆåˆ†ä¸ºäº†Açº§Cçº§ç­‰ï¼Œè¿™å°±å¯ä»¥å§å¥”é©°ï¼Œçº¢æ——åˆ›å»ºå„è‡ªçš„å·¥å‚ï¼Œç”±å·¥å‚æ¥åˆ’åˆ†æ˜¯å…·ä½“å“ªä¸ªå¯¹è±¡ã€‚  
UMLå¦‚å›¾ï¼š  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/cf5e32ae8a9241deb680c7457d8b22a1.png)

### â‘ ã€å®šä¹‰ç±»

é‡‡ç”¨ä»¥ä¸Šçš„IcaræŠ½è±¡ç±»ï¼Œæœ¬æ¬¡å®šä¹‰äº†å››ä¸ªç±»ï¼šBenzGLAã€BenzGLBã€HongQiH5ã€HongQiH7

    package com.lyd.demo.car.entity.benz;
    
    import com.lyd.demo.car.entity.ICar;
    
    /**
     * @Author: lyd
     * @Description: å¥”é©°GLA
     * @Date: 2022-08-21
     */
    public class BenzGLA extends ICar {
        public BenzGLA(String name) {
            super(name);
        }
    
        public void contract() {
            System.out.println("å¥”é©°æ——èˆ°åº—å’Œå®¢æˆ·ç­¾è®¢åˆåŒ-è´­ä¹°->" + name);
        }
    }
    

> å…¶ä»–ç±»éƒ½ä¸€æ ·ï¼Œå°±ä¸ä¸€ä¸ªä¸€ä¸ªç²˜è´´

### â‘¡ã€å®šä¹‰å·¥å‚æ¥å£

ICarFactory:

> åªæä¾›ä¸€ä¸ªåˆ›å»ºäº§å“çš„æ¥å£

    package com.lyd.demo.car.factory;
    
    import com.lyd.demo.car.entity.ICar;
    
    /**
     * @Author: lyd
     * @Description: æ±½è½¦å·¥å‚
     * @Date: 2022-08-21
     */
    public interface ICarFactory {
        public ICar createProduct(String CarNo);
    }
    

å®šä¹‰å¥”é©°å’Œçº¢æ——çš„å·¥å‚ç±»

> ä¸¤ä¸ªå·¥å‚ç±»ä¹Ÿéƒ½æ˜¯å·®ä¸å¤šï¼Œéœ€è¦å®ç°ICarFactoryï¼Œå¹¶ä¸”å®ç°å…·ä½“æ–¹æ³•ï¼Œåœ¨æ­¤æ–¹æ³•æ¥æ ¹æ®éœ€è¦ç”Ÿæˆå¯¹åº”çš„å¯¹è±¡ã€‚

    package com.lyd.demo.car.factory.impl;
    
    import com.lyd.demo.car.entity.ICar;
    import com.lyd.demo.car.entity.benz.BenzGLA;
    import com.lyd.demo.car.entity.benz.BenzGLB;
    import com.lyd.demo.car.factory.ICarFactory;
    
    /**
     * @Author: lyd
     * @Description: å¥”é©°æ±½è½¦çš„å·¥å‚ç±»
     * @Date: 2022-08-21
     */
    public class BenzFactory implements ICarFactory {
        public ICar createProduct(String CarNo) {
            System.out.println("å¥”é©°å·¥å‚");
            ICar car = null;
            // æ ¹æ®idåˆ›å»ºäº§å“
            if (CarNo.equals("GLA")) {
                // ç”ŸæˆGLAå‹å·çš„å¥”é©°æ±½è½¦
                car = new BenzGLA(CarNo);
            } else if (CarNo.equals("GLB")) {
                // ç”ŸæˆGLBå‹å·çš„å¥”é©°æ±½è½¦
                car = new BenzGLB(CarNo);
            }
            if (car != null) return car;
            return null;
        }
    }
    

> çº¢æ——çš„å·¥å‚ç±»åŒ

æ±½è½¦å·¥å‚ç±»ï¼š

> æ ¹æ®ä¸€å®šçš„é€»è¾‘ï¼ˆæœ¬æ¬¡å®éªŒæ ¹æ®ç¼–å·ï¼‰æ¥ç”Ÿæˆå¯¹åº”çš„å·¥å‚ï¼Œåœ¨ç”±å·¥å‚å»åˆ¤æ–­å®ä¾‹åŒ–å“ªä¸ªå¯¹è±¡ã€‚

    package com.lyd.demo.car.factory.impl;
    
    import com.lyd.demo.car.entity.ICar;
    import com.lyd.demo.car.factory.ICarFactory;
    
    /**
     * @Author: lyd
     * @Description: æ±½è½¦å·¥å‚
     * @Date: 2022-08-21
     */
    public class CarFactory implements ICarFactory {
        public ICar createProduct(String CarNo) {
            ICarFactory factory = null;
            if (CarNo.equals("GLA") || CarNo.equals("GLB")) { // å¦‚æœæ˜¯å¥”é©°çš„å“ç‰Œ
                factory = new BenzFactory();
            } else {
                factory = new HongQiFactory();
            }
            if (factory != null) {
                return factory.createProduct(CarNo);
            }
            return null;
        }
    }
    

### â‘¢ã€å®ä¾‹

æµ‹è¯•æŠ½è±¡å·¥å‚æ¨¡å¼

    package com.lyd.demo.test;
    
    import com.lyd.demo.car.entity.ICar;
    import com.lyd.demo.car.factory.impl.CarFactory;
    
    /**
     * @Author: lyd
     * @Description: æµ‹è¯•ç±»
     * @Date: 2022-08-21
     */
    public class ProductTest {
        public static void main(String[] args) {
            CarFactory factory = new CarFactory();
            ICar car = factory.createProduct("GLA");
            car.contract();
        }
    }
    

è¿è¡Œç»“æœ:  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/19700080409e4ecc93e7fd54b57753c8.png)