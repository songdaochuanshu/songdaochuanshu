---
layout: post
title: "Redisï¼ˆ1ï¼‰- Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®"
date: "2022-05-25T19:16:12.099Z"
---
Redisï¼ˆ1ï¼‰- Redisæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®
========================

1.Rediså®‰è£…
---------

### 1.1.Linuxç¯å¢ƒå®‰è£…Redis

**step-1ï¼šä¸‹è½½Redis**

è¿›å…¥å®˜ç½‘æ‰¾åˆ°ä¸‹è½½åœ°å€Â [https://redis.io/download](https://redis.io/download "https://redis.io/download")

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506173131319-1271329846.png)

wget https://github.com/redis/redis/archive/7.0.0.tar.gz

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506173413123-232183246.png)

Â **step-2ï¼šè§£åŒ…**

tar -zvxf 7.0.0.tar.gz

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506173834278-1311540089.png)

Â **step-3ï¼šç¼–è¯‘**

cd redis-7.0.0

make

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506174232410-1125010817.png)

Â **step-4ï¼šå®‰è£…**

make install

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506174536482-1318589133.png)

Â **step-5(æ–¹å¼ä¸€)ï¼šå¯åŠ¨**

cd src
redis\-server

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506175001569-232210096.png)

**step-5(æ–¹å¼äºŒ)ï¼šæŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨**

åœ¨redisçš„å®‰è£…ç›®å½•ä¸‹æœ‰ä¸€ä¸ªredis.confé…ç½®æ–‡ä»¶

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506175245115-486555820.png)

Â redis.confæ–‡ä»¶é‡Œé¢æ²¡æœ‰ç”¨çš„ä¿¡æ¯æ¯”è¾ƒå¤šï¼Œä½¿ç”¨catå‘½ä»¤è¿‡æ»¤ä¸€ä¸‹ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶

cat redis.conf | grep -v "#" | grep -v "^$" > redis-6379.conf

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506175550659-1080045083.png)

Â ç„¶ååœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¿®æ”¹è‡ªå·±éœ€è¦çš„é…ç½®é¡¹ï¼Œä¿®æ”¹ç»“æŸï¼Œå¯åŠ¨redis

redis-server redis-6379.conf

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506175735830-1851550458.png)

**step-6ï¼šæ ¡éªŒ**

æ–°å»ºä¸€ä¸ªä¼šè¯ååœ¨redis-4.4.0/srcç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤è¿æ¥Â redis-cliÂ 

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506180439780-2046113559.png)

### 1.2.Windowsç¯å¢ƒå®‰è£…Redis

**step-1ï¼šä¸‹è½½æ–‡ä»¶**

*   é“¾æ¥: [https://pan.baidu.com/s/1EMs1f7xBlhoL\_c6Eh5o3rw](https://pan.baidu.com/s/1EMs1f7xBlhoL_c6Eh5o3rw)
*   æå–ç : ri3sÂ 

**step-2ï¼šåˆ›å»ºå¯åŠ¨æ–‡ä»¶**

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505222925342-103041011.png)

Â Redisç›®å½•ä¸‹åˆ›å»ºstart.batæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š

redis-server redis.windows.conf

ğŸ‘†é€‰æ‹©redis.windows.confé…ç½®æ–‡ä»¶å¯åŠ¨redis-server

**step-3ï¼šå¯åŠ¨redis**

åŒå‡»start.batç¨‹åºï¼Œå¯åŠ¨Redisï¼ŒRedisé»˜è®¤ç«¯å£å·ä¸º6379

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505223127276-335079789.png)

åç»­æ“ä½œåŸºäºwindowså®‰è£…redisçš„ç¬”è®°ï¼ŒLinuxä¸‹å®‰è£…çš„ä¸å†²çªï¼Œæ‰¾åˆ°å¯¹åº”è·¯å¾„å³å¯

* * *

2.Rediså®¢æˆ·ç«¯å®‰è£…
------------

### 2.1.Redisè‡ªå¸¦çš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯

redisé»˜è®¤è‡ªå¸¦16ä¸ªé€»è¾‘åº“ï¼Œä¸”éƒ½æ˜¯ç©ºçš„æ•°æ®åº“ï¼Œç¼–å·æ˜¯ä»0-15

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505223707962-40858896.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505223827237-1987280629.png)

ç®€å•å‘½ä»¤æ“ä½œï¼š

SELECT 0    #ä½¿ç”¨åºå·ä¸º0çš„æ•°æ®åº“
SET city shanghai    #å­˜å…¥é”®å€¼å¯¹æ•°æ®ï¼Œé”®:cityï¼Œå€¼:shanghai
get city    #è·å–é”®cityçš„å€¼
del city    #åˆ é™¤é”®city

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505224123219-444167447.png)

### 2.2.å®‰è£…Rediså›¾å½¢å®¢æˆ·ç«¯

**step-1ï¼šç½‘ç›˜ä¸‹è½½å¥½çš„æ–‡ä»¶ï¼Œç‚¹å‡»RDMå®¢æˆ·ç«¯.exeè¿›è¡Œå®‰è£…ï¼Œä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯**

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505224824889-1319072986.png)

Â **step-2ï¼šè¿æ¥åˆ°redisæœåŠ¡å™¨**

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225048352-1192785037.png)

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225219596-1134083084.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225308415-2137436916.png)

**step-3ï¼šå®¢æˆ·ç«¯ç®€å•ä½¿ç”¨ï¼šæ•°æ®åº“æ·»åŠ é”®å€¼å¯¹**

*   æ–¹å¼ä¸€ï¼š

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225620492-1315859849.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225709545-705011568.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225748990-1646982220.png)

*   Â æ–¹å¼äºŒï¼š

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505225948435-813299560.png)

### Â 2.3.RedisæŒä¹…åŒ–ç®€è¿°

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220505230228426-2141742956.png)

*   RDBï¼šå®šæœŸå°†å†…å­˜ä¸­æ•°æ®åŒæ­¥åˆ°ç¡¬ç›˜ä¸ŠÂ ï¼ŒRDBå±äºå†™å¥½æ¡ä»¶çš„æ–¹å¼
*   AOFï¼šé€šè¿‡æ—¥å¿—è®°å½•æ–¹å¼è®°å½•æ•°æ® ï¼Œå¦‚æœä¸å¹¸å®•æœºï¼Œå¯ä»¥é€šè¿‡å¼€å¯AOFæ¥æ¢å¤æ•°æ®
*   åé¢ç¬”è®°ä¼šé’ˆå¯¹è¿™å—æœ‰è¯¦ç»†æè¿°ï¼Œæ­¤å¤„ç®€å•äº†è§£redisæŒä¹…åŒ–å³å¯

* * *

3.Redisé…ç½®å‚æ•°
-----------

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506163518033-2095205661.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506164003457-219681742.png)

å°†æ—¥å¿—è®°å½•åˆ°logs.logæ–‡ä»¶ä¸­

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506164149172-1345804388.png)

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506164442774-2101572139.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506164921969-1841266588.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506165020423-127681958.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506165215961-685867916.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506165626019-2143125673.png)

AOFåŒæ­¥é¢‘ç‡ï¼š

*   noï¼šredisåªä¼šæŠŠæ•°æ®å†™åˆ°ç¡¬ç›˜çš„ç¼“å†²åŒºå°±ç»“æŸäº†ï¼›ç¼“å†²åŒºçš„æ•°æ®ä»€ä¹ˆæ—¶å€™åŒæ­¥åˆ°ç¡¬ç›˜ä¸Šï¼Ÿè¿™ä¸ªæ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥å®ç°çš„ï¼Œæœ‰å¯èƒ½æ“ä½œç³»ç»Ÿè¿˜æ²¡æ¥å¾—åŠå°†ç¼“å†²åŒºçš„æ•°æ®å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œå°±æ–­ç”µäº†ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›è¿™ä¸ªå‚æ•°æ˜¯æœ€ä¸å¯é çš„ï¼
*   everysecï¼šredisæ¯ç§’ä¼šå°†æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜ä¸­ï¼Œå†™å…¥çš„é—´éš”ä¸º1ç§’é’Ÿï¼›å¦‚æœåœ¨1ç§’é’Ÿå†…å‘ç”Ÿäº†å®•æœºï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨æ•°æ®ä¸¢å¤±çš„
*   alwaysï¼šæœ€ç¨³å¦¥çš„æ–¹æ¡ˆï¼Œä¸€æœ‰æ•°æ®å°±åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚

è¦é‡‡ç”¨AOFå¤‡ä»½å°±å¾—å…³é—­RDBåŒæ­¥ï¼ï¼ï¼

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506170740556-26728425.png)

å¸¸ç”¨ä¿®æ”¹é¡¹ï¼š

![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506170851499-1636860297.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506171044976-761748513.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506171210375-1969604188.png)

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506171258820-1572045163.png)

é‡å¯redisæ•°æ®åº“ï¼Œå†™å…¥key\_valueï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆäº†appendonly.aofå¤‡ä»½æ–‡ä»¶ï¼Œæ­¤æ—¶å…³é—­redisæ•°æ®åº“ï¼Œå†æ‰“å¼€ï¼Œkeyå’Œvalueè¿˜åœ¨

Â ![](https://img2022.cnblogs.com/blog/2281865/202205/2281865-20220506171803097-841659172.png)