---
layout: post
title: "Java开发学习(一)----初识Spring及其核心概念"
date: "2022-05-28T23:19:27.589Z"
---
Java开发学习(一)----初识Spring及其核心概念
=============================

一、 Spring系统架构
-------------

### 1.1 系统架构图

*   Spring Framework是Spring生态圈中最基础的项目，是其他项目的根基。
    
*   Spring Framework的发展也经历了很多版本的变更，每个版本都有相应的调整
    
    ![](https://img2022.cnblogs.com/blog/1126989/202205/1126989-20220525212046844-1995078929.png)
    
*   Spring Framework的5版本目前没有最新的架构图，而最新的是4版本，所以接下来主要研究的是4的架构图
    
    ![](https://img2022.cnblogs.com/blog/1126989/202205/1126989-20220525212121257-1117104362.png)
    
    (1)核心层
    
    *   Core Container:核心容器，这个模块是Spring最核心的模块，其他的都需要依赖该模块
        
    
    (2)AOP层
    
    *   AOP:面向切面编程，它依赖核心层容器，目的是`在不改变原有代码的前提下对其进行功能增强`
        
    *   Aspects:AOP是思想,Aspects是对AOP思想的具体实现
        
    
    (3)数据层
    
    *   Data Access:数据访问，Spring全家桶中有对数据访问的具体实现技术
        
    *   Data Integration:数据集成，Spring支持整合其他的数据层解决方案，比如Mybatis
        
    *   Transactions:事务，Spring中事务管理是Spring AOP的一个具体实现
        
    
    (4)Web层
    
    *   具体体现在SpringMVC框架
        
    
    (5)Test层
    
    *   Spring主要整合了Junit来完成单元测试和集成测试
        

二、Spring核心概念
------------

在Spring核心概念这部分内容中主要包含`IOC/DI`、`IOC容器`和`Bean`,那么问题就来了，这些都是什么呢?

### 2.1 目前项目中的问题

要想解答这个问题，就需要先分析下目前咱们代码在编写过程中遇到的问题:

![](https://img2022.cnblogs.com/blog/1126989/202205/1126989-20220525212534590-53918811.png)

(1)业务层需要调用数据层的方法，就需要在业务层new数据层的对象

(2)如果数据层的实现类发生变化，那么业务层的代码也需要跟着改变，发生变更后，都需要进行编译打包和重部署

(3)所以，现在代码在编写的过程中存在的问题是：`耦合度偏高`

针对这个问题，该如何解决呢?

![](https://img2022.cnblogs.com/blog/1126989/202205/1126989-20220525212626042-1380218060.png)

我们就想，如果能把框中的内容给去掉，不就可以降低依赖了么，但是又会引入新的问题，去掉以后程序能运行么?

答案肯定是不行，因为bookDao没有赋值为Null，强行运行就会出空指针（NPE）异常。

所以现在的问题就是，业务层不想new对象，运行的时候又需要这个对象，该咋办呢?

针对这个问题，Spring就提出了一个解决方案:

*   使用对象时，在程序中不要主动使用new产生对象，转换为由`外部`提供对象。这种实现思就是Spring的一个核心概念（IOC）
    

### 2.2 IOC、IOC容器、Bean、DI

1.  IOC（Inversion of Control）控制反转
    

(1)什么是控制反转呢？

*   使用对象时，由主动new产生对象转换为由`外部`提供对象，此过程中对象创建控制权由程序转移到外部，此思想称为控制反转。
    
    *   业务层要用数据层的类对象，以前是自己`new`的
        
    *   现在自己不new了，交给`别人[外部]`来创建对象
        
    *   `别人[外部]`就反转控制了数据层对象的创建权
        
    *   这种思想就是控制反转
        
    *   别人\[外部\]指定是什么呢?
        

(2)Spring和IOC之间的关系是什么呢?

*   Spring技术对IOC思想进行了实现
    
*   Spring提供了一个容器，称为`IOC容器`，用来充当IOC思想中的"外部"
    
*   IOC思想中的`别人[外部]`指的就是Spring的IOC容器
    

(3)IOC容器的作用以及内部存放的是什么?

*   IOC容器负责对象的创建、初始化等一系列工作，其中包含了数据层和业务层的类对象
    
*   被创建或被管理的对象在IOC容器中统称为`Bean`
    
*   IOC容器中放的就是一个个的Bean对象
    

(4)当IOC容器中创建好service和dao对象后，程序能正确执行么?

*   不行，因为service运行需要依赖dao对象
    
*   IOC容器中虽然有service和dao对象
    
*   但是service对象和dao对象没有任何关系
    
*   需要把dao对象交给service,也就是说要绑定service和dao对象之间的关系
    

像这种在容器中建立对象与对象之间的绑定关系就要用到DI:

2.  DI（Dependency Injection）依赖注入
    

![](https://img2022.cnblogs.com/blog/1126989/202205/1126989-20220525212852916-2042090408.png)

(1)什么是依赖注入呢?

*   在容器中建立bean与bean之间的依赖关系的整个过程，称为依赖注入
    
    *   业务层要用数据层的类对象，以前是自己`new`的
        
    *   现在自己不new了，靠`别人[外部其实指的就是IOC容器]`来给注入进来
        
    *   这种思想就是依赖注入
        

(2)IOC容器中哪些bean之间要建立依赖关系呢?

*   这个需要程序员根据业务需求提前建立好关系，如业务层需要依赖数据层，service就要和dao建立依赖关系
    

介绍完Spring的IOC和DI的概念后，我们会发现这两个概念的最终目标就是:`充分解耦`，具体实现靠:

*   使用IOC容器管理bean（IOC)
    
*   在IOC容器内将有依赖关系的bean进行关系绑定（DI）
    
*   最终结果为:使用对象时不仅可以直接从IOC容器中获取，并且获取到的bean已经绑定了所有的依赖关系.
    

### 2.3 核心概念小结

(1)什么IOC/DI思想?

*   IOC:控制反转，控制反转的是对象的创建权
    
*   DI:依赖注入，绑定对象与对象之间的依赖关系
    

(2)什么是IOC容器?：Spring创建了一个容器用来存放所创建的对象，这个容器就叫IOC容器

(3)什么是Bean?：容器中所存放的一个个对象就叫Bean或Bean对象

本文来自博客园，作者：[|旧市拾荒|](https://www.cnblogs.com/xiaoyh/)，转载请注明原文链接：[https://www.cnblogs.com/xiaoyh/p/16297198.html](https://www.cnblogs.com/xiaoyh/p/16297198.html)