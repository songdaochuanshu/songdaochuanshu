---
layout: post
title: "Win10ä¸‹yolov8 tensorrtæ¨¡å‹åŠ é€Ÿéƒ¨ç½²ã€å®æˆ˜ã€‘"
date: "2023-02-04T23:15:24.727Z"
---
Win10ä¸‹yolov8 tensorrtæ¨¡å‹åŠ é€Ÿéƒ¨ç½²ã€å®æˆ˜ã€‘
===============================

Win10ä¸‹yolov8 tensorrtæ¨¡å‹åŠ é€Ÿéƒ¨ç½²ã€å®æˆ˜ã€‘
===============================

[**TensorRT-Alpha**](https://github.com/FeiYull/TensorRT-Alpha)åŸºäºtensorrt+cuda c++å®ç°æ¨¡å‹end2endçš„gpuåŠ é€Ÿï¼Œæ”¯æŒwin10ã€linuxï¼Œåœ¨2023å¹´å·²ç»æ›´æ–°æ¨¡å‹ï¼šYOLOv8, YOLOv7, YOLOv6, YOLOv5, YOLOv4, YOLOv3, YOLOX, YOLOR,pphumanseg,u2net,EfficientDetã€‚  
å…³æ³¨ä»“åº“ã€ŠTensorRT-Alphaã€‹ï¼š[https://github.com/FeiYull/TensorRT-Alpha](https://github.com/FeiYull/TensorRT-Alpha)

ä¸€ã€åŠ é€Ÿç»“æœå±•ç¤º
========

1.1 æ€§èƒ½é€Ÿè§ˆ
--------

ğŸš€å¿«é€Ÿçœ‹çœ‹yolov8n åœ¨ç§»åŠ¨ç«¯RTX2070m(8G)çš„æ–°èƒ½è¡¨ç°ï¼š

model

video resolution

model input size

GPU Memory-Usage

GPU-Util

yolov8n

1920x1080

8x3x640x640

1093MiB/7982MiB

14%

ä¸‹å›¾æ˜¯yolov8nçš„è¿è¡Œæ—¶é—´å¼€é”€ï¼Œå•ä½æ˜¯msï¼š  
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/51ed467668e24b8c982008903733a6e2.jpeg#pic_center)

æ›´å¤šTensorRT-Alphaæµ‹è¯•å½•åƒåœ¨Bç«™è§†é¢‘ï¼š  
[**Bç«™ï¼šYOLOv8n**](https://www.bilibili.com/video/BV1vY4y1d7Dr/?spm_id_from=333.999.0.0&vd_source=a96c9c3f099f4167807291a34fd50fd5)  
[**Bç«™ï¼šYOLOv8s**](https://www.bilibili.com/video/BV1mx4y1M76P/?spm_id_from=333.999.0.0&vd_source=a96c9c3f099f4167807291a34fd50fd5)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/78afd19e93464dd8bf8c4d12cf129147.jpeg#pic_center)

1.2ç²¾åº¦å¯¹é½
-------

ä¸‹é¢æ˜¯å·¦è¾¹æ˜¯pythonæ¡†æ¶æ¨ç†ç»“æœï¼Œå³è¾¹æ˜¯TensorRT-Alphaæ¨ç†ç»“æœã€‚  
![yolov8n : Offical( left ) vs Ours( right )](https://img-blog.csdnimg.cn/56466c1923f84f43a5ef52f21cd74e99.jpeg#pic_center)

yolov8n : Offical( left ) vs Ours( right )

  

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0ea125d5f6754251a44c913ade381905.jpeg#pic_center)

yolov7-tiny : Offical( left ) vs Ours( right )

  

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/8f718f04409b44c6b1cb00d93bbd6fb3.jpeg#pic_center)

yolov6s : Offical( left ) vs Ours( right )

  

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/cd2e2ed1e1554aa8a35795541ef08058.jpeg#pic_center)

yolov5s : Offical( left ) vs Ours( right )

  

YOLOv4 YOLOv3 YOLOR YOLOXç•¥ã€‚

äºŒã€Windows10ç¯å¢ƒé…ç½®
===============

**ä¸‰æ­¥è§£å†³winç¯å¢ƒé…ç½®**ï¼š

*   1ã€å®‰è£…vs2019ã€Nvidiaé©±åŠ¨ã€cudaï¼Œcudnnã€opencvã€tensorrtï¼›
*   2ã€åˆ›å»ºå±æ€§è¡¨ï¼›
*   3ã€å·¥ç¨‹è®¾ç½®ï¼Œè¿è¡Œï¼›  
    é—®é¢˜ï¼šä¸ºä»€ä¹ˆä½¿ç”¨vs2019å±æ€§è¡¨ï¼Œè€Œä¸ç”¨cmakeï¼Ÿ  
    å›ç­”ï¼šå› ä¸ºå±æ€§è¡¨å¯ä»¥åšåˆ°ï¼šä¸€æ¬¡åˆ›å»ºï¼Œåˆ°å¤„ä½¿ç”¨ã€‚  
    æç¤ºï¼šå¦‚æœæ‚¨ä¸€å®šéœ€è¦ä½¿ç”¨cmake+vs2019 or cmake + clionï¼Œè¯·å‚è€ƒé™„å½•ï¼Œè¿™æ˜¯ä¸€ä½çƒ­å¿ƒè§‚ä¼—çš„æ–¹æ³•ï¼Œä¾›å‚è€ƒã€‚

2.1 å®‰è£…VS2019
------------

éœ€è¦Microsoftè´¦å·ï¼Œå¦‚æœæ‚¨æœ‰åˆ«çš„é€”å¾„ä¸‹è½½å®‰è£…ä¹Ÿå¯ä»¥ã€‚

*   è¿›å…¥ï¼š[https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/](https://visualstudio.microsoft.com/zh-hans/vs/older-downloads/)
*   é€‰æ‹©ï¼š\[2019\] -> \[ä¸‹è½½\]
*   åœ¨æ–°é¡µé¢é€‰æ‹©ï¼š Visual Studio Community 2019 (version 16.11)
*   ä¸‹è½½å®Œæˆä¹‹åå®‰è£…è¿‡ç¨‹é€‰æ‹©å¦‚ä¸‹å›¾ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1710557733f243638f84904348bb9ad0.jpeg)

\- é‡å¯ç³»ç»Ÿ

2.2 å®‰è£…åº“
-------

æ³¨ï¼šNvidiaç›¸å…³ç½‘ç«™éœ€è¦æ³¨å†Œè´¦å·ã€‚

### 2.2.1 å®‰è£…Nvidiaæ˜¾å¡é©±åŠ¨

*   è¿›å…¥ï¼š [https://www.nvidia.cn/Download/index.aspx?lang=cn#](https://www.nvidia.cn/Download/index.aspx?lang=cn#)
*   ä¾æ®å®é™…æƒ…å†µé€‰æ‹©ï¼Œå¦‚ä¸‹å›¾æ˜¯æˆ‘çš„é€‰æ‹©(for RTX3070)ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0c2a79c9adc34e66a7fac92b1f70648e.jpeg)

*   é€‰æ‹©ï¼š\[æœç´¢\]->\[ä¸‹è½½\] ->\[åŒå‡»é»˜è®¤å®‰è£…\] -> \[é‡å¯ç³»ç»Ÿ\] -> \[è¿›å…¥cmd\]ï¼Œè¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š

    nvidia-smi
    

çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯è¡¨æ˜é©±åŠ¨æ­£å¸¸ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/c5cbcdef1d9c4580a4eb2d8243eea0f4.jpeg)

### 2.2.2 å®‰è£… cuda11.2

*   è¿›å…¥: [https://developer.nvidia.com/cuda-toolkit-archive](https://developer.nvidia.com/cuda-toolkit-archive)
*   é€‰æ‹©ï¼šCUDA Toolkit 11.2.0 (December 2020)
*   é€‰æ‹©ï¼š\[Windows\] -> \[x86\_64\] -> \[10\] -> \[exe(local)\] -> \[Download(2.9GB)\]  
    
*   åŒå‡»å®‰è£…ï¼Œé‡å¯åœ¨cmdçª—å£è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤ï¼š

    nvcc -V
    

CMDçª—å£æ‰“å°å¦‚ä¸‹ä¿¡æ¯è¡¨ç¤ºcuda11.2å®‰è£…æ­£å¸¸  

    nvcc: NVIDIA (R) Cuda compiler driver
    Copyright (c) 2005-2020 NVIDIA Corporation
    Built on Mon_Nov_30_19:15:10_Pacific_Standard_Time_2020
    Cuda compilation tools, release 11.2, V11.2.67
    Build cuda_11.2.r11.2/compiler.29373293_0
    

note:cuda11.2 ä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹å›¾ï¼Œç¯å¢ƒå˜é‡éƒ½æ˜¯è‡ªåŠ¨è®¾ç½®çš„ã€‚

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e4d974f7c976413a9e116da3bdd72b7b.jpeg)

### 2.2.3 å®‰è£… cudnn8.2.1

*   è¿›å…¥ç½‘ç«™ï¼š[https://developer.nvidia.com/rdp/cudnn-archive](https://developer.nvidia.com/rdp/cudnn-archive)
*   é€‰æ‹©ï¼š Download cuDNN v8.2.1 (June 7th, 2021), for CUDA 11.x
*   é€‰æ‹©ï¼š cuDNN Library for Windows (x86)
*   ä½ å°†ä¼šä¸‹è½½è¿™ä¸ªå‹ç¼©åŒ…: "cudnn-11.3-windows-x64-v8.2.1.32\_2.zip"
*   è§£å‹ä¹‹åï¼Œcudnnçš„å¤´æ–‡ä»¶ã€åº“æ–‡ä»¶éƒ½è¦æ‹·è´åˆ°cudaå®‰è£…ç›®å½•ã€‚
*   å¦‚ä¸‹å›¾ï¼Œè¿›å…¥cudnnè§£å‹æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­includeï¼Œæ‹·è´æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œç²˜è´´åˆ°CUDA/v11.2/includeä¸­
*   libã€binä¸­çš„æ–‡ä»¶ä¹Ÿæ‹·è´åˆ°å¯¹åº”cudaç›®å½•ä¸­
*   é‡å¯ç³»ç»Ÿ

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/21f486c78a164ecab5a035708acd696c.jpeg)

### 2.2.4 ä¸‹è½½ tensorrt8.4.2.4

*   è¿›å…¥ç½‘ç«™ï¼š [https://developer.nvidia.cn/nvidia-tensorrt-8x-download](https://developer.nvidia.cn/nvidia-tensorrt-8x-download)
*   æŠŠè¿™ä¸ªæ‰“å‹¾ï¼š I Agree To the Terms of the NVIDIA TensorRT License Agreement
*   é€‰æ‹©: TensorRT 8.4 GA Update 1
*   é€‰æ‹©: TensorRT 8.4 GA Update 1 for Windows 10 and CUDA 11.0, 11.1, 11.2, 11.3, 11.4, 11.5, 11.6 and 11.7 ZIP Package
*   ä½ å°†ä¼šä¸‹è½½è¿™ä¸ªå‹ç¼©åŒ…: "TensorRT-8.4.2.4.Windows10.x86\_64.cuda-11.6.cudnn8.4.zip"
*   è§£å‹åˆ°F:\\ThirdPartyï¼Œå¹¶é‡å‘½åä¸ºï¼šTensorRT-8.4.2.4
*   å¹¶å°†è·¯å¾„"F:\\ThirdParty\\TensorRT-8.4.2.4\\lib"æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹å›¾ï¼š
*   é‡å¯ç³»ç»Ÿ

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/23ddad481194415bb83f1e7887078220.jpeg)

### 2.2.5 OpenCV4.5.5å®‰è£…

*   è¿›å…¥ï¼š[https://opencv.org/releases/](https://opencv.org/releases/)
*   é€‰æ‹©ï¼š\[OpenCV â€“ 4.5.5\] -> \[Windows\]
*   ä¸‹è½½å®Œæˆä¹‹åï¼Œæ˜¯ä¸€ä¸ªexeçš„è‡ªè§£å‹æ ¼å¼ï¼Œè§£å‹åˆ°ï¼šD:\\ThirdParty
*   å¹¶å°†è·¯å¾„ï¼š"D:\\ThirdParty\\opencv4.5.5\\build\\bin" å’Œ "D:\\ThirdParty\\opencv4.5.5\\build\\x64\\vc15\\bin"æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œå¦‚ä¸‹å›¾ï¼š
*   é‡å¯ç³»ç»Ÿ  
    noteï¼šæˆ‘çš„opencvåœ¨Dç›˜ï¼Œtensorrtåœ¨Eç›˜ï¼Œæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å°±è¡Œäº†ã€‚

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/adaa3504d6e449ecbb03bee841e68b79.jpeg)

2.3 åˆ›å»ºå±æ€§è¡¨
---------

ä¸€èˆ¬åœ°ï¼ŒVisual Studio 2019ï¼Œä¸€ä¸ªåº“å¯¹åº”ä¸¤ä¸ªå±æ€§è¡¨æ–‡ä»¶ï¼Œåˆ†åˆ«å¯¹åº”ï¼švs2019çš„debugæ¨¡å¼å’Œreleaseæ¨¡å¼ï¼Œä¾‹å¦‚ï¼šæœ¬æ–‡ä¸­OpenCVåˆ›å»ºäº†è¿™ä¸¤ç§ã€‚è€ŒTensorRTå’ŒCUDAåªéœ€è¦åˆ›å»ºä¸€ç§å±æ€§è¡¨(é€‚ç”¨ä»¥ä¸Šä¸¤ç§æ¨¡å¼)ã€‚

### 2.3.1 åˆ›å»ºOpenCVå±æ€§è¡¨

åˆ›å»ºopencvåº“debugå±æ€§è¡¨ï¼š

*   step1ï¼šåŸºäºVS2019éšä¾¿æ–°å»ºä¸€ä¸ªC++é¡¹ç›®ï¼Œå¦‚ä¸‹å›¾ï¼Œé¡¹ç›®è®¾ç½®ä¸ºDebugã€X64æ¨¡å¼

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/87fe8cb7dc7546d9889d29d5d0a792d2.jpeg)

*   step2ï¼šå¦‚ä¸‹å›¾ï¼Œé€‰æ‹©ï¼š\[å±æ€§çª—å£\] -> \[å³å‡»Debug|x64\] -> \[æ·»åŠ æ–°é¡¹ç›®å±æ€§è¡¨\]

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a8bd0090ed004fb78c332ef9d918b0a1.jpeg)

*   step3ï¼šæ–‡ä»¶å‘½åä¸ºï¼šOpenCV4.5.5\_DebugX64.props -> \[æ·»åŠ \]
*   ç¼–è¾‘å±æ€§è¡¨ï¼š\[å¦‚ä¸‹å›¾ï¼šåŒå‡»å±æ€§è¡¨\]

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/04ba320229d64e008b9499c1f8b9fac8.jpeg)

*   step4ï¼šå¦‚ä¸‹å›¾ï¼Œé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[VC++ç›®å½•\] -> \[åŒ…å«ç›®å½•\] -> \[ç¼–è¾‘\]

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d6b9e46331294267b862d5c6d0b7db2d.jpeg)

*   step5ï¼šå¦‚ä¸‹å›¾ï¼Œå°†ä¸¤ä¸ªOpenCVä¸¤ä¸ªå¤´æ–‡ä»¶ç›®å½•æ‹·è´è¿›å» -> \[ç¡®è®¤\]

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/eaf59a0865704690b5ec2fc947cea8ef.jpeg)

*   step6ï¼šé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[VC++ç›®å½•\] -> \[åº“ç›®å½•\] -> \[ç¼–è¾‘\] -> å°†è·¯å¾„ï¼š"D:\\ThirdParty\\opencv4.5.5\\build\\x64\\vc15\\lib"æ‹·è´è¿›å» -> \[ç¡®è®¤\]
*   step7ï¼šé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[é“¾æ¥å™¨\] -> \[è¾“å…¥\] -> \[é™„åŠ ä¾èµ–é¡¹\] -> å°†æ–‡ä»¶å"_**opencv\_world455d.lib**_"æ‹·è´è¿›å»->\[ç¡®è®¤\]  
    **å°ç»“**ï¼š  
      
    åˆ°è¿™é‡Œï¼Œopencvåº“debugå±æ€§è¡¨åˆ¶ä½œå®Œæˆï¼Œreleaseå±æ€§è¡¨å’Œä¸Šè¿°æµç¨‹ä¸€æ ·ï¼Œå”¯ä¸€åŒºåˆ«åœ¨äºï¼Œå¦‚ä¸‹å›¾ï¼Œé¡¹ç›®åˆ‡æ¢åˆ°Release x64æ¨¡å¼ï¼Œæ–°å»ºOpenCV4.5.5\_ReleaseX64å±æ€§è¡¨ï¼Œç„¶ååœ¨step7ä¸­ï¼Œå°†æ–‡ä»¶åä¿®æ”¹ä¸ºï¼š"_**opencv\_world455.lib**_"

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/f639ec404d014e638f5f63558f939e95.jpeg)

è¯·è®°ä½ï¼Œåˆ¶ä½œå±æ€§è¡¨å°±3ä¸ªæ­¥éª¤ï¼š

*   æ‹·è´includeè·¯å¾„
*   æ‹·è´libè·¯å¾„ï¼Œå¤–åŠ è®¾ç½®dllåˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡
*   æ‹·è´libæ–‡ä»¶åç§°

### 2.3.2 åˆ›å»ºTensorRTå±æ€§è¡¨

å³å‡»Debug|x64 or å³å‡»Release|x64æ–°å»ºå±æ€§è¡¨ï¼Œé‡å‘½åä¸ºï¼šTensorRT8.4.2.4\_X64ï¼Œ

    # includeè·¯å¾„
    F:\ThirdParty\TensorRT-8.4.2.4\include
    F:\ThirdParty\TensorRT-8.4.2.4\samples\common
    F:\ThirdParty\TensorRT-8.4.2.4\samples\common\windows
    # libè·¯å¾„
    F:\ThirdParty\TensorRT-8.4.2.4\lib
    # libæ–‡ä»¶åç§°ï¼ˆfor release& debugï¼‰
    nvinfer.lib
    nvinfer_plugin.lib
    nvonnxparser.lib
    nvparsers.lib
    

ä¾ç…§ä¸Šä¸€èŠ‚3ä¸ªæ­¥éª¤ï¼š

*   step1ï¼šé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[VC++ç›®å½•\] -> \[åŒ…å«ç›®å½•\] -> \[ç¼–è¾‘\] -> æŠŠä¸Šè¿°3ä¸ªincludeè·¯å¾„æ‹·è´è¿›å»
*   step2ï¼šé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[VC++ç›®å½•\] -> \[åº“ç›®å½•\] -> \[ç¼–è¾‘\] -> æŠŠä¸Šè¿°libè·¯å¾„æ‹·è´è¿›å»
*   step3ï¼šé€‰æ‹©ï¼š\[é€šç”¨å±æ€§\] -> \[é“¾æ¥å™¨\] -> \[è¾“å…¥\] -> \[é™„åŠ ä¾èµ–é¡¹\] -> \[ç¼–è¾‘\] -> å°†ä¸Šè¿°libæ–‡ä»¶åç§°æ‹·è´è¿›å»->\[ç¡®è®¤\]  
    æœ€åï¼Œä¿®æ”¹tensorrtå±æ€§è¡¨ï¼š\[é€šç”¨å±æ€§\] -> \[C/C++\] -> \[é¢„å¤„ç†å™¨\] -> \[é¢„å¤„ç†å™¨å®šä¹‰\] -> æ·»åŠ æŒ‡ä»¤ï¼š\_CRT\_SECURE\_NO\_WARNINGS -> \[ç¡®è®¤\]

### 2.3.3 åˆ›å»ºCUDAå±æ€§è¡¨

CUDAå±æ€§è¡¨ç›´æ¥ç™½å«–å®˜æ–¹ï¼Œåœ¨è·¯å¾„ï¼šC:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.2\\extras\\visual\_studio\_integration\\MSBuildExtensions\\CUDA 11.2.props

æœ€åï¼Œæˆ‘ä»¬åº”è¯¥æœ‰äº†å¦‚ä¸‹å±æ€§è¡¨æ–‡ä»¶ï¼š

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/4610c38316344f69a658ac99a01d68d1.jpeg)

    å…¶ä¸­ï¼Œcuda å’Œtensorrtçš„å±æ€§è¡¨åŒæ—¶å…¼å®¹release x64 å’Œdebug x64ï¼Œä½ å†æ–°å»ºTensorRT-Alphaä¸­yolov8 yolov7 yolov6 ç­‰é¡¹ç›®åï¼Œåªéœ€è¦æŠŠä¸Šè¿°æå‰åšå¥½çš„å±æ€§è¡¨å¼•å…¥åˆ°å·¥ç¨‹å°±è¡Œäº†ï¼Œ**å½“ç„¶é¡¹ç›®è¿˜éœ€è¦è¿›è¡Œç®€å•è®¾ç½®**(è®¾ç½®NVCCï¼Œé¿å…tensorrtçš„å‘)ï¼Œåœ¨åæ–‡æåˆ°ã€‚å±æ€§è¡¨åšåˆ°äº†ä¸€æ¬¡æ–°å»ºï¼Œåˆ°å¤„ä½¿ç”¨ã€‚
    

ä¸‰ã€YOLOv8æ¨¡å‹éƒ¨ç½²
============

Windows10ç¯å¢ƒå®‰è£…YOLOv8ï¼Œå‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡ã€ŠWin10ç¯å¢ƒä¸‹yolov8å¿«é€Ÿé…ç½®ä¸æµ‹è¯•ã€‹ï¼š[https://blog.csdn.net/m0\_72734364/article/details/128815530](https://blog.csdn.net/m0_72734364/article/details/128815530)

3.1 è·å–YOLOv8onnxæ–‡ä»¶
------------------

ç›´æ¥åœ¨ç½‘ç›˜ä¸‹è½½ [weiyun](https://share.weiyun.com/3T3mZKBm) or [google driver](https://drive.google.com/drive/folders/1-8phZHkx_Z274UVqgw6Ma-6u5AKmqCOv) æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯¼å‡ºonnx:

    # ğŸ”¥ yolov8 å®˜æ–¹ä»“åº“: https://github.com/ultralytics/ultralytics
    # ğŸ”¥ yolov8 å®˜æ–¹æ•™ç¨‹: https://docs.ultralytics.com/quickstart/
    # ğŸš€TensorRT-Alpha will be updated synchronously as soon as possible!
    
    # å®‰è£… yolov8
    conda create -n yolov8 python==3.8 -y
    conda activate yolov8
    pip install ultralytics==8.0.5
    pip install onnx
    
    # ä¸‹è½½å®˜æ–¹æƒé‡(".pt" file)
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n.pt
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8s.pt
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8m.pt
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8l.pt
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8x.pt
    https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8x6.pt
    

å¯¼å‡º onnx:

    # 640
    yolo mode=export model=yolov8n.pt format=onnx dynamic=True    #simplify=True
    yolo mode=export model=yolov8s.pt format=onnx dynamic=True    #simplify=True
    yolo mode=export model=yolov8m.pt format=onnx dynamic=True    #simplify=True
    yolo mode=export model=yolov8l.pt format=onnx dynamic=True    #simplify=True
    yolo mode=export model=yolov8x.pt format=onnx dynamic=True    #simplify=True
    # 1280
    yolo mode=export model=yolov8x6.pt format=onnx dynamic=True   #simplify=True
    

3.2 ç¼–è¯‘ onnx
-----------

    # trtexec.exeåœ¨è·¯å¾„ï¼šF:\ThirdParty\TensorRT-8.4.2.4\bin
    # 640
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8n.onnx  --saveEngine=yolov8n.trt  --buildOnly --minShapes=images:1x3x640x640 --optShapes=images:4x3x640x640 --maxShapes=images:8x3x640x640
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8s.onnx  --saveEngine=yolov8s.trt  --buildOnly --minShapes=images:1x3x640x640 --optShapes=images:4x3x640x640 --maxShapes=images:8x3x640x640
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8m.onnx  --saveEngine=yolov8m.trt  --buildOnly --minShapes=images:1x3x640x640 --optShapes=images:4x3x640x640 --maxShapes=images:8x3x640x640
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8l.onnx  --saveEngine=yolov8l.trt  --buildOnly --minShapes=images:1x3x640x640 --optShapes=images:4x3x640x640 --maxShapes=images:8x3x640x640
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8x.onnx  --saveEngine=yolov8x.trt  --buildOnly --minShapes=images:1x3x640x640 --optShapes=images:4x3x640x640 --maxShapes=images:8x3x640x640
    # 1280
    ../../../../TensorRT-8.4.2.4/bin/trtexec.exe   --onnx=yolov8x6.onnx  --saveEngine=yolov8x6.trt  --buildOnly --minShapes=images:1x3x1280x1280 --optShapes=images:4x3x1280x1280 --maxShapes=images:8x3x1280x1280
    

ä½ å°†ä¼šçš„åˆ°ä¾‹å¦‚ï¼šyolov8n.trtã€yolov8s.trtã€yolov8m.trtç­‰æ–‡ä»¶ã€‚

3.3 ç¼–è¯‘è¿è¡Œ
--------

**3.3.1 æ–°å»ºã€è®¾ç½®é¡¹ç›®**  
ä¸‹è½½TensorRT-Alphaä»“åº“ï¼š

    git clone https://github.com/FeiYull/tensorrt-alpha
    

*   æ–°å»ºyolov8 C++é¡¹ç›®ï¼šå‚è€ƒBç«™è§†é¢‘ã€æç¤ºï¼šä»0åˆ†34ç§’å¼€å§‹ï¼Œæ¼”ç¤ºå¦‚ä½•è®¾ç½®NVCCç¼–è¯‘ï¼Œå¦‚ä½•é¿å…tensorrtåœ¨winç¯å¢ƒçš„å‘ã€‘ï¼š  
    [yolov8 tensorrt å®æˆ˜ä¹‹å…ˆå¯¼](https://www.bilibili.com/video/BV1xT411f72f/?spm_id_from=333.999.0.0&vd_source=a96c9c3f099f4167807291a34fd50fd5)  
    **å°ç»“ï¼š**  
    åç»­åˆ›å»ºTensorRT-Alphaä¸­YOLOv7ã€ YOLOv6ç­‰å·¥ç¨‹ä¹‹åï¼Œåªéœ€è¦å°†ä¸Šæ–‡ä¸­çš„å±æ€§è¡¨æ·»åŠ åˆ°å·¥ç¨‹ï¼Œç„¶åæŒ‰ç…§ã€Šyolov8 tensorrt å®æˆ˜ä¹‹å…ˆå¯¼ã€‹æåˆ°çš„è®¾ç½®å·¥ç¨‹å°±OKã€‚  
    è¿™ç¯‡æ•™ç¨‹å¤ªè¯¦ç»†äº†ï¼Œè¿™å¹´å¤´ï¼Œå¥½åƒå¾ˆå°‘æœ‰äººæ„¿æ„å…è´¹ç»™å‡ºè¿™ä¹ˆè¯šæ„çš„æ•™ç¨‹ã€‚

**3.3.2 ç¼–è¯‘è¿è¡Œ**  
ä¸Šé¢è§†é¢‘åœ¨vs2019ä¸­è®¾ç½®å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨CMDå‘½ä»¤è¡Œä¸Šè¿è¡Œç¨‹åºï¼Œå¦‚ä¸‹ï¼š

    # ä¸‹é¢å‚æ•°è§£é‡Š
    # --show è¡¨ç¤ºå¯è§†åŒ–ç»“æœ
    # --savePath è¡¨ç¤ºä¿å­˜ï¼Œé»˜è®¤ä¿å­˜åœ¨buildç›®å½•
    # --savePath=../ ä¿å­˜åœ¨ä¸Šä¸€çº§ç›®å½•
    
    ## 640
    # æ¨ç†å›¾ç‰‡
    ./app_yolov8.exe  --model=../../data/yolov8/yolov8n.trt --size=640 --batch_size=1  --img=../../data/6406407.jpg   --show --savePath
    ./app_yolov8.exe  --model=../../data/yolov8/yolov8n.trt --size=640 --batch_size=8  --video=../../data/people.mp4  --show --savePath
    
    # æ¨ç†è§†é¢‘
    ./app_yolov8.exe  --model=../../data/yolov8/yolov8n.trt     --size=640 --batch_size=8  --video=../../data/people.mp4  --show --savePath=../
    
    # åœ¨çº¿æ¨ç†ç›¸æœºè§†é¢‘
    ./app_yolov8.exe  --model=../../data/yolov8/yolov8n.trt     --size=640 --batch_size=2  --cam_id=0  --show
    
    ## 1280
    # infer camera
    ./app_yolov8.exe  --model=../../data/yolov8/yolov8x6.trt     --size=1280 --batch_size=2  --cam_id=0  --show
    

æˆ‘çš„Bç«™æ‰€æœ‰è§†é¢‘éƒ½åœ¨WIN10ç¯å¢ƒè¿è¡Œï¼Œ[https://space.bilibili.com/2028719613](https://space.bilibili.com/2028719613)

\[video(video-zRQTyZp3-1675415874102)(type-bilibili)(url-[https://player.bilibili.com/player.html?aid=778153500](https://player.bilibili.com/player.html?aid=778153500))(image-[https://img-blog.csdnimg.cn/img\_convert/4faa0b726044d139a1282d3883c6ed08.jpeg](https://img-blog.csdnimg.cn/img_convert/4faa0b726044d139a1282d3883c6ed08.jpeg))(title-yolov8 tensorrt cudaæ¨¡å‹æ¨ç†åŠ é€Ÿéƒ¨ç½²TensorRT-Alphaã€Šski facilityã€‹)\]

\[video(video-Ej2C6hgr-1675415817040)(type-bilibili)(url-[https://player.bilibili.com/player.html?aid=650665729](https://player.bilibili.com/player.html?aid=650665729))(image-[https://img-blog.csdnimg.cn/img\_convert/04c8cb5b7ebe3fd410e4af53548a668f.jpeg](https://img-blog.csdnimg.cn/img_convert/04c8cb5b7ebe3fd410e4af53548a668f.jpeg))(title-yolov8 tensorrt cudaæ¨¡å‹æ¨ç†åŠ é€Ÿéƒ¨ç½²TensorRT-Alphaã€ŠNewYork-Streeã€‹)\]

\[video(video-xbOkXTEV-1675415667896)(type-bilibili)(url-[https://player.bilibili.com/player.html?aid=565721755](https://player.bilibili.com/player.html?aid=565721755))(image-[https://img-blog.csdnimg.cn/img\_convert/a4469f9c7a048393d4fee5b7bba2893d.jpeg](https://img-blog.csdnimg.cn/img_convert/a4469f9c7a048393d4fee5b7bba2893d.jpeg))(title-yolov7 tensorrt cudaæ¨¡å‹æ¨ç†åŠ é€Ÿéƒ¨ç½²TensorRT-Alphaã€ŠKorea-Nightã€‹)\]

å››ã€å‚è€ƒ
====

[https://github.com/FeiYull/TensorRT-Alpha](https://github.com/FeiYull/TensorRT-Alpha)

é™„å½•
==

ä¸€ä½çƒ­å¿ƒå°ä¼™åšçš„ï¼Œä»–å¥½åŠªåŠ›ï¼Œå‰å‡ å¤©ç»å¸¸åŠå¤œ2ç‚¹ã€3ç‚¹ç»™æˆ‘ç•™è¨€ï¼Œå¤ªå·äº†ï¼Œå¥‹æ–—ç²¾ç¥å€¼å¾—å­¦ä¹ ã€‚

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/09cdb40d9b214d61bebb04693a6f6565.jpeg)

[https://www.bilibili.com/video/BV1SM411i7km/?spm\_id\_from=333.999.0.0&vd\_source=a96c9c3f099f4167807291a34fd50fd5](https://www.bilibili.com/video/BV1SM411i7km/?spm_id_from=333.999.0.0&vd_source=a96c9c3f099f4167807291a34fd50fd5)

CV&DL