---
layout: post
title: "聊聊视频中的编解码器，你所不知道的h264、h265、vp8、vp9和av1编解码库"
date: "2022-03-17T03:18:58.306Z"
---
聊聊视频中的编解码器，你所不知道的h264、h265、vp8、vp9和av1编解码库
==========================================

你知道**FFmpeg**吗？了解过**h264/h265/vp8/vp9**编解码库吗？

我们日常生活中使用最广泛的五种视频编码：**H264(AVC)、H265(HEVC)、vp8、vp9、av1**都分别是什么？由哪些组织/公司实现的？编解码库的授权协议都是什么？他们又分别有什么优点？  
今天就让博主带领诸位小伙伴们一起来简单了解一下，视频中的这几种常用的编解码器。

H264(AVC)
=========

最常用的视频编码。

> H.264在1997年ITU的视频编码专家组提出时被称为H.26L，在ITU与ISO合作研究后被称为MPEG4 Part10或H.264。

虽然上述两个组织提出了H264编码规范，但是并没有具体实现。

openh264
--------

所以我们日常使用的视频编码大多由**思科（cisco）**开源的**openh264**编解码库：  
[http://www.openh264.org/。](http://www.openh264.org/%E3%80%82)

x264
----

目前性能最好最完善的h264编解码库。

由大名鼎鼎的**VLC**播放器的维护机构，法国**videolan**开源组织维护的libx264编解码库：[http://www.videolan.org/developers/x264.html。](http://www.videolan.org/developers/x264.html%E3%80%82)

> videolan开源组织的前身是**法国巴黎中央理工学院**的一个学生项目。

![](https://img-blog.csdnimg.cn/3cb6ea0064604cee9aad2062f609d2cd.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAZWd1aWRfMQ==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)  
这也是为什么音视频开发工程师默认会使用VLC播放器来测试音视频的原因，不仅仅是因为**VLC**强大，还因为VLC播放器就是事实上的h264/h265音视频编码的标准实现，如果VLC都播放不了你的视频，那肯定是你的视频有问题。

H265(HEVC)
==========

x265
----

业界最好的**h265（hevc）**编解码库。  
同样由大名鼎鼎的**VLC**播放器的维护组织法国**videolan**组织开源的**libx265**编解码库：  
[https://www.videolan.org/developers/x265.html](https://www.videolan.org/developers/x265.html)

> 使用x264,x265编码的小伙伴们需要注意这两款编解码库使用GPL v2授权协议，商业软件使用需要遵守GPL v2协议。

ffmpeg内置openhevc编解码库
====================

由**FFmpeg**维护的**H265(HEVC)**的编解码库，能用。  
[http://openhevc.github.io/openHEVC/](http://openhevc.github.io/openHEVC/)

kvazaar
=======

**FFmpeg**项目引用的另一款开源的**H265(HEVC)**解码库，注意**kvazaar**解码库只提供H265解码，并不提供编码。  
[https://github.com/ultravideo/kvazaar](https://github.com/ultravideo/kvazaar)

VP8
===

**VP8**是**google**定义并开源的视频编解码标准和编解码库实现。

> Google 收购了On2 Technologies，之后Google开放了其拥有的VP8视频编码技术源代码并免费提供给所有开发者使用，发布  
> WebM 开放网络媒体项目

VP8号称比H264编码性能更好，实际上没那么夸张，差不多相当于ffmpeg内置默认的openh264编解码库。VP8的压缩实现与H264有点区别就是VP8没有B帧，而H264有B帧。

**VP8**的优点是开源，没有H264/H265的专利版权风险，可以随便用，除了IE9以下版本的浏览器外，现代浏览器都支持**VP8**视频编码，当然也支持**webm**视频格式。

libvpx
------

**libvpx**是**WebM**项目的子库，可以同时支持**VP8**和**VP9**视频编码：  
[https://www.linuxfromscratch.org/blfs/view/svn/multimedia/libvpx.html](https://www.linuxfromscratch.org/blfs/view/svn/multimedia/libvpx.html)

> webP图片格式的图像编码就是使用的VP8编码进行压缩的。  
> WebM视频的视频编码也是采用VP8/VP9编码。

VP9
===

VP9也是google开源的用与比拼H265(HEVC)的编解码器，可以看出google真的很努力的在开源，这种开源的视频编码应该多一些，百花齐放才能促进音视频技术升级。  
兼容性方面，除了IE9以下版本的浏览器外，现代浏览器都支持VP9视频编码，当然也支持webm视频格式。

libvpx
------

**libvpx**上面讲过了，稍微提一下。是**WebM**项目的子库，可以同时支持VP8和VP9视频编码：  
[https://www.linuxfromscratch.org/blfs/view/svn/multimedia/libvpx.html](https://www.linuxfromscratch.org/blfs/view/svn/multimedia/libvpx.html)

AV1
===

重磅压轴，**google**最新推出的针对VP9编码有多项优化后的新的编解码器：**AV1**。

> AV1是Google VP10、Mozilla Daala以及Cisco Thor三款开源编码项目共同研发成果。AV1打破了之前编码标准中传统的二维运动矢量模型的限制，第一次引入了仿射变换运动模型，不仅可以描述平移运动，同时可以更好的表述如旋转、缩放等更加复杂的运动，有效的提升了视频编码效率

在实际测试中，**AV1**比**H265（HEVC）**压缩率提升约**27%**，可以说是力压H265。是目前为止，世界上压缩性能最好的视频编解码器。再借用游戏界的话术来讲，那**AV1**就是“**次世代**”编解码器。  
![](https://img-blog.csdnimg.cn/c076c69074b54f12bb985bb35c61caf8.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAZWd1aWRfMQ==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)  
得益于AV1的开源和相比于H265更节省带宽的缘故，目前AV1有超过h265编码的趋势，更多视频平台和直播平台选择使用AV1编码，而不是H265。

> 目前使用AV1编码的主流流媒体平台有这几家：“奈飞、YouTube、BBC、爱奇艺”

尽管业界已经喊了4K喊了十多年，但是实际上4K普及率依然并不高，这些年主流的还是H264编码，尤其是在直播领域，h265编码基本上没什么应用。4K的普及不仅需要视频编解码技术的升级，还需要用户带宽和其他硬件配置的升级换代。在带宽费用如此高昂的时代，各大视频平台和直播平台厂商升级意愿都不高，但是因为有了AV1编码，各大视频平台和直播平台厂商能够使用AV1编码带来更少的带宽消耗，相信AV1编解码器的未来会更好。

这里只介绍**FFmpeg**内置的两个**av1**编解码器：**dav1d**和 **librav1e**。

dav1d
-----

由**FFmpeg**和法国**videolan**开源组织共同维护的**dav1d**编解码库：[https://www.videolan.org/projects/dav1d.html。](https://www.videolan.org/projects/dav1d.html%E3%80%82)

跟其他**videolan**维护项目不同的是，**dav1d**编解码库不受专利版权限制。

librav1e
--------

号称最快的av1解码器。实际上dav1d和librav1e编解码器性能差不多，差别不大。  
[https://github.com/xiph/rav1e](https://github.com/xiph/rav1e)

如果觉得博主写得还不错，欢迎“关注、点赞、收藏”一键三连。

本文来自博客园，作者：[eguid](https://www.cnblogs.com/eguid/)，没有作者允许禁止转载，取得作者同意后转载需注明作者名和原文链接：[https://www.cnblogs.com/eguid/p/16015446.html](https://www.cnblogs.com/eguid/p/16015446.html)