---
layout: post
title: "新的ASP.NET Core 迁移指南"
date: "2022-03-17T02:40:59.058Z"
---
新的ASP.NET Core 迁移指南
===================

最近在微信里做了一个调查： [Web Forms应用程序升级到.NET 6](https://wj.qq.com/s2/9822949/ac3f/)， 收到550份调查，调查还在继续，欢迎参与调查。可以访问链接：[https://wj.qq.com/s2/9822949/ac3f/](https://wj.qq.com/s2/9822949/ac3f/ "https://wj.qq.com/s2/9822949/ac3f/") 或者扫码参与，这是一个匿名的调查，不收集任何个人信息：

[![image](https://img2022.cnblogs.com/blog/510/202203/510-20220317085236293-1836695896.png "image")](https://img2022.cnblogs.com/blog/510/202203/510-20220317085235822-22013400.png) 

参与的人数中接近1/3 还在维护Web Forms应用程序，说明这个存量规模还是很大的。

[![image](https://img2022.cnblogs.com/blog/510/202203/510-20220317085056053-2043664966.png "image")](https://img2022.cnblogs.com/blog/510/202203/510-20220317085055689-1154841996.png)

从调查中看接近50%的人对Blazor 都不了解，正好这个周末社区正在举办一场社区活动：[Blazor Day in China](https://mp.weixin.qq.com/s/A_4pD8znCWTT61FsKSA0yQ) ，欢迎大家报名参加。

[![image](https://img2022.cnblogs.com/blog/510/202203/510-20220317085056838-1728137840.png "image")](https://img2022.cnblogs.com/blog/510/202203/510-20220317085056405-510607887.png)

大家对升级工具的了解也是非常的少，75%的人都不了解升级工具，对.NET团队推出的升级助手的了解的人也不到25%， 对AWS 为了推出的移植助手的了解就更低，只有1.6%。

[![image](https://img2022.cnblogs.com/blog/510/202203/510-20220317085057624-1574898653.png "image")](https://img2022.cnblogs.com/blog/510/202203/510-20220317085057217-1956350497.png)

正好微软在2月份发布了将旧的 ASP.NET 应用程序迁移到新版本的 ASP.NET Core 的指南，新的指南解决了迁移所需的"大笔投资"，提供了一些代码共享技巧，可以使这项工作变得更容易。微软.NET 团队3 月 2 日的一[篇博客文章](https://devblogs.microsoft.com/dotnet/sharing-code-between-aspnet-and-aspnetcore/)说 ”今天我们将分享如何加速向 ASP.NET Core 的迁移。您今天可以进行一些细微的更改，以便明天更轻松地迁移到 ASP.NET Core。“， 中文翻译文章：[【译】在 ASP.NET 和 ASP.NET Core 之间共享代码](https://www.cnblogs.com/MingsonZheng/p/15966106.html) 。

这些更改是在一个已有 10 年历史的 MVC Music Store 应用的上下文中进行的。如何修改一个有 10 年历史的应用程序中的代码，以便它可以与 ASP.NET Core 共享。

[![MvcMusicStore](https://img2022.cnblogs.com/blog/510/202203/510-20220317085058709-386716834.png "MvcMusicStore")](https://img2022.cnblogs.com/blog/510/202203/510-20220317085058220-1263154073.png)

文章里介绍了共享代码的能力还包括 CSS、JavaScript 和图像等静态内容。现在，您可以逐步在您的 Web 应用程序中构建灵活性，以使您更轻松地迁移到 ASP.NET Core。可以从文档《[从 ASP.NET 迁移到 ASP.NET Core](https://docs.microsoft.com/zh-cn/aspnet/core/migration/proper-to-2x/?view=aspnetcore-6.0)》文档里面找到，对于那些计划开始进行 ASP.NET Core 迁移的人，我们将分享一些更多技巧。

*   升级您的 NuGet 包，以便您可以使用 netstandard。
*   将您的类库更改为 netstandard，以便您可以在 ASP.NET 和 ASP.NET Core 之间共享代码。
*   在您的类库构建接口中查找对 System.Web 的引用替换它们。使用依赖注入，以便您可以轻松地在 ASP.NET 和 ASP.NET Core 功能之间切换。

如果您想要更详细的指导来迁移整个 ShoppingCartController.cs，您可以在 [MvcMusicStoreMigration](https://github.com/davidfowl/IISCrossover/blob/master/MvcMusicStoreMigration.md) 上使用示例进行完整的演练。该演练还将演示如何从同一个 IIS 应用程序池运行 ASP.NET 和 ASP.NET Core，以一次增量地迁移 Web 应用程序一个控制器。

欢迎大家扫描下面二维码成为我的客户，为你服务和上云

![](https://images.cnblogs.com/cnblogs_com/shanyou/57459/o_220125090408_%E9%82%80%E8%AF%B7%E4%BA%8C%E7%BB%B4%E7%A0%81-258px.jpeg)