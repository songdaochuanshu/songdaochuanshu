---
layout: post
title: "k8sé›†ç¾¤Jobè´Ÿè½½ æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ"
date: "2022-03-18T08:48:34.379Z"
---
k8sé›†ç¾¤Jobè´Ÿè½½ æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ
----------------------------------------------

![k8sé›†ç¾¤Jobè´Ÿè½½ æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ](https://img2022.cnblogs.com/blog/2380630/202203/2380630-20220318134220056-1379029864.png) é¢è¯•å®˜ï¼šâ€œJob æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿâ€ é¢è¯•å®˜ï¼šâ€œJobæ§åˆ¶å¹¶è¡Œäº†è§£å—ï¼Ÿä¸ºä»€ä¹ˆçº¿ä¸Šå®é™…å¹¶è¡Œæ€§å¯èƒ½æ¯”å¹¶è¡Œæ€§è¯·æ±‚ç•¥å¤§æˆ–ç•¥å°ï¼Ÿâ€

### k8sçš„Jobè´Ÿè½½ æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ

    ç®€å•èŠèŠä½ å¯¹å·¥ä½œè´Ÿè½½Jobçš„ç†è§£ï¼Ÿ
    

    Job æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ
    

    Jobæ§åˆ¶å¹¶è¡Œäº†è§£å—ï¼Ÿä¸ºä»€ä¹ˆçº¿ä¸Šå®é™…å¹¶è¡Œæ€§å¯èƒ½æ¯”å¹¶è¡Œæ€§è¯·æ±‚ç•¥å¤§æˆ–ç•¥å°ï¼Ÿ
    

![](https://img-blog.csdnimg.cn/img_convert/b9e8202e02613eb00ac3a7a6aa3e707f.gif)

### å›§ä¹ˆè‚¥äº‹-èƒ¡è¯´å…«é“

![](https://img-blog.csdnimg.cn/img_convert/3e5829c3ee57651fbcf98cb2d528187e.png)

![](https://img-blog.csdnimg.cn/img_convert/b98416f4d48c4c9d41b43834dd699265.png)

### ç®€å•èŠèŠä½ å¯¹å·¥ä½œè´Ÿè½½Jobçš„ç†è§£ï¼Ÿ

**åœ¨è¯´å·¥ä½œè´Ÿè½½Jobæ‰§è¡ŒåŸç†ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸‹ä¸ºä»€ä¹ˆä¼šéœ€è¦Jobè´Ÿè½½ï¼Ÿ**

å¯¹äº`ReplicaSet`ã€`ReplicationController`ç­‰**æŒä¹…æ€§è´Ÿè½½**æ¥è¯´ï¼Œå®ƒä»¬çš„èŒè´£æ˜¯è®©Podä¿å­˜é¢„æœŸçš„å‰¯æœ¬æ•°é‡ï¼Œç¨³å®šæŒä¹…è¿è¡Œã€‚

é™¤éä¸»åŠ¨å»æ›´æ”¹æ¨¡æ¿ï¼Œè¿›è¡Œæ‰©ç¼©æ“ä½œï¼Œå¦åˆ™è¿™äº›Podä¸€ç›´æŒä¹…è¿è¡Œï¼Œå¹¶ä¸”**è¿è¡Œçš„æ˜¯æŒä¹…æ€§ä»»åŠ¡**ï¼Œæ¯”å¦‚`Nginxï¼ŒMySQL`ç­‰ã€‚

å’¦ï¼Ÿ**æŒä¹…ä»»åŠ¡**ï¼Œé‚£ä¹ˆä¸‡äº‹ä¸‡ç‰©æœ‰ç›¸å¯¹é¢ï¼Œå¤ªæåˆ†é˜´é˜³ï¼ŒåŒæ ·ï¼Œä»»åŠ¡é™¤äº†æŒä¹…ä»»åŠ¡å¤–ï¼Œä¹Ÿæœ‰éæŒä¹…ä»»åŠ¡ã€‚

**èº«è¾¹å“ªäº›æ˜¯éæŒä¹…ä»»åŠ¡å‘¢ï¼Ÿ**

æˆ‘ä»¬åœ¨æ—¥å¸¸çš„å·¥ä½œä¸­ç»å¸¸éƒ½ä¼šé‡åˆ°ä¸€äº›éœ€è¦è¿›è¡Œ**æ‰¹é‡æ•°æ®å¤„ç†å’Œåˆ†æã€æˆ–è€…æ˜¯æ ¹æ®æ—¶é—´è°ƒåº¦çš„éœ€æ±‚**ï¼Œè¿™äº›å±äº**çŸ­æœŸæ€§è´¨çš„ä»»åŠ¡**ã€‚ä¸éœ€è¦æŒä¹…è¿è¡Œï¼Œä»…æ‰§è¡Œä¸€æ¬¡å°±ç»“æŸã€‚ä¾‹å¦‚è¿›è¡Œ**æ•°æ®åº“è·¨åº“åŒæ­¥ï¼Œçƒ­ç‚¹æ•°æ®ç»Ÿè®¡åˆ†æ**ç­‰ã€‚ä¹Ÿå¯ä»¥åœ¨ç‰¹å®šæ—¶é—´è°ƒåº¦å•ä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ä½ æƒ³è°ƒåº¦ä½æ´»è·ƒå‘¨æœŸçš„ä»»åŠ¡ã€‚

è¿™äº›æ‰§è¡Œå®Œæˆå°±ç»“æŸï¼Œå®Œæˆäº†æˆ‘ä»¬**è®¾å®šçš„æŸä¸ªç›®æ ‡å°±å¯ä»¥ç»ˆæ­¢çš„**ï¼Œæˆ‘ä»¬åˆ’åˆ†ä¸ºéæŒä¹…ä»»åŠ¡ã€‚

å¥½äº†ï¼Œæ—¢ç„¶çŸ¥é“äº†ä»»åŠ¡åˆ’åˆ†ï¼Œè€Œä¸”k8sä¸­`ReplicaSet`ã€`ReplicationController`ç­‰**æŒä¹…æ€§è´Ÿè½½**æ˜¯ä¿è¯Podç¨³å®šæŒä¹…è¿è¡Œï¼Œé‚£ä¹ˆå¯¹ç«‹çš„ï¼ŒJobè´Ÿè½½çš„èŒè´£å°±æ˜¯**ä¿è¯éæŒä¹…ä»»åŠ¡åœ¨ç”Ÿå‘½å‘¨æœŸå†…è¾¾æˆä½¿å‘½åä½“é¢ç»ˆæ­¢**ã€‚

éœ€è¦Jobè´Ÿè½½ï¼Œå…¶å®å°±æ˜¯å¯¹æŒä¹…æ€§è´Ÿè½½çš„è¡¥å……ã€‚

ç®€å•æ¥è¯´ï¼šâ€œPodï¼Œä½ å»å®Œæˆä½ çš„ä»»åŠ¡ï¼Œå®Œæˆä¹‹åæˆ‘ç»™ä½ ä¸ªä½“é¢çš„ç»“æŸâ€ã€‚

**æ˜™èŠ±ä¸€ç°**è¿™ä¸ªæˆè¯­å½¢å®¹Jobè´Ÿè½½ç®¡ç†çš„Podéå¸¸åˆé€‚ã€‚æ˜™èŠ±çš„ç›®æ ‡æ˜¯ç»½æ”¾ï¼Œç»½æ”¾å®Œæ¯•åç«‹åˆ»å‡‹é›¶ã€‚Job Pod å®Œæˆä»»åŠ¡ï¼Œç»ˆç»“ï¼Œåˆšåˆšå¥½ğŸ˜‚ã€‚

![](https://img-blog.csdnimg.cn/img_convert/e5d676e73fbd4f2ee6358fc1fd1044ff.gif)

**æ¥ä¸‹æ¥è¯´è¯´Jobè´Ÿè½½å·¥ä½œåŸç†**

Job è´Ÿè½½ä¼šåˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ª Podsï¼Œæ‰§è¡Œç›®æ ‡ä»»åŠ¡ï¼Œåœ¨èŠ‚ç‚¹ç¡¬ä»¶å¤±æ•ˆæˆ–è€…é‡å¯æƒ…å†µä¸‹å°†ç»§ç»­é‡è¯• Pods çš„æ‰§è¡Œï¼Œç›´åˆ°æŒ‡å®šæ•°é‡çš„ Pods æˆåŠŸç»ˆæ­¢ã€‚

éšç€ Pods æˆåŠŸç»“æŸï¼ŒJob è·Ÿè¸ªè®°å½•æˆåŠŸå®Œæˆçš„ Pods ä¸ªæ•°ã€‚ å½“æ•°é‡è¾¾åˆ°æŒ‡å®šçš„æˆåŠŸä¸ªæ•°é˜ˆå€¼æ—¶ï¼Œä»»åŠ¡ï¼ˆå³ Jobï¼‰ç»“æŸã€‚

åˆ é™¤ Job çš„æ“ä½œä¼šæ¸…é™¤æ‰€åˆ›å»ºçš„å…¨éƒ¨ Podsã€‚

æŒ‚èµ· Job çš„æ“ä½œä¼šåˆ é™¤ Job çš„æ‰€æœ‰æ´»è·ƒ Podï¼Œç›´åˆ° Job è¢«å†æ¬¡æ¢å¤æ‰§è¡Œã€‚

### Job æ”¯æŒå¤šä¸ª Pod å¯é çš„å¹¶å‘æ‰§è¡Œï¼Œå¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ

**å¹¶è¡Œè®¡ç®—çš„æ¨¡å¼æœ‰å¥½å¤šç§ï¼Œæ¯ç§éƒ½æœ‰è‡ªå·±çš„å¼ºé¡¹å’Œå¼±ç‚¹ï¼Œå¦‚ä½•æƒè¡¡é€‰æ‹©ï¼Ÿ**

è®²ä¸ªå°æ•…äº‹ï¼Œä½ æ˜¯å›¢é˜Ÿç»„é•¿ï¼Œæ‰‹åº•ä¸‹æœ‰ä¸‰ä¸ªå¾—åŠ›åŠ©æ‰‹ï¼Œå›§å›§ï¼Œå¤§è‚¥ï¼Œé˜¿ä¸‰ã€‚

æŸå¤©ï¼Œæœ‰ä¸ªé‡è¦çš„é¡¹ç›®éœ€è¦æ´¾é£ä¸€ä½åŠ©æ‰‹å»æ´½è°ˆï¼Œä½ éœ€è¦ä»ä¸­é€‰æ‹©ä¸€ä½ï¼Œä»–ä»¬ä¸‰ä¸ªå„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä½ éœ€è¦æƒè¡¡åˆ©å¼Šé€‰æ‹©ä¸€ä½ã€‚

å›§å›§ï¼Œä¼˜ç‚¹ï¼šå·¥ä½œè´Ÿè´£ï¼ŒæŠ€èƒ½çº¯ç†Ÿï¼ŒæŠ€æœ¯å‹äººæ‰ï¼Œç¼ºç‚¹ï¼Œå†…å‘

å¤§è‚¥ï¼Œä¼˜ç‚¹ï¼šå·¥ä½œä¹…ï¼Œç»éªŒä¸°å¯Œï¼Œä¸ºäººåœ†æ»‘ï¼Œç»éªŒå‹äººæ‰ï¼Œç¼ºç‚¹ï¼šå¤ªå‚²å¨‡

é˜¿ä¸‰ï¼Œä¼˜ç‚¹ï¼šç¤¾äº¤èƒ½åŠ›å¼ºï¼Œèƒ½è¯´ä¼šé“ï¼Œç¤¾äº¤å¤©èŠ±æ¿å‹äººæ‰ï¼Œç¼ºç‚¹ï¼šæŠ€èƒ½ç›¸å¯¹å·®äº›

å¦‚æœä½ ä½œä¸ºç»„é•¿ï¼Œè¿™æ¬¡æ˜¯è·Ÿå®¢æˆ·æ´½è°ˆåˆä½œäº‹å®œï¼Œä½ ä¼šæ´¾é£å“ªä½å°å¯çˆ±å‘¢ï¼ŸğŸ˜ğŸ˜ğŸ˜

å¥½äº†ï¼Œè¯´å®Œå°æ•…äº‹ï¼Œæ¥ä¸‹æ¥è¯é¢˜å›åˆ°Jobè´Ÿè½½ã€‚

Kubernetes Job å¯ä»¥ç”¨æ¥æ”¯æŒ Pod çš„å¹¶å‘æ‰§è¡Œï¼Œä½†æ˜¯å‘¢ï¼Ÿéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJob å¯¹è±¡å¹¶éè®¾è®¡ä¸ºæ”¯æŒéœ€è¦ç´§å¯†ç›¸äº’é€šä¿¡çš„Podçš„å¹¶å‘æ‰§è¡Œï¼Œä¾‹å¦‚ç§‘å­¦è®¡ç®—ã€‚

Job å¯¹è±¡æ”¯æŒ**å¹¶å‘å¤„ç†ä¸€ç³»åˆ—ç›¸äº’ç‹¬ç«‹ä½†æ˜¯åˆç›¸äº’å…³è”çš„å·¥ä½œä»»åŠ¡**ï¼Œä¾‹å¦‚ï¼šæ–‡ä»¶è½¬ç ï¼Œå‘é€é‚®ä»¶ï¼Œæ¸²æŸ“è§†é¢‘å¸§ç­‰

**å»¶ä¼¸ï¼šJobæœ‰ä¸‰ç§æ‰§è¡Œæ–¹å¼ï¼Œèƒ½ç®€å•è¯´è¯´æ˜¯ä»€ä¹ˆå—ï¼Ÿ**

    ç¬¬ä¸€ç§ï¼šéå¹¶è¡ŒJob
    

**ç‰¹ç‚¹**ğŸ˜ˆ

é€šå¸¸åªå¯åŠ¨ä¸€ä¸ª Podï¼Œé™¤éè¯¥ Pod å¤±è´¥ï¼Œä¼šå¯åŠ¨æ›¿ä»£å‰¯æœ¬ï¼Œå½“ Pod æˆåŠŸç»ˆæ­¢æ—¶ï¼Œç«‹å³è§† Job ä¸ºå®ŒæˆçŠ¶æ€ã€‚

ç®€å•ç†è§£éå¹¶è¡ŒJobï¼ŒJobå¯åŠ¨åï¼Œåªè¿è¡Œä¸€ä¸ªPodï¼ŒPodæˆåŠŸè¿è¡Œç»“æŸåæ•´ä¸ªJobä¹Ÿå°±ç«‹åˆ»ç»“æŸ

å¯ä»¥ä¸è®¾ç½® `spec.completions` å’Œ `spec.parallelism`ã€‚ è¿™ä¸¤ä¸ªå±æ€§éƒ½ä¸è®¾ç½®æ—¶ï¼Œå‡å–é»˜è®¤å€¼ 1ã€‚

    ç¬¬äºŒç§ï¼šå…·æœ‰ç¡®å®šå®Œæˆè®¡æ•°çš„å¹¶è¡ŒJob
    

**ç‰¹ç‚¹**ğŸ˜ˆ

Job ç”¨æ¥ä»£è¡¨æ•´ä¸ªä»»åŠ¡ï¼Œå½“æˆåŠŸçš„ Pod ä¸ªæ•°è¾¾åˆ° `.spec.completions` æ—¶ï¼ŒJob è¢«è§†ä¸ºå®Œæˆ

å¯¹äº _ç¡®å®šå®Œæˆè®¡æ•°_ ç±»å‹çš„ Jobï¼Œåº”è¯¥è®¾ç½® `.spec.completions` ä¸º**æ‰€éœ€è¦çš„å®Œæˆä¸ªæ•°**ï¼Œ`.spec.completions` å­—æ®µè®¾ç½®ä¸ºé 0 çš„æ­£æ•°å€¼ï¼Œ ä½ å¯ä»¥è®¾ç½® `.spec.parallelism`ï¼Œä¹Ÿå¯ä»¥ä¸è®¾ç½®ï¼Œå…¶é»˜è®¤å€¼ä¸º 1ã€‚

    ç¬¬ä¸‰ç§ï¼šå¸¦å·¥ä½œé˜Ÿåˆ—çš„å¹¶è¡ŒJob
    

**ç‰¹ç‚¹**ğŸ˜ˆ

å¤šä¸ª Pod ä¹‹é—´å¿…é¡»**ç›¸äº’åè°ƒ**ï¼Œæˆ–è€…å€ŸåŠ©å¤–éƒ¨æœåŠ¡**ç¡®å®šæ¯ä¸ª Pod è¦å¤„ç†å“ªä¸ªå·¥ä½œæ¡ç›®**

å¯¹äºä¸€ä¸ªå·¥ä½œé˜Ÿåˆ— Jobï¼Œä¸è®¾ç½® `spec.completions`ï¼Œé»˜è®¤å€¼ä¸º `.spec.parallelism`ï¼Œä½†è¦å°†`.spec.parallelism` è®¾ç½®ä¸ºä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚

    ä¾‹å¦‚ï¼Œä»»ä¸€ Pod éƒ½å¯ä»¥ä»å·¥ä½œé˜Ÿåˆ—ä¸­å–èµ°æœ€å¤š N ä¸ªå·¥ä½œæ¡ç›®
    æ¯ä¸ª Pod éƒ½å¯ä»¥ç‹¬ç«‹ç¡®å®šå…¶å®ƒ Pod æ˜¯å¦å·²å®Œæˆï¼Œè¿›è€Œç¡®å®š Job æ˜¯å¦å®Œæˆ
    
    å½“æ„ŸçŸ¥åˆ° Job ä¸­ä»»ä½•ä¸€ä¸ªPodæˆåŠŸç»ˆæ­¢ï¼ŒJobè´Ÿè½½ä¸å†åˆ›å»ºæ–°Pod
    ä¸€æ—¦è‡³å°‘ 1 ä¸ª Pod æˆåŠŸå®Œæˆï¼Œå¹¶ä¸”æ‰€æœ‰ Pod éƒ½å·²ç»ˆæ­¢ï¼Œå³å¯å®£å‘Š Job æˆåŠŸå®Œæˆ
    ä¸€æ—¦ä»»ä½• Pod æˆåŠŸé€€å‡ºï¼Œä»»ä½•å…¶å®ƒ Pod éƒ½ä¸åº”å†å¯¹æ­¤ä»»åŠ¡æ‰§è¡Œä»»ä½•æ“ä½œæˆ–ç”Ÿæˆä»»ä½•è¾“å‡ºï¼Œæ‰€æœ‰ Pod éƒ½åº”å¯åŠ¨é€€å‡ºè¿‡ç¨‹
    

äº†è§£å®ŒJobå¸¸è§„æ‰§è¡Œæ–¹å¼ï¼Œä¸‹é¢å›å½’æ­£é¢˜ï¼Œ**å¦‚ä½•æƒè¡¡åˆ©å¼Šé€‰æ‹©é€‚åˆçš„å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Ÿ**

å…ˆçœ‹çœ‹å¸¸è§å¹¶è¡Œæ¨¡å¼æ–¹æ¡ˆ

**ç¬¬ä¸€ç§æ¨¡å¼ï¼Œä»Jobè´Ÿè½½çš„è§’åº¦å¯¹æ¯”è€ƒè™‘**

å•å¯¹å•

    æ¯ä¸ªå·¥ä½œä»»åŠ¡åˆ†é…ä¸€ä¸ªJobè´Ÿè½½
    

å•å¯¹å¤š

    ä¸€ä¸ªJobè´Ÿè½½è´Ÿè´£æ‰€æœ‰å·¥ä½œä»»åŠ¡
    

> å¯¹æ¯”ç»“æœï¼š
> 
> å•å¯¹å•ï¼Œæ¯ä¸ªå·¥ä½œä»»åŠ¡ä¸€ä¸ª Job å¯¹è±¡ï¼Œå¯ä»¥ä¸“æ³¨ä»»åŠ¡ï¼Œä½†æ˜¯ä¼šç»™ç”¨æˆ·å¸¦æ¥ä¸€äº›é¢å¤–çš„è´Ÿæ‹…ï¼Œç³»ç»Ÿéœ€è¦ç®¡ç†å¤§é‡çš„ Job å¯¹è±¡ï¼›
> 
> å•å¯¹å¤šï¼Œæ¯ä¸ªå·¥ä½œä»»åŠ¡ä¸€ä¸ª Job å¯¹è±¡ï¼Œæ›´é€‚åˆå¤„ç†å¤§é‡å·¥ä½œä»»åŠ¡çš„åœºæ™¯ï¼ŒèŠ‚çº¦å¼€é”€ï¼›

**ç¬¬äºŒç§æ¨¡å¼ï¼Œä»Podæ•°é‡å¯¹æ¯”è€ƒè™‘**

å•å¯¹å•

    åˆ›å»ºä¸å·¥ä½œä»»åŠ¡ç›¸ç­‰çš„Pod
    

å•å¯¹å¤š

    æ¯ä¸ªPodå¯ä»¥å¤„ç†å¤šä¸ªå·¥ä½œä»»åŠ¡
    

> å¯¹æ¯”ç»“æœ
> 
> å•å¯¹å•ï¼ŒPodçš„æ•°é‡ä¸å·¥ä½œä»»åŠ¡çš„æ•°é‡ç›¸ç­‰ï¼Œé€šå¸¸ä¸éœ€è¦å¯¹ç°æœ‰ä»£ç å’Œå®¹å™¨åšè¾ƒå¤§æ”¹åŠ¨ï¼›
> 
> å•å¯¹å¤šï¼Œæ¯ä¸ªPodå¯ä»¥å¤„ç†å¤šä¸ªå·¥ä½œä»»åŠ¡ï¼Œæ›´é€‚åˆå¤„ç†å¤§é‡å·¥ä½œä»»åŠ¡çš„åœºæ™¯ï¼ŒèŠ‚çº¦å¼€é”€ï¼›

**ç¬¬ä¸‰ç§æ¨¡å¼ï¼Œç»“åˆé˜Ÿåˆ—æœåŠ¡**

> éœ€è¦è¿è¡Œä¸€ä¸ªé˜Ÿåˆ—æœåŠ¡
> 
> éœ€è¦å¯¹å·²æœ‰çš„ç¨‹åºæˆ–è€…å®¹å™¨åšä¿®æ”¹ï¼Œä»¥ä¾¿å…¶å¯ä»¥é…åˆé˜Ÿåˆ—å·¥ä½œ
> 
> å¦‚æœæ˜¯ä¸€ä¸ªå·²æœ‰çš„ç¨‹åºï¼Œæ”¹é€ æ—¶å¯èƒ½å­˜åœ¨éš¾åº¦
> 
> ä¸ä¹‹æ¯”è¾ƒï¼Œå…¶ä»–æ–¹æ¡ˆåœ¨ä¿®æ”¹ç°æœ‰å®¹å™¨åŒ–åº”ç”¨ä»¥é€‚åº”éœ€æ±‚æ–¹é¢å¯èƒ½æ›´å®¹æ˜“ä¸€äº›

![](https://img-blog.csdnimg.cn/img_convert/95fb867bd55fbff4f94fddc963db2a60.gif)

æ€»ç»“ï¼šé€šè¿‡ä¸‰ç§æ¨¡å¼çš„ç®€å•å¯¹æ¯”ï¼Œé¦–å…ˆåœ¨åˆ†é…Jobä¸ªæ•°çš„æ—¶å€™ï¼Œå¦‚æœè€ƒè™‘åˆ°ä»»åŠ¡é‡è¾ƒå°ï¼Œè€Œä¸”éœ€è¦ä¸“æ³¨äºæ¯ä¸ªä»»åŠ¡çš„è¿›è¡Œï¼Œé‚£ä¹ˆé€‰æ‹©å•Jobï¼Œå¦‚æœä»»åŠ¡é‡è¾ƒå¤šï¼Œè€ƒè™‘èŠ‚çº¦èµ„æºçš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©ä½¿ç”¨ä¸€ä¸ªJobæ¥å¤„ç†å¤§é‡ä»»åŠ¡ã€‚ä»Podå±‚æ¬¡è€ƒè™‘ï¼Œåˆ™è¦å¤š**åˆ†æä¸€ä¸‹ç°æœ‰åº”ç”¨çš„ä»£ç æ”¹åŠ¨æˆæœ¬å’Œå®¹å™¨çš„æ”¹é€ æˆæœ¬**ï¼Œå¦‚æœæ”¹åŠ¨è¾ƒå¤§ï¼Œä»»åŠ¡æ•°é‡è¿˜èƒ½æ¥æ”¶çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆå»ºè®®é€‰æ‹©å•å¯¹å•ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡åˆ†é…ä¸€ä¸ªPodå³å¯ï¼Œä»»åŠ¡æ‰§è¡Œå®Œæ¯•èµ„æºå›æ”¶ã€‚ä½†æ˜¯å¦‚æœ**ä»»åŠ¡é‡å·¨å¤§ï¼Œåœ¨çŸ­æœŸè¦æ±‚å®Œæˆï¼Œèµ„æºå‚¨å¤‡é‡æœ‰é™çš„æƒ…å†µä¸‹ï¼Œå»ºè®®å•å¯¹å¤š**ï¼Œæ¯ä¸ªPodå¤„ç†å¤šä¸ªä»»åŠ¡ã€‚

è‡³äºç»“åˆé˜Ÿåˆ—æœåŠ¡ï¼Œé€šå¸¸å¯¹ç°æœ‰ç¨‹åºçš„æ”¹åŠ¨é‡è¾ƒå¤§ï¼Œè€Œä¸”é˜Ÿåˆ—æ¶ˆè´¹åˆ†é…ä¸Šéœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå æ¯”è€ƒè™‘ï¼Œæ˜¯å¦å­˜åœ¨é¡ºåºæ¶ˆè´¹é—®é¢˜ï¼Œæ˜¯å¦å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ç­‰ç­‰ï¼Œéç‰¹æ®Šä¸šåŠ¡éœ€è¦ï¼Œå»ºè®®ä¸è½»æ˜“è€ƒè™‘ï¼Œæˆæœ¬è¾ƒé«˜ï¼ˆæ—¶é—´ï¼Œå·¥ä½œé‡ï¼Œæ”¹é€ éš¾åº¦ï¼Œèµ„æºåˆ†é…ç­‰ç­‰ç»¼åˆéƒ½è¾ƒé«˜ï¼‰ã€‚

### Jobæ§åˆ¶å¹¶è¡Œäº†è§£å—ï¼Ÿä¸ºä»€ä¹ˆçº¿ä¸Šå®é™…å¹¶è¡Œæ€§å¯èƒ½æ¯”å¹¶è¡Œæ€§è¯·æ±‚ç•¥å¤§æˆ–ç•¥å°ï¼Ÿ

> Jobå¹¶è¡Œæ€§ï¼šæŒ‡å®šæ˜¯åŒä¸€æ—¶åˆ»å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå¤„ç†ä»»åŠ¡çš„ Pods ä¸ªæ•°ã€‚

å¹¶è¡Œæ€§è¯·æ±‚ï¼ˆ`.spec.parallelism`ï¼‰å¯ä»¥è®¾ç½®ä¸ºä»»ä½•éè´Ÿæ•´æ•°ã€‚

    å¦‚æœæœªè®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸º 1ã€‚ 
    
    å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ Job ç›¸å½“äºå¯åŠ¨ä¹‹åä¾¿è¢«æš‚åœï¼Œç›´åˆ°è®¾ç½®>0
    

å®é™…å¹¶è¡Œæ€§ï¼ˆåœ¨ä»»æ„æ—¶åˆ»è¿è¡ŒçŠ¶æ€çš„ Pods ä¸ªæ•°ï¼‰å¯èƒ½æ¯”å¹¶è¡Œæ€§è¯·æ±‚ç•¥å¤§æˆ–ç•¥å°ï¼Œ åŸå› å¦‚ä¸‹ï¼š

*   å¯¹äºç¡®å®šå®Œæˆè®¡æ•° Jobï¼Œ**å®é™…ä¸Šå¹¶è¡Œæ‰§è¡Œçš„ Pods ä¸ªæ•°ä¸ä¼šè¶…å‡ºå‰©ä½™æœªå®Œæˆçš„ä»»åŠ¡æ•°**ã€‚
*   å¯¹äº _å·¥ä½œé˜Ÿåˆ—_ Jobï¼Œæœ‰ä»»ä½• Job æˆåŠŸç»“æŸä¹‹åï¼Œä¸ä¼šå†æœ‰æ–°çš„ Pod å¯åŠ¨ã€‚ ä¸è¿‡ï¼Œå‰©ä¸‹çš„ Pods ä¼šç»§ç»­æ‰§è¡Œå®Œæ¯•ã€‚
*   Job æ§åˆ¶å™¨æ²¡æœ‰æ¥å¾—åŠä½œå‡ºå“åº”ï¼Œ Pods ä¸ªæ•°å¯èƒ½æ¯”è¯·æ±‚çš„æ•°ç›®å¤§ï¼Œä¹Ÿå¯èƒ½å°ã€‚
*   Job æ§åˆ¶å™¨å› ä¸ºä»»ä½•åŸå› ï¼ˆä¾‹å¦‚ï¼Œç¼ºå°‘ `ResourceQuota` æˆ–è€…æ²¡æœ‰æƒé™ï¼‰æ— æ³•åˆ›å»º Podsã€‚
*   Job æ§åˆ¶å™¨å¯èƒ½ä¼šå› ä¸ºä¹‹å‰**åŒ ä¸€ Job ä¸­ Pod å¤±æ•ˆæ¬¡æ•°è¿‡å¤šè€Œå‹åˆ¶æ–° Pod çš„åˆ›å»º**ã€‚
*   å½“ Pod å¤„äºä½“é¢ç»ˆæ­¢è¿›ç¨‹ä¸­ï¼Œéœ€è¦ä¸€å®šæ—¶é—´æ‰èƒ½åœæ­¢ã€‚

![](https://img-blog.csdnimg.cn/img_convert/477a68dfe25731a86061e9ba62231dcc.gif)

**Kubernetes æ¨èå­¦ä¹ ä¹¦**

> Kubernetesæƒå¨æŒ‡å—PDF  
> é“¾æ¥:[https://pan.baidu.com/s/11huLHJkCeIPZqSyLEoUEmQ](https://pan.baidu.com/s/11huLHJkCeIPZqSyLEoUEmQ) æå–ç :sa88

k8sç³»åˆ—æ‰€æœ‰é—®é¢˜æ›´æ–°è®°å½•ï¼š\[GitHub\](

posted on 2022-03-18 13:43Â  [å›§ä¹ˆè‚¥äº‹](https://www.cnblogs.com/jiongmefeishi/)Â  é˜…è¯»(76)Â  è¯„è®º(0)Â  [ç¼–è¾‘](https://i.cnblogs.com/EditPosts.aspx?postid=16021433)Â  [æ”¶è—](javascript:void(0))Â  [ä¸¾æŠ¥](javascript:void(0))