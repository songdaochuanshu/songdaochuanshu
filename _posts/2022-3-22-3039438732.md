---
layout: post
title: "Three.js ç«ç„°æ•ˆæœå®ç°è‰¾å°”ç™»æ³•ç¯åŠ¨æ€logo ğŸ”¥"
date: "2022-03-22T01:18:53.404Z"
---
Three.js ç«ç„°æ•ˆæœå®ç°è‰¾å°”ç™»æ³•ç¯åŠ¨æ€logo ğŸ”¥
=============================

![Three.js ç«ç„°æ•ˆæœå®ç°è‰¾å°”ç™»æ³•ç¯åŠ¨æ€logo &#128293;](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322091040191-586982725.png) ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹æ˜¯æœ€è¿‘æ¯”è¾ƒç«çš„ä¸€æ¬¾æ¸¸æˆï¼Œè§‚å¯Ÿå¯ä»¥å‘ç°å®ƒçš„ Logo æ˜¯ç”±å‡ ä¸ªåœ†å¼§å’Œçº¿æ®µæ„æˆã€‚æœ¬æ–‡ä½¿ç”¨ React + Three.js æŠ€æœ¯æ ˆï¼Œå®ç°å…·æœ‰ç«ç„°æ•ˆæœè‰¾å°”ç™»æ³•ç¯ Logoï¼Œæœ¬æ–‡ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹åŒ…æ‹¬ï¼šFire.js åŸºæœ¬ä½¿ç”¨æ–¹æ³•åŠ Three.js çš„å…¶ä»–åŸºç¡€çŸ¥è¯†ã€‚

![](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322090656445-1592375692.gif)

> å£°æ˜ï¼šæœ¬æ–‡æ¶‰åŠå›¾æ–‡å’Œæ¨¡å‹ç´ æä»…ç”¨äºä¸ªäººå­¦ä¹ ã€ç ”ç©¶å’Œæ¬£èµï¼Œè¯·å‹¿äºŒæ¬¡ä¿®æ”¹ã€éæ³•ä¼ æ’­ã€è½¬è½½ã€å‡ºç‰ˆã€å•†ç”¨ã€åŠè¿›è¡Œå…¶ä»–è·åˆ©è¡Œä¸ºã€‚

èƒŒæ™¯
--

ã€Šè‰¾å°”ç™»æ³•ç¯ã€‹æ˜¯æœ€è¿‘æ¯”è¾ƒç«çš„ä¸€æ¬¾æ¸¸æˆï¼Œè§‚å¯Ÿå¯ä»¥å‘ç°å®ƒçš„ `Logo` æ˜¯ç”±å‡ ä¸ªåœ†å¼§å’Œçº¿æ®µæ„æˆã€‚æœ¬æ–‡ä½¿ç”¨ `React + Three.js` æŠ€æœ¯æ ˆï¼Œå®ç°å…·æœ‰ç«ç„°æ•ˆæœè‰¾å°”ç™»æ³•ç¯ `Logo`ï¼Œæœ¬æ–‡ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹åŒ…æ‹¬ï¼š`Fire.js` åŸºæœ¬ä½¿ç”¨æ–¹æ³•åŠ `Three.js` çš„å…¶ä»–åŸºç¡€çŸ¥è¯†ã€‚

æ•ˆæœ
--

å®ç°æ•ˆæœå¦‚ `ğŸ‘†` `banner` å›¾æ‰€ç¤ºï¼Œé¡µé¢ä¸»ä½“ç”± `Logo` å›¾å½¢æ„æˆï¼Œ`Logo` å…·æœ‰ç”±è¿œåŠè¿‘çš„åŠ è½½æ•ˆæœï¼ŒåŠ è½½å®Œæ¯•åå…·æœ‰ä¸Šä¸‹ç¼“åŠ¨åŠ¨ç”»æ•ˆæœã€‚

![](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322090714684-509792061.png)

**åœ¨çº¿é¢„è§ˆ**ï¼š

*   `ğŸ‘€` åœ°å€1ï¼š[https://3d-dragonir.vercel.app/#/ring](https://3d-dragonir.vercel.app/#/ring)
*   `ğŸ‘€` åœ°å€2ï¼š[https://dragonir.github.io/3d/#/ring](https://dragonir.github.io/3d/#/ring)

å·²é€‚é…:

*   `ğŸ’»` `PC` ç«¯
*   `ğŸ“±` ç§»åŠ¨ç«¯

å®ç°
--

`Logo` çš„ç«ç„°æ•ˆæœä¸»è¦æ˜¯é€šè¿‡ `Fire.js` å®ç°çš„ï¼Œ å¼€å§‹å®ç°ä¹‹å‰å…ˆæ¥äº†è§£ä¸€ä¸‹å®ƒçš„åŸºæœ¬ç”¨æ³•ã€‚

### `ğŸ’¡ Fire.js`

`Threejs` æä¾›äº†ä¸€ä¸ªå¯ä»¥å®ç°ç«ç„°å’ŒçƒŸé›¾æ•ˆæœçš„æ‰©å±•åŒ…ï¼Œé€šè¿‡å¼•ç”¨å¹¶è®¾ç½®å‚æ•°å¯ä»¥å®ç°éå¸¸é€¼çœŸçš„ç«ç„°å’ŒåŒæ¶æ•ˆæœã€‚**ã€ä¸è¿‡è¯¥æ‰©å±•åŒ…å·²ç»ä»æ–°ç‰ˆä¸­ç§»é™¤ã€‘**

**ç«ç„°è®¾ç½®å¯é€‰å±æ€§**ï¼š

*   `color1`ï¼šå†…ç„°é¢œè‰²
*   `color2`ï¼šå¤–ç„°é¢œè‰²
*   `color3`ï¼šçƒŸé›¾é¢œè‰²
*   `colorBias`ï¼šé¢œè‰²åå·®
*   `burnRate`ï¼šç‡ƒçƒ§ç‡
*   `diffuse`ï¼šæ‰©æ•£
*   `viscosity`ï¼šç²˜åº¦
*   `expansion`ï¼šè†¨èƒ€
*   `swirl`ï¼šæ—‹è½¬
*   `drag`ï¼šæ‹–æ‹½
*   `airSpeed`ï¼šç©ºæ°”é€Ÿåº¦
*   `windX`ï¼š`X` è½´é£å‘
*   `windY`ï¼š`Y` è½´é£å‘
*   `speed`ï¼šç«ç„°é€Ÿåº¦
*   `massConservation`ï¼šè´¨é‡å®ˆæ’

**å¸¸ç”¨æ–¹æ³•**ï¼š

*   æ·»åŠ èµ„æºï¼š`addSource(u, v, radius, density, windX, windY)`
*   æ¸…é™¤èµ„æºï¼š`clearSources()`
*   è®¾ç½®è´´å›¾ï¼š`setSourceMap(texture)`

**åŸºæœ¬ç”¨æ³•**ï¼š

é€šè¿‡ç®€å•å‡ æ­¥ï¼šåˆ›å»ºè½½ä½“ã€ä½¿ç”¨Fireæ„é€ å‡½æ•°åˆå§‹åŒ–ã€æ·»åŠ ç«ç„°ã€æ·»åŠ åˆ°åœºæ™¯ç­‰ç®€å•å‡ æ­¥ï¼Œå°±å¯å®ç°ç«ç„°æ•ˆæœã€‚å¯ä»¥åˆ›å»ºå¤šä¸ªç«æºï¼Œå¤šç§ç«ç„°æ•ˆæœä¹Ÿå¯ä»¥å åŠ åˆ°åŒä¸€ä¸ªè½½ä½“ä¸Šã€‚

    const geometry = new THREE.PlaneBufferGeometry(10, 10);
    const fire = new THREE.Fire(geometry,{
      textureWidth: 10,
      textureHeight: 10,
      debug:false
    });
    fire.addSource(0.5, 0.1, 0.1, 1.0, 0.0, 1.0);
    scene.add(fire);
    

**å®ç°æ•ˆæœ**ï¼š

![](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322090737187-929970127.png)

> `ğŸ”—` åœ¨çº¿äº²æ‰‹å°è¯•è°ƒæ•´ç«ç„°å„ç§å‚æ•°æ•ˆæœï¼š[threejs/examples/webgl\_fire.html](https://techbrood.com/threejs/examples/webgl_fire.html)

### èµ„æºå¼•å…¥

å¼•å…¥å¼€å‘æ‰€éœ€çš„çš„æ¨¡å—èµ„æºï¼Œæ³¨æ„ `Three.js` å’Œ `Fire.js` æ˜¯ä»å½“å‰ç›®å½•å¼•å…¥çš„**æ—§ç‰ˆæœ¬**ï¼Œ**æ–°ç‰ˆæœ¬å·²åˆ é™¤** `Fire.js`ã€‚`TWEEN` ç”¨äºå®ç°ç®€å•çš„é•œå¤´è¡¥é—´åŠ¨ç”»ã€`ringTexture` æ˜¯éœ€è¦æ˜¾ç¤ºç«ç„°æ•ˆæœè½®å»“çš„è´´å›¾ã€‚

    import React from 'react';
    import * as THREE from './libs/three.module.js';
    import { Fire } from './libs/Fire.js';
    import { TWEEN } from "three/examples/jsm/libs/tween.module.min.js";
    import ringTexture from './images/ring.png';
    

é¡µé¢ `DOM` ç»“æ„éå¸¸ç®€å•ï¼ŒåªåŒ…å«ä¸€ä¸ªæ¸²æŸ“ `WEBGL` çš„å®¹å™¨ `#container`ã€‚

    <div className='ring_page' id="container"></div>
    

### åœºæ™¯åˆå§‹åŒ–

åˆå§‹åŒ–æ¸²æŸ“åœºæ™¯ã€ç›¸æœºå’Œå…‰æºã€‚ï¼ˆå¦‚è‹¥éœ€è¦è¯¦ç»†äº†è§£è¿™éƒ¨åˆ†çŸ¥è¯†å¯ç¿»é˜…æˆ‘å¾€æœŸçš„æ–‡ç« æˆ–é˜…è¯»å®˜ç½‘æ–‡æ¡£ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ï¼‰

    const container = document.getElementById('container');
    const renderer = new THREE.WebGLRenderer({ antialias: true,  alpha: true });
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);
    renderer.setClearAlpha(0);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 0, 100);
    camera.lookAt(new THREE.Vector3(0, 0, 0));
    const ambientLight = new THREE.AmbientLight(0xffffff, 1);
    scene.add(ambientLight);
    

#### `ğŸ’¡` è®¾ç½®æ¸²æŸ“èƒŒæ™¯é€æ˜åº¦

*   `alpha`ï¼š`canvas` æ˜¯å¦å¼€å¯é€æ˜åº¦ï¼Œé»˜è®¤ä¸º `false`ã€‚
*   `renderer.setClearAlpha(alpha : Float)`ï¼šè®¾ç½® `alpha` é€æ˜åº¦å€¼ï¼Œåˆæ³•å‚æ•°æ˜¯ä¸€ä¸ª `0.0` åˆ° `1.0` ä¹‹é—´çš„æµ®ç‚¹æ•°ã€‚

ä»¥ä¸Šä»£ç ä¸­ï¼Œé€šè¿‡è®¾ç½® `new THREE.WebGLRenderer({ antialias: true, alpha: true })` å’Œ `renderer.setClearAlpha(0)` å¯ä»¥å°† `canvas` èƒŒæ™¯è®¾ç½®ä¸ºé€æ˜ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ `CSS` è®¾ç½®èƒŒæ™¯æ ·å¼ã€‚æœ¬ä¾‹ä¸­çš„èƒŒæ™¯å›¾ç‰‡å°±æ˜¯é€šè¿‡ `CSS` è®¾ç½®çš„ï¼Œè€Œä¸æ˜¯ `Sence.background`ã€‚

> `ğŸŒµ` å½“å¼€å¯ `alpha: true` æ—¶ï¼Œé€æ˜åº¦é»˜è®¤ä¸º `0`ï¼Œå¯ä»¥ä¸ç”¨å†™ `renderer.setClearAlpha(0)`ã€‚

### æ·»åŠ Logoä¸»ä½“

åˆ›å»ºä¸€ä¸ª `PlaneBufferGeometry` å¹³é¢ä½œä¸ºç«ç„° `Logo` è½½ä½“ï¼Œ`Logo` å½¢çŠ¶é€šè¿‡è°ƒç”¨ `setSourceMap` ä½¿ç”¨è´´å›¾ç”Ÿæˆï¼Œç„¶åæ·»åŠ  `Fire.js` çš„å„ç§å‚æ•°ï¼Œè°ƒæ•´å¹³é¢çš„ä½ç½®ï¼Œæœ€åå°†å®ƒæ·»åŠ åˆ°åœºæ™¯ä¸­å³å¯ã€‚

    const ring = new Fire(new THREE.PlaneBufferGeometry(20, 25), {
      textureWidth: 800,
      textureHeight: 1000,
      debug: false,
    });
    ring.setSourceMap(new THREE.TextureLoader().load(ringTexture));
    ring.color1 = new THREE.Color(0xffffff);
    ring.color2 = new THREE.Color(0xf59e00);
    ring.color3 = new THREE.Color(0x08120a);
    ring.colorBias = .6;
    ring.burnRate = 10;
    ring.diffuse = 1;
    ring.viscosity = .5;
    ring.expansion = -1.6;
    ring.swirl = 10;
    ring.drag = 0.4;
    ring.airSpeed = 18;
    ring.windX = 0.1;
    ring.windY = 0.2;
    ring.speed = 100;
    ring.massConservation = false;
    ring.position.y = 4;
    ring.position.z = -6;
    scene.add(ring)
    

![](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322090753428-2046732175.png)

> `ğŸŒµ` `Logo` å½¢çŠ¶ä¹Ÿå¯ç›´æ¥ä½¿ç”¨åœ†ç¯ç­‰å‡ ä½•ä½“æ‹¼æ¥ç”Ÿæˆï¼Œæœ¬æ–‡ä¸ºäº†ç®€å•çœæ—¶å¹¶ä¸”æ›´åŠ é€¼çœŸï¼Œç›´æ¥ä½¿ç”¨äº†è‡ªå·±åœ¨ `Photoshop` ä¸­ç»˜åˆ¶çš„è´´å›¾ã€‚æ³¨æ„è´´å›¾ä¸»ä½“éƒ¨åˆ†å®é™…åº”ç”¨ä¸­è¦ä½¿ç”¨**ç™½è‰²**ï¼Œä¸ºäº†ä¾¿äºå±•ç¤ºæˆ‘æ”¹æˆäº†é»‘è‰²ã€‚

### é¡µé¢ç¼©æ”¾é€‚é…

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }, false);
    

### é•œå¤´è¡¥é—´åŠ¨ç”»

é¡µé¢åˆšå¼€å§‹åŠ è½½å®Œæˆæ—¶ç”±è¿œåŠè¿‘çš„é•œå¤´è¡¥é—´åŠ¨ç”»ã€‚

    const controls = new OrbitControls(camera, renderer.domElement);
    Animations.animateCamera(camera, controls, { x: 0, y: 0, z: 22 }, { x: 0, y: 0, z: 0 }, 2400, () => {
      controls.enabled = false;
    });
    

### é¡µé¢é‡ç»˜åŠ¨ç”»

å›¾æ¡ˆä¸Šçº¿å¾€å¤è¿åŠ¨çš„ç¼“åŠ¨åŠ¨ç”»åŠæ¸²æŸ“æ›´æ–°ã€‚

    let step = 0;
    const animate = () => {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
      stats && stats.update();
      TWEEN && TWEEN.update();
      step += .03;
      ring && (ring.position.y = Math.abs(2.2 + Math.sin(step)));
    }
    

åˆ°è¿™é‡Œï¼Œä¸€ä¸ª**ä½é…ç‰ˆ**çš„è‰¾å°”ç™»æ³•ç¯ `Logo` æ‰€æœ‰æ•ˆæœéƒ½å…¨éƒ¨å®ç°äº† `ğŸ˜‚`ï¼Œå¸Œæœ›éšç€è‡ªå·±å›¾å½¢å­¦æ–¹é¢çŸ¥è¯†çš„ç§¯ç´¯ï¼Œåç»­å¯ä»¥é€šè¿‡ `shader` å®ç°æ›´åŠ ç‚«é…·çš„æ•ˆæœ `ğŸ”¥`ã€‚ å®Œæ•´ä»£ç å¯é€šè¿‡ä¸‹æ–¹é“¾æ¥æŸ¥çœ‹ã€‚

![](https://img2022.cnblogs.com/blog/772544/202203/772544-20220322090815845-268388591.gif)

> `ğŸ”—` å®Œæ•´ä»£ç ï¼š[https://github.com/dragonir/3d/tree/master/src/containers/Ring](https://github.com/dragonir/3d/tree/master/src/containers/Ring)

æ€»ç»“
--

æœ¬æ–‡çŸ¥è¯†ç‚¹ä¸»è¦åŒ…å«çš„çš„æ–°çŸ¥è¯†ï¼š

*   `Fire.js` åŸºæœ¬ä½¿ç”¨
*   è®¾ç½®æ¸²æŸ“èƒŒæ™¯é€æ˜åº¦

> æƒ³äº†è§£åœºæ™¯åˆå§‹åŒ–ã€å…‰ç…§ã€é˜´å½±ã€åŸºç¡€å‡ ä½•ä½“ã€ç½‘æ ¼ã€æè´¨åŠå…¶ä»–**Three.js**çš„ç›¸å…³çŸ¥è¯†ï¼Œå¯é˜…è¯»æˆ‘å¾€æœŸæ–‡ç« ã€‚**è½¬è½½è¯·æ³¨æ˜åŸæ–‡åœ°å€å’Œä½œè€…**ã€‚å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦å¿˜äº†**ä¸€é”®ä¸‰è¿å“¦ ğŸ‘**ã€‚

é™„å½•
--

*   \[1\]. [Three.js å®ç°ç¥å¥‡çš„3Dæ–‡å­—æ‚¬æµ®æ•ˆæœ](https://juejin.cn/post/7072899771819622413)
*   \[2\]. [Three.js å®ç°è®©äºŒç»´å›¾ç‰‡å…·æœ‰3Dæ•ˆæœ](https://juejin.cn/post/7067344398912061454)
*   \[3\]. [Three.js å®ç°2022å†¬å¥¥ä¸»é¢˜3Dè¶£å‘³é¡µé¢ï¼Œå†°å¢©å¢© ğŸ¼](https://juejin.cn/post/7060292943608807460)
*   \[4\]. [Three.js åˆ¶ä½œä¸€ä¸ªä¸“å±3Då¥–ç‰Œ](https://juejin.cn/post/7055079293247815711)
*   \[5\]. [Three.js å®ç°è™å¹´æ˜¥èŠ‚3Dåˆ›æ„é¡µé¢](https://juejin.cn/post/7051745314914435102)
*   \[6\]. [Three.js å®ç°è„¸ä¹¦å…ƒå®‡å®™3DåŠ¨æ€Logo](https://juejin.cn/post/7031893833163997220)
*   \[7\]. [Three.js å®ç°3Då…¨æ™¯ä¾¦æ¢å°æ¸¸æˆ](https://juejin.cn/post/7042298964468564005)
*   \[8\]. [Three.js å®ç°ç‚«é…·çš„é…¸æ€§é£æ ¼3Dé¡µé¢](https://juejin.cn/post/7012996721693163528)

> æœ¬æ–‡ä½œè€…ï¼šdragonir æœ¬æ–‡åœ°å€ï¼š[https://www.cnblogs.com/dragonir/p/16037812.html](https://www.cnblogs.com/dragonir/p/16037812.html)