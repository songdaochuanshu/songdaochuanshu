---
layout: post
title: 'Hugoï½œ30åˆ†é’Ÿæ­å»ºå®Œæ•´çš„ä¸ªäººåšå®¢'
date: "2025-01-13T00:39:09Z"
---
Hugoï½œ30åˆ†é’Ÿæ­å»ºå®Œæ•´çš„ä¸ªäººåšå®¢
==================

![Hugoï½œ30åˆ†é’Ÿæ­å»ºå®Œæ•´çš„ä¸ªäººåšå®¢](https://img2024.cnblogs.com/blog/1754362/202501/1754362-20250112233239533-2072893650.png) æœ¬æ–‡å°†è®²è¿°å¦‚ä½•ä½¿ç”¨ Hugoï¼Œä»0åˆ°1å®Œæˆä¸€ä¸ªâ€œé™æ€åšå®¢â€çš„æ­å»ºã€‚å±•ç¤º hugo å¯ä»¥é€šè¿‡ç®€å•é…ç½®ï¼Œè‡ªå®šä¹‰è£…é¥°åšå®¢ç•Œé¢çš„èƒ½åŠ›ï¼Œå¹¶é›†æˆç½‘ç«™æ•°æ®ç»Ÿè®¡èƒ½åŠ›ã€‚ ä¸‹ä¸€ç¯‡æ–‡ç« å°†æ•™ä¼šä½ å°†ç«™ç‚¹å…è´¹éƒ¨ç½²è‡³ GitHub Pages æˆ–è€… Cloudflareã€‚

æœ¬æ–‡å°†è®²è¿°å¦‚ä½•ä½¿ç”¨ Hugoï¼Œä»0åˆ°1å®Œæˆä¸€ä¸ªâ€œé™æ€åšå®¢â€çš„æ­å»ºã€‚å±•ç¤º hugo å¯ä»¥é€šè¿‡ç®€å•é…ç½®ï¼Œè‡ªå®šä¹‰è£…é¥°åšå®¢ç•Œé¢çš„èƒ½åŠ›ï¼Œå¹¶é›†æˆç½‘ç«™æ•°æ®ç»Ÿè®¡èƒ½åŠ›ã€‚

ä¸‹ä¸€ç¯‡æ–‡ç« å°†æ•™ä¼šä½ å°†ç«™ç‚¹å…è´¹éƒ¨ç½²è‡³ GitHub Pages æˆ–è€… Cloudflareã€‚

> ğŸ“º Bç«™ï¼š[ç™½æ³½talk](https://space.bilibili.com/10399934?spm_id_from=333.1007.0.0)
> 
> ğŸ“– åšå®¢ï¼š[https://baize.wiki/](https://baize.wiki/)

ç«™ç‚¹æ¼”ç¤º
----

![image-20250112230650026](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112230650026.png)

Hugo
----

[Hugo](https://gohugo.io/) æ˜¯ä¸€ä¸ªå¿«é€Ÿä¸”çµæ´»çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œä½¿ç”¨ Go è¯­è¨€ç¼–å†™ï¼Œæ„Ÿå…´è¶£ä¹Ÿå¯ä»¥å»çœ‹ä¸€ä¸‹å®ƒçš„[ä»£ç ä»“åº“](https://github.com/gohugoio/hugo)ã€‚

*   **æå¿«çš„æ„å»ºé€Ÿåº¦**ï¼šHugo æ˜¯åŒç±»äº§å“ä¸­æœ€å¿«çš„å·¥å…·ï¼Œå¹³å‡æ¯ä¸ªé¡µé¢æ„å»ºæ—¶é—´å°äº1æ¯«ç§’ï¼Œå³ä½¿æ˜¯å¤§å‹ç½‘ç«™ä¹Ÿèƒ½åœ¨å‡ ç§’é’Ÿå†…å®Œæˆæ„å»ºã€‚
*   **å¼ºå¤§çš„æ¨¡æ¿ç³»ç»Ÿ**ï¼šå†…ç½®é¢„åˆ¶æ¨¡æ¿ï¼Œå¯å¿«é€Ÿå®ŒæˆSEOã€è¯„è®ºã€ç»Ÿè®¡ç­‰åŠŸèƒ½ï¼Œä¸€è¡Œé…ç½®å³å¯å®ç°ã€‚åŒæ—¶ï¼Œå…¶åŸºäºGoçš„æ¨¡æ¿æä¾›äº†è¶³å¤Ÿçš„é€»è¾‘æ”¯æŒï¼Œèƒ½å¤Ÿæ„å»ºä»ç®€å•åˆ°å¤æ‚çš„å„ç§ç½‘ç«™ã€‚
*   **å¤šè¯­è¨€æ”¯æŒ**ï¼šåŸç”Ÿæ”¯æŒå¤šè¯­è¨€ï¼Œä¸ºå¤šè¯­è¨€ç«™ç‚¹æä¾›äº†å®Œæ•´çš„i18næ”¯æŒï¼Œä¸å•è¯­è¨€ç«™ç‚¹å…·æœ‰ç›¸åŒçš„å¼€å‘ä½“éªŒã€‚
*   **ä¸°å¯Œçš„ä¸»é¢˜åº“**ï¼šæ‹¥æœ‰300å¤šä¸ªä¸»é¢˜ï¼Œæ¶µç›–å¤šç§é£æ ¼å’ŒåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä¸»é¢˜ï¼Œå¿«é€Ÿæ­å»ºå‡ºç¾è§‚ä¸”åŠŸèƒ½å¼ºå¤§çš„ç½‘ç«™ã€‚

![image-20250112194857051](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112194857051.png)

### å®‰è£…

[å‚è€ƒæ–‡æ¡£](https://gohugo.io/installation/)

MacOSï¼š

    brew install hugo
    

æºä»£ç å®‰è£…ï¼š

    go install github.com/gohugoio/hugo@latest
    

æŸ¥çœ‹ç‰ˆæœ¬/éªŒè¯å®‰è£…æˆåŠŸï¼š

    hugo version
    

å®‰è£… [Git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)ï¼š

ç”±äºåç»­ä¸‹è½½ hugo ä¸»é¢˜ï¼Œä»¥åŠéƒ¨ç½²çš„è¿‡ç¨‹ï¼Œå‡éœ€ä½¿ç”¨åˆ° Gitï¼Œè¿™é‡Œè¦æ±‚å¿…é¡»å®Œæˆç›¸å…³ç¯å¢ƒçš„å®‰è£…ã€‚

    git version
    

### Ladder ä¸»é¢˜

hugo-ladder æ˜¯ä¸€ä¸ªç®€çº¦çš„ hugo ä¸»é¢˜ï¼Œä¹Ÿæ˜¯è¿™ä¸ªåšå®¢ä½¿ç”¨çš„ä¸»é¢˜ï¼Œç”± [Ladder](https://github.com/guangzhengli/hugo-theme-ladder) è¿™ä¸ª Git ä»“åº“çš„ä½œè€…ç»´æŠ¤ï¼Œå¦‚æœåç»­ä½ æœ‰ä»»ä½•æœ‰è¶£çš„æƒ³æ³•ï¼Œå¯ä»¥ä¸ºä»“åº“è´¡çŒ®ä»£ç ã€‚

    # è¿™ä¸ªå‘½ä»¤ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„Hugoç«™ç‚¹
    hugo new site my-site
    cd my-site
    git init
    # è¿™ä¸ªå‘½ä»¤ç”¨äºå°†Hugoä¸»é¢˜ä½œä¸ºä¸€ä¸ªGitå­æ¨¡å—æ·»åŠ åˆ°å½“å‰çš„Gitä»“åº“ä¸­ï¼Œå¹¶å…‹éš†ä»£ç 
    git submodule add https://github.com/guangzhengli/hugo-theme-ladder themes/hugo-theme-ladder
    echo "theme = 'hugo-theme-ladder'" >> hugo.toml
    # æœ¬åœ°å¯åŠ¨ hugo æœåŠ¡
    hugo server
    

![image-20250112203038502](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112203038502.png)

æ¥ç€ä¼šåœ¨é»˜è®¤çš„ 1313 ç«¯å£å¯åŠ¨ hugo çš„ç«™ç‚¹ï¼ˆæˆ‘æœ¬åœ°çš„1313è¢«å ç”¨äº†ï¼Œåˆ™éšæœºåˆ†é…äº†å¦ä¸€ç«¯å£ï¼‰ï¼Œå½“å‰ç«™ç‚¹å†…æ²¡æœ‰ä»»ä½•çš„å†…å®¹ã€‚

![image-20250112202827124](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112202827124.png)

è‡ªå®šä¹‰é…ç½®
-----

é¦–å…ˆæˆ‘ä»¬æ¥ç†Ÿæ‚‰ä¸€ä¸‹ hugo çš„æ–‡ä»¶ç›®å½•ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡å‘½ä»¤åˆ›å»ºçš„ `my-site` è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚

    .
    |-- archetypes
    |-- assets
    |-- content # å†…å®¹ï¼Œåç»­åšå®¢æ–‡ç« å°†æ”¾ç½®åœ¨è¿™é‡Œ
    |-- data
    |-- hugo.toml # é…ç½®æ–‡ä»¶ï¼Œèœå•ã€è¯„è®ºã€ç½‘ç«™ç»Ÿè®¡ç­‰æ‰€æœ‰åŠŸèƒ½ï¼Œå‡å¯ä»¥é€šè¿‡ç›´æ¥é…ç½®è¿›è¡Œå¼€å¯
    |-- i18n # å¤šè¯­è¨€
    |-- layouts
    |-- public
    |-- resources
    |-- static # é™æ€æ–‡ä»¶ï¼Œå¦‚å¤´åƒå›¾ç‰‡ç­‰
    |-- themes # æ‰€æœ‰ä¸»é¢˜ä»¥å­æ–‡ä»¶å¤¹çš„å½¢å¼å­˜æ”¾
    

### æ–‡ç« 

é¦–å…ˆæˆ‘ä»¬æ‰¾åˆ°æ ¹ç›®å½•ä¸‹ `archetypes` æ–‡ä»¶å¤¹ä¸­çš„ `default.md` æ–‡ä»¶ï¼Œç”¨ä¸‹é¢çš„æ–‡ä»¶æ›¿ä»£å…¶ä¸­å†…å®¹ï¼Œè¿™æ˜¯ç”¨äºæ§åˆ¶åˆ›å»ºæ–°åšå®¢æ—¶çš„æ¨¡æ¿ã€‚

    ---
    title: åšå®¢æ ‡é¢˜
    date: {{ .Date }}
    tags: []
    series: []
    featured: true
    ---
    è¿™æ˜¯æ‘˜è¦
    
    <!--more-->
    
    è¿™æ˜¯å†…å®¹
    

åœ¨æ ¹ç›®å½•ä¸‹é€šè¿‡å¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºä¸€ç¯‡åšå®¢ï¼š

    hugo new blog/first.md
    

åˆ™ä¼šè‡ªåŠ¨ç”Ÿæˆ `content/blog/first.md` è¿™ç¯‡åšå®¢ã€‚

![image-20250112204512522](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112204512522.png)

### èœå•

æ¥ä¸‹æ¥ç»§ç»­é…ç½®æ ¹ç›®å½•ä¸‹çš„ `hugo.toml` ï¼Œåˆ›å»ºå‡ ä¸ªèœå•ç®¡ç†ä¸åŒç±»ç›®çš„åšå®¢ã€‚äº‹å®ä¸Šï¼Œhugo æ”¯æŒ toml å’Œ yaml æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ å¹¶ä¸ä¹ æƒ¯ä½¿ç”¨ tomlï¼Œå¯ä»¥åˆ é™¤æ ¹ç›®å½•çš„ `hugo.toml`ï¼Œå¹¶åˆ›å»º `hugo.yml` è¿›è¡Œç›¸åŒé…ç½®çš„å½•å…¥ï¼Œä¹Ÿæ˜¯å¯ä»¥ç”Ÿæ•ˆçš„ã€‚

    baseURL = 'https://example.org/'
    languageCode = 'en-us'
    title = 'My New Hugo Site'
    theme = 'hugo-theme-ladder'
    
    [[menu.main]]
      name = "æ–‡ç« "
      url = "/blog/"
      weight = 1
    
    [[menu.main]]
      name = "å½’æ¡£"
      url = "/archive/"
      weight = 2
    
    [[menu.main]]
      name = "è”ç³»"
      url = "/contact/"
      weight = 3
    
    [[menu.main]]
      name = "ç½‘ç«™ç»Ÿè®¡"
      url = "/xx/"
      weight = 4
    

![image-20250112204922835](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112204922835.png)

è¿™æ—¶å€™ï¼Œä½ ä¼šå‘ç°ï¼Œå½“ç‚¹å‡»æ–‡ç« çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°åšå®¢åˆ—è¡¨ï¼Œä½†æ˜¯ç‚¹å‡»å…¶ä»–ç›®å½•çœ‹ä¸åˆ°ï¼Œå› ä¸º `content/blog` æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« çš„å­˜æ”¾è·¯å¾„ï¼Œæ‰€ä»¥æ–‡ç« èœå•å¯ä»¥çœ‹åˆ°ï¼Œæ‰€ä»¥åç»­æ–‡ç« çš„ç®¡ç†ï¼Œåªéœ€è¦åœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒæŒ‡å®šå¯¹åº”ç”Ÿæˆçš„ç›®å½•å³å¯ã€‚

è¿™æ—¶å€™ï¼Œä½ çœ‹åˆ° `localhost:1313/` ç›®å½•ä¸‹ä¹Ÿèƒ½çœ‹åˆ°è¿™ç¯‡åšå®¢ï¼ŒFeatured Posts è¡¨ç¤ºçš„æ˜¯ä¸»é¡µçš„æ¨èæ–‡ç« ï¼Œæ‰€æœ‰æ ‡å¿—äº† `featured: true` çš„æ–‡ç« éƒ½å¯ä»¥åœ¨è¿™é‡Œå±•ç¤ºï¼Œè€Œ `featured: false` çš„æ–‡ç« ï¼Œåˆ™åªä¼šåœ¨å¯¹åº”ç›®å½•å±•ç¤ºã€‚

æ‰€ä»¥å°è¯•å°† `/content/blog/first.md` è¿™ç¯‡æ–‡ç« çš„ featured è®¾ç½®ä¸º falseï¼Œä½ å°†æ— æ³•åœ¨é¦–é¡µçœ‹åˆ°å®ƒäº†ï¼Œä½† `localhost:1313/blog` ä¾æ—§å¯ä»¥çœ‹åˆ°ã€‚

    ---
    title: åšå®¢æ ‡é¢˜
    date: 2025-01-12T20:44:21+08:00
    tags: []
    series: []
    featured: false
    ---
    è¿™æ˜¯æ‘˜è¦
    
    <!--more-->
    
    è¿™æ˜¯å†…å®¹
    

### æ›´å¤šå®šåˆ¶åŒ–

å°è¯•åœ¨ images ä¸­å¯¼å…¥ä¸€å¼ å›¾ç‰‡ avatar.pngï¼ŒdarkModeTheme å¼€å¯å¤œé—´æ¨¡å¼ï¼Œå°è¯•ä¿®æ”¹ç½‘é¡µçš„ logoç­‰ã€‚

    baseURL = "https://baize.github.io"  # ç½‘ç«™çš„ URL
    languageCode = "zh"  # ç½‘ç«™è¯­è¨€ä»£ç 
    title = "ç™½æ³½"  # ç½‘ç«™æ ‡é¢˜
    theme = "hugo-theme-ladder"  # ä½¿ç”¨çš„ä¸»é¢˜åç§°
    defaultContentLanguage = "zh"
    [params]
      brand = "ä¸»é¡µ"
      author = "ç™½æ³½"
      authorDescription = "é˜…è¯»ï½œæ€è€ƒï½œäº§å‡ºï½œè¿›æ­¥"
      info = "ä»æœªåœæ­¢å¯¹æœªçŸ¥çš„æ¢ç´¢ï¼Œå°è¯•åˆ†äº«ä¸€äº›æœ‰è¶£çš„ä¸œè¥¿"
      avatarURL = "images/baize.png"
      darkModeTheme = "data-dark-mode"
      favicon = "images/baize.png"
    

è¿›è¡Œåˆ°è¿™ä¸€æ­¥ï¼Œä½ æœ¬åœ°çš„ç«™ç‚¹åº”è¯¥ä¸æˆ‘çš„åšå®¢æ ·å¼è¿‘ä¹ç›¸åŒï¼Œæ­å–œä½ å‡ ä¹å®Œæˆäº†æ‰€æœ‰åšå®¢æœ¬åœ°çš„æ­å»ºå·¥ä½œäº†ï¼Œåç»­æ›´å¤šåŠŸèƒ½çš„æ·»åŠ ï¼Œå®Œå…¨ä¾æ‰˜äº hugo å¼ºå¤§çš„é…ç½®èƒ½åŠ›ï¼Œä»¥åŠä½ çš„èªæ˜å¤´è„‘ï¼ˆè¿™ä¸ªé˜¶æ®µï¼Œéœ€è¦é˜…è¯» hugo çš„é…ç½®æ–‡æ¡£ï¼‰ã€‚

![image-20250112210500340](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112210500340.png)

Umami ç½‘ç«™æ•°æ®ç»Ÿè®¡
------------

è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å†…å®¹ï¼Œ å½“ä½ å®Œæˆæ¥å…¥ä¹‹åï¼Œå°†è·å¾—å¦‚ä¸‹çš„è®¿å®¢ä¿¡æ¯ç»Ÿè®¡çœ‹æ¿ã€‚

![image-20250112211314274](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112211314274.png)

åŒ…æ‹¬åŒºåŸŸå’Œè®¾å¤‡åˆ†å¸ƒï¼š

![image-20250112211404681](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112211404681.png)

### å·¥ä½œåŸç†

Umami æ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿä¸”å¼€æºçš„åˆ†æå·¥å…·ï¼Œç”¨äºè·Ÿè¸ªç½‘ç«™çš„è®¿é—®æ•°æ®ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1.  **æ•°æ®æ”¶é›†**ï¼š
    *   å½“ç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼ŒUmami é€šè¿‡åœ¨ç½‘é¡µä¸­åµŒå…¥çš„JavaScriptä»£ç æ¥æ”¶é›†æ•°æ®ã€‚è¿™äº›æ•°æ®åŒ…æ‹¬é¡µé¢æµè§ˆé‡ã€è®¿é—®æ—¶é•¿ã€ç”¨æˆ·åœ°ç†ä½ç½®ã€è®¾å¤‡ä¿¡æ¯ç­‰ã€‚
    *   æ¯æ¬¡é¡µé¢åŠ è½½æ—¶ï¼ŒåµŒå…¥çš„JavaScriptä»£ç ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°UmamiæœåŠ¡å™¨ï¼Œæºå¸¦æ”¶é›†åˆ°çš„æ•°æ®ã€‚
2.  **æ•°æ®å­˜å‚¨**ï¼š
    *   Umami æœåŠ¡å™¨æ¥æ”¶åˆ°æ•°æ®åï¼Œä¼šå°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚Umami ä½¿ç”¨PostgreSQLä½œä¸ºå…¶é»˜è®¤æ•°æ®åº“ï¼Œä½†ä¹Ÿå¯ä»¥é…ç½®ä¸ºä½¿ç”¨å…¶ä»–æ•°æ®åº“ã€‚
    *   æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œä»¥ä¾¿åç»­è¿›è¡ŒæŸ¥è¯¢å’Œåˆ†æã€‚
3.  **æ•°æ®å¤„ç†**ï¼š
    *   Umami æœåŠ¡å™¨ä¼šå¯¹æ”¶é›†åˆ°çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆå„ç§ç»Ÿè®¡ä¿¡æ¯ï¼Œå¦‚é¡µé¢æµè§ˆé‡ã€ç‹¬ç«‹è®¿å®¢æ•°ã€è®¿é—®æ—¶é•¿ç­‰ã€‚
    *   è¿™äº›ç»Ÿè®¡ä¿¡æ¯ä¼šå®šæœŸæ›´æ–°ï¼Œä»¥åæ˜ æœ€æ–°çš„è®¿é—®æ•°æ®ã€‚
4.  **æ•°æ®å±•ç¤º**ï¼š
    *   Umami æä¾›ä¸€ä¸ªç®¡ç†ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™ä¸ªç•Œé¢æŸ¥çœ‹å’Œåˆ†æç½‘ç«™çš„è®¿é—®æ•°æ®ã€‚
    *   ç®¡ç†ç•Œé¢å±•ç¤ºäº†å„ç§å›¾è¡¨å’ŒæŠ¥å‘Šï¼Œå¸®åŠ©ç”¨æˆ·äº†è§£ç½‘ç«™çš„è®¿é—®æƒ…å†µã€‚

### Umami å…è´¹éƒ¨ç½²

#### åˆ›å»ºæ•°æ®åº“

æ•°æ®åº“ç”¨çš„æ˜¯ [supabase](https://app.supabase.com/) æä¾›çš„æœ‰é™é¢çš„ [postgres](https://supabase.com/docs/guides/database) æ•°æ®åº“ï¼Œåˆ›å»ºä¸€ä¸ª supabase è´¦å·ï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¾“å…¥ Datebase password å³å¯åˆ›å»ºæ•°æ®åº“æœåŠ¡ã€‚

![image-20250112213146231](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112213146231.png)

è¿›å…¥ database èœå•ï¼Œç‚¹å‡» Connectã€‚

![image-20250112213258281](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112213258281.png)

è®°å½•ä¸‹è¿™é‡Œé€šè¿‡ Session pooler æ¥å…¥æ•°æ®åº“çš„æ–¹å¼ï¼ˆDATABASE\_URLï¼‰ï¼Œä¸‹æ–‡ Umami æ¥å…¥ DB æ—¶æ³¨æ„æ›¿æ¢å¯†ç ä¸ºä½ åˆ›å»ºçš„å¯†ç ã€‚

![image-20250112213526312](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112213526312.png)

#### éƒ¨ç½² umami

é¦–å…ˆ umami æ˜¯å¼€æºçš„ï¼Œè®¿é—®å®ƒçš„ [GitHub ä»“åº“](https://github.com/umami-software/umami)ï¼Œå°†å…¶ fork ä¸ºè‡ªå·±çš„ repoã€‚

vercel æ˜¯ä¸€ä¸ªç°ä»£çš„äº‘å¹³å°ï¼Œä¸“æ³¨äºå‰ç«¯å¼€å‘å’Œæ— æœåŠ¡å™¨å‡½æ•°ï¼ˆServerless Functionsï¼‰ï¼Œæä¾›å¿«é€Ÿéƒ¨ç½²ã€è‡ªåŠ¨ç¼©æ”¾å’Œå…¨çƒ CDN æ”¯æŒã€‚å®ƒç‰¹åˆ«é€‚åˆéƒ¨ç½²é™æ€ç½‘ç«™ã€å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ã€ä»¥åŠéœ€è¦æ— æœåŠ¡å™¨åç«¯çš„é¡¹ç›®ã€‚

vercel æä¾›äº†å…è´¹è®¡åˆ’ï¼Œè™½ç„¶æœ‰ä¸€äº›é™åˆ¶ï¼ˆå…·ä½“é™é¢å¤§å®¶å¯ä»¥è‡ªè¡Œå‚è€ƒå®˜ç½‘ä¿¡æ¯ï¼‰ï¼Œç›®å‰æ”¯æ’‘æˆ‘ä»¬çš„ç½‘ç«™åˆ†æåŠŸèƒ½æ˜¯å¤Ÿç”¨çš„ã€‚

ç™»å½• [vercel](https://vercel.com/) ï¼Œåˆ›å»ºä¸€ä¸ªçš„è´¦å·ï¼Œå»ºè®®ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œç™»å½•ï¼Œåœ¨ `new project` ä¸­é€‰æ‹© `import` ä½ åˆšåˆš `fork` çš„ umami é¡¹ç›®ã€‚

ç¼–è¾‘æ„å»ºå‘½ä»¤ï¼š

    yarn build && yarn update-db
    

æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

    DATABASE_URL: ä¸Šä¸€æ­¥ä» supabase è·å–
    TRACKER_SCRIPT_NAME: baize
    

ç‚¹å‡»éƒ¨ç½²å¹¶ç­‰å¾…ï¼š

![image-20250112214402104](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112214402104.png)

åœ¨ vercel éƒ¨ç½²å®Œæˆ umami åä¼šå¾—åˆ°ä¸€ä¸ª `<deploy-id>.vercel.app` ï¼Œé»˜è®¤ç™»é™†çš„è´¦å·å¯†ç æ˜¯ **admin** å’Œ **umami**ã€‚

å®ŒæˆåŸºç¡€å¸å·é…ç½®åï¼Œç‚¹å‡»ä¾§è¾¹æ ç½‘ç«™ Tabï¼Œç‚¹å‡»æ·»åŠ ç½‘ç«™ã€‚å¡«å†™ç½‘ç«™åŸºæœ¬ä¿¡æ¯ï¼Œå¯ä»¥å‹¾é€‰ `enable share URL`ï¼Œè¿™æ ·ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®çœ‹æ¿ã€‚

![image-20250112214652457](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112214652457.png)

### Umami æ¥å…¥ Hugo

åœ¨ Tracking code ä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°å¯¹åº”çš„ `data-website-id` å’Œ `src` ã€‚

    <script defer src="https://umami-jlwf.vercel.app/hugo-ladder" data-website-id="ec55b2da-4f55-45ef-8aed-26e57078fd15"></script>
    

å°†å…¶å¡«å…¥ä¸»é¢˜é…ç½®ä¸­çš„ `params.analytics.umami.website_id` å’Œ `params.analytics.umami.url` å³å¯ã€‚

    [params.analytics.umami]
      enable = true
      website_id = "ec55b2da-4f55-45ef-8aed-26e57078fd15"
      url = "https://umami-jlwf.vercel.app/hugo-ladder"
    

ä¸è¦å¿˜è®°å°†ä½ çš„ç½‘ç«™ç»Ÿè®¡æŸ¥çœ‹åœ°å€é…ç½®ç»™èœå•ï¼š

    [[menu.main]]
      name = "ç½‘ç«™ç»Ÿè®¡"
      url = "https://umami-jlwf.vercel.app/share/ZKhEVgh56RlSfAMa/baize1998.github.io"
      weight = 4
    

è‡³æ­¤ä½ çš„ç«™ç‚¹åœ¨è¢«è®¿é—®çš„æ—¶å€™ï¼Œä¼šå‘éƒ¨ç½²çš„ vercel çš„ umami ä¸ŠæŠ¥æ•°æ®ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·³è½¬çœ‹åˆ°ç»Ÿè®¡æ•°æ®ã€‚

![image-20250112215243834](https://baize-blog-images.oss-cn-shanghai.aliyuncs.com/img/image-20250112215243834.png)

ä»¥ä¸Šæˆ‘ä»¬å®Œæˆäº†æœ¬åœ°åšå®¢çš„æ­å»ºä»¥åŠç½‘ç«™æ•°æ®ç»Ÿè®¡èƒ½åŠ›çš„æ¥å…¥ğŸ‰ğŸ‰ğŸ‰ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« å°†è®²è§£å¦‚ä½•éƒ¨ç½²è‡³äº‘ç«¯ã€‚

å¦‚æœæœ‰ä»»ä½•æ„è§è¯·åœ¨è¯„è®ºåŒºç§¯æç•™è¨€