---
layout: post
title: '机顶盒折腾回忆录（1）'
date: "2026-02-25T01:02:51Z"
---
机顶盒折腾回忆录（1）
===========

机顶盒折腾回忆录（1）
===========

如你所见，这只是第1篇，主要是我写着写着懒得写了，第2篇马上端上来。好歹也是折腾了3、4天……（碎碎念）

起因（全是废话，不想看的直接跳过）
=================

之前我想搭建一个属于自己的博客，辗转之下发现了博客园这个平台，经过了一段时间后我发现网上有一些对博客园的讨论，说什么博客园个人博客服务快结束啦（内容来自网络，不保证真实性，如有侵权请联系）。我对这件事一直是持否定态度的。然后有一天我发现服务器就能搭建个人博客，可我又了解了一下，发现我要走服务器搭建个人博客这条路子有两种去向：

*   购买云服务器（先不说哪家云服务器更好更便宜，主要是我一分钱都拿不出来）。
*   自己搭建服务器。

很显然，我选的后者。当时我想的是，我家既然有这么多旧台式电脑，我为什么不进行废物利用呢？于是我抄起手边标着hp 32G USB3.0（其实传输速率只有可怜的30几mb/s）顶着几十mb/s的下载速度和传输速度把Linux severs（不知道是不是这个名字）镜像放到pe优盘后，我老父的一句话直接让我道心破碎了：功率几十V？谁会整天开着？不行。然后我就把优盘格式化了……不过我并没有死心，发现机顶盒的的功率挺适合的，开着也就几V的功耗，于是我就盯上了把机顶盒做成博客服务器的这个小众赛道（可能并不小众，因为还有人把机顶盒做成mc服务器的）。

过程
==

选品
--

一开始，我的目标是把我老家的办联通宽带送的联通机顶盒做成小服务器，它在以前电视好的时候几乎是 7\*24 小时运行，我的老父也并没有抱怨什么，所以我就把它当成了我的第一个折腾对象。就在过年前几天，我就为的回到了老家，拿走了那台联通盒子（华为Q21A）还有一台“坏了的”杂牌机顶盒（注意这个盒子，以后要考）。首先我们现列一下步骤，根据我在小破站找的教程，可以分为：

1.  由于这种运营商的盒子基本都是定制的安卓系统，所以要先刷成普通的安卓电视系统才能从优盘启动
2.  在优盘中准备好Github上armbian的系统固件，让盒子从优盘启动打开系统，然后可以输入 armbian-install 将armbian写入到emmc闪存中。

至于具体教程我为什么不给呢？那当然是我的华为Q21A盒子并没有对应的armbian固件，即使我想把它刷入普通的安卓系统也找不到短接点进行卡刷（实际上是无论怎么短接都无法刷机），线刷吧还需要自己焊接然后通过TTl转接线进行线刷。所以我就把目光转移到了那个被判处了“死刑”的杂牌机顶盒。拆机发现是瑞芯微的rk3128，我突然想起armbian的详情页上写着支持部分瑞芯微芯片，可是因为这个芯片太老了所以并没有合适的固件，但我还是把它刷入了安卓系统让它能够正常的看电视。最后，我盯上了小黄鱼上的armbian盒子，只需50大洋也是非常之便宜，报一下基础配置：

*   型号：烽火680-j
*   芯片：hi3798mv-100
*   储存：1+8G（别看小，但做个小博客绰绰有余）
*   系统：基于Debian系统的32位（对，才32位）armbian系统

这套配置不是很吃香，由于我对liunx系统的了解少之又少，所以我接下来会把我和ai讨论3、4天的对话总结下来，希望能帮到人。

正式开始捣鼓
------

一开始，我本来想先根据“在下莫老师”的[这期视频](https://www.bilibili.com/video/BV1nMDnYdEJd/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click)一样在这台小机顶盒上安装 **1panel** 但是我在输入官网上给出的指令发现它提示我那个 “” 要换成 ‘’ ，但我没看懂于是把 $ 给删了，结果就是它原样输出了链接的文件。但是我只看到了"暂不支持的系统架构，请参阅官方文档，选择受支持的系统。"这句话，于是我就放弃安装1panel了。转战老牌网页后台“宝塔”，但是最新版安装不上提示要我安装 5.9 版本。安装以后发现还是报错,接下来就开始了我和ai的讨论。

报错内容：

    ● bt.service
       Loaded: loaded (/etc/init.d/bt; generated)
       Active: failed (Result: exit-code) since Sat 2026-02-21 08:26:50 CST; 31s ago
         Docs: man:systemd-sysv-generator(8)
      Process: 3727 ExecStart=/etc/init.d/bt start (code=exited, status=203/EXEC)
    
    Feb 21 08:26:50 armbian systemd[1]: Starting bt.service...
    Feb 21 08:26:50 armbian systemd[3727]: bt.service: Failed to execute command: Exec format error
    Feb 21 08:26:50 armbian systemd[3727]: bt.service: Failed at step EXEC spawning /etc/init.d/bt: Exec format error
    Feb 21 08:26:50 armbian systemd[1]: bt.service: Control process exited, code=exited, status=203/EXEC
    Feb 21 08:26:50 armbian systemd[1]: bt.service: Failed with result 'exit-code'.
    Feb 21 08:26:50 armbian systemd[1]: Failed to start bt.service.
    

这是Exec format error 错误，原因是系统架构不兼容，宝塔面板仅支持64位的x86\_64架构，所以启动服务失败。接下来有两条路可走：

### 给盒子刷入64位Linux系统（未实践）

接下来的教程只适用于部分海纳思芯片，短接点以自己的机型为准。

**重要提醒：刷机有风险，操作需谨慎。**

先确定你的机顶盒芯片是否为高安版，在机顶盒上查看这一些位置：

1.  主板上直接印刷
    
    *   常见位置：通常在主板的正面，靠近CPU（芯片）附近，或者主板边缘空白处
        
    *   字样形式：可能会看到印刷的 "CA" 两个字母，或者 "HIGH SECURITY"、"高安" 等字样
        
    *   特别标记：有时不是直接写CA，而是用黄色圆点贴纸或白色方块贴纸标记，上面可能有编号
        
2.  芯片附近寻找
    
    *   查看 CPU（Hi3798芯片） 周围的空白区域
        
    *   检查 闪存芯片 附近的PCB板印刷
        
    *   留意 主板边缘 的版本号旁边，比如主板型号后面可能有 -CA 后缀
        
3.  无标记情况  
    如果找不到明确的CA字样，也不用灰心，因为：
    
    *   有些高安版并没有直接印CA，而是通过加密芯片体现
        
    *   可以在主板上找是否有额外的加密芯片（通常是8脚的小芯片，上面印着类似"905L"、"RTL"等字样）  
        也可以在系统内输入这些指令：
        

    # 查看分区信息（高安版通常有特殊分区）
    cat /proc/mtd
    # 看到类似 "fastboot"、"recovery"、"system" 之外还有 "secure"、"trusted" 等分区，可能是高安版
    

如果确认是高安版：

*   不要尝试常规USB刷机，大概率会变砖
    
*   需要先在安卓系统下进行降级操作
    
*   或者需要TTL线刷特殊固件
    
*   建议去恩山论坛、开心电视论坛搜索"“机顶盒型号” 高安 破解"找对应教程
    

如果不是高安版，打开[海纳思系统](https://ecoo.top/)网站寻找适合自己机型的固件下载（一定要找好了，变砖了只能线刷）准备一个优盘格式化为 **FAT32** 格式，将下载下来的固件解压把所有文件复制到U盘根目录（不要放在文件夹里），将U盘插入盒子靠近网口的USB接口，短接开机（先短接，再插电，不用按开机键），如果成功，盒子的指示灯会闪烁，电视屏幕（如果连接了）可能会显示刷机进度。然后就是等待。最后，拔掉优盘，重启盒子，在路由器后台找到名为armbian的设备，用一款ssh软件（推荐PuTTY（就一个.exe文件，点开即用）或WindTerm（WindTerm有图形化界面，可以看到文件管理列表，支持图形化上传下载文件））输入IP地址就可以下载网页后台软件了。

### 安装32位网站管理软件

有这几种选择（纯ai警告，不保证在32位系统下能够使用（比如**aapanel**））：

方案类型

推荐软件

核心特点

适合人群

对32位系统支持

轻量手动搭建

Lighttpd + PHP + WordPress

资源占用极低，手动配置，对系统最友好。WordPress是全球最流行的博客系统，主题和插件极其丰富。

喜欢折腾、追求极致性能、希望完全掌控服务器的人。

极佳（Debian源中直接提供）

面板一键部署

aaPanel (宝塔国际版)

有网页图形界面，可以一键安装WordPress等博客程序，管理方便。

希望有图形界面、懒得敲命令、想要快速建站的人。

明确支持（官方支持Debian，但有32位限制）

面板一键部署

LuManager (LUM)

国产老牌面板，功能全面，集成Nginx/Apache，明确支持32位系统。

偏好国产面板、需要FTP/数据库可视化管理的用户。

明确支持（官方明确支持Debian）

静态博客生成

Hugo / Pelican

生成纯静态HTML文件，无需数据库，安全性高，速度极快，部署简单。

技术爱好者、写Markdown文章、对性能有极致追求、不在意没有后台编辑器的人。

支持（Hugo是Go语言二进制，只要找到32版；Pelican是Python程序，兼容性好）

正常我们写博客只需要第4种就够了，但是我没看清，又懒得敲命令，于是一开始就选的 **aapanel** 。安装命令如下（注意先在命令行中输入**bash**，不然会报错）：

    URL=https://www.aapanel.com/script/install_7.0_en.sh && if [ -f /usr/bin/curl ];then curl -ksSO "$URL" ;else wget --no-check-certificate -O install_7.0_en.sh "$URL";fi;bash install_7.0_en.sh forum
    

然后呢？你不会认为就这么结束了吧？**神秘鲸鱼**（deepseek）这小破东西阴我。他在表格中说aapanel明确支持Debian系统，但有32位限制，谁知道这个限制是无法安装！最后，无奈选择了 **Lighttpd + PHP + WordPress**

未完待续……