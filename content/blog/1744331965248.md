---
layout: post
title: 'å¦‚ä½•å®ç°ä¸€ä¸ªæ— ç¼æ— é™è½®æ’­æ—¶é—´è½´...'
date: "2025-04-11T00:39:25Z"
---
å¦‚ä½•å®ç°ä¸€ä¸ªæ— ç¼æ— é™è½®æ’­æ—¶é—´è½´...
==================

![å¦‚ä½•å®ç°ä¸€ä¸ªæ— ç¼æ— é™è½®æ’­æ—¶é—´è½´...](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410151304642-1749159939.png) æ— ç¼å¾ªç¯,è½®æ’­,æ—¶é—´è½´

åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆè´´æ•ˆæœå›¾  
![](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410140418282-1364573635.png)

çœ‹å›¾ç‰‡å¯ä»¥æŠŠè¿™ä¸ªåˆ†å‰²æˆä¸¤éƒ¨åˆ†  
1.æ—¶é—´è½´  
2.å›¾ç‰‡å±•ç¤º

1.  **é¦–å…ˆæ¥åˆ†æä¸€ä¸‹æ—¶é—´è½´**  
    å¯è§†èŒƒå›´è¿™æ ·  
    ![](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410141328216-1573844891.png)  
    å®é™…é•¿åº¦  
    ![](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410141521839-1416886125.png)  
    æ“ä½œ  
    ç»™å®é™…é•¿åº¦æ·»åŠ åŠ¨ç”»æ•ˆæœ  
    csséƒ¨åˆ†  
    `:style="{ '--translateX' : translateX }"`  
    `transform: translateX(calc(var(--translateX) * 1px));//1pxæ˜¯å› ä¸ºè¦ç”¨postcssè½¬rem`  
    `transition: transform 0.6s ease-out;`  
    jséƒ¨åˆ†  
    `const translateX = ref(0);`  
    è¿™å°±æ˜¯ä¸»è¦å®é™…é•¿åº¦çš„ä¸»è¦ä»£ç ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•translateX çš„å€¼æ ¹æ®è‡ªå·±éœ€æ±‚åç§»é‡è®¡ç®—
2.  **æ¥ä¸‹æ¥åˆ†ææ—¶é—´ç‚¹ï¼š**  
    åˆ†æä¸€æ³¢ï¼šç‚¹ä¸»è¦æ˜¯é—´éš”åˆ†å¸ƒï¼Œç”¨é—´éš”å€æ•°æ¥ç»å¯¹å®šä½ç¡®å®šæ¯ä¸ªç‚¹çš„ä½ç½®  
    `const dots = ref([])`ç‚¹çš„æ•°ç»„  
    `const dotSpacing = 251.5;`ç‚¹é—´è·  
    ![](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410142901474-1313367953.png)  
    csséƒ¨åˆ†  
    `:style="{'--x': ${index * dotSpacing}}"`  
    `left: calc(var(--x) * 1px);`  
    ç¡®å®šå¥½æ ·å¼äº†æ¥ä¸‹æ¥å°±æ¥å®ç°ç‚¹å‡»è½®æ’­äº†  
    å…ˆå®ç°ä½ç½®çš„é‡æ–°è®¡ç®—direction æ˜¯ä¼ çš„å€¼ï¼Œ1ï¼Œ-1è¡¨ç¤ºå·¦å³ğŸ™‚  
    `const newPosition = Number((translateX.value + direction * dotSpacing));`  
    å°†å€¼èµ‹ç»™åç§»é‡å°±å®ç°åŠ¨ç”»äº†  
    `translateX.value = newPosition;`  
    æ˜¯ä¸æ˜¯æ¯”è¾ƒç®€å•å˜¿ï¼  
    é‚£æ€ä¹ˆå®ç°æ— é™æ— ç¼çš„è½®æ’­å‘¢?
3.  **æ— é™è½®æ’­**  
    æ— ç¼å¾ªç¯è½®æ’­çš„è¦ç‚¹å°±æ˜¯:  
    1.å‰åå¤åˆ¶ä¸€ç»„æ•°æ®ï¼Œé¿å…å‡ºç°ç©ºç™½  
    2.åœ¨å¤åˆ¶çš„æ•°æ®åœ¨åˆ°è¾¾å¦ä¸€ä¸ªè¾¹ç•Œçš„æ—¶å€™ï¼Œå›åˆ°åŸæ¥çš„ä½ç½®ï¼Œåˆ©ç”¨å±å¹•åˆ·æ–°ç‡ï¼Œä¹Ÿå°±æ˜¯å¸§ç‡éª—è¿‡ç”¨æˆ·çš„çœ¼ç›ï¼Œè¾¾åˆ°æ— ç¼å¾ªç¯çš„è§†è§‰é”™è§‰  
    ![](https://img2024.cnblogs.com/blog/2997684/202504/2997684-20250410144042480-958395211.png)  
    å‰åå„å¤åˆ¶ä¸€ç»„æ•°æ®  
    `const clonedDots = [ ...dots.map(d => ({ ...d, cloned: true })), ...dots, ...dots.map(d => ({ ...d, cloned: true })), ];`  
    `const newPosition = Number((translateX.value + direction * dotSpacing));`è·å¾—åç§»é‡  
    `if (newPosition <= -(dots.length * dotSpacing))`å¦‚æœbåˆ°è¾¾açš„è¾¹ç•Œ  
    `translateX.value = newPosition`ç»§ç»­è¿›è¡Œåç§»  
    `translateX.value = 0;`åç§»å®Œæˆåå›åˆ°åŸç‚¹  
    `transition: transform 0.6s ease-out`å› ä¸ºæˆ‘ä»¬è®¾ç½®äº†è¿‡æ¸¡æ•ˆæœï¼Œæ‰€ä»¥ä¼šæœ‰åŠ¨ç”»å›åˆ°åŸç‚¹  
    é‚£ä¹ˆæˆ‘ä»¬å°±åº”è¯¥åœ¨båˆ°è¾¾aç‚¹åç¦ç”¨è¿‡æ¸¡ç«‹å³é‡ç½®,è¿™é‡Œä½¿ç”¨çš„æ˜¯å®šæ—¶å™¨,ç„¶åæˆ‘ä»¬åœ¨ä¸‹ä¸€å¸§çš„æ—¶å€™é‡æ–°å¯ç”¨è¿‡æ¸¡æ•ˆæœ  
    `setTimeout(() => {`  
    `trackRef.value!.style.transition = 'transform 0s';`  
    `translateX.value = 0;`  
    `setTimeout(() => {`  
    `trackRef.value!.style.transition = 'transform 0.6s ease-out';`  
    `},16);`  
    `},600);`  
    ä¸€èˆ¬å±å¹•çš„åˆ·æ–°ç‡éƒ½æ˜¯16ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º0  
    è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ— ç¼å¾ªç¯äº†ï¼Œæ˜¯ä¸æ˜¯è¿˜å¯ä»¥ï¼Œä½†è¿˜æ˜¯æœ‰ç‚¹å°é—®é¢˜ï¼Œç”¨æˆ·å¿«é€Ÿç‚¹å‡»è¿˜æ˜¯ä¼šæœ‰ç‘•ç–µçš„  
    æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æ·»åŠ ä¸€ä¸ªé˜²æŠ–å‡½æ•°æˆ–è€…æ ‡è¯†  
    é‚£æˆ‘ä»¬æ€ä¹ˆå»ç»™ä¸­é—´çš„ç‚¹æ·»åŠ åŠ¨æ€çš„æ ·å¼å‘¢ï¼Ÿ  
    æˆ‘è¿™é‡Œç”¨çš„æ˜¯  
    `const currentIndex = ref(2);`  
    æ ¹æ®æˆ‘è‡ªå·±çš„éœ€è¦è®¾ç½®é»˜è®¤ç¬¬äºŒä¸ªæ˜¯åœ¨ä¸­é—´çš„  
    è¿™æ ·å°±åªéœ€è¦ç´¯åŠ çš„æ–¹å¼å°±å¯ä»¥äº†  
    `direction < 0 ? currentIndex.value ++: currentIndex.value -- ;`  
    ç„¶åé‡ç½®çš„ä¹Ÿå°±æ˜¯æ¯”è¾ƒæ­»æ¿  
    `currentIndex.value = 2;`  
    `currentIndex.value = dots.length + 1;`  
    ä¸çŸ¥é“æœ‰æ²¡æœ‰ä»€ä¹ˆæ›´çµæ´»çš„æ–¹å¼  
    è¿™æ ·å°±å®Œæˆäº†æ—¶é—´è½´çš„ç»˜åˆ¶äº†ğŸ‘ŒğŸ‘ŒğŸ‘Œ  
    ç„¶ååº•ä¸‹çš„åˆ‡æ¢ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•  
    å¯ä»¥æ‰‹å†™æˆ–è€…åƒæˆ‘ä¸€æ ·ä½¿ç”¨vueçš„ç»„ä»¶`transition-group`  
    å› ä¸ºæˆ‘ä»¬åªéœ€è¦å±•ç¤ºä¸‰ä¸ªå°±ä¸ç”¨å»å¤åˆ¶äº†  
    `const currentItem = computed(() => clonedDots[currentIndex.value]);`  
    `const prevItem = computed(() => clonedDots[currentIndex.value - 1]);`  
    `const nextItem = computed(() => clonedDots[currentIndex.value + 1]);`  
    `const transitionName = ref('slide-next');`  
    ç„¶åç”¨effectå‡½æ•°ç›‘å¬å˜åŒ–  
    `watch(currentIndex, (newVal, oldVal) => { transitionName.value = newVal > oldVal ? 'slide-next' : 'slide-prev'; });`  
    å‰©ä¸‹çš„å°±åªéœ€è¦csså»åŠ¨ç”»å°±å¯ä»¥äº†

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    .slide-next-enter-active,
    .slide-next-leave-active,
    .slide-prev-enter-active,
    .slide-prev-leave-active {
      transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      transform-style: preserve-3d; /* ä¿æŒ3Då˜æ¢ */
    }
    .slide-next-enter-from {
      transform: scale(0.8) translateX(500px) translateZ(-100px);
    }
    .slide-next-enter-to {
      transform: scale(1) translateX(0) translateZ(0);
    }
    .slide-next-leave-active {
      z-index: 0; /* ç¡®ä¿ç¦»å¼€å…ƒç´ åœ¨ä¸‹å±‚ */
    }
    .slide-next-leave-to {
      transform: scale(0.8) translateX(-500px) translateZ(-100px);
    }
    /* ä¸Šä¸€å¼ è¿›å…¥åŠ¨ç”» */
    .slide-prev-enter-from {
      transform: scale(0.8) translateX(-500px) translateZ(-100px);
    }
    .slide-prev-enter-to {
      transform: scale(1) translateX(0) translateZ(0);
    }
    .slide-prev-leave-active {
      z-index:0 !important; /* ç¡®ä¿ç¦»å¼€å…ƒç´ åœ¨ä¸‹å±‚ */
    }
    .slide-prev-leave-to {
      transform: scale(0.8) translateX(500px) translateZ(-100px);
      z-index: 0 !important;
    }
    
      /* å½“å‰æ¿€æ´»é¡¹æ ·å¼ */
      .swiper-item:not(.prev):not(.next) {
        z-index: 4;
        box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      }
      /* ç›¸é‚»é¡¹æ ·å¼ */
      .prev, .next {
        transform: scale(0.8) translateZ(-100px);
    
      }
      .prev {
        transform: scale(0.8) translateX(-500px) translateZ(-100px);
    
      }
      .next {
        transform: scale(0.8) translateX(500px) translateZ(-100px);
      }

åˆ°è¿™é‡Œæˆ‘ä»¬ç†é¡ºäº†è¿™ä¸ªç»„ä»¶çš„å®ç°æ–¹æ³•ğŸ˜„