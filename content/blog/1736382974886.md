---
layout: post
title: 'linux下服务器稳定性压力测试工具stress安装使用介绍'
date: "2025-01-09T00:36:14Z"
---
linux下服务器稳定性压力测试工具stress安装使用介绍
==============================

**linux**下服务器稳定性压⼒测试⼯具**stress**安装使⽤介绍

一、简介

1、stress⼯具是Linux下一款压⼒测试⼯具， 可以模拟系统⾼负载运⾏ ， 同时可协助我们进⾏软件稳 定性相关测试。

⼆、**stress**⼯具下载安装

1、本地tar包⽅式安装

 1 下载地址： https://fossies.org/linux/privat/stress-1.0.4.tar.gz
 2 sudo tar -zxvf stress-1.0.4.tar.gz
 3 cd stress-1.0.4/
 4 ./condfigure
 5 make
 6 make check 7 make install
 8 安装完毕~
 9 stress --version
10 终端显⽰： stress 1.0.4 安装成功

2、在线安装

sudo apt update
sudo apt install stress

三、**stress**⼯具参数说明

1 常⽤选项：
2 -v #显⽰软件版本信息
3 -c #产⽣多个处理sqrt（ ）函数的CPU进程 -t #执⾏运⾏多少秒
4 -i #产⽣多个处理sync（ ）函数的磁盘I/O进程 -m #产⽣多个处理malloc()内存分配函数的进程 -d #产⽣多个执⾏write()函数的进程

四、**stress**⼯具命令详解

1、消耗CPU资源

stress消耗cpu资源⽅式是通过调⽤sqrt函数计算由rand函数产⽣的随机数平⽅根实现。

1 stress -c 4

![](https://img2024.cnblogs.com/blog/1747104/202501/1747104-20250108152033012-991480740.jpg)

![](https://img2024.cnblogs.com/blog/1747104/202501/1747104-20250108151827359-2081519332.png)

2、消耗内存资源

\--vm-keep 下⾯命令产⽣两个⼦进程， 每个进程分配500M内存， ⼀直占⽤不释放。

stress --vm 2 --vm-bytes 500M --vm-keep

![](https://img2024.cnblogs.com/blog/1747104/202501/1747104-20250108152032957-649105802.jpg)

\--vm-hang N 下⾯命令产⽣两个⼦进程， 指⽰每个进程分配500M内存后休眠N秒， 然后释放内存， 重 复执⾏这个过程。

stress --vm -2 --vm-bytes 500M --vm-hang 5

![](https://img2024.cnblogs.com/blog/1747104/202501/1747104-20250108151938296-1474464987.png)

3、消耗硬盘空间及磁盘IO

下⾯命令产⽣2个进程不断在磁盘上创建500M⼤小的⽂件并写⼊内容， 2个进程反复调⽤sync函数将内 存上内容写到硬盘上。

stress -i 2 -d 2 --hdd-bytes 500M --timeout 5

五、测试思路

当需要测试⼀款应⽤或web服务在设备上运⾏的稳定性时， 通常情况下我们都是在理想情况下进⾏， 设备资源⽆任何波动变化；而实际使⽤情况并⾮如此， 不可能⼀台服务器只部署⼀个应⽤。

所以更需要考虑的是稳定性测试的第⼆和第三阶段， 在服务资源波动情况下， 我们的应⽤或web服务 能否稳定运⾏ ， 当受到外界⼲扰时能否做出正确的处理。 因此我们就需要借助⼯具或脚本来模拟资源使 ⽤情况， 进而更真实的贴合⽤⼾现场环境， 测试我们的程序稳定性。