---
layout: post
title: 'ã€STM32H7ã€‘åŸºäºCubeMXä»é›¶å¼€å§‹æ­å»ºçš„HALåº“å·¥ç¨‹æ¨¡æ¿ï¼ˆåŒ…å«ä¸²å£é‡å®šå‘å’ŒDSPåº“ï¼‰'
date: "2025-09-27T00:37:41Z"
---
ã€STM32H7ã€‘åŸºäºCubeMXä»é›¶å¼€å§‹æ­å»ºçš„HALåº“å·¥ç¨‹æ¨¡æ¿ï¼ˆåŒ…å«ä¸²å£é‡å®šå‘å’ŒDSPåº“ï¼‰
==============================================

å‰è¨€
==

_æ­¤æ¬¡åŸºæœ¬å·¥ç¨‹ä½¿ç”¨çš„èŠ¯ç‰‡ä¸º**STM32H743IIT6**_  
_Keilå’ŒCubeMXä»¥åŠH7ç¡¬ä»¶æ”¯æŒåŒ…è‡ªè¡Œåœ¨ç½‘ä¸Šæœç´¢ä¸‹è½½ï¼Œéƒ½ä¸‹æœ€æ–°ç‰ˆå³å¯ã€‚  
è¿™é‡Œæä¾›ä¸€ä¸ªä¸‹è½½H7ç¡¬ä»¶æ”¯æŒåŒ…çš„ç½‘å€ï¼š[ARM](https://www.keil.arm.com/devices/#/eula-container "ARM")_  
_åœ¨è¿™é‡Œæˆ‘ä»¬ä¼šä»é›¶å¼€å§‹ï¼ˆé™¤äº†ä¸‹è½½å®‰è£…ï¼‰ï¼Œé…ç½®ä¸€ä¸ªå®Œæ•´çš„æ–¹ä¾¿ç®¡ç†çš„H7åŸºæœ¬å·¥ç¨‹ï¼Œä¸‹é¢æ˜¯åŸºæœ¬å·¥ç¨‹è¦è¾¾åˆ°çš„ç›®æ ‡ï¼š_  
_**1.é…ç½®å¥½å†…å­˜ä¿æŠ¤å•å…ƒ  
2.å»ºç«‹ç›¸åº”æ–‡ä»¶å¤¹ä¾¿äºç®¡ç†  
3.å¯ä»¥æ­£å¸¸ä½¿ç”¨ä¸²å£è¿›è¡Œå¤–éƒ¨è°ƒè¯•  
4.é…ç½®å¥½DSPåº“**_

CubeMXåŸºæœ¬é…ç½®
==========

ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©èŠ¯ç‰‡
--------

**1.ä»æœç´¢æ¡†ä¸­æœç´¢â€œSTM32H743IIT6â€åŒå‡»å³å¯ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925204151918-911109615.png)

* * *

**2.è¿™é‡Œè¯´çš„æ˜¯å¼ºçƒˆå»ºè®®å†…æ ¸ä¸ºM7çš„è®¾å¤‡é¢„å…ˆé…ç½®å†…å­˜ä¿æŠ¤å•å…ƒï¼ˆMPUï¼‰ï¼Œæ˜¯å¦åº”ç”¨æ­¤ç±»é»˜è®¤é…ç½®ï¼Ÿ**  
**ç”±äºæˆ‘ä»¬è¿™é‡Œæ˜¯ä»é›¶å¼€å§‹çš„é…ç½®ï¼Œå¹¶ä¸”é»˜è®¤é…ç½®ä¹Ÿå¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„é‚£æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±é€‰æ‹©â€œå¦â€ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925204317230-544358102.png)

ç¬¬äºŒæ­¥ï¼šé…ç½®æ—¶é’Ÿ
--------

**1.ç‚¹å‡»å·¦è¾¹æ RCCï¼Œé«˜é€Ÿæ—¶é’Ÿå’Œä½é€Ÿæ—¶é’Ÿéƒ½é€‰æ‹©å¤–éƒ¨æ—¶é’Ÿæ™¶æŒ¯ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925205506471-1513755099.png)

* * *

**2.é…ç½®æ—¶é’Ÿæ ‘ï¼Œç›´æ¥é…ç½®ä¸ºæœ€å¤§ä¸»é¢‘480MHzå³å¯ï¼Œåé¢çš„APBå’ŒAHBæ€»çº¿ä¹Ÿå¯ä»¥è¾¾åˆ°æœ€å¤§é¢‘ç‡ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925210059729-1123737295.png)

ç¬¬ä¸‰æ­¥ï¼šé…ç½®DEBUGè°ƒè¯•
-------------

**é€‰æ‹©ä½¿ç”¨é€šä¿¡çº¿æœ€å°‘çš„ä¸²è¡Œçº¿æ¨¡å¼ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925210949174-93816948.png)

ç¬¬å››æ­¥ï¼šç”Ÿæˆå·¥ç¨‹æ–‡ä»¶
----------

**1\. Project**  
**è¿™é‡Œæ ¹æ®ä¸‹å›¾é…ç½®å³å¯ã€‚  
å·¥ç¨‹ç»“æ„ï¼šæ¨èé€‰æ‹©Advancedï¼Œæ›´æ–¹ä¾¿ç®¡ç†å·¥ç¨‹ã€‚  
å †æ ˆè®¾ç½®ï¼šéœ€è¦ä¿®æ”¹å †æ ˆå¿…é¡»åœ¨è¿™ä¿®æ”¹ï¼Œä¸ç„¶æ¯æ¬¡é‡æ–°ç”Ÿæˆå·¥ç¨‹å †æ ˆéƒ½ä¼šæ¢å¤ï¼Œè¿™é‡Œä¿æŒé»˜è®¤å †æ ˆè®¾ç½®å°±å¥½ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925213422191-1800100193.png)

* * *

**ä¸‹é¢æ˜¯ä¸¤ä¸ªç»“æ„çš„åŒºåˆ«ï¼š**  
**Basicç»“æ„ï¼š**  
![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925213659548-1353668710.png)  
**Advancedç»“æ„ï¼š**  
![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250925213723189-1030665331.png)

* * *

**2.Code Generator**

**å¯¹åº”å›¾ç‰‡é…ç½®å®Œæˆåï¼Œç‚¹å‡»å³ä¸Šè§’GENERATE CODEç”Ÿæˆä»£ç ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926195504352-1869339974.png)

å·¥ç¨‹æ–‡ä»¶ç®¡ç†
======

Driversæ–‡ä»¶å¤¹ç®¡ç†
------------

**æ‰“å¼€å·¥ç¨‹æ–‡ä»¶ï¼Œåœ¨Driversæ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºå¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶ï¼ˆä»…ä»…æ˜¯æˆ‘çš„ä¹ æƒ¯ï¼‰ï¼š**

> BSPï¼šå­˜æ”¾ä¸ç¡¬ä»¶æ¿å¡ç›¸å…³çš„æ¿è½½çº§åˆ«é©±åŠ¨ã€‚  
> DSPï¼šå­˜æ”¾ä¸æ•°å­—ä¿¡å·å¤„ç†ç›¸å…³çš„ç®—æ³•å’Œå‡½æ•°ï¼ˆä¸ªäººä¹ æƒ¯ï¼‰ã€‚  
> MODULEï¼šå­˜æ”¾å¤–éƒ¨æ¨¡å—æˆ–ç»„ä»¶çš„é©±åŠ¨ç¨‹åºã€‚  
> SYSTEMï¼šå­˜æ”¾ç³»ç»Ÿçº§åˆ«çš„é©±åŠ¨å’ŒåŠŸèƒ½ï¼Œä¾‹å¦‚å¤´æ–‡ä»¶ç®¡ç†ã€SysTickå®šæ—¶å™¨ã€ä¸­æ–­ç®¡ç†ä»¥åŠå„ç§å»¶æ—¶ç­‰ç­‰ã€‚

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926130634915-746512127.png)

**å¹¶ä¸”åœ¨æ¯ä¸€ä¸ªæ–°å»ºçš„æ–‡ä»¶å¤¹å½“ä¸­å†æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«å‘½åä¸ºâ€œSrcâ€å’Œâ€œIncâ€ç”¨äºå­˜æ”¾.cå’Œ.hæ–‡ä»¶ï¼š**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926131255789-303750908.png)

* * *

**æ¥ç€æˆ‘ä»¬æ‰“å¼€Keil5ä¸­çš„å°æ–¹å—ï¼Œæ ¹æ®åˆšåˆšæ–°å»ºçš„æ–‡ä»¶å¤¹ï¼Œåœ¨ç»„ç®¡ç†è¿™é‡Œæ·»åŠ è¿›å»ï¼Œç‚¹å‡»OKï¼Œå°±å¯ä»¥åœ¨ä¾§è¾¹æ ä¸­çœ‹åˆ°æ–°å»ºçš„å‡ ä¸ªæ–‡ä»¶ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926132225305-1660569577.png)

* * *

**æ¥ä¸‹æ¥å°±æ˜¯è¦æ·»åŠ å¤´æ–‡ä»¶çš„é“¾æ¥äº†ï¼Œè·Ÿç€å›¾ç‰‡æ“ä½œå³å¯ï¼š**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926133239596-823810540.png)

é­”æœ¯æ£’é…ç½®
=====

**è¿™é‡Œåªé…ç½®æˆ‘è®¤ä¸ºå¿…è¦çš„ï¼Œå¾€åé‡åˆ°ä¸€äº›é—®é¢˜å¯ä»¥å†è‡ªè¡Œæœç´¢æ›´æ”¹æŸäº›é…ç½®ã€‚**

"Target"
--------

> **ARM Compiler(ARMç¼–è¾‘å™¨)ï¼š** ç”±äºåšä¸»å®‰è£…çš„æ˜¯V5.39ç‰ˆæœ¬çš„Keilï¼Œæ‰€ä»¥é»˜è®¤å®‰è£…çš„ç¼–è¾‘å™¨å·²ç»æ˜¯AC6äº†ï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒæ¨èä½¿ç”¨AC6å»ç¼–è¯‘ã€‚  
> **Floating Point Hardware(ç¡¬ä»¶æµ®ç‚¹åŠ é€Ÿ)ï¼š** H7æ˜¯æœ‰åŒç²¾åº¦ç¡¬ä»¶æµ®ç‚¹å‹åŠ é€ŸåŠŸèƒ½çš„ï¼Œæˆ‘ä»¬ç›´æ¥é€‰æ‹©å…¶å³å¯ã€‚  
> **IROM(å†…éƒ¨æ°¸ä¹…å†…å­˜)/IRAM(å†…éƒ¨æš‚å­˜å†…å­˜)ï¼š** è¿™é‡ŒæŒ‡çš„éƒ½æ˜¯ç‰‡ä¸Š(on-chip)çš„å†…å­˜ï¼ŒH7çš„Flashé¦–åœ°å€ä¸º0x8000000ï¼Œå¤§å°æ˜¯0x200000ï¼Œå³2MBï¼›H7çš„ç‰‡ä¸ŠRAMåˆ†ä¸ºäº†å¾ˆå¤šä¸ªéƒ¨åˆ†ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢å†è®²ï¼Œé»˜è®¤çš„RAMå†…å­˜é€‰æ‹©DTCMï¼Œé¦–åœ°å€0x2000 0000ï¼Œå¤§å°0x20000ï¼Œå³128KBï¼Œè¿˜æœ‰AXI SRAMçš„å†…å­˜ï¼Œé¦–åœ°å€æ˜¯0x2400 0000ï¼Œå¤§å°0x80000ï¼Œå³512KBã€‚

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926134423536-916253873.png)

"C/C++"
-------

> **Define(å®)ï¼š** å¤åˆ¶åé¢çš„æ•´æ®µä»£ç ä¸Šå»å³å¯`USE_HAL_DRIVER,STM32H743xx,ARM_MATH_MATRIX,ARM_MATH_LOOPUNROLL,ARM_MATH_CM7,DATA_IN_ExtSDRAM,USE_PWR_LDO_SUPPLY`  
> **Optimization(ä¼˜åŒ–ç­‰çº§)ï¼š** æˆ‘ä¸€èˆ¬ä¹ æƒ¯é€‰æ‹©æœ€å¤§ä¼˜åŒ–ã€‚å†å‹¾ä¸Šåé¢çš„ä¼˜åŒ–æ—¶é—´Link-Time Optimizationã€‚  
> **Include Paths(åŒ…å«è·¯å¾„)ï¼š** ä¸Šé¢Driversæ–‡ä»¶å¤¹ç®¡ç†ä¸­å·²ç»é…ç½®è¿‡äº†ï¼Œä¸è®°å¾—çš„å¯ä»¥è¿”å›å»çœ‹çœ‹ã€‚

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926144942989-1889751229.png)

"Debug"
-------

**é€‰æ‹©å¥½è‡ªå·±çš„çƒ§å½•å™¨åï¼Œå°±ç›´æ¥è¿›å…¥Settingè®¾ç½®çƒ§å½•å™¨é€‰é¡¹ï¼š**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926145115876-420367075.png)

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926145224035-1658079291.png)

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926145345684-1041353449.png)

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926145430589-1929455876.png)

æ‰³æ‰‹ğŸ”§è®¾ç½®
======

**è¿™é‡Œå¯ä»¥è®¾ç½®çš„æœ‰ï¼šç¼–ç æ ¼å¼ã€å­—ä½“ä¸»é¢˜ã€ç¼©è¿›ã€è¯­æ³•æç¤ºå’Œæ£€æµ‹åŠŸèƒ½ç­‰ç­‰ã€‚**

è®¾ç½®ç¼–ç æ ¼å¼
------

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926150719087-1886029943.png)

è®¾ç½®å­—ä½“
----

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926191614452-1861071040.png)

åŸºæœ¬æ–‡ä»¶æ·»åŠ 
======

**1.åœ¨Drivers/SYSTEM/Incæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª"headers.h"æ–‡ä»¶  
å°†ä»¥ä¸‹ç¨‹åºå¤åˆ¶è¿›å»ï¼š**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    #ifndef __HEADERS_H
    #define __HEADERS_H
    
    /* ä¸»å‡½æ•°é¢„å¤„ç†æŒ‡ä»¤ */
    #include "main.h"
    
    /* DSPåº“å‡½æ•° */
    
    /* ç‰‡ä¸Šå¤–è®¾åº“å‡½æ•° */
    
    /* Cè¯­è¨€åº“å‡½æ•° */
    #include "stdio.h"
    #include "string.h"
    #include "stdlib.h"
    #include "stdbool.h"
    #include "math.h"
    
    /*------------------------ SYS ------------------------*/
    
    /*------------------------ DSP ------------------------*/
    /* ä¸ªäººå‡½æ•° */
    
    /*------------------------ BSP ------------------------*/
    /* å¤–è®¾ */
    
    /* åè®®/ç®—æ³• */
    
    /*------------------------ MODULE ------------------------*/
    /* æ¨¡å—å¯ç”¨ç®¡ç† */
    
    /* æ¨¡å— */
    
    /*------------------------ å…¨å±€ç³»æ•° ------------------------*/
    #define pi		3.14159265358979323846f	/* å®šä¹‰åœ†å‘¨ç‡çš„è¿‘ä¼¼å€¼ï¼Œæ–¹ä¾¿è®¡ç®—æ­£å¼¦æ³¢ç­‰æ³¢å½¢æ—¶ä½¿ç”¨ */
    #define ZOOM	(3.3f / 65535.0f)					/* ADCæ¨¡æ•°è½¬æ¢ç¼©æ”¾ç³»æ•° */
    #define IZOOM	(65535.0f / 3.3f)					/* ADCæ¨¡æ•°è½¬æ¢é€†ç¼©æ”¾ç³»æ•° */
    
    
    #endif

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926173932921-293712033.png)

* * *

**2.å†åœ¨main.hä¸­å¢åŠ ä¸‹å›¾ä¸€å¥ä»£ç å£°æ˜è¿™ä¸ªå¤´æ–‡ä»¶ï¼š**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926174154722-1622976251.png)

ä¸²å£å’Œå†…å­˜ä¿æŠ¤å•å…ƒçš„CubeMXé…ç½®
==================

å†…å­˜ä¿æŠ¤å•å…ƒé…ç½®
--------

**å†…å­˜ä¿æŠ¤å•å…ƒå¯ä»¥åœ¨ä¾§è¾¹æ "CORETX\_M7"ä¸­æ‰¾åˆ°ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926172551671-1470753861.png)

**è¿™é‡Œç®€å•è§£é‡Šä¸€ä¸‹MUPå†…å­˜ä¿æŠ¤å•å…ƒï¼Œå…·ä½“çš„é…ç½®è·Ÿç€ä¸‹å›¾é…ç½®å°±å¯ä»¥äº†ï¼š**

> **Speculation default mode(æ¨æµ‹é»˜è®¤æ¨¡å¼)ï¼š** ç”¨äºæ§åˆ¶ CPU æ˜¯å¦å¯ç”¨æŒ‡ä»¤é¢„å–å’Œæ¨æµ‹æ‰§è¡Œï¼Œé«˜æ€§èƒ½åœºæ™¯æ¨èå¼€å¯ä»¥æå‡æ•ˆç‡ï¼Œä¸¥æ ¼å®æ—¶æ€§ã€ä½åŠŸè€—æˆ–æœ‰æ—¶åºä¾èµ–çš„åœºæ™¯å»ºè®®å…³é—­ä»¥ä¿è¯ç¡®å®šæ€§ã€‚  
> **CPU ICache(é«˜çº§æŒ‡ä»¤ç¼“å­˜)/CPU DCache(é«˜çº§æ•°æ®ç¼“å­˜)ï¼š** å› ä¸ºH7èŠ¯ç‰‡çš„ä¸»é¢‘è¿œè¿œé«˜å‡ºSRAMçš„é¢‘ç‡ï¼Œå³SRAMçš„ä¼ è¾“é€Ÿåº¦è·Ÿä¸ä¸ŠèŠ¯ç‰‡äº†ã€‚AXI SRAMã€SRAM1ã€SRAM2çš„é¢‘ç‡ä¸€èˆ¬åœ¨240MHzï¼Œè€ŒH7èŠ¯ç‰‡çš„é¢‘ç‡å·²ç»è¾¾åˆ°äº†480MHzï¼ˆCacheçš„å·¥ä½œé¢‘ç‡ä¹Ÿæ˜¯480MHzï¼‰ï¼Œè¿™é‡Œä¸ºäº†æé«˜CPUå¯¹SRAMçš„è®¿é—®é€Ÿåº¦ï¼Œæ‰€ä»¥å¼•å…¥äº†Cacheã€‚å®ƒå¯ä»¥å°†CPUå¸¸ç”¨çš„æ•°æ®å­˜å‚¨èµ·æ¥ï¼Œå½“CPUå»è®¡ç®—å…¶ä»–æ•°æ®çš„æ—¶å€™ï¼Œå®ƒå°±å¯ä»¥å»æ›¿CPUå®Œæˆå¯¹SRAMçš„è¯»å†™æ“ä½œã€‚æ‰€ä»¥Cacheæ˜¯ä¸ºäº†è§£å†³CPUè·å–SRAMæ•°æ®æ…¢çš„é—®é¢˜è€Œå­˜åœ¨çš„ã€‚  
> **MPU Control Mode(å†…å­˜ä¿æŠ¤å•å…ƒæ§åˆ¶æ¨¡å¼)ï¼š** å…¶å¯„å­˜å™¨æœ‰ä¸‰ä½ï¼Œç¬¬0ä½ä¸ºæ˜¯å¦ä½¿èƒ½MPUï¼Œç¬¬1ä½ä¸ºæ˜¯(1)å¦(0)åœ¨ç¡¬æ•…éšœæœŸé—´ä½¿èƒ½MPUï¼Œç¬¬2ä½æ˜¯å½“æˆ‘ä»¬è®¿é—®æ²¡æœ‰é…ç½®çš„å†…å­˜åŒºåŸŸæ—¶ï¼Œæ˜¯(0)å¦(1)ä¼šå¼•èµ·é”™è¯¯ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç¬¬ä¸‰ä¸ªé€‰é¡¹ï¼šä½¿èƒ½MPUï¼Œä¸”å½“è®¿é—®æ²¡æœ‰é…ç½®çš„å†…å­˜åŒºåŸŸçš„æ—¶å€™ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œå¹¶ä¸”åœ¨ç¡¬é”™è¯¯çš„æ—¶å€™å¤±èƒ½MPUã€‚  
> **ä¸‹é¢æ˜¯æ•´ä¸ªæ¯ä¸€ä¸ªåŒºåŸŸçš„MPUé…ç½®çš„è¯¦ç»†è¯´æ˜ï¼ˆç»™äº†ä»£ç å’Œæç¤ºè¯è®©AIç”Ÿæˆçš„ï¼‰ï¼š**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    /*
     * æœ¬ä»£ç ä½¿ç”¨å†…å­˜ä¿æŠ¤å•å…ƒï¼ˆMPUï¼‰å¯¹ STM32 ä¸åŒå†…å­˜åŒºåŸŸè¿›è¡Œä¿æŠ¤é…ç½®ï¼Œæ—¨åœ¨é€šè¿‡ç²¾ç»†åŒ–çš„æƒé™ä¸å±æ€§ç®¡æ§ï¼Œå¢å¼ºç³»ç»Ÿå®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼Œ
     * ç¡®ä¿å„å†…å­˜åŒºåŸŸä»…æŒ‰é¢„è®¾è§„åˆ™è¢«è®¿é—®ã€‚ä»¥ä¸‹æ˜¯å¯¹å„ä¸ªå†…å­˜åŒºåŸŸé…ç½®çš„è¯¦ç»†è¯´æ˜ï¼š
     * 
     * 1. ç¬¬ä¸€ä¸ªå†…å­˜åŒºåŸŸï¼ˆDTCMï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šæ•´ä¸ª DTCMï¼Œå…± 128K å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸ºç´§å¯†è€¦åˆæ•°æ®å­˜å‚¨å™¨ï¼Œå…·æœ‰æä½çš„è®¿é—®å»¶è¿Ÿï¼Œé€šå¸¸ç”¨äºå­˜å‚¨å¯¹é€Ÿåº¦è¦æ±‚é«˜çš„å…³é”®æ•°æ®ï¼ˆå¦‚å®æ—¶è¿ç®—å˜é‡ã€ä¸­æ–­æœåŠ¡ç¨‹åºä¸´æ—¶æ•°æ®ï¼‰ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER0ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x20000000ï¼Œæ­¤ä¸º DTCM åœ¨ STM32 å†…å­˜æ˜ å°„ä¸­çš„å›ºå®šèµ·å§‹ä½ç½®ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼ˆè¡¨ç¤ºæ•´ä¸ª 128KB åŒºåŸŸå‡ç”Ÿæ•ˆä¿æŠ¤é…ç½®ï¼‰ã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œå®šä¹‰å†…å­˜ç±»å‹ä¸ºæ™®é€šå¯ç¼“å­˜/ç¼“å†²ç±»å‹ï¼Œç¬¦åˆ DTCM ç¡¬ä»¶ç‰¹æ€§ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_128KBï¼Œæ˜ç¡®ä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª DTCM åŒºåŸŸã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ— æƒé™é™åˆ¶ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œç¨‹åºå¯ä»è¯¥åŒºåŸŸè¯»å–å¹¶æ‰§è¡Œä»£ç ï¼ˆå¦‚ç´§æ€¥æƒ…å†µä¸‹çš„å¿«é€Ÿå¯åŠ¨ä»£ç ï¼‰ã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œé˜²æ­¢å¤šæ ¸å¿ƒ/å¤–è®¾åŒæ—¶è®¿é—®å¯¼è‡´çš„æ•°æ®ç«äº‰ï¼Œä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚
     *      - ç¼“å­˜å±æ€§ï¼šå…è®¸ç¼“å­˜ï¼Œåˆ©ç”¨ CPU ç¼“å­˜æœºåˆ¶è¿›ä¸€æ­¥é™ä½ DTCM æ•°æ®çš„è®¿é—®å»¶è¿Ÿã€‚
     *      - ç¼“å†²å±æ€§ï¼šå…è®¸ç¼“å†²ï¼Œé€šè¿‡å†™ç¼“å†²ä¼˜åŒ–æ•°æ®å†™å…¥æ•ˆç‡ï¼Œå‡å°‘ CPU ç­‰å¾…æ—¶é—´ã€‚
     * 
     * 2. ç¬¬äºŒä¸ªå†…å­˜åŒºåŸŸï¼ˆAXI SRAMï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šæ•´ä¸ª AXI SRAMï¼Œå…± 512K å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸé€šè¿‡ AXI æ€»çº¿ä¸ç³»ç»Ÿè¿æ¥ï¼Œå…·å¤‡é«˜å¸¦å®½ç‰¹æ€§ï¼Œé€šå¸¸ç”¨äºå­˜å‚¨å¤§å®¹é‡ä¸­é—´æ•°æ®ï¼ˆå¦‚ç®—æ³•å¤„ç†çš„æ‰¹é‡æ•°æ®ã€å¤–è®¾ DMA ä¼ è¾“ç¼“å­˜ï¼‰ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER1ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x24000000ï¼Œæ­¤ä¸º AXI SRAM åœ¨ STM32 å†…å­˜æ˜ å°„ä¸­çš„å›ºå®šèµ·å§‹ä½ç½®ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 512KB åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆ AXI SRAM æ™®é€šå†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_512KBï¼Œæ˜ç¡®ä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª AXI SRAM åŒºåŸŸã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ— æƒé™é™åˆ¶ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œç¨‹åºå¯ä»è¯¥åŒºåŸŸè¯»å–å¹¶æ‰§è¡Œä»£ç ã€‚
     *      - å…±äº«å±æ€§ï¼šå¯å…±äº«ï¼Œæ”¯æŒå¤šæ ¸å¿ƒ/å¤–è®¾ï¼ˆå¦‚ DMAã€GPUï¼‰åŒæ—¶è®¿é—®ï¼Œæå‡ç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡ã€‚
     *      - ç¼“å­˜å±æ€§ï¼šå…è®¸ç¼“å­˜ï¼Œåˆ©ç”¨ç¼“å­˜é™ä½é«˜é¢‘è®¿é—®æ•°æ®çš„å»¶è¿Ÿã€‚
     *      - ç¼“å†²å±æ€§ï¼šç¦æ­¢ç¼“å†²ï¼Œé¿å…å†™ç¼“å†²å¯¼è‡´çš„å¤šè®¾å¤‡è®¿é—®æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚ DMA ç›´æ¥è¯»å–æ—¶çš„â€œè„æ•°æ®â€é—®é¢˜ï¼‰ã€‚
     * 
     * 3. ç¬¬ä¸‰ä¸ªå†…å­˜åŒºåŸŸï¼ˆSRAM1~SRAM3ï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šæ•´ä¸ª SRAM1~SRAM3ï¼Œå…± 512K å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸º STM32 æ ¸å¿ƒå¸¸ç”¨é™æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼Œé€šç”¨æ€§å¼ºï¼Œé€šå¸¸ç”¨äºå­˜å‚¨æ™®é€šå…¨å±€å˜é‡ã€å‡½æ•°æ ˆã€å¤–è®¾é…ç½®å‚æ•°ç­‰ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER2ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x30000000ï¼Œæ­¤ä¸º SRAM1~SRAM3 åœ¨ STM32 å†…å­˜æ˜ å°„ä¸­çš„å›ºå®šèµ·å§‹ä½ç½®ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 512KB åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆæ™®é€š SRAM å†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_512KBï¼Œæ˜ç¡®ä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª SRAM1~SRAM3 åŒºåŸŸã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ–¹ä¾¿æ—¥å¸¸æ•°æ®äº¤äº’ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œç¨‹åºå¯ä»è¯¥åŒºåŸŸè¯»å–å¹¶æ‰§è¡Œä»£ç ï¼ˆå¦‚ Bootloader è·³è½¬ä»£ç ï¼‰ã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œé˜²æ­¢å¤šè®¾å¤‡å¹¶å‘è®¿é—®å¹²æ‰°æ™®é€šå˜é‡çš„è¯»å†™ï¼Œä¿éšœæ•°æ®ç‹¬ç«‹æ€§ã€‚
     *      - ç¼“å­˜å±æ€§ï¼šå…è®¸ç¼“å­˜ï¼Œæå‡ CPU å¯¹è¯¥åŒºåŸŸæ•°æ®çš„è®¿é—®é€Ÿåº¦ã€‚
     *      - ç¼“å†²å±æ€§ï¼šå…è®¸ç¼“å†²ï¼Œé€šè¿‡å†™ç¼“å†²ä¼˜åŒ–æ•°æ®å†™å…¥æ•ˆç‡ï¼Œå‡å°‘ CPU ç­‰å¾…ã€‚
     * 
     * 4. ç¬¬å››ä¸ªå†…å­˜åŒºåŸŸï¼ˆSRAM4ï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šæ•´ä¸ª SRAM4ï¼Œå…± 64K å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸ºç‹¬ç«‹çš„å°å‹ SRAMï¼Œé€šå¸¸ç”¨äºå­˜å‚¨æ•æ„Ÿæ•°æ®ï¼ˆå¦‚åŠ å¯†å¯†é’¥ã€ç¡¬ä»¶é…ç½®å‚æ•°ï¼‰æˆ–é¢„ç•™ä¸ºç‰¹å®šåŠŸèƒ½ç¼“å†²åŒºï¼Œéœ€ä¸¥æ ¼é™åˆ¶è®¿é—®ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER3ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x38000000ï¼Œæ­¤ä¸º SRAM4 åœ¨ STM32 å†…å­˜æ˜ å°„ä¸­çš„å›ºå®šèµ·å§‹ä½ç½®ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 64KB åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆ SRAM4 æ™®é€šå†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_64KBï¼Œæ˜ç¡®ä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª SRAM4 åŒºåŸŸã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_NO_ACCESSï¼Œç¦æ­¢å¯¹è¯¥åŒºåŸŸè¿›è¡Œä»»ä½•è¯»ã€å†™æ“ä½œï¼Œä»ç¡¬ä»¶å±‚é¢é˜»æ–­éæˆæƒè®¿é—®ï¼Œä¿éšœæ•æ„Ÿæ•°æ®å®‰å…¨ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œä½†å› è®¿é—®æƒé™ä¸ºâ€œæ— è®¿é—®â€ï¼Œå®é™…æ— æ³•æ‰§è¡Œä»£ç ï¼ˆæƒé™ä¼˜å…ˆçº§é«˜äºæ‰§è¡Œå…è®¸ï¼‰ã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œè¿›ä¸€æ­¥éš”ç¦»è¯¥åŒºåŸŸï¼Œé˜²æ­¢å¤–éƒ¨è®¾å¤‡éæ³•è®¿é—®ã€‚
     *      - ç¼“å­˜å±æ€§ï¼šå…è®¸ç¼“å­˜ï¼Œè‹¥åç»­å¼€æ”¾æƒé™ï¼Œå¯é€šè¿‡ç¼“å­˜æå‡è®¿é—®æ•ˆç‡ã€‚
     *      - ç¼“å†²å±æ€§ï¼šå…è®¸ç¼“å†²ï¼Œè‹¥åç»­å¼€æ”¾æƒé™ï¼Œå¯é€šè¿‡å†™ç¼“å†²ä¼˜åŒ–æ•°æ®å†™å…¥ã€‚
     * 
     * 5. ç¬¬äº”ä¸ªå†…å­˜åŒºåŸŸï¼ˆMCU LCD å±æ‰€åœ¨çš„ FMC åŒºåŸŸï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šMCU LCD å±è¿æ¥çš„ FMC å¤–éƒ¨å­˜å‚¨åŒºåŸŸï¼Œå…± 256M å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸º FMCï¼ˆçµæ´»å†…å­˜æ§åˆ¶å™¨ï¼‰ç®¡ç†çš„å¤–éƒ¨è®¾å¤‡æ˜ å°„åœ°å€ï¼Œç”¨äºä¸ LCD å±è¿›è¡Œæ•°æ®äº¤äº’ï¼ˆå¦‚å†™å…¥æ˜¾ç¤ºå›¾åƒæ•°æ®ã€è¯»å– LCD çŠ¶æ€ï¼‰ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER4ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x60000000ï¼Œæ­¤ä¸º STM32 FMC å¤–éƒ¨è®¾å¤‡æ˜ å°„çš„å¸¸ç”¨èµ·å§‹åœ°å€ï¼ˆLCD å±é€šå¸¸æŒ‚è½½äºæ­¤ï¼‰ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 256MB FMC åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆ FMC å¤–éƒ¨è®¾å¤‡çš„å†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_256MBï¼Œæ»¡è¶³ LCD å±é«˜åˆ†è¾¨ç‡å›¾åƒæ•°æ®ï¼ˆå¦‚ 4K å›¾åƒï¼‰çš„å­˜å‚¨éœ€æ±‚ã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼ˆå¦‚å†™å…¥åƒç´ æ•°æ®ã€è¯»å– LCD æ§åˆ¶å¯„å­˜å™¨ï¼‰ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œä½† FMC åŒºåŸŸä¸ºå¤–éƒ¨è®¾å¤‡åœ°å€ï¼Œå®é™…ä¸æ”¯æŒä»£ç æ‰§è¡Œï¼ˆç¡¬ä»¶å±‚é¢é™åˆ¶ï¼‰ã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œé˜²æ­¢å¤šè®¾å¤‡åŒæ—¶è®¿é—® LCD å¯¼è‡´çš„æ˜¾ç¤ºé”™ä¹±ã€‚
     *      - ç¼“å­˜å±æ€§ï¼šç¦æ­¢ç¼“å­˜ï¼Œé¿å…ç¼“å­˜ä¸­çš„â€œæ—§æ•°æ®â€ä¸ LCD å®é™…æ˜¾ç¤ºéœ€æ±‚ä¸ä¸€è‡´ï¼ˆå¦‚åŠ¨æ€å›¾åƒæ›´æ–°æ—¶çš„æ®‹å½±é—®é¢˜ï¼‰ã€‚
     *      - ç¼“å†²å±æ€§ï¼šç¦æ­¢ç¼“å†²ï¼Œç¡®ä¿æ•°æ®å®æ—¶ä¼ è¾“åˆ° LCD å±ï¼Œä¿éšœæ˜¾ç¤ºç”»é¢çš„æ—¶æ•ˆæ€§ã€‚
     * 
     * 6. ç¬¬å…­ä¸ªå†…å­˜åŒºåŸŸï¼ˆSDRAM åŒºåŸŸï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šå¤–éƒ¨ SDRAM å­˜å‚¨åŒºåŸŸï¼Œå…± 32M å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸ºå¤§å®¹é‡åŒæ­¥åŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼Œé€šå¸¸ç”¨äºå­˜å‚¨è¶…å¤§æ•°æ®é‡ï¼ˆå¦‚è§†é¢‘æµã€æ—¥å¿—æ–‡ä»¶ã€å¤§å‹ç®—æ³•çš„æ•°æ®é›†ï¼‰ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER5ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0xC0000000ï¼Œæ­¤ä¸º STM32 å¤–éƒ¨ SDRAM å¸¸ç”¨çš„å†…å­˜æ˜ å°„èµ·å§‹åœ°å€ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 32MB SDRAM åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆ SDRAM å†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_32MBï¼Œæ»¡è¶³ä¸­å¤§å®¹é‡æ•°æ®å­˜å‚¨éœ€æ±‚ï¼ˆå¦‚ 1080P è§†é¢‘çš„ä¸´æ—¶ç¼“å­˜ï¼‰ã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼Œæ”¯æŒå¤§æ•°æ®é‡äº¤äº’ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œä½† SDRAM è®¿é—®å»¶è¿Ÿè¾ƒé«˜ï¼Œé€šå¸¸ä¸ç”¨äºä»£ç æ‰§è¡Œã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œé˜²æ­¢å¤šæ ¸å¿ƒ/å¤–è®¾å¹¶å‘è®¿é—®å¯¼è‡´çš„ SDRAM æ€»çº¿å†²çªã€‚
     *      - ç¼“å­˜å±æ€§ï¼šå…è®¸ç¼“å­˜ï¼Œå¯¹ SDRAM ä¸­é«˜é¢‘è®¿é—®çš„æ•°æ®ï¼ˆå¦‚é‡å¤ä½¿ç”¨çš„æ•°æ®é›†ï¼‰è¿›è¡Œç¼“å­˜ï¼Œé™ä½å¹³å‡è®¿é—®å»¶è¿Ÿã€‚
     *      - ç¼“å†²å±æ€§ï¼šå…è®¸ç¼“å†²ï¼Œé€šè¿‡å†™ç¼“å†²æ‰¹é‡å¤„ç† SDRAM å†™å…¥è¯·æ±‚ï¼Œå‡å°‘ CPU ç­‰å¾…æ€»çº¿çš„æ—¶é—´ã€‚
     * 
     * 7. ç¬¬ä¸ƒä¸ªå†…å­˜åŒºåŸŸï¼ˆNAND FLASH åŒºåŸŸï¼‰
     *    - ä¿æŠ¤èŒƒå›´ï¼šå¤–éƒ¨ NAND FLASH å­˜å‚¨åŒºåŸŸï¼Œå…± 256M å­—èŠ‚ã€‚
     *    - ç”¨é€”ï¼šè¯¥åŒºåŸŸä¸ºéæ˜“å¤±æ€§å­˜å‚¨å™¨ï¼Œé€šå¸¸ç”¨äºå­˜å‚¨å›ºåŒ–æ•°æ®ï¼ˆå¦‚ç¨‹åºå›ºä»¶ã€é…ç½®æ–‡ä»¶ã€å†å²æ—¥å¿—ï¼‰ï¼Œæ–­ç”µåæ•°æ®ä¸ä¸¢å¤±ã€‚
     *    - å…·ä½“é…ç½®ï¼š
     *      - åŒºåŸŸç¼–å·ï¼šMPU_REGION_NUMBER6ï¼Œæ ‡è¯†è¯¥é…ç½®å¯¹åº”çš„ MPU åŒºåŸŸåºå·ã€‚
     *      - åŸºåœ°å€ï¼š0x80000000ï¼Œæ­¤ä¸º STM32 å¤–éƒ¨ NAND FLASH å¸¸ç”¨çš„å†…å­˜æ˜ å°„èµ·å§‹åœ°å€ã€‚
     *      - å­åŒºåŸŸç¦æ­¢ï¼š0x0ï¼Œä¸ç¦æ­¢ä»»ä½•å­åŒºåŸŸï¼Œä¿æŠ¤èŒƒå›´è¦†ç›–æ•´ä¸ª 256MB NAND FLASH åŒºåŸŸã€‚
     *      - å†…å­˜ç±»å‹æ‰©å±•å­—æ®µï¼ˆTEXï¼‰ï¼šMPU_TEX_LEVEL0ï¼Œç¬¦åˆ NAND FLASH å¤–éƒ¨å­˜å‚¨çš„å†…å­˜ç±»å‹å®šä¹‰ã€‚
     *      - å¤§å°ï¼šMPU_REGION_SIZE_256MBï¼Œæ»¡è¶³å¤§é‡éæ˜“å¤±æ€§æ•°æ®çš„é•¿æœŸå­˜å‚¨éœ€æ±‚ã€‚
     *      - è®¿é—®æƒé™ï¼šMPU_REGION_FULL_ACCESSï¼Œå…è®¸å¯¹è¯¥åŒºåŸŸè¿›è¡Œè¯»ã€å†™æ“ä½œï¼ˆå¦‚çƒ§å½•å›ºä»¶ã€è¯»å–é…ç½®æ–‡ä»¶ï¼‰ã€‚
     *      - æŒ‡ä»¤æ‰§è¡Œï¼šå…è®¸æ‰§è¡ŒæŒ‡ä»¤ï¼Œä½† NAND FLASH è¯»é€Ÿåº¦æ…¢ä¸”éœ€åœ°å€æ˜ å°„ï¼Œé€šå¸¸ä¸ç”¨äºä»£ç æ‰§è¡Œã€‚
     *      - å…±äº«å±æ€§ï¼šä¸å¯å…±äº«ï¼Œé˜²æ­¢å¤šè®¾å¤‡åŒæ—¶æ“ä½œ NAND FLASH å¯¼è‡´çš„æ“¦å†™é”™è¯¯æˆ–æ•°æ®æŸåã€‚
     *      - ç¼“å­˜å±æ€§ï¼šç¦æ­¢ç¼“å­˜ï¼Œé¿å…ç¼“å­˜ä¸­çš„æ•°æ®ä¸ NAND FLASH å®é™…æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚ NAND FLASH æ“¦å†™åç¼“å­˜æœªæ›´æ–°ï¼‰ã€‚
     *      - ç¼“å†²å±æ€§ï¼šç¦æ­¢ç¼“å†²ï¼Œç¡®ä¿ NAND FLASH çš„è¯»å†™æ“ä½œå®æ—¶å®Œæˆï¼Œé¿å…ç¼“å†²å¯¼è‡´çš„â€œå†™ä¸¢å¤±â€é—®é¢˜ï¼ˆå¦‚æ–­ç”µæ—¶ç¼“å†²æ•°æ®æœªå†™å…¥ç¡¬ä»¶ï¼‰ã€‚
     */

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926164410717-583576634.png)![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926164039911-2027825575.png)![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926164145219-1419079173.png)![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926164205897-540866058.png)![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926164224043-1109730909.png)

**è·Ÿç€é…ç½®ä¸‹æ¥å†…å­˜ä¿æŠ¤å•å…ƒå°±é…ç½®å®Œæˆäº†ï¼Œä¸éœ€è¦å†™ç¨‹åºã€‚æ¥ä¸‹æ¥å°±æ˜¯ä¸²å£è°ƒè¯•çš„é…ç½®ã€‚**

ä¸²å£é…ç½®
----

### CubeMXä¸­é…ç½®

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926185118452-1681891491.png)

### ç¨‹åºæ¨¡æ¿

**æ–°å»ºæ–‡ä»¶"bsp\_usart.c"å’Œ"bsp\_usart.h"ï¼Œå¤åˆ¶ä»¥ä¸‹ç¨‹åºåˆ°è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚è¿˜æœ‰ä¸€äº›éœ€è¦ä¿®æ”¹çš„è·Ÿç€ä»¥ä¸‹å›¾ç‰‡/ç¨‹åºæ“ä½œå³å¯ã€‚**  
**bsp\_usart.c**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    #include "bsp_usart.h"
    
    /******************************************************************************************/
    /* åŠ å…¥ä»¥ä¸‹ä»£ç , æ”¯æŒprintfå‡½æ•°, è€Œä¸ç”¨é€‰æ‹©use MicroLIB */
    /* å¦‚printf("HIGH:%d us\r\n", temp);æ‰“å°"HIGH:temp\n" */
    
    #if 1
    #if (__ARMCC_VERSION >= 6010050)           /* ä½¿ç”¨AC6ç¼–è¯‘å™¨æ—¶ */
    __asm(".global __use_no_semihosting\n\t"); /* å£°æ˜ä¸ä½¿ç”¨åŠä¸»æœºæ¨¡å¼ */
    __asm(".global __ARM_use_no_argv \n\t");   /* AC6ä¸‹éœ€è¦å£°æ˜mainå‡½æ•°ä¸ºæ— å‚æ•°æ ¼å¼ï¼Œå¦åˆ™éƒ¨åˆ†ä¾‹ç¨‹å¯èƒ½å‡ºç°åŠä¸»æœºæ¨¡å¼ */
    
    #else
    /* ä½¿ç”¨AC5ç¼–è¯‘å™¨æ—¶, è¦åœ¨è¿™é‡Œå®šä¹‰__FILE  ä¸ä½¿ç”¨åŠä¸»æœºæ¨¡å¼ */
    #pragma import(__use_no_semihosting)
    
    struct __FILE
    {
      int handle;
      /* Whatever you require here. If the only file you are using is */
      /* standard output using printf() for debugging, no file handling */
      /* is required. */
    };
    
    #endif
    
    /* ä¸ä½¿ç”¨åŠä¸»æœºæ¨¡å¼ï¼Œè‡³å°‘éœ€è¦é‡å®šä¹‰_ttywrch\_sys_exit\_sys_command_stringå‡½æ•°,ä»¥åŒæ—¶å…¼å®¹AC6å’ŒAC5æ¨¡å¼ */
    int _ttywrch(int ch)
    {
      ch = ch;
      return ch;
    }
    
    /* å®šä¹‰_sys_exit()ä»¥é¿å…ä½¿ç”¨åŠä¸»æœºæ¨¡å¼ */
    void _sys_exit(int x)
    {
      x = x;
    }
    
    char *_sys_command_string(char *cmd, int len)
    {
      return NULL;
    }
    
    /************************** ä»¥ä¸‹æ˜¯å¤šä¸²å£ printf é‡å®šå‘å‡½æ•° **************************/
    /* FILE åœ¨ stdio.h é‡Œé¢å®šä¹‰ */
    FILE __stdout;
    
    UART_HandleTypeDef* Current_USART_Handle = NULL;
    Current_USART_Indx Current_USART_Printf_Indx = USART_NONE;
    
    /* 
     * ç®€ä»‹ï¼šé‡å®šä¹‰ fputc å‡½æ•°ï¼Œç”¨äºå°†å­—ç¬¦è¾“å‡ºåˆ°å½“å‰è®¾ç½®çš„ USART
     * å‚æ•°ï¼š
     * ch - è¦å‘é€çš„å­—ç¬¦
     * f  - æ–‡ä»¶æŒ‡é’ˆï¼ˆåœ¨æ­¤å®ç°ä¸­æœªä½¿ç”¨ï¼‰
     * è¿”å›å€¼ï¼šå‘é€çš„å­—ç¬¦ï¼ˆæˆ– EOF å¦‚æœå‡ºé”™ï¼‰
     */
    int fputc(int ch, FILE *f)
    {
      if(Current_USART_Handle == NULL){          /* å¦‚æœå½“å‰æ²¡æœ‰è®¾ç½® USART å¥æŸ„ï¼Œåˆ™è¿”å› EOF è¡¨ç¤ºé”™è¯¯ */
        return EOF;
      }
      /* æ ¹æ®å½“å‰è®¾ç½®çš„ USART å¥æŸ„ï¼Œé€‰æ‹©å¯¹åº”çš„ USART å¤–è®¾å‘é€å­—ç¬¦ */
      if(Current_USART_Handle == &huart1){
        while ((USART1->ISR & 0X40) == 0);        /* ç­‰å¾… USART1 å‘é€å®Œæˆï¼Œç„¶åå‘é€å­—ç¬¦ */
        USART1->TDR = (uint8_t)ch;             		/* å°†è¦å‘é€çš„å­—ç¬¦ ch å†™å…¥åˆ° DR å¯„å­˜å™¨ */
      }
      return ch;                            /* è¿”å›å‘é€çš„å­—ç¬¦ */
    }
    /* 
     * ç®€ä»‹ï¼šè®¾ç½®å½“å‰ä½¿ç”¨çš„ USART
     * å‚æ•°ï¼šindx - è¦è®¾ç½®çš„ USART ç´¢å¼•
     * è¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯ï¼šUSARTx_IDXï¼Œå…¶ä¸­ x å¯ä»¥æ˜¯ 1~3
     * ä½¿ç”¨ä¸¾ä¾‹ï¼šï¼ˆå¿…é¡»è¦å°†å…¶æ”¾åœ¨ printf å‡½æ•°å‰é¢ï¼ŒæŒ‡å®šå…¶ä¸­ä¸€ä¸ªä¸²å£ï¼‰
     *    Set_Current_USART(USART1_IDX);
     *    printf("æˆ‘æ˜¯ä¸²å£ 1\r\n");
     */
    void Set_Current_USART(Current_USART_Indx indx)
    {
      switch(indx)
      {
        case USART1_IDX:
          Current_USART_Handle = &huart1;
          Current_USART_Printf_Indx = USART1_IDX;
          break;
        default:
          Current_USART_Handle = NULL;
          Current_USART_Printf_Indx = USART_NONE;
          break;
      }
    }
    #endif
    /************************************************************************************/

* * *

**bsp\_usart.h**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    #ifndef __BSP_USART_H
    #define __BSP_USART_H
    
    #include "headers.h"
    
    /******************** ä»¥ä¸‹æ˜¯å¤šè·¯ USART ä¸²å£ printf é‡å®šå‘ ********************/
    /* å®šä¹‰ USART ç´¢å¼•æšä¸¾ */
    typedef enum {
        USART_NONE,        /* æ—  USART */
        USART1_IDX,        /* USART1 ç´¢å¼• */
        USART2_IDX,        /* USART2 ç´¢å¼• */
    		USART3_IDX,        /* USART3 ç´¢å¼• */
    		USART6_IDX,        /* USART6 ç´¢å¼• */
    } Current_USART_Indx;
    
    extern UART_HandleTypeDef* Current_USART_Handle;        /* å½“å‰æŸä¸ª USART çš„å¥æŸ„ */
    extern Current_USART_Indx Current_USART_Printf_Indx;    /* å½“å‰æŸä¸ª USART çš„ç´¢å¼• */
    void Set_Current_USART(Current_USART_Indx indx);        /* å‡½æ•°å£°æ˜ï¼Œç”¨äºè®¾ç½®å½“å‰ä½¿ç”¨çš„ USART */
    /****************************************************************************/
    
    /* ä¸²å£ä¸€ */
    #define UART1_LEN  64
    /* ä¸²å£äºŒ */
    #define UART2_LEN  64
    /* ä¸²å£ä¸‰ */
    #define UART3_LEN  64
    
    
    #endif

* * *

**headers.h**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926190223660-1504856997.png)

* * *

### æµ‹è¯•

**main.cï¼š**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    
      while (1)
      {
    	Set_Current_USART(USART1_IDX);
    	printf("HelloWorld!\r\n");
      }
  

### æ•ˆæœ

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926190826798-177749928.png)

æ•°å­—ä¿¡å·å¤„ç†-DSPåº“é…ç½®
=============

Keilä¸­æ·»åŠ DSPåº“
-----------

**åœ¨Keilä¸­æ·»åŠ DSPåº“æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ç‰ˆæœ¬ä¹Ÿæ˜¯æœ€æ–°çš„ï¼Œæ›´æ–¹ä¾¿ç®¡ç†å’Œæ›´æ–°ã€‚ä¸å¤ªå»ºè®®åœ¨CubeMXä¸­æ·»åŠ DSPåº“**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926191908732-1787721645.png)

DSP-libåº“æ–‡ä»¶
----------

**æˆ‘çš„.libæ–‡ä»¶çš„è·¯å¾„ä¸ºï¼š**`STM32H7xx_Projects\STM32H743IIT6_V\BaseProject\Drivers\CMSIS\DSP\Lib\ARM`

> **arm\_cortexM7b\_math.libï¼š** å¤§ç«¯æ¨¡å¼ï¼Œä¸æ”¯æŒæµ®ç‚¹åŠ é€Ÿ  
> **arm\_cortexM7bfdp\_math.libï¼š** å¤§ç«¯æ¨¡å¼ï¼Œæ”¯æŒåŒç²¾åº¦æµ®ç‚¹åŠ é€Ÿ  
> **arm\_cortexM7bfsp\_math.libï¼š** å¤§ç«¯æ¨¡å¼ï¼Œæ”¯æŒå•ç²¾åº¦æµ®ç‚¹åŠ é€Ÿ  
> **arm\_cortexM7l\_math.libï¼š** å°ç«¯æ¨¡å¼ï¼Œä¸æ”¯æŒæµ®ç‚¹åŠ é€Ÿ  
> **arm\_cortexM7lfdp\_math.libï¼š** å°ç«¯æ¨¡å¼ï¼Œæ”¯æŒåŒç²¾åº¦æµ®ç‚¹åŠ é€Ÿ  
> **arm\_cortexM7lfsp\_math.libï¼š** å°ç«¯æ¨¡å¼ï¼Œæ”¯æŒå•ç²¾åº¦æµ®ç‚¹åŠ é€Ÿ

**STM32é»˜è®¤ä½¿ç”¨å°ç«¯æ¨¡å¼ï¼Œå¹¶ä¸”æˆ‘ä»¬çš„H7æ”¯æŒåŒç²¾åº¦æµ®ç‚¹åŠ é€Ÿï¼Œæ•…æˆ‘ä»¬é€‰æ‹©"arm\_cortexM7lfdp\_math.lib"**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926201530111-2011956683.png)

é¢„ç¼–è¯‘å®
----

**å‰é¢å·²ç»æ·»åŠ è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¸ç”¨ç®¡ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926201815640-1441792205.png)

å¿…è¦å¤´æ–‡ä»¶
-----

**åœ¨headers.hæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹è¯­å¥ï¼ˆå°½é‡æ”¾åœ¨å‰é¢ï¼‰ï¼š**  
**è¿™ä¸‰ä¸ªå¤´æ–‡ä»¶å·²ç»åŒ…å«äº†æ‰€æœ‰çš„DSPåº“å‡½æ•°ã€‚**

ç‚¹å‡»æŸ¥çœ‹ä»£ç 

    /* CMSIS-DSPåº“ */
    #include "arm_math.h"
    #include "arm_const_structs.h"
    #include "DSP/window_functions.h"

æµ‹è¯•
--

**ä¸»å‡½æ•°ä¸­åŠ å…¥ï¼š**`float test = arm_sin_f32(PI / 6.0);`  
**Debugä¸€ä¸‹æŸ¥çœ‹å˜é‡çš„å€¼ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»ç§»æ¤æˆåŠŸäº†ï¼Œè¿˜æ˜¯éå¸¸ç®€å•çš„ã€‚**

![image](https://img2024.cnblogs.com/blog/3619091/202509/3619091-20250926202329420-1499705559.png)

æ€»ç»“
==

**è‡³æ­¤ï¼Œæˆ‘ä»¬çš„åŸºæœ¬å·¥ç¨‹ä¹Ÿå°±é…ç½®å®Œæ¯•äº†ï¼Œå‡å¦‚å‘ç°æœ‰ä»€ä¹ˆé—®é¢˜çš„è¯æ¬¢è¿æé—®ï¼**

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[è†ç›–ä¸­ç®­å«å…µ](https://www.cnblogs.com/Skyrim-sssuuu/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/Skyrim-sssuuu/p/19114196](https://www.cnblogs.com/Skyrim-sssuuu/p/19114196)