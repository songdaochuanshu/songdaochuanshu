---
layout: post
title: 'MCP 实践系列：股票分析'
date: "2025-05-12T00:43:47Z"
---
MCP 实践系列：股票分析
=============

今天，我们介绍了一个通过 **Financial Datasets** 获取股票市场数据的接口。这个接口不仅支持其他 AI 助手通过 **MCP 接口** 直接检索关键的财务数据（如损益表、资产负债表、现金流量表），还可以获取实时的股票价格和市场新闻。这个功能特别适合那些刚入门投资领域的用户进行配置使用，因为它能够让你在不离开工作环境的前提下，实时关注股市动态。相比于一直盯着与工作无关的网页，这样的配置能够有效避免领导觉得你在“摸鱼”。而且，借助将该功能集成到 **IDE 编辑器** 中，不仅可以留下刻苦工作的印象还能查看实时新闻和股票波动。

![image](https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250505193437730-62232026.png)

这里我们仍然以腾讯云的编程助手 CodeBuddy 作为 MCP 客户端。

前期准备
====

首先，你需要先申请相关的秘钥信息，这是使用该平台服务的前提。如果你的网络无法访问申请页面，那么接下来的步骤也就无法进行，申请秘钥的信息可以通过访问以下链接来完成：[https://www.financialdatasets.ai/。在页面中，你需要按照指引提供相关资料，完成申请后，你将获得一个秘钥](https://www.financialdatasets.ai/%E3%80%82%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E6%8C%89%E7%85%A7%E6%8C%87%E5%BC%95%E6%8F%90%E4%BE%9B%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99%EF%BC%8C%E5%AE%8C%E6%88%90%E7%94%B3%E8%AF%B7%E5%90%8E%EF%BC%8C%E4%BD%A0%E5%B0%86%E8%8E%B7%E5%BE%97%E4%B8%80%E4%B8%AA%E7%A7%98%E9%92%A5)

![image](https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250505193442264-1698925297.png)

接下来，我们将前往官方开源仓库的地址，使用相应的命令将 Python 代码库克隆到本地，具体的命令如下：

> git clone [https://github.com/financial-datasets/mcp-server](https://github.com/financial-datasets/mcp-server)

如果尚未安装 uv，请按照以下步骤进行安装，以确保正常使用相关功能：

> macOS/Linux
> ===========
> 
> curl -LsSf [https://astral.sh/uv/install.sh](https://astral.sh/uv/install.sh) | sh
> 
> Windows
> =======
> 
> curl -LsSf [https://astral.sh/uv/install.ps1](https://astral.sh/uv/install.ps1) | powershell

安装依赖项：

> 创建虚拟环境并激活它
> ==========
> 
> uv venv  
> source .venv/bin/activate # 在 Windows 上: .venv\\Scripts\\activate
> 
> 安装依赖项
> =====
> 
> uv add "mcp\[cli\]" httpx # 在 Windows 上: uv add mcp\[cli\] httpx

设置环境变量：

> 创建 .env 文件
> ==========
> 
> cp .env.example .env
> 
> 在 .env 中设置 API 密钥
> =================
> 
> FINANCIAL\_DATASETS\_API\_KEY=your-financial-datasets-api-key

在腾讯云编程助手（CodeBuddy MCP）中，按照以下步骤添加并配置所需的设置：

> {  
> "mcpServers": {  
> "financial-datasets": {  
> "command": "uv",  
> "args": \[  
> "--directory",  
> "/absolute/path/to/financial-datasets-mcp",  
> "run",  
> "server.py"  
> \]  
> }  
> }  
> }

`/absolute/path/to/financial-datasets-mcp`这里指的是你下载的文件所在的目录路径。你需要根据自己的实际情况进行相应的替换。例如，假设我的文件路径如下所示：

> D:/project/python/mcp-server/financial-datasets/mcp-server

测试
==

接下来，我们将进行效果测试。如果一切顺利，在添加完配置之后，腾讯云编程助手 CodeBuddy 会自动解析并加载相关信息。加载完成后，系统将显示出服务器上可供调用的各类工具，具体如下所示：

![image](https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250505193448642-679025896.png)

我们在Craft标签下，查看特斯拉的股票表现，分析其是否能够成功，具体效果请参见下图所示：

![image](https://img2024.cnblogs.com/blog/1423484/202505/1423484-20250505193454209-1436379875.png)

一切都在正常进行中，从今以后可以毫无顾虑、光明正大地在工作时查看股票趋势。

小结
==

利用 Financial Datasets 提供的接口获取股票市场数据，可以极大提升投资分析效率，特别是在忙碌的工作环境中。通过集成到 MCP 接口 和 IDE 编辑器 中，用户不仅能够实时获取股票行情、财务数据和市场新闻，还能确保不影响工作表现。这一工具尤其适合新手投资者，无论是在获取信息的便捷性上，还是在工作中的应用场景上，都表现得非常优秀。无论你是分析个股，还是关注市场动态，都能更轻松地做出决策。

* * *

我是努力的小雨，一个正经的 Java 东北服务端开发，整天琢磨着 AI 技术这块儿的奥秘。特爱跟人交流技术，喜欢把自己的心得和大家分享。还当上了腾讯云创作之星，阿里云专家博主，华为云云享专家，掘金优秀作者。各种征文、开源比赛的牌子也拿了。

💡 想把我在技术路上走过的弯路和经验全都分享出来，给你们的学习和成长带来点启发，帮一把。

🌟 欢迎关注努力的小雨，咱一块儿进步！🌟