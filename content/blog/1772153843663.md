---
layout: post
title: 'Ubuntu Linux ä¸Š å›ºå®šP/E æ ¸æ··åˆæ¶æ„CPUé¢‘ç‡'
date: "2026-02-27T00:57:23Z"
---
Ubuntu Linux ä¸Š å›ºå®šP/E æ ¸æ··åˆæ¶æ„CPUé¢‘ç‡
===============================

åœ¨ Ubuntu Linux ä¸Šï¼Œè¦æŠŠ **Intel Core i5ï¼ˆ14 ä»£ï¼ŒP/E æ ¸æ··åˆæ¶æ„ï¼‰** çš„é¢‘ç‡**å°½é‡å›ºå®šåœ¨ Baseï½Max Turbo åŒºé—´å†…**ï¼Œå¯ä»¥æŒ‰ä¸‹é¢æ€è·¯æ“ä½œã€‚

è‹±ç‰¹å°”CPUä¿¡æ¯æŸ¥çœ‹ç½‘ç«™ï¼š[https://www.intel.com/content/www/us/en/products/sku/236777/intel-core-i5-processor-14400f-20m-cache-up-to-4-70-ghz/specifications.html](https://www.intel.com/content/www/us/en/products/sku/236777/intel-core-i5-processor-14400f-20m-cache-up-to-4-70-ghz/specifications.html)

* * *

ä¸€ã€æŸ¥çœ‹å½“å‰è°ƒé¢‘é©±åŠ¨ï¼ˆå…ˆç¡®è®¤ç¯å¢ƒï¼‰
=================

å…ˆæ‰§è¡Œï¼š

    cpupower frequency-info
    

é‡ç‚¹çœ‹ï¼š

    driver: intel_pstate   æˆ–   acpi-cpufreq
    

æƒ…å†µ Aï¼ˆæœ€å¸¸è§ï¼Œ14 ä»£ä¸€èˆ¬æ˜¯ï¼‰ï¼š
------------------

    driver: intel_pstate
    

ç”¨ intel\_pstate æ§åˆ¶ï¼ˆæ¨èæ–¹å¼ï¼‰

### 1ï¸âƒ£ è®¾ä¸º performance æ¨¡å¼ï¼ˆé˜²æ­¢è‡ªåŠ¨é™é¢‘ï¼‰

    sudo cpupower frequency-set -g performance
    

æ£€æŸ¥ï¼š

    cpupower frequency-info | grep governor
    

åº”ä¸ºï¼š

    governor: performance
    

* * *

### 2ï¸âƒ£ å…³é—­èŠ‚èƒ½æ¨¡å¼ï¼ˆå…è®¸è·‘æ»¡é¢‘ï¼‰

    echo 0 | sudo tee /sys/devices/system/cpu/intel_pstate/no_turbo
    cat /sys/devices/system/cpu/intel_pstate/no_turbo
    

ï¼ˆ0 = å¼€ Turboï¼Œ1 = ç¦ç”¨ Turboï¼‰

æƒ…å†µ Bï¼š
-----

    driver: acpi-cpufreq
    

ä¼ ç»Ÿæ–¹å¼

* * *

äºŒã€åˆ†åˆ«æ§åˆ¶ P/E æ ¸ï¼ˆå®éªŒçº§ï¼‰
=================

### 1ï¸âƒ£ çœ‹æ ¸å¿ƒæ‹“æ‰‘

    lscpu -e
    

* * *

è¾“å‡º

    CPU NODE SOCKET CORE L1d:L1i:L2:L3 ONLINE    MAXMHZ   MINMHZ       MHZ
      0    0      0    0 0:0:0:0          yes 4700.0000 800.0000 2500.0249
      1    0      0    0 0:0:0:0          yes 4700.0000 800.0000 2500.0000
      2    0      0    1 4:4:1:0          yes 4700.0000 800.0000 2500.0000
      3    0      0    1 4:4:1:0          yes 4700.0000 800.0000 2500.0000
      4    0      0    2 8:8:2:0          yes 4700.0000 800.0000 2500.0249
      5    0      0    2 8:8:2:0          yes 4700.0000 800.0000 2500.0000
      6    0      0    3 12:12:3:0        yes 4700.0000 800.0000 2500.0000
      7    0      0    3 12:12:3:0        yes 4700.0000 800.0000 2500.0000
      8    0      0    4 16:16:4:0        yes 4700.0000 800.0000 2500.0249
      9    0      0    4 16:16:4:0        yes 4700.0000 800.0000 2499.9741
     10    0      0    5 20:20:5:0        yes 4700.0000 800.0000 2500.0000
     11    0      0    5 20:20:5:0        yes 4700.0000 800.0000 2500.0000
     12    0      0    6 28:28:7:0        yes 3500.0000 800.0000 1799.9860
     13    0      0    7 29:29:7:0        yes 3500.0000 800.0000 1799.9969
     14    0      0    8 30:30:7:0        yes 3500.0000 800.0000 1800.0389
     15    0      0    9 31:31:7:0        yes 3500.0000 800.0000 1799.9760
    

### 2ï¸âƒ£ åˆ†ç»„é”é¢‘ï¼ˆç¤ºä¾‹ï¼‰

*   cpu0-11 = P æ ¸
*   cpu12-15 = E æ ¸

#### é”å®šé¢‘ç‡èŒƒå›´ï¼š

##### P æ ¸ï¼š

    sudo cpupower -c 0-11 frequency-set -d 2.5GHz -u 4.7GHz
    

##### E æ ¸ï¼š

    sudo cpupower -c 12-15 frequency-set -d 1.8GHz -u 3.5GHz
    

#### é”å®šå›ºå®šé¢‘ç‡ï¼ˆæ¯”å¦‚Baseé¢‘ç‡ï¼‰:

##### P æ ¸ï¼š

    sudo cpupower -c 0-11 frequency-set -d 2.5GHz -u 2.5GHz
    

##### E æ ¸ï¼š

    sudo cpupower -c 12-15 frequency-set -d 1.8GHz -u 1.8GHz
    

âš ï¸ æ³¨æ„ï¼š

*   æœ‰äº›ä¸»æ¿ BIOS/å†…æ ¸ä¼šæ— è§†è¿™ä¸ª
*   intel\_pstate ä¸‹å¯èƒ½ä¸å®Œå…¨ç”Ÿæ•ˆ

ä¸‰ã€éªŒè¯æ˜¯å¦ç”Ÿæ•ˆ
========

* * *

å®æ—¶çœ‹æ¯ä¸ªæ ¸å¿ƒé¢‘ç‡ï¼ˆæœ€ç›´è§‚ï¼‰
--------------

æ¨èæ–¹å¼ä¸€ï¼ˆæœ€ç®€å•ï¼‰ï¼š

    watch -n1 "grep MHz /proc/cpuinfo"
    

æ¯ 1 ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œçœ‹åˆ°ç±»ä¼¼ï¼š

    Every 1.0s: grep MHz /proc/cpuinfo                                                      
    
    cpu MHz         : 2500.025
    cpu MHz         : 800.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.025
    cpu MHz         : 2500.000
    cpu MHz         : 2500.025
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 1799.939
    cpu MHz         : 1455.954
    cpu MHz         : 1800.040
    cpu MHz         : 1799.981
    

* * *

æ²¡æœ‰å®Œå…¨é”å®šç°è±¡å’ŒåŸå› 
-----------

ç°åœ¨å…¶å®æ˜¯â€œåŸºæœ¬æˆåŠŸçš„â€ï¼Œçœ‹æ•°æ®ï¼š

    2500 MHz  â†’ Pæ ¸ Base âœ…
    1800 MHz  â†’ Eæ ¸ Base âœ…
    800 MHz   â†’ ç©ºé—²ç¡çœ æ€ âš ï¸
    1455 MHz  â†’ ä¸­é—´æ€ âš ï¸
    

è¯´æ˜ï¼š

ğŸ‘‰ ä½ çš„é”é¢‘ **80% æˆåŠŸäº†**  
ğŸ‘‰ å‰©ä¸‹ 20% æ˜¯çœç”µæœºåˆ¶

ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼Œcpuå¹¶æ²¡æœ‰è¢«çœŸæ­£é”å®šï¼Œè¿™æ˜¯ **æ­£å¸¸ç°è±¡ + intel\_pstate çš„ä¸€ä¸ªâ€œå‘ç‚¹â€**ï¼Œä¸æ˜¯ä½ æ²¡é…å¥½ã€‚å…ˆç›´æ¥å‘Šè¯‰ä½ ç»“è®ºï¼Œå†è§£é‡ŠåŸå› å’Œè§£å†³åŠæ³•ã€‚

* * *

### ä¸€å¥è¯ç»“è®º

ä½ çœ‹åˆ°çš„ï¼š

    800 MHz
    1455 MHz
    

ğŸ‘‰ **ä¸æ˜¯é”é¢‘å¤±è´¥**ï¼Œè€Œæ˜¯ï¼š

> åœ¨ã€Œç©ºé—² / C-State / çœç”µçŠ¶æ€ã€ä¸‹ï¼Œ  
> **Intel CPU ä¼šçŸ­æš‚è¿›å…¥æ·±åº¦èŠ‚èƒ½æ¨¡å¼**ï¼Œ  
> ç»•è¿‡äº† cpupower çš„æœ€ä½é¢‘ç‡é™åˆ¶ã€‚

æ‰€ä»¥ï¼š

âœ”ï¸ æœ‰è´Ÿè½½ â†’ å›åˆ° 2.5 / 1.8 GHz  
âœ”ï¸ æ²¡è´Ÿè½½ â†’ æ‰åˆ° 800MHzï¼ˆçœç”µï¼‰

è¿™æ˜¯è®¾è®¡è¡Œä¸ºï¼Œä¸æ˜¯ bugã€‚

* * *

### äºŒã€ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿï¼ˆåŸç†ï¼‰

åœ¨ intel\_pstate ä¸‹ï¼Œæœ‰ 3 å¥—æœºåˆ¶åŒæ—¶åœ¨ç®¡ä½  CPUï¼š

#### 1ï¸âƒ£ P-Stateï¼ˆé¢‘ç‡è°ƒèŠ‚ï¼‰åˆšæ‰æ§åˆ¶çš„æ˜¯è¿™ä¸ª

    2.5GHz ï½ 4.7GHz
    

#### 2ï¸âƒ£ C-Stateï¼ˆç¡çœ çŠ¶æ€ï¼‰ç°åœ¨æ²¡å…³ â—

    C1 / C3 / C6 / C10 ...
    

è¿›å…¥æ·±åº¦ C-State åï¼š

CPU å‡ ä¹â€œåŠç¡çœ â€ï¼Œé¢‘ç‡æ˜¾ç¤ºä¼šæ‰åˆ°ï¼š

    800MHz å·¦å³
    

#### 3ï¸âƒ£ HWPï¼ˆç¡¬ä»¶è‡ªæ§ï¼‰14ä»£é»˜è®¤å¼€å¯

CPU è‡ªå·±å†³å®šçœä¸çœç”µã€‚

* * *

ç°åœ¨çš„çŠ¶æ€æ˜¯ï¼š

æ¨¡å—

çŠ¶æ€

P-State

âœ… ä½ æ§åˆ¶ä½äº†

C-State

âŒ è¿˜åœ¨ä¹±è¿›

HWP

âœ… è‡ªåŠ¨

æ‰€ä»¥ä¼šå‡ºç°ä½ çœ‹åˆ°çš„æ··åˆé¢‘ç‡ã€‚

* * *

å½»åº•é”å®šï¼Œä¸æ‰åˆ° 800MHzï¼ˆå®éªŒæ¨¡å¼ï¼‰
---------------------

âš ï¸ æ³¨æ„ï¼šä¸‹é¢æ“ä½œ = æ›´è€—ç”µ + æ›´çƒ­ + é£æ‰‡æ›´å“ï¼Œåªå»ºè®®å®éªŒæ—¶ç”¨ã€‚

* * *

### ğŸ”§ æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰ï¼šå…³é—­æ·±åº¦ C-Stateï¼ˆæœ€æœ‰æ•ˆï¼‰ï¼Œåªç”¨æ–¹æ³•ä¸€ä¸€èˆ¬å°±å¯ä»¥

    for i in /sys/devices/system/cpu/cpu*/cpuidle/state*/disable; do
      echo 1 | sudo tee $i
    done
    

å«ä¹‰ï¼š

    1 = ç¦ç”¨è¯¥ç¡çœ æ€
    

æ‰§è¡Œåå†çœ‹ï¼š

    watch -n1 "grep MHz /proc/cpuinfo"
    

800MHz åŸºæœ¬ä¼šæ¶ˆå¤±ã€‚

    Every 1.0s: grep MHz /proc/cpuinfo                                                      
    
    cpu MHz         : 2499.974
    cpu MHz         : 2500.000
    cpu MHz         : 2500.025
    cpu MHz         : 2500.025
    cpu MHz         : 2500.025
    cpu MHz         : 2500.025
    cpu MHz         : 2465.597
    cpu MHz         : 2465.567
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2500.000
    cpu MHz         : 2499.974
    cpu MHz         : 1800.011
    cpu MHz         : 1799.984
    cpu MHz         : 1800.024
    cpu MHz         : 1799.974
    

### ğŸ”§ æ–¹æ³•äºŒï¼šç¦ç”¨ HWPï¼ˆç¡¬ä»¶è‡ªåŠ¨è°ƒåº¦ï¼‰

æŸ¥çœ‹ï¼š

    cat /sys/devices/system/cpu/intel_pstate/hwp_dynamic_boost
    

å¦‚æœæ˜¯ 1ï¼Œå…³æ‰ï¼š

    echo 0 | sudo tee /sys/devices/system/cpu/intel_pstate/hwp_dynamic_boost
    

ï¼ˆéƒ¨åˆ†æœºå™¨æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼‰

* * *

### ğŸ”§ æ–¹æ³•ä¸‰ï¼ˆç»ˆæï¼‰ï¼šå†…æ ¸å¯åŠ¨å‚æ•°ï¼ˆæœ€å¹²å‡€ï¼‰

å¦‚æœä½ é•¿æœŸåšèƒ½è€—å®éªŒï¼Œå»ºè®®ç”¨è¿™ä¸ªã€‚

ç¼–è¾‘ grubï¼š

    sudo nano /etc/default/grub
    

æ‰¾åˆ°ï¼š

    GRUB_CMDLINE_LINUX_DEFAULT
    

æ”¹æˆï¼š

    GRUB_CMDLINE_LINUX_DEFAULT="quiet splash intel_idle.max_cstate=0 processor.max_cstate=1"
    

æ›´æ–°ï¼š

    sudo update-grub
    sudo reboot
    

å«ä¹‰ï¼š

å‚æ•°

ä½œç”¨

intel\_idle.max\_cstate=0

ç¦æ·±ç¡

processor.max\_cstate=1

é™åˆ¶ç¡çœ 

é‡å¯ååŸºæœ¬ä¸ä¼šå†çœ‹åˆ° 800MHzã€‚

å››ã€å®Œæ•´è„šæœ¬
======

    #!/bin/bash
    
    # ==============================
    # CPU Mode Switch Script
    # For Intel 14th Gen Hybrid CPU
    # ==============================
    
    # Check root
    if [ "$EUID" -ne 0 ]; then
      echo "âŒ Please run as root: sudo ./cpu_mode.sh"
      exit 1
    fi
    
    # P/E core ranges (adjust if needed)
    P_CORES="0-11"
    E_CORES="12-15"
    
    P_BASE="2.5GHz"
    E_BASE="1.8GHz"
    
    P_MAX="4.7GHz"
    E_MAX="3.5GHz"
    
    LOW="800MHz"
    
    
    echo "=============================="
    echo " CPU Frequency Control Menu"
    echo "=============================="
    echo "0 = Power Save (800MHz)"
    echo "1 = Base Lock (P=2.5G E=1.8G)"
    echo "2 = Turbo Lock (P=4.7G E=3.5G)"
    echo "=============================="
    read -p "Select mode (0/1/2): " MODE
    
    
    # Performance governor
    cpupower frequency-set -g performance >/dev/null
    
    
    # Enable turbo
    echo 0 > /sys/devices/system/cpu/intel_pstate/no_turbo
    
    
    # Disable C-States
    for i in /sys/devices/system/cpu/cpu*/cpuidle/state*/disable; do
      echo 1 > "$i"
    done
    
    
    case "$MODE" in
    
    0)
      echo "Power Save Mode (800MHz)"
    
      cpupower -c $P_CORES frequency-set -d $LOW -u $LOW
      cpupower -c $E_CORES frequency-set -d $LOW -u $LOW
      ;;
    
    1)
      echo "Base Lock Mode"
    
      cpupower -c $P_CORES frequency-set -d $P_BASE -u $P_BASE
      cpupower -c $E_CORES frequency-set -d $E_BASE -u $E_BASE
      ;;
    
    2)
      echo "Turbo Lock Mode"
    
      cpupower -c $P_CORES frequency-set -d $P_MAX -u $P_MAX
      cpupower -c $E_CORES frequency-set -d $E_MAX -u $E_MAX
      ;;
    
    *)
      echo "âŒ Invalid input"
      exit 1
      ;;
    esac
    
    
    echo
    echo "âœ… Configuration Applied"
    echo "Monitoring frequency (Ctrl+C to exit)..."
    echo
    
    
    watch -n1 "grep MHz /proc/cpuinfo"
    

è¿™ä¸ªè„šæœ¬æ”¯æŒ 3 ç§æ¨¡å¼ï¼š

è¾“å…¥

æ¨¡å¼

è¡Œä¸º

0

ğŸ’¤ çœç”µæ¨¡å¼ï¼ˆ800MHzï¼‰

å…¨æ ¸é” 800MHz

1

âš™ï¸ Base é”é¢‘

P=2.5GHz / E=1.8GHz

2

ğŸš€ Max é”é¢‘ Turbo æ¨¡å¼

P=4.7GHz / E=3.5GHz

åŒæ—¶ä¼šï¼š

âœ”ï¸ åˆ‡ performance governor  
âœ”ï¸ æ‰“å¼€ Turbo  
âœ”ï¸ å…³é—­ C-Stateï¼ˆé˜² 800MHz æ¼‚ç§»ï¼‰  
âœ”ï¸ æœ€åå®æ—¶ç›‘æ§é¢‘ç‡

    chmod +x cpu_mode.sh
    sudo ./cpu_mode.sh
    

ç„¶åä½ ä¼šçœ‹åˆ°ï¼š

    0 = Power Save
    1 = Base Lock
    2 = Turbo Lock
    Select mode:
    

è¾“å…¥ `0 / 1 / 2` å›è½¦å³å¯ã€‚

æœªç»ä½œè€…åŒæ„è¯·å‹¿è½¬è½½

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ä½œè€…ï¼š[aixueforever](https://www.cnblogs.com/aslanvon/)ï¼ŒåŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/aslanvon/p/19642780](https://www.cnblogs.com/aslanvon/p/19642780)