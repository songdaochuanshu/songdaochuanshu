---
layout: post
title: 'Gitä½¿ç”¨ç»éªŒæ€»ç»“8-Gitä»“åº“å†å²è®°å½•æ¸…é™¤'
date: "2025-11-24T00:45:24Z"
---
Gitä½¿ç”¨ç»éªŒæ€»ç»“8-Gitä»“åº“å†å²è®°å½•æ¸…é™¤
======================

ä»‹ç»äº†ä¸€ç§é€šè¿‡å½»åº•æ¸…é™¤Gitå†å²å¹¶é‡æ–°åˆå§‹åŒ–ä»“åº“çš„æ–¹å¼æ¥ç§»é™¤æ•æ„Ÿä¿¡æ¯ã€å‡å°ä»“åº“ä½“ç§¯çš„æ–¹æ³•ï¼Œå¹¶æä¾›äº†é€æ–‡ä»¶æäº¤çš„PowerShellè„šæœ¬ä»¥åº”å¯¹å¤§æ–‡ä»¶æˆ–ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µã€‚

1\. å¼•è¨€
======

å› ä¸ºä¸€äº›åŸå› ï¼ŒGit å†å²æäº¤è®°å½•ä¸­ä¼šåŒ…å«ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚åå­—ã€é‚®ç®±ã€ä»£ç ç­‰ç­‰ï¼Œå› æ­¤å°±æƒ³å°†è¿™äº›å†å²è®°å½•åˆ æ‰ã€‚åˆ é™¤ç‰¹å®šçš„å†å²æäº¤è®°å½•è¿˜æ˜¯å¾ˆå›°éš¾çš„ï¼Œç¬”è€…è¿™é‡Œçš„åšæ³•æ˜¯å¹²è„†å½»åº•æ¸…é™¤ Git å†å²è®°å½•ï¼Œåªä¿ç•™å½“å‰å·¥ä½œç›®å½•çš„æœ€æ–°å¿«ç…§ï¼Œé‡æ–°å¼€å§‹ä¸€ä¸ªå¹²å‡€çš„æäº¤å†å²ã€‚è¿™æ ·åšè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥æ”¹å–„å½“å‰çš„ Git ä»“åº“ä½“ç§¯ï¼Œå°¤å…¶æ˜¯å¯¹äº Git æäº¤å†å²ä¸å¤ªé‡è¦çš„ä»“åº“è€Œè¨€ã€‚

2\. æ–¹æ¡ˆ
======

åœ¨è¿›è¡Œæ“ä½œä¹‹å‰å…ˆå¤‡ä»½å¥½ä»“åº“ï¼Œç„¶åè¿›å…¥é¡¹ç›®ç›®å½•ï¼š

    cd /path/to/your/project
    

åˆ é™¤ç°æœ‰çš„ .git ç›®å½•ï¼Œè¿™ä¼šæ¸…é™¤æ‰€æœ‰ Git å†å²ï¼š

    rm -rf .git
    

é‡æ–°åˆå§‹åŒ– Git ä»“åº“ï¼š

    git init
    

åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ï¼š

    git checkout -b main
    

å¦‚æœæœ‰éœ€è¦ï¼Œè®¾ç½®æ–°çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼š

    git config user.name "your-github-username"
    git config user.email "your-github-username@users.noreply.github.com"
    

æ·»åŠ æ‰€æœ‰æ–‡ä»¶å¹¶æäº¤ï¼š

    git add .
    git commit -m "Initial commit (clean snapshot)"
    

å¼ºåˆ¶æ¨é€åˆ° GitHubï¼Œè¦†ç›–è¿œç¨‹ä»“åº“ï¼š

    # å…ˆå…³è”è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœä¹‹å‰æœ‰ï¼‰
    git remote add origin https://github.com/your-username/your-repo.git
    
    # å¼ºåˆ¶æ¨é€ï¼ˆ--force æˆ– -fï¼‰
    git push --force --set-upstream origin main
    

æ³¨æ„åœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œä¹Ÿå¯ä»¥ä¸ä¸€æ¬¡æäº¤æ‰€æœ‰çš„æ–‡ä»¶ã€‚ç”±äºç½‘ç»œçš„åŸå› ï¼Œä¸€æ¬¡æäº¤å†…å®¹å¤ªå¤§å¯èƒ½ä¼šå¤±è´¥ï¼Œå¯ä»¥å…ˆæäº¤ä¸€ä¸ªæ–‡ä»¶å³å¯ã€‚ç­‰ç¡®å®š`git push`æˆåŠŸåå°±å¯ä»¥æŒ‰ç…§æ­£å¸¸çš„æ­¥éª¤è¿›è¡Œæäº¤äº†ã€‚å¹¶ä¸”åç»­æäº¤å¦‚æœ Git ä»“åº“çš„å•ä¸ªæ–‡ä»¶å¾ˆå¤§ï¼Œå¯ä»¥å†™ä¸ªè„šæœ¬ä¸€ä¸ªä¸€ä¸ªæäº¤ï¼Œè¿™æ ·æ›´åŠ ç¨³å¦¥ä¸€äº›ã€‚ç¬”è€…ä½¿ç”¨çš„è„šæœ¬å¦‚ä¸‹ï¼š

    # submit-files-one-by-one.ps1
    
    # è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ˆä¸åŒ…æ‹¬å­ç›®å½•ï¼‰
    $files = Get-ChildItem -Path . -File
    
    if ($files.Count -eq 0) {
        Write-Host "âš ï¸  å½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ–‡ä»¶ã€‚" -ForegroundColor Yellow
        exit 0
    }
    
    # ç¡®ä¿åœ¨ main åˆ†æ”¯
    git checkout main 2>$null
    if ($LASTEXITCODE -ne 0) {
        Write-Host "âŒ æ— æ³•åˆ‡æ¢åˆ° main åˆ†æ”¯ã€‚è¯·ç¡®ä¿å·²åˆå§‹åŒ–ä»“åº“å¹¶åˆ›å»º main åˆ†æ”¯ã€‚" -ForegroundColor Red
        exit 1
    }
    
    # è¿œç¨‹ä»“åº“åœ°å€ï¼ˆè‡ªåŠ¨è·å–ï¼‰
    $remoteUrl = git remote get-url origin 2>$null
    if (-not $remoteUrl) {
        Write-Host "âŒ æœªè®¾ç½®è¿œç¨‹ä»“åº“ originã€‚è¯·å…ˆè¿è¡Œï¼šgit remote add origin <url>" -ForegroundColor Red
        exit 1
    }
    
    Write-Host "ğŸ“¤ å‡†å¤‡é€ä¸ªæäº¤ $($files.Count) ä¸ªæ–‡ä»¶åˆ° $remoteUrl ..." -ForegroundColor Cyan
    
    foreach ($file in $files) {
        $filename = $file.Name
        Write-Host "`n--- å¤„ç†æ–‡ä»¶: $filename ---" -ForegroundColor Green
    
        # æ·»åŠ å•ä¸ªæ–‡ä»¶
        git add -- "$filename"
        if ($LASTEXITCODE -ne 0) {
            Write-Host "âš ï¸  æ— æ³•æ·»åŠ æ–‡ä»¶ $filenameï¼Œè·³è¿‡ã€‚" -ForegroundColor Yellow
            continue
        }
    
        # æäº¤
        $commitMessage = "Add $filename"
        git commit -m $commitMessage
        if ($LASTEXITCODE -ne 0) {
            Write-Host "âš ï¸  æäº¤å¤±è´¥ï¼ˆå¯èƒ½æ— å˜æ›´ï¼‰ï¼Œè·³è¿‡æ¨é€ã€‚" -ForegroundColor Yellow
            continue
        }
    
        # æ¨é€ + é‡è¯•æœ€å¤š3æ¬¡
        $retry = 3
        $success = $false
        while ($retry -gt 0 -and -not $success) {
            Write-Host "ğŸš€ æ­£åœ¨æ¨é€ '$filename' ... (å‰©ä½™é‡è¯•: $retry)" -ForegroundColor Blue
            git push origin main
            if ($LASTEXITCODE -eq 0) {
                $success = $true
                Write-Host "âœ… æˆåŠŸæ¨é€ '$filename'" -ForegroundColor Green
            } else {
                $retry--
                if ($retry -gt 0) {
                    Write-Host "â³ æ¨é€å¤±è´¥ï¼Œç­‰å¾… 5 ç§’åé‡è¯•..." -ForegroundColor Yellow
                    Start-Sleep -Seconds 5
                }
            }
        }
    
        if (-not $success) {
            Write-Host "âŒ æ–‡ä»¶ '$filename' æ¨é€æœ€ç»ˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–æ‰‹åŠ¨å¤„ç†ã€‚" -ForegroundColor Red
        }
    }
    
    Write-Host "`nğŸ‰ æ‰€æœ‰æ–‡ä»¶å¤„ç†å®Œæˆï¼" -ForegroundColor Magenta
    

3\. å…¶ä»–
======

æ³¨æ„è¿™ç§æ–¹å¼å…¶å®ç›¸å½“äºé‡æ–°åˆå§‹åŒ–äº† Git ä»“åº“ï¼Œå¦‚æœå­˜åœ¨å¦ä¸€ä¸ªæœ¬åœ°ç«¯`git pull`æ˜¯ä¸ä¼šæˆåŠŸçš„ï¼Œå› ä¸ºæœ¬åœ°å†å²å’Œè¿œç¨‹å†å²åˆ†å‰äº†ï¼Œæ— æ³•è¿›è¡Œåˆå¹¶ï¼›è¿™æ—¶å°±ç”¨æˆ·éœ€è¦æ›´æ–°ä»“åº“çš„è¯å°±è¦é‡æ–°è¿›è¡Œ`git clone`ã€‚

å…¶å®å®ç°æœ¬æ–‡çš„åŠŸèƒ½çš„ä¸€ä¸ªæ›´åŠ ç®€å•çš„æ–¹æ³•æ˜¯åœ¨æ‰˜ç®¡ä»“åº“ç½‘ç«™ï¼ˆä¾‹å¦‚ GitHub ï¼‰ä¸Šåˆ é™¤åŸä»“åº“ï¼Œç„¶åé‡æ–°åˆ›å»ºä¸€ä¸ªåŒåä»“åº“ã€‚ä¸è¿‡ç¬”è€…ä¸å¤ªç¡®å®šæ˜¯ä¸æ˜¯çœŸçš„èƒ½è¡Œï¼Œå› ä¸ºä»“åº“æ˜¯æœ‰äººåœ¨ä½¿ç”¨çš„ï¼Œè¦å°½é‡é¿å…åœ°å€å¤±æ•ˆã€‚ç¨‹åºå‘˜åº”è¯¥éƒ½å†™è¿‡æˆ–è€…ç†è§£ä¸€ä¸ªbugï¼šåˆ é™¤å¯¹è±¡åæ–°å»ºä¸ªåŒåçš„å¯¹è±¡æœ‰æ—¶å€™ä¼šä¸æˆåŠŸã€‚