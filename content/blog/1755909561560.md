---
layout: post
title: 'Anything LLM+LM Studio+SearXNG实现私有模型开启联网功能'
date: "2025-08-23T00:39:21Z"
---
Anything LLM+LM Studio+SearXNG实现私有模型开启联网功能
==========================================

 一、Anything LLM简介
=================

一个全栈应用程序，使您能够将任何文档、资源或内容转换为上下文，任何LLM都可以在聊天过程中将其用作参考。此应用程序允许您选择要使用的LLM或矢量数据库，并支持多用户管理和权限。

AnythingLLM将您的文档划分为称为工作区的对象。工作区的功能很像线程，但增加了文档的容器化。工作区可以共享文档，但它们不会相互通信，因此您可以保持每个工作区的上下文干净。

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822100049151-1910903073.png)

 AnythingLLM的酷炫功能
-----------------

*   🆕 [完全兼容MCP](https://docs.anythingllm.com/mcp-compatibility/overview)
*   🆕 [无代码AI代理构建器](https://docs.anythingllm.com/agent-flows/overview)
*   🖼️ 多模式支持（包括封闭式和开源LLM！）
*   [自定义AI代理](https://docs.anythingllm.com/agent/custom/introduction)
*   👤多用户实例支持，仅限Docker版本
*   🦾 工作区内的代理（浏览网页等）
*   💬 [仅适用于您的网站Docker版本的自定义可嵌入聊天小部件](https://github.com/Mintplex-Labs/anythingllm-embed/blob/main/README.md)
*   📖 支持多种文档类型（PDF、TXT、DOCX等
*   简单的聊天界面，具有拖放功能和清晰的引用。
*   100%云部署就绪。
*   [与所有流行的封闭式和开源LLM提供商合作。](https://github.com/Mintplex-Labs/anything-llm#supported-llms-embedder-models-speech-models-and-vector-databases)
*   与任何其他聊天UI相比，内置的节省成本和时间的措施用于管理非常大的文档。
*   用于自定义集成的完整开发人员API！
*   更多。..安装并找出答案！

二、安装Anything LLM
================

官方下载地址：[https://anythingllm.com/desktop](https://anythingllm.com/desktop)

下载64位

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822100618970-306807628.png)

下载完成后，直接下一步，下一步安装即可。

打开首页，新建工作区，My Workspace

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822100815308-932871537.png)

 三、LM Studio配置
==============

LM Studio 是一款桌面应用程序，用于在您的计算机本地开发和实验 LLM。

LM Studio的安装过程，这里不再重复，参考文档：[https://www.cnblogs.com/xiao987334176/p/18855424](https://www.cnblogs.com/xiao987334176/p/18855424)

运行qwen3-8b模型即可

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822101131238-367395980.png)

 四、Anything LLM配置
=================

大语言模型（LLM）
----------

选择LM Studio，并配置模型，API地址

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822101357736-453760329.png)

 代理技能
-----

开启web search（网络搜索），插件选择SearXNG，输入SearXNG API地址，比如：http://192.168.10.5:8081/search

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822101637533-308901868.png)

访问http://192.168.10.5:8081/search，搜索天气，确保能正常搜索。

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822101941706-1206205475.png)

开发者API
------

生成新的API密钥，用于对外提供API接口调用

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102119556-1598005072.png)

点击上面的，阅读API文档，打开页面后，点击认证

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102238514-1607092128.png)

 输入API密钥，并验证

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102310050-2140977078.png)

 测试调用接口，获取模型

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102406732-682833225.png)

 点击执行，得到结果，模型为my-workspace，记住这个参数，等会要用到。

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102452221-987006670.png)

 返回Anything LLM首页，新建一个会话，选择模型

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102655428-603635954.png)

 选择模型

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102728726-1690222770.png)

工作区设置自动开启联网功能
-------------

点击工作区设置

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102917234-1518742795.png)

 找到代理设置

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822102940024-1508221125.png)

 **注意：如果要联网功能，必须在输入信息开头添加@agent**

但是这样会很麻烦，如何在上下文自动判断加@agent呢？

答案很简单，直接加提示词即可。

点击聊天设置

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822103156939-1885334997.png)

 修改提示词，增加红色方框的文字，注意：最好是英文

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822103238579-2095639967.png)

 完整提示词如下：

Given the following conversation, relevant context, and a follow up question, reply with an answer to the current question the user is asking. Return only your response to the question given the above information following the users instructions as needed.
If unable to answer, add @ agent before the context and use the online search function to answer.

翻译成中文的意思是

根据以下对话、相关背景和后续问题，回答用户当前提出的问题。根据需要，按照用户说明，仅返回您对上述信息问题的回答。
如果无法回答，请在上下文前添加@agent，并使用在线搜索功能回答。

这样的话，你在聊天的过程中，遇到模型无法回答的问题，会自动在上下文添加@agent

五、测试联网功能
========

Anything LLM聊天测试
----------------

返回工作区，测试联网，查询天气

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822103704753-1622923104.png)

 可以看到，它会自动添加@agent

Cherry Studio测试
---------------

添加模型供应商Anything LLM

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822105015896-202659185.png)

 输入api密钥，api地址，模型

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822105048001-1125760414.png)

点击检测， 验证是否成功

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822105142494-1651337589.png)

 返回聊天框，选择模型Anything LLM

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822105314659-1643262464.png)

 查询北京天气

![image](https://img2024.cnblogs.com/blog/1341090/202508/1341090-20250822183158134-1759354192.png)