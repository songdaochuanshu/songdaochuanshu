---
layout: post
title: '适用于Ventoy和VirtualBox的WinToGo系统制作教程'
date: "2025-05-26T00:43:09Z"
---
适用于Ventoy和VirtualBox的WinToGo系统制作教程
==================================

适用于Ventoy和VirtualBox，基于Windows 10/11的WinToGo系统制作教程

> 由于篇幅原因，上个教程的内容太多，并且也有挺多地方不能一概而论，因此笔者决定还是将文章拆分开来，便于只需要制作WinToGo系统或LinuxToGo系统的读者 ——笔者言  
> 这篇文章适用于只使用Ventoy和VirtualBox制作WinToGo系统的读者，使用Ventoy和VirtualBox制作WinToGo和LinuxToGo的读者请移步[笔者的上一篇教程](https://www.cnblogs.com/MowMark/p/18888964)

软件介绍
====

* * *

Ventoy介绍
--------

Ventoy是一个制作多系统引导程序的工具软件，主要部署在U盘和移动固态硬盘里，也可以部署在本地硬盘里，可以引导的操作系统包括但不限于Windows 7-11、Debian、Ubuntu、Deepin、Fedora、CentOS、RHEL、ArchLinux、Manjaro和部分Unix系统、ChromeOS系统。详情可参见[测试列表 - Ventoy](https://www.ventoy.net/cn/isolist.html)

VirtualBox介绍
------------

VirtualBox是一个跨平台的开源免费虚拟机软件，能够模拟出许多种硬件环境，且支持VDI、VHD、VMDK等虚拟硬盘类型。

为什么使用Ventoy？
------------

目前想要制作WinToGo系统，主流的几种方案分别是：

*   微软自带的WTG工具：官方出品，稳定为主，自定义能力与兼容性不足
*   WTGA（Windows To Go 辅助工具）：萝卜头IT论坛大佬出品，功能强大，兼容性强
*   Rufus：这个工具原本用途是制作系统启动盘的，后来更新了制作Windows To Go系统的功能，功能与兼容性还不错，但部署速度较慢，需要耐心等待
*   傲梅口袋系统（WinToGo）：兼容性与部署速度不错，但功能不够丰富
*   Ventoy：功能丰富（依靠插件实现），兼容性强（可以支持多种系统和多种引导方式），稳定性良好
*   ……

为什么笔者会在上面的几种方案中选中了Ventoy呢？  
主要原因在于：

1.  笔者之前已经尝试过了Windows To Go系统，这一次想要尝试的不仅仅是Windows To Go，还有Linux To Go，不排除未来尝试Unix To Go、Chrome To Go等随身携带系统的可能性。这个需求可能只有Ventoy与Rufus能够较好地满足
2.  笔者用于部署随身携带系统的介质是一个具有1TB容量的移动固态硬盘，不希望这个硬盘只能用于部署随身系统而不存放重要数据。但在上述几种方案中，其他的工具会将整个介质都格式化，用于部署随身系统，只有Ventoy能够比较方便地预留出部分空间，可以进行分区和逻辑格式化的操作

因此，如果读者仅仅希望在32GB或者64GB的U盘上部署Win To Go随身系统，那可以使用其他工具，当然也不用看本篇教程，毕竟Ventoy的部署方法还是不如WTG（微软）、WTGA（萝卜头论坛）、口袋系统（傲梅）这些工具那么方便的。

为什么使用VirtualBox？
----------------

1.  Ventoy对于Win To Go系统的引导功能是通过插件实现的，这个插件只能够引导VHD、VHDX类型的虚拟硬盘，而VirtualBox能够支持VHD类型的虚拟硬盘，因此笔者选择VirtualBox作为本教程的虚拟机软件
2.  笔者之前在自用的笔记本上已经安装了VirtualBox，当时VMWare还没对个人使用免费，因此笔者也懒得更换虚拟机软件了。不过VirtualBox与VMWare在使用方面其实并没有太大区别，包括虚拟机的新建修改，加载系统光盘等本教程有可能使用到的操作，所以读者如果使用VMWare作为虚拟机平台，也可以参考本教程

能不能用Ventoy直接引导ISO系统镜像？
----------------------

首先，需要明确一点：ISO系统镜像（标准：ISO9660或UDF）**本质是只读的静态文件系统**，设计上均基于不可写入的介质，所有在打开系统后作出的修改均**无法持久化存储**，因此ISO系统镜像只能作为一个临时的系统  
其次，Windows系统的ISO系统镜像与Linux系统不同，前者**仅提供部分工具，用户在使用Windows系统的ISO系统镜像时除了开发者提供的特定功能外无法使用其他功能**，而后者能够提供完整的临时操作系统环境，尽管仍然无法对系统作出修改，但好歹能够满足一定需求  
基于以上两点，这个问题的答案是不能用Ventoy直接引导ISO系统镜像

必要条件
====

* * *

*   一台正常运行的 Windows 10/11 系统计算机（Windows 7 或 Windows 8 应该也可以，但成功率无法保证）
*   一个移动介质（想要安装Windows 10 系统，容量建议在32GB以上，详情可参见[Windows 10系统规格和要求 | Microsoft](https://www.microsoft.com/zh-CN/windows/windows-10-specifications)
*   通畅的网络环境（可能需要上Github下载一些软件）

准备步骤
====

* * *

硬件准备
----

1.  首先，需要搞清楚计算机的指令集架构、位数，和引导方式是Legacy BIOS还是UEFI。根据[Ventoy的官方文档](https://www.ventoy.net/cn/faq.html)，该软件能够支持的BIOS类型有x86 Legacy BIOS、IA32 UEFI、x86\_64 UEFI、ARM64 UEFI 和 MIPS64EL UEFI这几种
2.  其次，需要进入BIOS，开启CPU的虚拟化技术，如Intel VT-x或AMD-V
3.  最后，需要记下安全启动（Secure Boot）选项的开启与否，后面需要用到

系统和软件准备
-------

### 安装VirtualBox

1.  确认当前主机的操作系统版本与VirtualBox的兼容性，如果主机操作系统较新，可能需要安装最新的VirtualBox才能顺利运行
2.  Windows主机可能需要禁用Hyper-v功能，可在PowerShell中以管理员身份运行`bcdedit /set hypervisorlaunchtype off`，重启生效
3.  安装过程中，可以自行选择安装路径，建议路径中避免空格或特殊字符
    *   安装组件中，必须勾选`VirtualBox USB Support`、`VirtualBox Networking`，建议勾选`Python Support`

### 安装Ventoy

1.  到[Download-Ventoy](https://www.ventoy.net/cn/download.html)上下载Ventoy安装包
2.  根据默认选项进行安装流程即可

### 安装Ventoy到移动介质上

1.  插入移动存储设备（U盘或移动硬盘），运行Ventoy软件本体（Ventoy2Disk.exe），默认选项下能够识别U盘，打开**配置选项**菜单里的**显示所有设备**能够识别移动硬盘，选择想要制作随身系统的介质
2.  再次打开**配置选项**菜单，根据本主机的BIOS类型与安全启动信息，设置**是否支持安全启动和MBR或GPT**。粗略来说，LegacyBIOS用于引导MBR，UEFI用于引导GPT
3.  打开**配置选项**菜单里的**分区设置**，选择**Ventoy分区的文件系统类型**与**最后预留空间**
    1.  对于1803版本及之前的 Windows 10 系统，建议选用NTFS，而在这之后的Windows 10 系统，除了NTFS之外，也可以选择ExFAT，详情可参见[Ventoy的官方文档](https://www.ventoy.net/cn/plugin_vhdboot.html)
    2.  最后预留空间：制作Ventoy存储设备时，默认会在存储设备上划分出连续的两个分区，分别是用于存储虚拟硬盘或ISO系统镜像的Ventoy分区，和用于引导的VTOYEFI分区，而最后预留空间指在VTOYEFI分区之后预留出的空闲空间，位于存储设备的末尾，用户可以在这个空间上进行分区、逻辑格式化等操作。这里笔者预留了一半以上的容量
4.  到这一步，关于Ventoy的设置部分就完成了，点击“安装”即可
5.  安装完成后，打开**磁盘管理**或**DiskGenius**可以看到，在选定的**存储设备**上已经有了两个分区，还有位于存储设备末尾的一部分保留空间，读者可以保留空间进行任意操作，但不能改变前面两个分区的位置或大小，否则将会破坏Ventoy存储设备的结构，导致无法识别
    1.  这一步在部分教程里提到：第一个分区需要格式化为NTFS。参考3.1，这个操作读者应视自己想要安装的操作系统版本而定，不是必须的
    2.  最后的保留空间，如果想要用于存放数据且仅在Windows系统下访问存取，格式化为NTFS或者ExFAT都可以；但如果需要跨平台存取，即在Windows、Linux和MacOS等系统下访问存取，建议格式化为ExFAT，

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250521163525423-1086700744.png)  
选择介质

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250521163609593-882710111.png)  
根据硬件信息进行设置

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250521163623410-268596734.png)  
设置文件系统类型与预留空间

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250521163633649-1427376361.png)  
图三选项相关

主要流程
====

* * *

新建及配置虚拟机
--------

1.  运行VirtualBox软件, **新建虚拟机**
    
2.  **虚拟电脑名称和系统类型**：设置**虚拟机的名称, 类型跟版本**, **不要选择"虚拟光盘"**。跳过**自动安装**
    
3.  **硬件**：选择想要分配给虚拟机的**内存资源和处理器资源**, 并根据计算机硬件信息决定**是否勾选"启用EFI"**
    
    1.  一般来说，分配给虚拟机的内存资源与处理器资源应控制在宿主机的25%～50%之间，就能满足对虚拟机的轻量使用
    2.  笔者建议勾选启用EFI。是否启用EFI只影响Ventoy随身系统在UEFI引导方式下的启动，不影响LegacyBIOS引导方式下的启动。如果只在老电脑上使用随身系统（LegacyBIOS在2010年之前占主流地位），不勾选也可以
4.  **虚拟硬盘**：需要选择**现在创建虚拟硬盘**，然后设置虚拟硬盘在实体计算机上的**存储路径, 文件大小以及虚拟硬盘类型**。**建议勾选"预先分配全部空间"**；
    
    1.  存储路径需要记下, 后面会用到
    2.  文件大小为32GB以上, 笔者建议还需要多预留一些空间, 保持在40GB以上为妙. 参考[Windows 10 系统要求 | 微软](https://www.microsoft.com/zh-CN/windows/windows-10-specifications)
    3.  虚拟硬盘类型建议选择VHD, 不过选择了VDI或者VMDK后续也可以用工具转换成VHD, 不会导致后续流程无法进行
    4.  根据[Windows VHD 文件启动插件 - Ventoy](https://www.ventoy.net/cn/plugin_vhdboot.html)，或许可以不勾选预先分配全部空间，但笔者无法确定这种模式下随身系统的初始容量大小、和后续扩容步骤
5.  检查一下上面几步, 如果都有按照教程走的话, 就可以点击完成, 然后等待虚拟机创建完毕, 这个步骤花费的时间要看计算机的性能；
    
6.  在刚刚创建好的虚拟机**明细**部分里，调整**启动顺序和显存大小**。
    
    1.  在“启动顺序”里取消软驱能够使虚拟机在启动时无需检查软驱，稍微提高启动速度；
        
    2.  修改“显存大小”这一步可选， 默认的128MB一般情况下可以满足Windows 10对于显存的需求。
        

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250522182025326-1117810863.png)  
虚拟机的基本信息

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250522182037473-1291408610.png)  
虚拟机的硬件资源

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250522182045725-348820327.png)  
虚拟机的虚拟硬盘

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524102041291-766698452.png)  
调整启动顺序与显存大小，加载系统镜像

安装Windows系统
-----------

1.  首先, 在[ITellYou](https://next.itellyou.cn/)上下载对应系统镜像，**UEFI引导方式必须下载64位版本**，这里笔者使用[比特彗星(BitComet)](https://www.bitcomet.com/cn)下载BT种子，并在命令行里执行`certutil -hashfile [ISO镜像文件名称] SHA256`，与网站上给的SHA256值进行比较，成功通过了文件校验完整性的验证
    
2.  下载完毕后，在虚拟机的**存储 - 光驱**里**加载系统镜像**
    
3.  启动虚拟机，在看到下面黑屏界面时**及时按下任意按键**，正常情况下就可以看到Windows系统的安装界面了
    
4.  Windows 10系统的安装不需要太多额外操作，接受用户协议，自定义安装，默认驱动器，然后等待安装完成即可
    
5.  安装过程中会重启几次虚拟机。等到初始化完成后，再重启一次，看看是否有异常，没有的话就可以关闭虚拟机，开始往移动介质里转移虚拟硬盘了
    

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524103719951-1802119493.png)  
及时按下任意键

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524103851918-310283546.png)  
进入Win10安装界面

转移虚拟硬盘
------

1.  进入虚拟硬盘存放的文件夹，找到`*.vhd`文件, 转移到移动介质里的Ventoy分区；
    
2.  在第1步里, 如果找不到`*.vhd`文件, 但是能够找到`*.vdi`或者`*.vmdk`文件, 就需要使用虚拟硬盘转换工具；
    
    1.  命令行: 可以使用 VirtualBox 软件提供的`VBoxManage`工具, 使用方法为: 在cmd里输入`[VirtualBox安装目录]\VBoxManage clonehd [源文件] [目标文件] --format vhd`, 如果不行可以先cd到VirtualBox安装目录, 再执行`VBoxManage clonehd [源文件] [目标文件] --format vhd`；
        
    2.  图形界面：可以使用DiskGenius软件里的**虚拟磁盘格式转换**工具。使用方法为：打开DiskGenius软件，点击**磁盘**菜单里的**虚拟磁盘格式转换**，然后依次选择**源文件，目标格式和目标路径**即可
        
3.  下载**Ventoy官方提供的[VHD(x)插件](https://www.ventoy.net/cn/plugin_vhdboot.html)**，并存放到Ventoy分区里的ventoy文件夹即可。这个文件夹需要自行创建
    
4.  最终效果如图所示
    

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524105835027-1618524894.png)  
vhd虚拟硬盘可以直接转移

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524111401132-2098993888.png)  
转换方法一：命令行方式

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524111709456-504347843.png)  
转换方法二：图形界面方式

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524113011607-1600352.png)  
下载插件

![](https://img2024.cnblogs.com/blog/3651560/202505/3651560-20250524110619883-600621054.png)  
最终效果

本文来自博客园，作者：[MowMark](https://www.cnblogs.com/MowMark/)，转载请注明原文链接：[https://www.cnblogs.com/MowMark/p/18895687](https://www.cnblogs.com/MowMark/p/18895687), 欢迎收藏原文或关注作者!