---
layout: post
title: 'OERV兴趣探索：模拟器移植'
date: "2025-02-28T00:37:25Z"
---
OERV兴趣探索：模拟器移植
==============

  最近看了很多开源项目，主要都集中在模拟器方面，我指的是游戏模拟器比如GameBoy或者PlayStation这一类。现在想玩这系列的游戏可以在手机或者电脑下载相应的模拟器，并且获取对应的ROM文件，不过也有一些模拟器是可以运行在Linux上面的，为了进一步探索，我选择了相对较小的项目并尝试将它移植到OERV上面，本次实验的环境是OpenEuler 24.03 SP1（RISC-V架构）。

  我选择的项目是gbemu，这个项目可以在Github上面找到，项目本身并不大，拿到项目直接在本地运行make就可以编译，非常简单。但是会出现缺包的问题，这个就得需要对OpenEuler的软件包比较熟悉。

  先上手看看这个CMakeLists.txt，关注到了find\_package这个部分

![](https://img2024.cnblogs.com/blog/3254001/202502/3254001-20250227155442350-672166648.png)

  既然是find\_package(SDL2)，说明需要SDL2-devel这个软件包（通常需要开发文件），因此也只需要dnf install SDL2-devel就能解决重要的依赖。

![](https://img2024.cnblogs.com/blog/3254001/202502/3254001-20250227155735924-1587801164.png)

  由于这个项目比较小而且也相对简单，需要的依赖不复杂，因此编译的过程没什么阻碍。相比于其它GameBoy模拟器的项目，往往都需要各种复杂的依赖甚至对图形驱动有要求，以及复杂的编译参数。不过最终gbemu这个项目运行也依然出现了一些问题。

  ![](https://img2024.cnblogs.com/blog/3254001/202502/3254001-20250227160330433-7310967.png)

  看起来似乎运行成功，不过没有图形显示出来，相比之下，我放到了Ubuntu x86的本机试了一下，是可以运行出窗口的，这个原因主要跟图形驱动有关，暂时先跳过。

  第二个项目是gbsplay，用于播放 Game Boy 游戏机音效的程序或工具。这个项目也是为数不多可以顺利进行编译的，只需要先./configure配置好环境再make编译即可。

![](https://img2024.cnblogs.com/blog/3254001/202502/3254001-20250227164100680-500206543.png)

  gbsplay gbs2gb gbsinfo都是编译出来的可执行程序，顺利通过编译~

  总结：

  1、目前还有大量的GameBoy Emulator值得去研究，不过对软件包依赖较高，需要先将依赖解决，这些依赖可能OE本身没有。

  2、即便编译通过了但是也没有运行成功，这个可能跟驱动，有机会获得合适的硬件环境的话再试试看。

  3、GameBoy模拟器有一些项目里面涉及到了SIMD指令集，如果放到RISC-V上面的话得做RVV优化，这是一个可以做的点。