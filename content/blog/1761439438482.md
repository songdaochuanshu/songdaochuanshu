---
layout: post
title: 'ASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨ä¸‰ï¼ˆå¸ƒå±€å’Œè·¯ç”±ï¼‰'
date: "2025-10-26T00:43:58Z"
---
ASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨ä¸‰ï¼ˆå¸ƒå±€å’Œè·¯ç”±ï¼‰
==================================

â€‹å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯[ç å†œåˆšå­](https://www.cnblogs.com/shenchuanchao)ã€‚æœ¬æ–‡ä»‹ç»äº†Blazorä¸­çš„å¸ƒå±€ã€è·¯ç”±å’Œæ¡ä»¶æ¸²æŸ“åŠŸèƒ½ã€‚åœ¨å¸ƒå±€æ–¹é¢ï¼Œè¯¦ç»†è®²è§£äº†å¦‚ä½•åˆ›å»ºå’Œåº”ç”¨å¸ƒå±€ç»„ä»¶ï¼ˆç»§æ‰¿LayoutComponentBaseï¼‰ï¼ŒåŒ…æ‹¬é»˜è®¤å¸ƒå±€MainLayoutçš„ä½¿ç”¨ã€åµŒå¥—å¸ƒå±€çš„å®ç°æ–¹å¼ä»¥åŠå¦‚ä½•æ§åˆ¶ç‰¹å®šé¡µé¢ä¸åº”ç”¨å¸ƒå±€ï¼ˆå¦‚ç™»å½•é¡µï¼‰ã€‚åœ¨è·¯ç”±å’Œå¯¼èˆªéƒ¨åˆ†ï¼Œç®€è¦æåŠäº†åŸºæœ¬é…ç½®æ–¹æ³•ã€‚æœ€åï¼Œé‡ç‚¹é˜è¿°äº†æ¡ä»¶æ¸²æŸ“ï¼ˆ@ifè¯­å¥ï¼‰å’Œå¾ªç¯æ¸²æŸ“ï¼ˆ@foreachç­‰ï¼‰çš„è¯­æ³•å’Œå®é™…åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡å­¦ç”Ÿä¿¡æ¯åˆ—è¡¨ç­‰ç¤ºä¾‹å±•ç¤ºäº†æ•°æ®ç»‘å®šå’ŒåŠ¨æ€UIç”Ÿæˆçš„å®ç°æ–¹å¼ã€‚è¿™äº›æ ¸å¿ƒåŠŸèƒ½å…±åŒæ„æˆäº†Blazorç»„ä»¶åŒ–å¼€å‘çš„åŸºç¡€æ¡†æ¶ã€‚

Â ä¸€ã€åˆ›å»ºå’Œåº”ç”¨Blazor å¸ƒå±€
-----------------

ç½‘ç«™åº”ç”¨å¾€å¾€æœ‰è®¸å¤šå…¬å…±çš„è§†å›¾éƒ¨åˆ†ï¼Œæ¯”å¦‚é¡¶éƒ¨å¯¼èˆªnav,åº•éƒ¨çš„footerï¼Œç®¡ç†ç³»ç»Ÿçš„å·¦è¾¹çš„menuèœå•ç­‰ç­‰ã€‚Layoutå¯ä»¥è½»æ¾å®ç°ä»¥ä¸Šçš„æ•ˆæœã€‚

Blazor å¸ƒå±€æ˜¯ä¸€ä¸ª Razor ç»„ä»¶ï¼Œå®ƒä¸å¼•ç”¨è¯¥å¸ƒå±€çš„ç»„ä»¶å…±äº«æ ‡è®°ã€‚ å¸ƒå±€å¯ä»¥ä½¿ç”¨æ•°æ®ç»‘å®šã€ä¾èµ–å…³ç³»æ³¨å…¥å’Œç»„ä»¶çš„å…¶ä»–åŠŸèƒ½ã€‚

### 1ã€åˆ›å»ºå¸ƒå±€ï¼ˆå¯ä»¥ç†è§£ä¸ºæ¯ç‰ˆé¡µï¼‰

æ–°å»ºä¸€ä¸ªrazoræ–‡ä»¶ï¼Œæ–‡ä»¶é¡¶éƒ¨ä½¿ç”¨@inherits LayoutComponentBase è¡¨ç¤ºç»§æ‰¿è‡ªLayoutComponentBase ï¼Œè¯´æ˜è¿™æ˜¯ä¸ªæ¯ç‰ˆé¡µï¼Œä½¿@Bodyä½œä¸ºå ä½ã€‚

![](https://i-blog.csdnimg.cn/img_convert/17db26a2fc59811f252472259a25564c.png)â€‹

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")ç¼–è¾‘

    @inherits LayoutComponentBase
    
    <PageTitle>Doctor WhoÂ® Database</PageTitle>
    
    <header>
        <h1>Doctor WhoÂ® Database</h1>
    </header>
    
    <nav>
        <a href="main-list">Main Episode List</a>
        <a href="search">Search</a>
        <a href="new">Add Episode</a>
    </nav>
    
    @Body
    
    <footer>
        @TrademarkMessage
    </footer>
    
    @code {
        public string TrademarkMessage { get; set; } ="CSharpç²¾é€‰è¥";
    }

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

### 2ã€MainLayout ç»„ä»¶

åœ¨ä» Blazor é¡¹ç›®æ¨¡æ¿åˆ›å»ºçš„åº”ç”¨ä¸­ï¼Œ`MainLayout` ç»„ä»¶å°±æ˜¯åº”ç”¨çš„é»˜è®¤å¸ƒå±€ã€‚

Blazor çš„ CSS éš”ç¦»åŠŸèƒ½å°†ç‹¬ç«‹ CSS æ ·å¼åº”ç”¨äº `MainLayout` ç»„ä»¶ã€‚ æŒ‰ç…§æƒ¯ä¾‹ï¼Œæ ·å¼ç”±ç›¸åŒåç§°çš„éšé™„æ ·å¼è¡¨ `MainLayout.razor.css` æä¾›ã€‚

![](https://i-blog.csdnimg.cn/img_convert/4e72d0845945faae717cbd8bc4e4dc47.png)â€‹

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")ç¼–è¾‘

![](https://i-blog.csdnimg.cn/img_convert/e2f8774f69788dd6c9469c6be0cee86a.png)â€‹

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")ç¼–è¾‘

### 3ã€åº”ç”¨å¸ƒå±€

åœ¨razoræ–‡ä»¶é¡¶éƒ¨ç”³æ˜â€œ@layout æ¨¡æ¿é¡µåâ€æ¥è®¾ç½®æ¯ç‰ˆé¡µï¼Œ

![](https://i-blog.csdnimg.cn/img_convert/bc1edcdda470ec5d61fc422465d5e24e.png)â€‹

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")ç¼–è¾‘

å¦‚æœä¸€ä¸ªé¡µé¢æ²¡æœ‰è®¾ç½®æ¨¡æ¿é¡µï¼Œï¼ˆå°±åƒblazoré»˜è®¤é¡¹ç›®é‚£æ ·ï¼‰ï¼Œä»–å°±ä¼šä½¿ç”¨åœ¨app.razoræ–‡ä»¶ä¸­å®šä¹‰çš„é»˜è®¤æ¨¡æ¿é¡µ

![](https://i-blog.csdnimg.cn/img_convert/07c69bc84df89396eb47a0f95384f6b9.png)â€‹

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")ç¼–è¾‘

**å¦‚ä½•****ä¸è®¾ç½®ä»»ä½•æ¨¡æ¿é¡µ?**

æ¯”å¦‚æˆ‘ä»¬çš„ç™»å½•çš„é¡µé¢æ˜¯ä¸éœ€è¦åŠ é€šç”¨æ¨¡æ¿çš„ï¼Œé€šè¿‡@if æ§åˆ¶ RouteViewçš„DefaultLayoutå³å¯

    <Router AppAssembly="@typeof(App).Assembly">
    	<Found Context="routeData">
    		@if (routeData.PageType == typeof(Pages.LayoutSample))
    		{
    			<RouteView RouteData="@routeData" />
    		}
    		else
    		{
    			<RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
    			<FocusOnNavigate RouteData="@routeData" Selector="h1" />
    		}
    	</Found>
    	<NotFound>
    		<PageTitle>Not found</PageTitle>
    		<LayoutView Layout="@typeof(MainLayout)">
    			<p role="alert">Sorry, there's nothing at this address.</p>
    		</LayoutView>
    	</NotFound>
    </Router>

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

### 4ã€åµŒå¥—å¸ƒå±€

ç»„ä»¶å¯ä»¥å¼•ç”¨ä¸€ä¸ªå¸ƒå±€ï¼Œè¯¥å¸ƒå±€åˆå¯ä»¥å¼•ç”¨å¦ä¸€ä¸ªå¸ƒå±€ã€‚ ä¾‹å¦‚ï¼ŒåµŒå¥—å¸ƒå±€å¯ç”¨äºåˆ›å»ºå¤šçº§èœå•ç»“æ„ã€‚

ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨åµŒå¥—å¸ƒå±€:

    @inherits LayoutComponentBase
    @layout ProductionsLayout
    
    <PageTitle>Doctor WhoÂ® Database</PageTitle>
    <header>
        <h1>Doctor WhoÂ® Database</h1>
    </header>
    <nav>
        <a href="main-episode-list">Main Episode List</a>
        <a href="episode-search">Search</a>
        <a href="new-episode">Add Episode</a>
    </nav>
    
    @Body
    
    <footer>
        @TrademarkMessage
    </footer>
    
    @code {
        public string TrademarkMessage { get; set; } =
            "CSharpç²¾é€‰è¥";
    }

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

`ProductionsLayout` ç»„ä»¶åŒ…å«é¡¶çº§å¸ƒå±€å…ƒç´ ï¼Œå…¶ä¸­åŒ…å«æœ‰æ ‡å¤´ (`<header>...</header>`) å’Œé¡µè„š (`<footer>...</footer>`) å…ƒç´ ã€‚ å¸¦æœ‰`DoctorWhoLayout`ç»„ä»¶çš„ `Episodes` ä¼šåœ¨`@Body`å‡ºç°çš„ä½ç½®æ˜¾ç¤ºã€‚

    @inherits LayoutComponentBase
    
    <header>
        <h1>Productions</h1>
    </header>
    
    <nav>
        <a href="main-production-list">Main Production List</a>
        <a href="production-search">Search</a>
        <a href="new-production">Add Production</a>
    </nav>
    
    @Body
    
    <footer>
        Footer of Productions Layout
    </footer>

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

ä»¥ä¸‹å‘ˆç°çš„ HTML æ ‡è®°ç”±å‰é¢çš„åµŒå¥—å¸ƒå±€ç”Ÿæˆ:

    <header><h1>Productions</h1></header>
    <nav><a href="main-production-list">Main Production List</a>
        <a href="production-search">Search</a>
        <a href="new-production">Add Production</a>
    </nav>
    <header><h1>Doctor WhoÂ® Database</h1></header>
    <nav><a href="main-episode-list">Main Episode List</a>
        <a href="episode-search">Search</a>
        <a href="new-episode">Add Episode</a>
    </nav>
    <footer>CSharpç²¾é€‰è¥</footer>
    <footer>
        Footer of Productions Layout
    </footer>

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

æ›´å¤šå‚è€ƒï¼š

[https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/layouts?view=aspnetcore-9.0](https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/layouts?view=aspnetcore-9.0 "https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/layouts?view=aspnetcore-9.0")

äºŒã€è·¯ç”±é…ç½®å’Œå¯¼èˆª
---------

Â **[ASP.NET Core Blazor è·¯ç”±é…ç½®å’Œå¯¼èˆª - ç å†œåˆšå­ - åšå®¢å›­](https://www.cnblogs.com/shenchuanchao/p/19160108)**

ä¸‰ã€æ¡ä»¶æ¸²æŸ“å’Œå¾ªç¯æ¸²æŸ“
-----------

ç¬¬ä¸€ç« ä¸­å·²ç»è®²è¿‡äº†Blazorçš„è¯­æ³•ã€‚

### 1ã€Blazor æ¡ä»¶æ¸²æŸ“

Blazor ä¸­çš„ @if è¯­æ³•ç”¨äºæ ¹æ®æ¡ä»¶åŠ¨æ€æ¸²æŸ“é¡µé¢å…ƒç´ ã€‚å®ƒç±»ä¼¼äº C# çš„ if è¯­å¥ï¼Œä½†ä¸“é—¨ç”¨äºå¤„ç† UI æ¸²æŸ“ã€‚è¯·çœ‹ä»¥ä¸‹ç¤ºä¾‹ï¼š

    @if (isLoading)
    {
       <p>åŠ è½½ä¸­...</p>
    }
    else
    {
       <p>åŠ è½½å®Œæˆï¼</p>
    }
    @code {
       private bool isLoading = true;
       protected override void OnInitialized()
       {
           // æ¨¡æ‹ŸåŠ è½½å®Œæˆ
           Task.Delay(2000).ContinueWith(_ =>
           {
               isLoading = false;
               InvokeAsync(StateHasChanged);
           });
       }
    }

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

ä½ å¯ä»¥åµŒå¥—å¤šä¸ª @if æˆ–ç»“åˆ else if ä½¿ç”¨ï¼š

    @if (userRole == "Admin")
    {
       <p>æ¬¢è¿ç®¡ç†å‘˜ï¼</p>
    }
    else if (userRole == "User")
    {
       <p>æ¬¢è¿æ™®é€šç”¨æˆ·ï¼</p>
    }
    else
    {
       <p>è¯·ç™»å½•ã€‚</p>
    }
    @code {
       private string userRole = "Admin";
    }

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

### 2ã€Blazor å¾ªç¯æ¸²æŸ“

ä¸‹é¢æˆ‘ä»¬æœ‰ä¸€ä¸ªlistéœ€è¦æ˜¾ç¤ºå¤šä¸ªå­¦ç”Ÿä¿¡æ¯,@for,@doâ€¦while,@while ä¸foreachç±»ä¼¼è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°

    <h3>ç”¨æˆ·åˆ—è¡¨</h3>
    
    <table>
    	<thead>
    		<tr>
    			<th>Name</th>
    			<th>Age</th>
    			<th>Gender</th>
    		</tr>
    	</thead>
    	<tbody>
    
    		@foreach (var item in list)
    		{
    			<tr>
    				<td>@item.Name</td>
    				<td>@item.Age</td>
    				@switch (item.Gender)
    				{
    					case 0:
    						{
    							<td>ç”·</td>
    							break;
    						}
    					case 1:
    						{
    							<td>å¥³</td>
    							break;
    						}
    					case 2:
    						{
    							<td>æœªçŸ¥</td>
    							break;
    						}
    
    				}
    			</tr>
    		}
    	</tbody>
    
    </table>
    
    
    @code {
    	List<User> list = new List<User>();
    	User User1 = new User()
    		{
    			Name = "John",
    			Age = 20,
    			Gender = 2,
    		};
    	User User2 = new User()
    		{
    			Name = "Sub",
    			Age = 22,
    			Gender = 0,
    		};
    	protected override void OnInitialized()
    	{
    		list.Add(User1);
    		list.Add(User2);
    	}
    
    	public class User
    	{
    		public string Name { get; set; } = string.Empty;
    		public int Age { get; set; }
    		public int Gender { get; set; } // 0: ç”·, 1: å¥³, 2: æœªçŸ¥
    		
    	}
    }
    

![](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025181716895-51938865.gif "ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨")

![image](https://img2024.cnblogs.com/blog/1466017/202510/1466017-20251025182254148-1718218348.png)

Â ä»¥ä¸Šå°±æ˜¯ã€ŠASP.NET Core Blazorç®€ä»‹å’Œå¿«é€Ÿå…¥é—¨ä¸‰ï¼ˆå¸ƒå±€å’Œè·¯ç”±ï¼‰ã€‹çš„æ‰€æœ‰å†…å®¹ï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€æ”¶è·ã€‚å¦‚æœå¯ç”¨çš„è¯ï¼Œç»™æˆ‘ç‚¹ä¸ªèµğŸ‘å§ã€‚