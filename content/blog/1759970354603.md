---
layout: post
title: 'sensitive-wordï¼šä¸€ä¸ªç®€å•æ˜“ç”¨çš„æ•æ„Ÿè¯è¿‡æ»¤æ¡†æ¶'
date: "2025-10-09T00:39:14Z"
---
sensitive-wordï¼šä¸€ä¸ªç®€å•æ˜“ç”¨çš„æ•æ„Ÿè¯è¿‡æ»¤æ¡†æ¶
=============================

è¿™ç¯‡æ–‡ç« ï¼Œåˆ†äº«ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š**sensitive-word** ã€‚

> Github åœ°å€ï¼š[https://github.com/houbb/sensitive-word](https://github.com/houbb/sensitive-word)

**sensitive-word** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Java æ•æ„Ÿè¯è¿‡æ»¤æ¡†æ¶ï¼Œå®ƒä¸ä»…æä¾›äº†åŸºç¡€çš„æ•æ„Ÿè¯æ£€æµ‹åŠŸèƒ½ï¼Œè¿˜æ”¯æŒå•è¯æ ‡ç­¾åˆ†ç±»åˆ†çº§ã€ç¹ç®€ä½“äº’æ¢ã€å…¨è§’åŠè§’äº’æ¢ã€æ±‰å­—è½¬æ‹¼éŸ³ã€æ¨¡ç³Šæœç´¢ç­‰é«˜çº§ç‰¹æ€§ã€‚

å®ƒçš„æ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š

*   ğŸš€ **é«˜æ€§èƒ½**: åŸºäº DFA ç®—æ³•ï¼ŒåŒ¹é…æ•ˆç‡æé«˜
*   ğŸ·ï¸ **æ ‡ç­¾åˆ†ç±»**: æ”¯æŒæ•æ„Ÿè¯åˆ†ç±»åˆ†çº§ç®¡ç†
*   ğŸ”„ **å­—ç¬¦å¤„ç†**: æ”¯æŒç¹ç®€ä½“ã€å…¨è§’åŠè§’äº’æ¢
*   ğŸ¯ **æ¨¡ç³Šæœç´¢**: æ”¯æŒæ‹¼éŸ³ã€å½¢ä¼¼å­—ç­‰æ¨¡ç³ŠåŒ¹é…
*   ğŸ“¦ **å¼€ç®±å³ç”¨**: ç®€å•é…ç½®å³å¯å¿«é€Ÿé›†æˆ

1 åŸºç¡€ä½¿ç”¨
======

    <dependency>
        <groupId>com.github.houbb</groupId>
        <artifactId>sensitive-word</artifactId>
        <version>0.29.2</version>
    </dependency>
    

`SensitiveWordHelper` ä½œä¸ºæ•æ„Ÿè¯çš„å·¥å…·ç±»ï¼Œæ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹ï¼š

ç¤ºä¾‹ä»£ç ï¼š

    import com.github.houbb.sensitive.word.core.SensitiveWordHelper;
    
    public class BasicExample {
        public static void main(String[] args) {
              String text = "è¿™æ˜¯ä¸€ä¸ªåŒ…å«èµŒåšå’Œæ¯’å“ç­‰ä¸è‰¯å†…å®¹çš„æµ‹è¯•æ–‡æœ¬";
           // æ£€æµ‹æ˜¯å¦åŒ…å«æ•æ„Ÿè¯
              boolean hasSensitive = SensitiveWordHelper.contains(text);
              System.out.println("æ˜¯å¦åŒ…å«æ•æ„Ÿè¯: " + hasSensitive);
    
              // æŸ¥æ‰¾æ‰€æœ‰æ•æ„Ÿè¯
              List<String> sensitiveWords = SensitiveWordHelper.findAll(text);
              System.out.println("å‘ç°çš„æ•æ„Ÿè¯: " + sensitiveWords);
    
              // æ›¿æ¢æ•æ„Ÿè¯
              String cleanedText = SensitiveWordHelper.replace(text);
              System.out.println("æ¸…æ´—åæ–‡æœ¬: " + cleanedText);
    
              // ä½¿ç”¨æŒ‡å®šå­—ç¬¦æ›¿æ¢
              String customReplaced = SensitiveWordHelper.replace(text, '*');
              System.out.println("è‡ªå®šä¹‰æ›¿æ¢: " + customReplaced);
          }
    }
    

æ‰§è¡Œç»“æœï¼š

2 ç‰¹æ®Šå¤„ç†
======

**sensitive-word** ä¸ºäº†å°½å¯èƒ½çš„æå‡æ•æ„Ÿè¯å‘½ä¸­ç‡ï¼Œé’ˆå¯¹å„ç§å„ç§æƒ…å†µåšäº†å¤„ç†ã€‚

**1ã€å¿½ç•¥å¤§å°å†™**

    final String text = "fuCK the bad words.";
    
    String word = SensitiveWordHelper.findFirst(text);
    Assert.assertEquals("fuCK", word);
    

**2ã€å¿½ç•¥åœ†è§’åŠè§’**

    final String text = "ï½†ï½•ï½ƒï½‹ the bad words.";
    
    String word = SensitiveWordHelper.findFirst(text);
    Assert.assertEquals("ï½†ï½•ï½ƒï½‹", word);
    

**3ã€å¿½ç•¥æ•°å­—çš„å†™æ³•**

    final String text = "è¿™ä¸ªæ˜¯æˆ‘çš„å¾®ä¿¡ï¼š9â“¿äºŒè‚†â¹â‚ˆâ‘¢â‘¸â’‹âƒãˆ¤ãŠ„";
    
    List<String> wordList = SensitiveWordBs.newInstance().enableNumCheck(true).init().findAll(text);
    Assert.assertEquals("[9â“¿äºŒè‚†â¹â‚ˆâ‘¢â‘¸â’‹âƒãˆ¤ãŠ„]", wordList.toString());
    

**4ã€å¿½ç•¥ç¹ç®€ä½“**

    final String text = "æˆ‘çˆ±æˆ‘çš„ç¥–å›½å’Œäº”æ˜Ÿç´…æ——ã€‚";
    
    List<String> wordList = SensitiveWordHelper.findAll(text);
    Assert.assertEquals("[äº”æ˜Ÿç´…æ——]", wordList.toString());
    

**5ã€å¿½ç•¥è‹±æ–‡çš„ä¹¦å†™æ ¼å¼**

    final String text = "â’»â“¤câ’¦ the bad words";
    
    List<String> wordList = SensitiveWordHelper.findAll(text);
    Assert.assertEquals("[â’»â“¤câ’¦]", wordList.toString());
    

**6ã€å¿½ç•¥é‡å¤è¯**

    final String text = "â’»â’»â’»fâ“¤uâ“¤â’°câ“’â’¦ the bad words";
    
    List<String> wordList = SensitiveWordBs.newInstance()
            .ignoreRepeat(true)
            .init()
            .findAll(text);
    Assert.assertEquals("[â’»â’»â’»fâ“¤uâ“¤â’°câ“’â’¦]", wordList.toString());
    

3 æ›´å¤šæ£€æµ‹ç­–ç•¥
========

**sensitive-word** æ”¯æŒæ•°å­—ã€é‚®ç®±ã€URL ã€ipv4 å¤šç§æ£€æµ‹ç­–ç•¥ã€‚

ç¤ºä¾‹ä»£ç ï¼š

    public class SensitiveWordQuickDemo {
    
        public static void main(String[] args) {
            // é‚®ç®±æ£€æµ‹
            String text1 = "æ¥¼ä¸»å¥½äººï¼Œé‚®ç®± sensitiveword@xx.com";
            List<String> emailWords = SensitiveWordBs.newInstance()
                    .enableEmailCheck(true)
                    .init()
                    .findAll(text1);
            System.out.println("é‚®ç®±æ£€æµ‹: " + emailWords);
    
            // æ•°å­—æ£€æµ‹
            String text2 = "ä½ æ‡‚å¾—ï¼š12345678";
            List<String> numWords = SensitiveWordBs.newInstance()
                    .enableNumCheck(true)
                    .init()
                    .findAll(text2);
            System.out.println("æ•°å­—æ£€æµ‹: " + numWords);
    
            // URL æ£€æµ‹
            String text3 = "ç‚¹å‡»é“¾æ¥ https://www.baidu.com æŸ¥çœ‹ç­”æ¡ˆï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ baidu.comã€www.baidu.com";
            List<String> urlWords = SensitiveWordBs.newInstance()
                    .enableUrlCheck(true)
                    .wordCheckUrl(WordChecks.urlNoPrefix())
                    .init()
                    .findAll(text3);
            System.out.println("URL æ£€æµ‹: " + urlWords);
    
            // IPv4 æ£€æµ‹
            String text4 = "ä¸ªäººç½‘ç«™ï¼Œå¦‚æœç½‘å€æ‰“ä¸å¼€å¯ä»¥è®¿é—® 127.0.0.1ã€‚";
            List<String> ipWords = SensitiveWordBs.newInstance()
                    .enableIpv4Check(true)
                    .init()
                    .findAll(text4);
            System.out.println("IPv4 æ£€æµ‹: " + ipWords);
        }
    
    }
    

æ˜¾ç¤ºç»“æœï¼š

4 ä¼˜é›… API
========

ä¸ºäº†è®©ä½¿ç”¨æ›´åŠ ä¼˜é›…ï¼Œç»Ÿä¸€ä½¿ç”¨ fluent-api çš„æ–¹å¼å®šä¹‰ã€‚

ç”¨æˆ·å¯ä»¥ä½¿ç”¨ `SensitiveWordBs` è¿›è¡Œå¦‚ä¸‹å®šä¹‰ï¼š

æ³¨æ„ï¼šé…ç½®åï¼Œè¦ä½¿ç”¨æˆ‘ä»¬æ–°å®šä¹‰çš„ `SensitiveWordBs` çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä»¥å‰çš„å·¥å…·æ–¹æ³•ã€‚å·¥å…·æ–¹æ³•é…ç½®éƒ½æ˜¯é»˜è®¤çš„ã€‚

    public class AdvancedExample {
    
        public static void main(String[] args) {
            SensitiveWordBs wordBs = SensitiveWordBs.newInstance()
                    .ignoreCase(true)
                    .ignoreWidth(true)
                    .ignoreNumStyle(true)
                    .ignoreChineseStyle(true)
                    .ignoreEnglishStyle(true)
                    .ignoreRepeat(false)
                    .enableNumCheck(false)
                    .enableEmailCheck(false)
                    .enableUrlCheck(false)
                    .enableIpv4Check(false)
                    .enableWordCheck(true)
                    .wordFailFast(true)
                    .wordCheckNum(WordChecks.num())
                    .wordCheckEmail(WordChecks.email())
                    .wordCheckUrl(WordChecks.url())
                    .wordCheckIpv4(WordChecks.ipv4())
                    .wordCheckWord(WordChecks.word())
                    .numCheckLen(8)
                    .wordTag(WordTags.none())
                    .charIgnore(SensitiveWordCharIgnores.defaults())
                    .wordResultCondition(WordResultConditions.alwaysTrue())
                    .init();
    
            final String text = "äº”æ˜Ÿçº¢æ——è¿é£é£˜æ‰¬ï¼Œæ¯›ä¸»å¸­çš„ç”»åƒå±¹ç«‹åœ¨å¤©å®‰é—¨å‰ã€‚";
            System.out.println(wordBs.contains(text));
            System.out.println(wordBs.findFirst(text));
        }
    
    }
    

5 å®šä¹‰è¯åº“
======

01 æ–°å¢åˆ é™¤æ•æ„Ÿè¯
----------

åˆå§‹åŒ–ä¹‹åï¼Œ**sensitive-word** æ”¯æŒå¯¹å•ä¸ªè¯çš„æ–°å¢/åˆ é™¤ã€‚

*   `addWord(word)` æ–°å¢æ•æ„Ÿè¯ï¼Œæ”¯æŒå•ä¸ªè¯/é›†åˆ
    
*   `removeWord(word)` åˆ é™¤æ•æ„Ÿè¯ï¼Œæ”¯æŒå•ä¸ªè¯/é›†åˆ
    

ç¤ºä¾‹ä»£ç ï¼š

    final String text = "æµ‹è¯•ä¸€ä¸‹æ–°å¢æ•æ„Ÿè¯ï¼ŒéªŒè¯ä¸€ä¸‹åˆ é™¤å’Œæ–°å¢å¯¹ä¸å¯¹";
    
    SensitiveWordBs sensitiveWordBs =
    SensitiveWordBs.newInstance()
            .wordAllow(WordAllows.empty())
            .wordDeny(WordDenys.empty())
            .init();
    
    // å½“å‰
    Assert.assertEquals("[]", sensitiveWordBs.findAll(text).toString());
    
    // æ–°å¢å•ä¸ª
    sensitiveWordBs.addWord("æµ‹è¯•");
    sensitiveWordBs.addWord("æ–°å¢");
    Assert.assertEquals("[æµ‹è¯•, æ–°å¢, æ–°å¢]", sensitiveWordBs.findAll(text).toString());
    
    // åˆ é™¤å•ä¸ª
    sensitiveWordBs.removeWord("æ–°å¢");
    Assert.assertEquals("[æµ‹è¯•]", sensitiveWordBs.findAll(text).toString());
    sensitiveWordBs.removeWord("æµ‹è¯•");
    Assert.assertEquals("[]", sensitiveWordBs.findAll(text).toString());
    
    // æ–°å¢é›†åˆ
    sensitiveWordBs.addWord(Arrays.asList("æ–°å¢", "æµ‹è¯•"));
    Assert.assertEquals("[æµ‹è¯•, æ–°å¢, æ–°å¢]", sensitiveWordBs.findAll(text).toString());
    // åˆ é™¤é›†åˆ
    sensitiveWordBs.removeWord(Arrays.asList("æ–°å¢", "æµ‹è¯•"));
    Assert.assertEquals("[]", sensitiveWordBs.findAll(text).toString());
    
    // æ–°å¢æ•°ç»„
    sensitiveWordBs.addWord("æ–°å¢", "æµ‹è¯•");
    Assert.assertEquals("[æµ‹è¯•, æ–°å¢, æ–°å¢]", sensitiveWordBs.findAll(text).toString());
    // åˆ é™¤é›†åˆ
    sensitiveWordBs.removeWord("æ–°å¢", "æµ‹è¯•");
    Assert.assertEquals("[]", sensitiveWordBs.findAll(text).toString());
    

02 è‡ªå®šä¹‰è¯åº“æ¥æºï¼ˆæ•°æ®åº“ / æ¥å£ï¼‰
--------------------

æˆ‘ä»¬å¯ä»¥å®ç°æ¥å£ `IWordDeny` æ¥æ‰©å±•ï¼Œä¾‹å¦‚ä»æ•°æ®åº“å–æ•æ„Ÿè¯ï¼Œå®ç°è‡ªå®šä¹‰è¯åº“ã€‚

    public class CustomDictionaryExample {
    
        public static void main(String[] args) {
            SensitiveWordBs wordBs = SensitiveWordBs.newInstance()
                    .wordDeny(new IWordDeny() {
                        @Override
                        public List<String> deny() {
                        // è¿™é‡Œå¯ä»¥ä»æ•°æ®åº“æŸ¥è¯¢
                            return Arrays.asList("å‹‡å“¥", "æ•æ„Ÿè¯A", "æ•æ„Ÿè¯B");
                        }
                    })
                    .init();
    
            System.out.println(wordBs.findAll("è¿™æ˜¯ä¸€ä¸ªæ•æ„Ÿè¯A çš„æµ‹è¯•"));
        }
    
    }
    

6 Spring æ•´åˆ
===========

å½“æˆ‘ä»¬éœ€è¦åœ¨ SpringBoot é¡¹ç›®ä¸­ä½¿ç”¨æ•æ„Ÿè¯è¿‡æ»¤æ–‡æœ¬æ—¶ï¼Œå¯ä»¥å®šä¹‰æ•æ„Ÿè¯å¼•å¯¼ç±»ã€‚

ç¤ºä¾‹è§å¦‚ä¸‹ä»£ç ï¼š

    @Configuration
    public class SpringSensitiveWordConfig {
    
        @Autowired
        private MyDdWordAllow myDdWordAllow;
    
        @Autowired
        private MyDdWordDeny myDdWordDeny;
    
        /**
         * åˆå§‹åŒ–å¼•å¯¼ç±»
         * @return åˆå§‹åŒ–å¼•å¯¼ç±»
         * @since 1.0.0
         */
        @Bean
        public SensitiveWordBs sensitiveWordBs() {
            SensitiveWordBs sensitiveWordBs = SensitiveWordBs.newInstance()
                    .wordAllow(WordAllows.chains(WordAllows.defaults(), myDdWordAllow))
                    .wordDeny(myDdWordDeny)
                    // å„ç§å…¶ä»–é…ç½®
                    .init();
    
            return sensitiveWordBs;
        }
    
    }
    

7 æ•æ„Ÿè¯æ§åˆ¶å°
========

[sensitive-word-admin](https://github.com/houbb/sensitive-word-admin) æ˜¯å’Œ [sensitive-word](https://github.com/houbb/sensitive-word) é…å¥—ä½¿ç”¨çš„æ§åˆ¶å°ã€‚

*   å‰ç«¯é‡‡ç”¨Vueã€Element UIã€‚
*   åç«¯é‡‡ç”¨Spring Bootã€Spring Securityã€Redis & Jwtã€‚
*   æƒé™è®¤è¯ä½¿ç”¨Jwtï¼Œæ”¯æŒå¤šç»ˆç«¯è®¤è¯ç³»ç»Ÿã€‚
*   æ”¯æŒåŠ è½½åŠ¨æ€æƒé™èœå•ï¼Œå¤šæ–¹å¼è½»æ¾æƒé™æ§åˆ¶ã€‚
*   é«˜æ•ˆç‡å¼€å‘ï¼Œä½¿ç”¨ä»£ç ç”Ÿæˆå™¨å¯ä»¥ä¸€é”®ç”Ÿæˆå‰åç«¯ä»£ç ã€‚

å‚è€ƒæ–‡ç« ï¼š

> [https://cloud.tencent.com/developer/news/1311331](https://cloud.tencent.com/developer/news/1311331)