---
layout: post
title: '趁着过年的时候手搓了一个低代码框架'
date: "2025-02-17T00:38:28Z"
---
趁着过年的时候手搓了一个低代码框架
=================

**这个春节假期，我干了一件大事：春节期间手搓了一个低代码框架——CodeSpirit（码灵）。**

为什么手搓低代码框架？
-----------

市面上的低代码平台不少，但大多存在“黑箱生成、性能损耗、扩展性差”的痛点。开发者一旦需要深度定制，往往束手无策。而**CodeSpirit**的初衷是：**让全栈开发回归工程本质**——既能通过智能生成减少重复劳动，又能保持代码的完全可控性。

*   **后端驱动式开发范式 · 企业级开放架构 · AI增强工程闭环**

* * *

CodeSpirit的核心价值
---------------

### 1\. 全栈智能生成

当前已实现通过后端模型驱动前端界面生成，消除80%重复编码工作。

**众所周知，前端开发越来越难了！**

随着前端技术栈的不断演进，前端开发的复杂度越来越高。从早期的 **jQuery + 后端模板渲染**，到现代化的 **React、Vue、前端工程化、微前端**，再到 **TypeScript、构建优化、Serverless**，全栈开发的门槛水涨船高。

但问题是，在很多企业级项目中，**前端开发的本质工作仍然是表单、表格、增删改查（CRUD）**，大量时间被浪费在**前端对接、组件封装、接口联调、权限控制、页面布局、工程构建**上。而另一方面，**前端工程化的投入越来越大，但开发效率却并没有大幅提升**，甚至还带来额外的维护成本。

当你在写第100个用户管理页面时，是否发现：

*   🚫 表单验证逻辑重复编写
*   🚫 表格分页参数反复调试
*   🚫 导入导出功能复制粘贴
*   🚫 权限控制代码四处散落
*   🚫 前端构建经常抽风

**CodeSpirit的解法很暴力：用后端定义驱动前端生成**。只需在C#模型中添加特性注解，系统就能自动生成包含表单验证、数据表格、导入导出等完整功能的前端页面。例如：

*   **动态导航与权限控制**

在`UsersController.cs`中，通过以下注解定义界面：

    [DisplayName("用户管理")]
    [Page(Label = "用户管理", ParentLabel = "用户中心", Icon = "fa-solid fa-users", PermissionCode = PermissionCodes.UserManagement)]
    [Permission(code: PermissionCodes.UserManagement)]
    public class UsersController : ApiControllerBase { ... }

*   **效果**：自动生成导航菜单（父级为“用户中心”，图标为FontAwesome的`fa-users`）
*   **权限同步**：权限码`PermissionCodes.UserManagement`与RBAC模型自动关联，实现按钮级权限控制

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/W7HVOTQ6ADAEK)

*   **前端零代码生成复杂表格与表单**

在`UserDto.cs`中，属性注解定义了前端组件的生成规则：

        [DisplayName("姓名")]
        [TplColumn(template: "${name}")]  // 自定义模板列
        [Badge(VisibleOn = "accessFailedCount > 0", Level = "warning", Mode = "text", Text = "${accessFailedCount}")]  // 条件徽章
        public string Name { get; set; }
    
        [DisplayName("头像")]
        [AvatarColumn(Text = "${name}")]  // 头像组件，头像加载失败自动取姓名首字母
        [Badge(Animation = true, VisibleOn = "isActive", Level = "info")]
        public string AvatarUrl { get; set; }
    
        [Required]
        [StringLength(50, MinimumLength = 3)]
        [DisplayName("用户名")]
        public string UserName { get; set; }
    
        [Required]
        [EmailAddress]
        [DisplayName("电子邮箱")]
        public string Email { get; set; }

*   **前端自动渲染**：生成带徽章提示的姓名列、圆形头像列
*   **智能校验**：通过`[Required]`、`[EmailAddress]`等注解自动生成表单校验逻辑

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/2AIVQTQ6ACQAU)

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/QQEWATQ6AAQFO)

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/SUCGETQ6ABQHU)

* * *

### 2\. 企业级架构，开箱即用

CodeSpirit基于**.NET 9**以及**.NET Aspire**构建，目标是成为企业级高性能、搞扩展架构：

*   **权限体系**：RBAC+ABAC混合模型，细粒度控制按钮级权限
*   **分布式支持**：原生集成Dapr，轻松实现服务间通信
*   **审计追踪**：记录每一次数据变更，满足合规需求
*   **云原生底座**：Kubernetes原生支持，一键部署到多云环境
*   ...

### 3\. AI协同，自然语言编程（VNext）

“灵儿，给用户表加个生日字段，在列表页显示为年龄。”

只需一句自然语言指令，AI助手自动完成：

✅ 修改DTO模型

✅ 生成前端页面

✅ 编写数据库迁移脚本

甚至支持**截图生成代码**或**语音指令调整配置**，让开发更“人性化”。

### 4\. 全栈开放，拒绝黑箱

与传统低代码平台不同，CodeSpirit生成的代码完全开放，开发者可随时介入修改。无论是自定义复杂查询，还是优化前端性能，都能直接操作源码，实现从**快速原型**到**复杂系统**的平滑演进。

* * *

**框架优势对比**
----------

* * *

### **低代码框架对比**

**维度**

**CodeSpirit**

**传统低代码平台**

架构开放性

全代码开放

黑箱生成

性能表现

原生代码级性能

解释执行性能损耗

定制能力

底层架构可定制

有限扩展

技术栈

最新.NET生态

私有技术栈

部署模式

混合云/本地部署

SaaS绑定

### **典型开发场景对比**

**传统模式**

**CodeSpirit模式**

**效率提升**

前后端联调3小时

自动生成联调完成

8x

表单校验开发0.5天

声明式配置5分钟

12x

权限系统集成2天

开箱即用 + 策略扩展

∞

* * *

**路线图规划**
---------

### **Q1 2025**

*   智能界面生成引擎
*   码灵Beta版发布
*   H5生成引擎

### **Q2 2025**

*   可视化分析模块
*   深度集成LLM代码生成能力

### **Q3 2025**

*   全栈生成引擎
*   多云部署支持
*   Java支持

### **Q4 2025**

*   DSL支持
*   智能运维机器人
*   低代码应用市场

* * *

最后
--

开源库地址（体验地址和账号见Git库）：

*   Github：[xin-lai/CodeSpirit](https://github.com/xin-lai/CodeSpirit)
*   Gitee：[magicodes/CodeSpirit](https://gitee.com/magicodes/code-spirit)
*   公众号：

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/IL6HMTQ6ADADW)

![](http://www.kdocs.cn/api/v3/office/copy/U3lRTnZ1dTdZZThxeXBvRTZGblkwNWxrVDJBejNqRlVYMmdFQSs1Tnh5cmtGS1B5SEsyQ1FBWUdvWi9MY3ZvRDVsYVRLMkNZRU00Q2RDWjdZRXZYY0V2aDI1elJyNHJXbThUODloMm81TUUzYW1PZDA0dmE2NC9yWTZVQm1sSmY0NkVVbm9zN2h1TndIcE53dFAzbjdtR1NndXl5VUxYSGdjcUJsL0hocGhDejhVR1Npb2p2cEFudlltMURJSGZ1dlJZRFFKeFowbFhXZjBNa29qMTlvYXhqWVVWVkszd2krR0w1QWgyOVd4VVNsSE12TGVpSE10NWdSL3FyQzJ1UFF4UHNMVVBVc2xBPQ==/attach/object/BKMHMTQ6ADQEQ)

作者：[雪雁](http://www.cnblogs.com/codelove/)  
出处：[http://www.cnblogs.com/codelove/](http://www.cnblogs.com/codelove/)  
沟通渠道：编程交流群<85318032> 产品交流群<897857351>  
如果喜欢作者的文章，请关注【麦扣聊技术】订阅号以便第一时间获得最新内容。本文版权归作者和湖南心莱信息科技有限公司共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。  
**静听鸟语花香，漫赏云卷云舒。**  
![](https://www.cnblogs.com/images/cnblogs_com/codelove/315887/o_qrcode_for_gh_98da951b84a8_258.jpg)