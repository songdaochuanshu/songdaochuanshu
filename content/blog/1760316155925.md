---
layout: post
title: '如何安装claude code以及ccr code'
date: "2025-10-13T00:42:35Z"
---
如何安装claude code以及ccr code
=========================

如何安装claude code以及ccr code
=========================

1\. 安装 node
-----------

### 1.1 node的常规安装（适用于linux18.04，linux20.04等新版本）

参考官网安装顺序：[https://nodejs.org/en/download](https://nodejs.org/en/download)

### 1.2 常规安装失败，其他情况下node的安装（适用于linux16.04等旧版本）

即选择直接安装 node的全依赖版本

1.  下载全依赖版本 node：[https://unofficial-builds.nodejs.org/download/release/v22.9.0/](https://unofficial-builds.nodejs.org/download/release/v22.9.0/)  
    ![image](https://img2024.cnblogs.com/blog/2846022/202510/2846022-20251012225627246-327336718.png)
    
2.  解压并重命名
    

    tar -xzvf node-v22.9.0-linux-x64-glibc-217.tar.gz -C ~/node/
    mv node-v22.9.0-linux-x64-glibc-217/ node-v22/
    

3.  .bashrc中添加路径信息：  
    export PATH="/home/\*\*\*\*/node/node-v22/bin:$PATH"
    
4.  修改 npm 使用阿里云镜像源:
    

    npm config set registry=https://registry.npmmirror.com
    

2\. 安装claude code
-----------------

安装好npm之后，就可以安装claude code了

    npm install -g @anthropic-ai/claude-code
    

3\. 安装ccr code
--------------

安装好npm之后，就可以安装ccr code了(ccr code 全称： Claude Code Router code)

    npm install -g @musistudio/claude-code-router
    

详见项目地址：[https://github.com/musistudio/claude-code-router/blob/main/README\_zh.md](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md)

4\. 申请魔塔社区的免费api账户
------------------

魔塔官网：[https://www.modelscope.cn/my/overview](https://www.modelscope.cn/my/overview)  
![image](https://img2024.cnblogs.com/blog/2846022/202510/2846022-20251012230350390-351703037.png)

5\. 设置ccr code的config文件
-----------------------

### 5.1 进入Linux的/home/\*\*\*\*/.claude-code-router目录

![image](https://img2024.cnblogs.com/blog/2846022/202510/2846022-20251012230649762-1706117354.png)

### 5.2 新建或打开config.json文件,输入以下内容，记得替换你自己的魔塔api密钥

    {
      "LOG": false,
      "OPENAI_API_KEY": "",
      "OPENAI_BASE_URL": "",
      "OPENAI_MODEL": "",
      "Providers": [
        {
          "name": "modelscope",
          "api_base_url": "https://api-inference.modelscope.cn/v1/chat/completions",
          "api_key": "此处输入你的魔塔api密钥，密钥不带'ms-'开头",
          "models": ["Qwen/Qwen3-Coder-480B-A35B-Instruct","ZhipuAI/GLM-4.5","deepseek-ai/DeepSeek-V3.1","moonshotai/Kimi-K2-Instruct","openai-mirror/gpt-oss-120b","Qwen/Qwen3-235B-A22B-Thinking-2507"],
          "transformer": {
            "use": [
              [
                "maxtoken",
                {
                  "max_tokens": 65536
                }
              ],
              "enhancetool"
            ],
            "Qwen/Qwen3-235B-A22B-Thinking-2507": {
              "use": ["reasoning"]
            }
          }
        }
      ],
      "Router": {
        "default": "modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct",
        "background": "modelscope,deepseek-ai/DeepSeek-V3.1",
        "think": "modelscope,Qwen/Qwen3-235B-A22B-Thinking-2507",
        "longContext": "modelscope,Qwen/Qwen3-Coder-480B-A35B-Instruct",
        "longContextThreshold": 60000,
        "webSearch": "modelscope,ZhipuAI/GLM-4.5"
      }
    }
    
    

6\. 启动 ccr code
---------------

进入你的项目目录再执行 ccr code命令  
![image](https://img2024.cnblogs.com/blog/2846022/202510/2846022-20251012231239031-285752035.png)