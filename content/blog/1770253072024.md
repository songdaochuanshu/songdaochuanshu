---
layout: post
title: 'æ‰£å­Cozeå®æˆ˜ï¼šä»0åˆ°1æ‰“é€ æŠ–éŸ³+å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“'
date: "2026-02-05T00:57:52Z"
---
æ‰£å­Cozeå®æˆ˜ï¼šä»0åˆ°1æ‰“é€ æŠ–éŸ³+å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“
============================

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ±¤å¸ˆçˆ·ï¼Œä¸“æ³¨AIæ™ºèƒ½ä½“åˆ†äº«ï¼Œè‡´åŠ›äºå¸®åŠ©100Wäººç”¨æ™ºèƒ½ä½“åˆ›å¯Œ~

çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“æ˜¯å¸®ä½ è‡ªåŠ¨å‘ç°çˆ†æ¬¾é€‰é¢˜çš„åˆ©å™¨ã€‚

å®ƒèƒ½å…¨å¤©å€™æ‰«æå„å¤§å¹³å°çš„çƒ­é—¨å†…å®¹ï¼Œä»æµ·é‡ä¿¡æ¯ä¸­ç­›é€‰å‡ºæœ€æœ‰ä»·å€¼çš„è¯é¢˜å’Œåˆ›æ„ã€‚

ä½ ä¸éœ€è¦å†æ‰‹åŠ¨æœç´¢ï¼Œæ™ºèƒ½ä½“ä¼šè‡ªåŠ¨å°†çƒ­ç‚¹å†…å®¹æ•´ç†æˆè¡¨æ ¼ï¼Œè®©ä½ æ¸…æ™°ç›´è§‚åœ°æŒæ¡è¡Œä¸šåŠ¨æ€ã€‚

### 1 ä¸ºä»€ä¹ˆè¦åšçƒ­ç‚¹ç›‘æ§

çƒ­ç‚¹ç›‘æ§æ˜¯å†…å®¹åˆ›ä½œè€…å’Œè¥é”€äººå‘˜çš„å¿…å¤‡å·¥å…·ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬åœ¨ä¿¡æ¯çˆ†ç‚¸æ—¶ä»£ç²¾å‡†æŠŠæ¡ç”¨æˆ·å…³æ³¨ç‚¹ï¼Œæå‡å†…å®¹æ•ˆæœå’Œå½±å“åŠ›ã€‚ä»¥ä¸‹æ˜¯è¿›è¡Œçƒ­ç‚¹ç›‘æ§çš„å››å¤§æ ¸å¿ƒç†ç”±ï¼š

**1\. æŠŠæ¡ç”¨æˆ·å…´è¶£ï¼Œæé«˜å†…å®¹ç›¸å…³æ€§**

ç”¨æˆ·çš„æ³¨æ„åŠ›æ˜¯ç¨€ç¼ºèµ„æºã€‚é€šè¿‡å®æ—¶ç›‘æ§çƒ­ç‚¹è¯é¢˜ï¼Œæˆ‘ä»¬èƒ½äº†è§£ç›®æ ‡å—ä¼—å½“ä¸‹æœ€å…³å¿ƒçš„é—®é¢˜å’Œå…´è¶£ç‚¹ã€‚çƒ­ç‚¹æœ¬è´¨ä¸Šæ˜¯ç”¨æˆ·å…´è¶£çš„é›†ä¸­ä½“ç°ï¼ŒåŸºäºçƒ­ç‚¹åˆ›ä½œçš„å†…å®¹è‡ªç„¶å…·æœ‰æ›´é«˜çš„ç”¨æˆ·åŒ¹é…åº¦ï¼Œæ›´å®¹æ˜“è·å¾—å…³æ³¨å’Œäº’åŠ¨ã€‚

**2\. èŠ‚çº¦é€‰é¢˜æ—¶é—´ï¼Œæé«˜åˆ›ä½œæ•ˆç‡**

æ²¡æœ‰çƒ­ç‚¹ç›‘æ§ç³»ç»Ÿæ—¶ï¼Œåˆ›ä½œè€…éœ€è¦åœ¨å„å¹³å°é—´ä¸æ–­åˆ‡æ¢ï¼Œæ‰‹åŠ¨æœç´¢å’Œç­›é€‰ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ—¢è€—æ—¶åˆä½æ•ˆã€‚è‡ªåŠ¨åŒ–çƒ­ç‚¹ç›‘æ§èƒ½æŒç»­è¿½è¸ªå¤šå¹³å°çƒ­é—¨å†…å®¹ï¼Œå°†é‡å¤æ€§å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“ï¼Œè®©åˆ›ä½œè€…èƒ½ä¸“æ³¨äºå†…å®¹åˆ›ä½œæœ¬èº«ã€‚

**3\. æŠ“ä½æ—¶æœºï¼Œæé«˜æ›å…‰æœºä¼š**

çƒ­ç‚¹å…·æœ‰æ˜æ˜¾çš„æ—¶æ•ˆæ€§ï¼Œè¶Šæ—©å‚ä¸è®¨è®ºï¼Œè·å¾—çš„æ›å…‰æœºä¼šå°±è¶Šå¤šã€‚è‡ªåŠ¨åŒ–çƒ­ç‚¹ç›‘æ§ç³»ç»Ÿèƒ½åœ¨çƒ­ç‚¹åˆšå‡ºç°æ—¶å°±å‘å‡ºæé†’ï¼Œå¸®åŠ©åˆ›ä½œè€…æŠ¢å å…ˆæœºã€‚æ¯”èµ·ç­‰çƒ­ç‚¹å®Œå…¨çˆ†å‘åå†è·Ÿè¿›ï¼Œæå‰å¸ƒå±€èƒ½è·å¾—æ›´å¤šæµé‡çº¢åˆ©å’Œå¹³å°ç®—æ³•é’çã€‚

**4\. å‘ç°å†…å®¹æœºä¼šï¼Œé¿å…åŒè´¨åŒ–**

çƒ­ç‚¹ç›‘æ§ä¸åªæ˜¯è¿½è¸ªå·²ç»çˆ†å‘çš„è¯é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯å‘ç°æ½œåœ¨æ–°å…´çƒ­ç‚¹ã€‚é€šè¿‡åˆ†æçƒ­ç‚¹æ•°æ®ï¼Œåˆ›ä½œè€…å¯ä»¥è¯†åˆ«å°šæœªè¢«å……åˆ†æŒ–æ˜çš„å†…å®¹æœºä¼šï¼Œé¿å¼€åŒè´¨åŒ–ç«äº‰ï¼Œæ‰¾åˆ°å·®å¼‚åŒ–è¡¨è¾¾è§’åº¦ï¼Œä»è€Œåœ¨æ¿€çƒˆçš„å†…å®¹ç«äº‰ä¸­è„±é¢–è€Œå‡ºã€‚

### 2 çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“æ­å»ºæµç¨‹

æ™ºèƒ½ä½“çš„æ­å»ºæµç¨‹ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼šæ¢³ç†å·¥ä½œæµå’Œè®¾ç½®æ™ºèƒ½ä½“ã€‚

**1ã€æ¢³ç†å·¥ä½œæµ**

çƒ­ç‚¹ç›‘æ§å·¥ä½œæµæ˜¯ä¸€å¥—è‡ªåŠ¨åŒ–ä¿¡æ¯é‡‡é›†å’Œå¤„ç†ç³»ç»Ÿï¼Œèƒ½å°†äººå·¥éœ€è¦å‡ å°æ—¶ç”šè‡³å‡ å¤©å®Œæˆçš„å·¥ä½œå‹ç¼©è‡³å‡ åˆ†é’Ÿå†…è‡ªåŠ¨å®Œæˆã€‚è¿™ä¸€å·¥ä½œæµä¸»è¦åŒ…å«ä¸‰å¤§ç¯èŠ‚ï¼š

**ï¼ˆ1ï¼‰æ ¹æ®å…³é”®è¯ï¼Œæ‰¹é‡è·å–çƒ­é—¨è§†é¢‘**

ç³»ç»Ÿæ ¹æ®é¢„è®¾çš„å…³é”®è¯ï¼ˆå¦‚è¡Œä¸šçƒ­è¯ã€äº§å“åç§°ã€ç«å“ä¿¡æ¯ç­‰ï¼‰ï¼Œè‡ªåŠ¨ä»æŠ–éŸ³ã€å°çº¢ä¹¦ç­‰å¹³å°æœç´¢ç›¸å…³è§†é¢‘ã€‚è¿™ä¸€æ­¥éª¤æ›¿ä»£äº†æ‰‹åŠ¨æœç´¢å’Œæµè§ˆç»“æœçš„è¿‡ç¨‹ï¼Œå¤§å¹…æé«˜æ•ˆç‡ã€‚

**ï¼ˆ2ï¼‰æ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯**

è·å–è§†é¢‘åˆ—è¡¨åï¼Œç³»ç»Ÿè¿›ä¸€æ­¥æŠ“å–æ¯ä¸ªè§†é¢‘çš„è¯¦ç»†æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š

*   åŸºç¡€ä¿¡æ¯ï¼šè§†é¢‘IDã€æ ‡é¢˜ã€é“¾æ¥ã€å‘å¸ƒæ—¶é—´ã€è§†é¢‘æ—¶é•¿ç­‰
*   äº’åŠ¨æ•°æ®ï¼šç‚¹èµæ•°ã€è¯„è®ºæ•°ã€æ”¶è—æ•°ã€åˆ†äº«æ•°ç­‰å…³é”®æŒ‡æ ‡
*   åˆ›ä½œè€…ä¿¡æ¯ï¼šä½œè€…åç§°ã€ç”¨æˆ·IDã€ä¸ªäººç®€ä»‹ç­‰

è¿™äº›æ•°æ®æ˜¯åˆ†æè§†é¢‘çƒ­åº¦å’Œå—æ¬¢è¿ç¨‹åº¦çš„å…³é”®æŒ‡æ ‡ï¼Œä¹Ÿæ˜¯åˆ¤æ–­å†…å®¹ä»·å€¼çš„é‡è¦ä¾æ®ã€‚ç³»ç»Ÿå°†è¿™äº›é›¶æ•£æ•°æ®æ•´åˆæˆç»“æ„åŒ–ä¿¡æ¯ï¼Œä¾¿äºåç»­åˆ†æã€‚

**ï¼ˆ3ï¼‰å°†æ•°æ®æ·»åŠ åˆ°å¤šç»´è¡¨æ ¼**

æœ€åï¼Œç³»ç»Ÿå°†å¤„ç†å¥½çš„æ•°æ®è‡ªåŠ¨å¯¼å…¥åˆ°é¢„è®¾çš„é£ä¹¦å¤šç»´è¡¨æ ¼ä¸­ã€‚

é€šè¿‡è¿™æ ·çš„è‡ªåŠ¨åŒ–å¤„ç†ï¼Œæˆ‘ä»¬èƒ½å»ºç«‹ä¸€ä¸ªå®æ—¶æ›´æ–°çš„çƒ­ç‚¹å†…å®¹åº“ï¼Œéšæ—¶æŸ¥çœ‹è¡Œä¸šåŠ¨æ€ï¼Œå‘ç°çˆ†æ¬¾é€‰é¢˜çµæ„Ÿã€‚

è¿™ç§å·¥ä½œæµæ˜¾è‘—å‡è½»äº†è¿è¥äººå‘˜çš„å·¥ä½œè´Ÿæ‹…ï¼Œè®©æˆ‘ä»¬èƒ½å°†æ›´å¤šç²¾åŠ›æŠ•å…¥åˆ°å†…å®¹åˆ›ä½œå’Œç­–ç•¥åˆ¶å®šä¸Šã€‚

**2ã€è®¾ç½®æ™ºèƒ½ä½“**

å®Œæˆå·¥ä½œæµæ­å»ºåï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªçƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“æ¥æ‰§è¡Œè¿™ä¸ªå·¥ä½œæµã€‚æ™ºèƒ½ä½“è®¾ç½®è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªå…³é”®æ­¥éª¤ï¼š

1.  è®¾ç½®äººè®¾ä¸é€»è¾‘ï¼šé…ç½®æ™ºèƒ½ä½“çš„ç‰¹å¾ã€å›å¤é£æ ¼å’Œå†³ç­–é€»è¾‘
2.  ç»‘å®šå·¥ä½œæµï¼šå°†å·¥ä½œæµä¸æ™ºèƒ½ä½“å…³è”ï¼Œèµ‹äºˆå®ƒæ‰§è¡Œå…·ä½“ä»»åŠ¡çš„èƒ½åŠ›
3.  æµ‹è¯•å¹¶å‘å¸ƒï¼šè¿›è¡Œå…¨é¢åŠŸèƒ½æµ‹è¯•ï¼Œç¡®è®¤ä¸€åˆ‡æ­£å¸¸åå°†æ™ºèƒ½ä½“æ­£å¼å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒ

å®Œæˆè¿™ä¸‰ä¸ªæ­¥éª¤åï¼Œæˆ‘ä»¬å°±æˆåŠŸæ­å»ºäº†ä¸€ä¸ªçƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“ã€‚

### 3 æŠ–éŸ³çƒ­ç‚¹ç›‘æ§å·¥ä½œæµ

å‰é¢æˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†çƒ­ç‚¹ç›‘æ§çš„é‡è¦æ€§å’Œæ™ºèƒ½ä½“æ­å»ºçš„åŸºæœ¬æµç¨‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥äº†è§£å¦‚ä½•å®é™…æ­å»ºä¸€ä¸ªæŠ–éŸ³çƒ­ç‚¹ç›‘æ§å·¥ä½œæµã€‚

ç™»å½•Cozeå®˜ç½‘ï¼Œåœ¨â€œèµ„æºåº“-å·¥ä½œæµâ€é‡Œæ–°å»ºä¸€ä¸ªç©ºç™½å·¥ä½œæµï¼Œå–åâ€œfetch\_douyin\_hot\_videosâ€ã€‚

å·¥ä½œæµæ•´ä½“é¢„è§ˆå¦‚å›¾æ‰€ç¤ºã€‚

**1ã€å¼€å§‹èŠ‚ç‚¹**

è¿™é‡Œç”¨äºå®šä¹‰å·¥ä½œæµå¯åŠ¨æ—¶æ‰€éœ€çš„è¾“å…¥å‚æ•°ã€‚å¦‚å›¾6-2æ‰€ç¤ºã€‚

*   è¾“å…¥ï¼š
    *   keywordsï¼šç”¨äºæœç´¢çƒ­ç‚¹çš„å…³é”®è¯ï¼Œå¯ä»¥æ˜¯äº§å“åç§°ã€è¡Œä¸šæœ¯è¯­ã€ç«å“åç§°æˆ–çƒ­é—¨è¯é¢˜ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æœç´¢ç›¸å…³çš„çƒ­é—¨å†…å®¹

**2ã€æ’ä»¶èŠ‚ç‚¹ï¼šæ ¹æ®å…³é”®è¯ï¼Œæ‰¹é‡è·å–çƒ­é—¨è§†é¢‘**

æˆ‘ä»¬å°†ä½¿ç”¨"è§†é¢‘æœç´¢"æ’ä»¶çš„"douyin\_search"å·¥å…·ã€‚é€šè¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…³é”®è¯æ‰¹é‡è·å–çƒ­é—¨è§†é¢‘ã€‚

*   è¾“å…¥ï¼š
    *   api\_tokenï¼šè¿™é‡Œéœ€è¦å¡«å…¥ä½ çš„APIå¯†é’¥ï¼Œå¯ä»¥ä»æ’ä»¶çš„å®˜æ–¹å¹³å°è·å–ï¼Œå®ƒæ˜¯è°ƒç”¨è§†é¢‘æ•°æ®çš„é‡è¦å‡­è¯ï¼Œç›¸å½“äºä½ çš„èº«ä»½è¯æ˜
    *   keywordï¼šå…³é”®è¯ï¼Œä»å¼€å§‹èŠ‚ç‚¹è·å–
    *   pageï¼šè·å–ç¬¬å‡ é¡µçš„å†…å®¹
    *   publish\_timeï¼šå‘å¸ƒæ—¶é—´ï¼Œå¯ç”¨å€¼ä¸º\_0(ä¸é™)ã€\_1(ä¸€å¤©ä¹‹å†…)ã€\_7(ä¸€å‘¨ä¹‹å†…)ã€\_180(åŠå¹´ä¹‹å†…)ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©\_7
    *   sort\_typeï¼šæ’åºç±»å‹ï¼Œå¯ç”¨å€¼ï¼š\_0(ç»¼åˆ)ã€\_1(æœ€å¤šç‚¹èµ)ã€\_2(æœ€æ–°å‘å¸ƒ)ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©\_1

**4ã€æ‰¹å¤„ç†èŠ‚ç‚¹ï¼šæ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯**

æ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯æ˜¯å·¥ä½œæµä¸­çš„æ ¸å¿ƒèŠ‚ç‚¹ï¼Œå®ƒè´Ÿè´£å°†ä¸Šä¸€æ­¥éª¤ä¸­è·å–çš„è§†é¢‘åˆ—è¡¨è¿›ä¸€æ­¥æ·±å…¥å¤„ç†ï¼Œè·å–æ¯ä¸ªè§†é¢‘çš„å®Œæ•´ä¿¡æ¯ã€‚

*   è¾“å…¥ï¼š
    *   å¹¶è¡Œè¿è¡Œæ•°é‡ï¼šè®¾ç½®é€‚å½“çš„å¹¶è¡Œæ•°é‡å¯æé«˜å·¥ä½œæµæ‰§è¡Œæ•ˆç‡ï¼Œè®¾ç½®ä¸º1åˆ™æŒ‰é¡ºåºä¸²è¡Œæ‰§è¡Œ
    *   æ‰¹å¤„ç†æ¬¡æ•°ä¸Šé™ï¼šæ‰¹å¤„ç†æ“ä½œä¸ä¼šè¶…è¿‡è¿™ä¸ªè®¾å®šçš„æœ€å¤§æ¬¡æ•°
    *   aweme\_listï¼šä»"æ ¹æ®å…³é”®è¯ï¼Œæ‰¹é‡è·å–çƒ­é—¨è§†é¢‘"èŠ‚ç‚¹è¾“å‡ºä¸­ï¼Œé€‰æ‹©dataï¼Œç±»å‹ä¸ºArray

**5ã€æ‰¹å¤„ç†ä½“å†…æ’ä»¶èŠ‚ç‚¹ï¼šè·å–å•ä¸ªè§†é¢‘è¯¦ç»†ä¿¡æ¯**

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ æ‰¹å¤„ç†ä½“å†…çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨"è§†é¢‘æœç´¢"æ’ä»¶çš„douyin\_dataå·¥å…·ï¼Œé€šè¿‡è¿™ä¸ªåŠŸèƒ½å¯ä»¥æ ¹æ®æŠ–éŸ³è§†é¢‘é“¾æ¥è·å–è§†é¢‘çš„è¯¦ç»†ä¿¡æ¯ã€‚

*   è¾“å…¥ï¼š
    *   api\_tokenï¼šAPIå¯†é’¥
    *   douyin\_urlï¼šä»"æ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©share\_url

**6ã€æ‰¹å¤„ç†ä½“å†…ä»£ç èŠ‚ç‚¹ï¼šå°†è§†é¢‘è¯¦æƒ…æ•´åˆè¿›è§†é¢‘åˆ—è¡¨ä¸­**

è¿™ä¸€æ­¥å°†ä»æŠ–éŸ³APIè·å–çš„è¯¦ç»†è§†é¢‘ä¿¡æ¯ä¸ä¹‹å‰æ”¶é›†çš„è§†é¢‘åˆ—è¡¨æ•°æ®åˆå¹¶ã€‚

é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬èƒ½æŒæ¡æ¯ä¸ªè§†é¢‘çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬äº’åŠ¨æ•°æ®ï¼ˆç‚¹èµã€è¯„è®ºã€æ”¶è—æ•°ï¼‰ã€åˆ›ä½œè€…ä¿¡æ¯å’Œå†…å®¹è¯¦æƒ…ï¼Œä»è€Œä¸ºåç»­åˆ†ææä¾›å…¨é¢çš„æ•°æ®åŸºç¡€ã€‚

*   è¾“å…¥ï¼š
    *   aweme\_detailï¼šä»"è·å–å•ä¸ªè§†é¢‘è¯¦ç»†ä¿¡æ¯"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©aweme\_detail
    *   awemeï¼šä»"æ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©item
*   è¾“å‡ºï¼š
    *   aweme\_listï¼šå˜é‡ç±»å‹è®¾ç½®ä¸º Array å¯¹è±¡æ•°ç»„ï¼Œè¡¨ç¤ºå¤„ç†åçš„è§†é¢‘åˆ—è¡¨

ä¸‹é¢æ˜¯å¤„ç†æ•°æ®çš„Pythonä»£ç ï¼Œå®ƒä¼šå°†è§†é¢‘ä¿¡æ¯è½¬æ¢æˆæˆ‘ä»¬éœ€è¦çš„æ ¼å¼ã€‚

    async def main(args: Args) -> Output:
        params = args.params
        aweme_detail = params.get("aweme_detail", {})
        aweme = params.get("aweme", {})
        aweme["aweme_detail"] = aweme_detail
    
        ret: Output = {
            "aweme_list": [aweme]
        }
        return ret
    

**7ã€æ‰¹å¤„ç†ä½“å†…ä»£ç èŠ‚ç‚¹ï¼šå°†ä¿¡æ¯æ•´ç†ä¸ºé£ä¹¦è¡¨æ ¼å¯ä»¥ä½¿ç”¨çš„æ•°æ®**

åœ¨è¿™ä¸ªç¯èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šæå–è§†é¢‘çš„æ ¸å¿ƒä¿¡æ¯ï¼ˆå¦‚æ ‡é¢˜ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ç­‰ï¼‰ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢æˆé£ä¹¦è¡¨æ ¼èƒ½å¤Ÿç›´æ¥è¯†åˆ«å’Œå¤„ç†çš„æ ¼å¼ã€‚

*   è¾“å…¥ï¼š
    *   aweme\_listï¼šä»"å°†è§†é¢‘è¯¦æƒ…æ•´åˆè¿›è§†é¢‘åˆ—è¡¨ä¸­"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©aweme\_list
    *   keywordsï¼šä»å¼€å§‹èŠ‚ç‚¹ä¸­ï¼Œé€‰æ‹©keywords
*   è¾“å‡ºï¼š
    *   recordsï¼šå¤„ç†åçš„è¡¨æ ¼æ•°æ®ï¼Œé€‰æ‹©Arrayç±»å‹

ä¸‹é¢æ˜¯å¤„ç†æ•°æ®çš„Pythonä»£ç ï¼Œè¿™æ®µä»£ç éå¸¸é‡è¦ï¼Œå®ƒè´Ÿè´£å°†æŠ–éŸ³APIè¿”å›çš„åŸå§‹æ•°æ®è½¬æ¢æˆç»“æ„åŒ–çš„è¡¨æ ¼æ•°æ®ã€‚

    async def main(args: Args) -> Output:
        params = args.params
        aweme_list = params.get("aweme_list", [])
    
        result = []
    
        # éå† aweme_listï¼Œä¾æ¬¡å¤„ç†
        for aweme in aweme_list:
    
            # è·å– aweme_detail å¹¶åˆ¤ç©º
            aweme_detail = aweme.get("aweme_detail") or {}
            title = aweme_detail.get("desc") or ""
            link = aweme_detail.get("share_url") or ""
    
            # å®‰å…¨è·å– statistics
            statistics = aweme_detail.get("statistics") or {}
    
            # æå–å„å­—æ®µä¿¡æ¯ï¼Œå¹¶åœ¨å–å€¼æ—¶åŠ é»˜è®¤å€¼
            video_id = statistics.get("aweme_id") or ""
            digg_count = statistics.get("digg_count") or 0
            comment_count = statistics.get("comment_count") or 0
            collect_count = statistics.get("collect_count") or 0
            share_count = statistics.get("share_count") or 0
    
            # è·å–ä½œè€…ä¿¡æ¯
            author_info = aweme_detail.get("author") or {}
            author_name = author_info.get("nickname") or ""
            signature = author_info.get("signature") or ""
            sec_uid = author_info.get("sec_uid") or ""
            raw_create_time = aweme_detail.get("create_time", 0)
            # å¦‚æœä¸æ˜¯ intï¼Œå°±å°è¯•è½¬æ¢ï¼Œå¤±è´¥åˆ™ä¸º 0
            try:
                create_time = int(raw_create_time)
            except (TypeError, ValueError):
                create_time = 0
    
            # åˆ›å»ºæ—¶é—´ä»¥æ¯«ç§’è®¡ï¼Œé¿å… None æˆ–éæ³•å€¼å¯¼è‡´æŠ¥é”™
            create_time_ms = create_time * 1000
    
            raw_duration = aweme_detail.get("duration", 0)
            # å¦‚æœä¸æ˜¯æ•°å­—ï¼Œå°è¯•è½¬æ¢ä¸º floatï¼Œå¤±è´¥åˆ™ä¸º 0
            try:
                duration = float(raw_duration)
            except (TypeError, ValueError):
                duration = 0.0
            duration_sec = duration / 1000
    
            # ç»„è£…è¿”å›æ•°æ®
            item_dict = {
                "fields": {
                    "è§†é¢‘ID": video_id,
                    "æ ‡é¢˜": title.strip(),
                    "å…³é”®è¯": params.get("keywords", ""),
                    "é“¾æ¥": {
                        "text": "æŸ¥çœ‹è§†é¢‘",
                        "link": link.strip(),
                    },
                    "ç‚¹èµæ•°": digg_count,
                    "è¯„è®ºæ•°": comment_count,
                    "æ”¶è—æ•°": collect_count,
                    "åˆ†äº«æ•°": share_count,
                    "ä½œè€…": author_name,
                    "ç”¨æˆ·ç®€ä»‹": signature,
                    "ç”¨æˆ·ID": sec_uid,
                    "å‘å¸ƒæ—¥æœŸ": create_time_ms,  # æ¯«ç§’çº§æ—¶é—´æˆ³
                    "æ—¶é•¿": duration_sec        # ç§’
                }
            }
            result.append(item_dict)
    
        return result
    

**8ã€æ‰¹å¤„ç†ä½“å†…æ’ä»¶èŠ‚ç‚¹ï¼šå°†æ•°æ®æ·»åŠ åˆ°å¤šç»´è¡¨æ ¼**

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå¤šç»´è¡¨æ ¼å¹¶è®¾ç½®å¥½è¡¨å¤´å­—æ®µï¼Œä¸ºåç»­æ•°æ®é‡‡é›†åšå¥½å‡†å¤‡ã€‚è¿™ä¸ªè¡¨æ ¼æ˜¯å­˜å‚¨å’Œåˆ†ææŠ–éŸ³çƒ­ç‚¹è§†é¢‘æ•°æ®çš„æ ¸å¿ƒï¼Œå› æ­¤è¡¨å¤´è®¾è®¡è‡³å…³é‡è¦ã€‚æˆ‘ä»¬åº”åŒ…å«è§†é¢‘IDã€æ ‡é¢˜ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ç­‰å…³é”®ä¿¡æ¯ï¼Œä¾¿äºåæœŸåˆ†æå’Œç­›é€‰ã€‚åˆ›å»ºå¥½çš„è¡¨æ ¼ç•Œé¢å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

é€‰æ‹©"é£ä¹¦è¡¨æ ¼"æ’ä»¶èŠ‚ç‚¹çš„add\_recordså·¥å…·ï¼Œå°†æ•°æ®æ·»åŠ åˆ°å¤šç»´è¡¨æ ¼ã€‚

*   è¾“å…¥ï¼š
    *   app\_tokenï¼šæå‰åˆ›å»ºä¸€ä¸ªå¤šç»´è¡¨æ ¼ï¼Œå°†å¤šç»´è¡¨æ ¼çš„é“¾æ¥å¤åˆ¶è¿›å»ã€‚
    *   recordsï¼šä»"å°†ä¿¡æ¯æ•´ç†ä¸ºé£ä¹¦è¡¨æ ¼å¯ä»¥ä½¿ç”¨çš„æ•°æ®"çš„è¾“å‡ºå˜é‡ä¸­ï¼Œé€‰æ‹©recordsã€‚
    *   table\_idï¼šå¤šç»´è¡¨æ ¼æ•°æ®è¡¨çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¦‚å›¾6-10æ‰€ç¤ºã€‚

**9ã€ç»“æŸèŠ‚ç‚¹**

é€‰æ‹©"è¿”å›æ–‡æœ¬"ï¼Œå¹¶å°†å›ç­”å†…å®¹è®¾ç½®ä¸ºï¼š"è·å–å…³é”®è¯ä¸‹çš„æ‰€æœ‰æŠ–éŸ³è§†é¢‘ã€å®Œæˆã€‘"ã€‚

### 4.æŠ–éŸ³çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“è®¾ç½®

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†æŠ–éŸ³çƒ­ç‚¹ç›‘æ§å·¥ä½œæµçš„æ­å»ºè¿‡ç¨‹ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»æŠ–éŸ³çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“çš„è®¾ç½®ã€‚è¿™ä¸ªç¯èŠ‚å°†å·¥ä½œæµä¸æ™ºèƒ½ä½“ç»‘å®šï¼Œåªæœ‰å®Œæˆè¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£å®ç°æŠ–éŸ³çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“çš„åŠŸèƒ½ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€æ­¥æŒ‡å¯¼ä½ å®Œæˆæ•´ä¸ªè®¾ç½®è¿‡ç¨‹ï¼ŒåŒ…æ‹¬åˆ›å»ºæ™ºèƒ½ä½“ã€é…ç½®åŸºæœ¬å‚æ•°ã€è¿æ¥å·¥ä½œæµä»¥åŠè¿›è¡Œæµ‹è¯•ï¼Œå¸®åŠ©ä½ å¿«é€ŸæŒæ¡è¿™é¡¹å®ç”¨æŠ€èƒ½ã€‚

**1ã€æ–°å»ºæ™ºèƒ½ä½“**

åœ¨Cozeå¹³å°åˆ›å»ºä¸€ä¸ªæ–°çš„æ™ºèƒ½ä½“ï¼Œå°†å…¶å‘½åä¸º"æŠ–éŸ³çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“"ã€‚

**2ã€è®¾ç½®äººè®¾ä¸é€»è¾‘**

è®¾ç½®äººè®¾ä¸é€»è¾‘æ˜¯åˆ›å»ºæ™ºèƒ½ä½“çš„å…³é”®æ­¥éª¤ã€‚åœ¨è¿™ä¸€ç¯èŠ‚ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®æ™ºèƒ½ä½“çš„è¡Œä¸ºæ¨¡å¼å’Œå“åº”æ–¹å¼ã€‚

å¯¹äºæŠ–éŸ³çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½ç›´æ¥æ‰§è¡Œä»»åŠ¡ï¼Œæ— éœ€è¿‡å¤šäº¤äº’ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¾ç½®ç®€å•æ˜äº†çš„æŒ‡ä»¤ï¼Œè®©æ™ºèƒ½ä½“åœ¨æ¥æ”¶åˆ°å…³é”®è¯åç«‹å³æ‰§è¡Œè§†é¢‘é‡‡é›†å·¥ä½œã€‚

    ç›´æ¥æ‰§è¡Œ`fetch_douyin_hot_videos`
    

**3ã€ç»‘å®šå·¥ä½œæµ**

æŠŠ"fetch\_douyin\_hot\_videos"å·¥ä½œæµæ·»åŠ åˆ°æ™ºèƒ½ä½“ä¸­ã€‚è¿™ä¸ªå·¥ä½œæµæ˜¯æˆ‘ä»¬ä¹‹å‰è®¾è®¡çš„æŠ–éŸ³è§†é¢‘é‡‡é›†å·¥ä½œæµï¼Œå°†å®ƒç»‘å®šåˆ°æ™ºèƒ½ä½“åï¼Œç”¨æˆ·åªéœ€è¾“å…¥å…³é”®è¯ï¼Œæ™ºèƒ½ä½“å°±ä¼šè‡ªåŠ¨æ‰§è¡Œå·¥ä½œæµï¼Œå¸®åŠ©æˆ‘ä»¬é«˜æ•ˆåœ°æ”¶é›†æŠ–éŸ³çƒ­ç‚¹è§†é¢‘ã€‚

**5ã€æµ‹è¯•å¹¶å‘å¸ƒ**

åœ¨é¢„è§ˆä¸è°ƒè¯•çª—å£ä¸­è¾“å…¥å…³é”®è¯ï¼Œæµ‹è¯•æ™ºèƒ½ä½“é‡‡é›†çƒ­ç‚¹æŠ–éŸ³è§†é¢‘çš„åŠŸèƒ½ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œå·¥ä½œæµï¼Œå¹¶å°†ç»“æœæ·»åŠ åˆ°é£ä¹¦è¡¨æ ¼ä¸­ã€‚

ä½¿ç”¨ä¸åŒå…³é”®è¯è¿›è¡Œå¤šæ¬¡æµ‹è¯•ï¼Œç¡®ä¿æ™ºèƒ½ä½“åœ¨å„ç§æƒ…å†µä¸‹éƒ½èƒ½ç¨³å®šè¿è¡Œã€‚æµ‹è¯•æ— è¯¯åï¼Œç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®å°†æ™ºèƒ½ä½“æ­£å¼å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä¾›ç”¨æˆ·ä½¿ç”¨ã€‚

### 5.å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§å·¥ä½œæµ

æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·±å…¥äº†è§£å¦‚ä½•å®é™…æ­å»ºä¸€ä¸ªå°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§å·¥ä½œæµã€‚

è¿™ä¸ªå·¥ä½œæµèƒ½å¸®ä½ è‡ªåŠ¨æ”¶é›†å°çº¢ä¹¦å¹³å°ä¸Šçš„çƒ­é—¨å†…å®¹ï¼Œè®©ä½ ä¸ç”¨æ‰‹åŠ¨æµè§ˆå°±èƒ½æŒæ¡æœ€æ–°è¶‹åŠ¿ã€‚

æˆ‘ä»¬å°†ä½¿ç”¨ç®€å•æ˜“æ‡‚çš„æ­¥éª¤ï¼Œå¸¦ä½ ä»é›¶å¼€å§‹æ„å»ºè¿™ä¸ªå¼ºå¤§çš„ç›‘æ§ç³»ç»Ÿï¼Œå³ä½¿ä½ æ²¡æœ‰ç¼–ç¨‹ç»éªŒä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ã€‚

ç™»å½•Cozeå®˜ç½‘ï¼Œåœ¨â€œèµ„æºåº“-å·¥ä½œæµâ€é‡Œæ–°å»ºä¸€ä¸ªç©ºç™½å·¥ä½œæµï¼Œå–åâ€œxhs\_keywordsâ€ã€‚å·¥ä½œæµæ•´ä½“é¢„è§ˆå¦‚å›¾æ‰€ç¤ºã€‚

**1ã€å¼€å§‹èŠ‚ç‚¹**

è¿™é‡Œç”¨äºå®šä¹‰å·¥ä½œæµå¯åŠ¨æ—¶æ‰€éœ€çš„è¾“å…¥å‚æ•°ã€‚

*   è¾“å…¥ï¼š
    *   foldUrlï¼šé£ä¹¦è¡¨æ ¼é“¾æ¥ï¼Œéœ€è¦æå‰åˆ›å»ºå¥½ä¸€ä¸ªé£ä¹¦å¤šç»´è¡¨æ ¼ï¼Œå¹¶å¤åˆ¶å…¶é“¾æ¥ã€‚è¯¥è¡¨æ ¼å°†ç”¨äºå­˜å‚¨æˆ‘ä»¬é‡‡é›†åˆ°çš„å°çº¢ä¹¦çƒ­ç‚¹è§†é¢‘
    *   cookieï¼šå°çº¢ä¹¦ç½‘ç«™çš„cookieä¿¡æ¯ï¼Œè¿™æ˜¯è®¿é—®å°çº¢ä¹¦APIçš„å¿…è¦å‡­è¯ï¼Œæˆ‘ä»¬å°†åœ¨åé¢è¯¦ç»†è®²è§£å¦‚ä½•è·å–
    *   keywordsï¼šç”¨äºæœç´¢çƒ­ç‚¹çš„å…³é”®è¯ï¼Œå¯ä»¥æ˜¯äº§å“åç§°ã€è¡Œä¸šæœ¯è¯­ã€ç«å“åç§°æˆ–çƒ­é—¨è¯é¢˜ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æœç´¢ç›¸å…³çš„çƒ­é—¨å†…å®¹

**2ã€å¦‚ä½•è·å–å°çº¢ä¹¦cookie**

åœ¨Chromeæµè§ˆå™¨ä¸­ï¼Œç™»å½•å°çº¢ä¹¦ä¸»é¡µï¼š[https://www.xiaohongshu.com/](https://www.xiaohongshu.com/)

æŒ‰F12é”®æ‰“å¼€å¼€å‘è€…å·¥å…·é¢æ¿ï¼Œç„¶åæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

*   ç¬¬ä¸€æ­¥ï¼šç‚¹å‡»ã€Œç½‘ç»œã€é€‰é¡¹å¡
*   ç¬¬äºŒæ­¥ï¼šç‚¹å‡»ã€Œæ–‡æ¡£ã€æ ‡ç­¾
*   ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»ã€Œexploreã€æ–‡æ¡£
*   ç¬¬å››æ­¥ï¼šç‚¹å‡»ã€Œæ ‡å¤´ã€é€‰é¡¹å¡
*   ç¬¬äº”æ­¥ï¼šæ»šåŠ¨é¡µé¢æ‰¾åˆ°Cookieå­—æ®µï¼Œå¤åˆ¶æ•´æ®µCookieä¿¡æ¯ã€‚

**2ã€æ’ä»¶èŠ‚ç‚¹ï¼šæ ¹æ®å…³é”®è¯è·å–ç¬”è®°**

æˆ‘ä»¬å°†ä½¿ç”¨â€œå°çº¢ä¹¦â€æ’ä»¶çš„xhs\_search\_noteå·¥å…·ã€‚é€šè¿‡è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…³é”®è¯ï¼Œæ‰¹é‡è·å–çƒ­é—¨è§†é¢‘ã€‚

*   è¾“å…¥ï¼š
    *   cookieStrï¼šå¼€å§‹èŠ‚ç‚¹çš„ cookie
    *   keywordsï¼šå…³é”®è¯ï¼Œä»å¼€å§‹èŠ‚ç‚¹è·å–
    *   notTypeï¼šæŸ¥è¯¢ç±»å‹ï¼ˆ0=å…¨éƒ¨ï¼Œ1=è§†é¢‘ï¼Œ2=å›¾æ–‡ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©1 è§†é¢‘ç±»å‹
    *   sortï¼šæ’åºï¼ˆé»˜è®¤ä¸ºç»¼åˆï¼Œ0=ç»¼åˆï¼Œ1=æœ€æ–°ï¼Œ2=æœ€çƒ­ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©2 æœ€çƒ­
    *   totalNumberï¼šæŸ¥è¯¢æ€»æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬è¾“å…¥20

**3ã€å¾ªç¯èŠ‚ç‚¹ï¼šå¾ªç¯è·å–ç¬”è®°è¯¦æƒ…**

å¾ªç¯è·å–ç¬”è®°è¯¦æƒ…æ˜¯å·¥ä½œæµä¸­çš„å…³é”®ç¯èŠ‚ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸€æ¬¡æ€§å¤„ç†å¤šæ¡å°çº¢ä¹¦ç¬”è®°ã€‚ä»æœç´¢ç»“æœä¸­è·å–ç¬”è®°é“¾æ¥åï¼Œæˆ‘ä»¬éœ€è¦é€ä¸€è·å–æ¯æ¡ç¬”è®°çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…å’Œç‚¹èµæ•°ç­‰ã€‚

*   è¾“å…¥ï¼š
    *   inputï¼šä»"æ ¹æ®å…³é”®è¯è·å–ç¬”è®°"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹© data

**4ã€å¾ªç¯ä½“å†…æ’ä»¶èŠ‚ç‚¹ï¼šè·å–ç¬”è®°è¯¦æƒ…**

æˆ‘ä»¬å°†ä½¿ç”¨å°çº¢ä¹¦æ’ä»¶çš„xhs\_note\_detailå·¥å…·ã€‚è¯¥å·¥å…·èƒ½è·å–æ¯æ¡ç¬”è®°çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ä¿¡æ¯å’Œäº’åŠ¨æ•°æ®ç­‰ã€‚

*   è¾“å…¥
    *   cookieStrï¼šå¼€å§‹èŠ‚ç‚¹çš„ cookie
    *   noteUrlï¼šä» â€œå¾ªç¯ç¬”è®°è¯¦æƒ…â€ èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹© noteUrl

**5ã€å¾ªç¯ä½“å†…æ’ä»¶èŠ‚ç‚¹ï¼šæå–è§†é¢‘æ–‡æ¡ˆ**

æˆ‘ä»¬å°†ä½¿ç”¨"å­—å¹•è·å–"æ’ä»¶çš„generate\_video\_captions\_syncå·¥å…·ã€‚è¯¥å·¥å…·èƒ½è‡ªåŠ¨ä»è§†é¢‘ä¸­æå–æ–‡å­—å†…å®¹ï¼Œå°†å£è¿°è½¬æ¢ä¸ºæ–‡æœ¬ï¼Œçœå»æ‰‹åŠ¨å¬å†™çš„éº»çƒ¦ã€‚å®ƒèƒ½ç²¾å‡†è¯†åˆ«è§†é¢‘ä¸­çš„è¯­éŸ³å¹¶ç”Ÿæˆæ–‡å­—è®°å½•ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿç†è§£è§†é¢‘çš„ä¸»é¢˜å’Œå…³é”®ä¿¡æ¯ã€‚

è¾“å…¥ï¼š

*   urlï¼šä»"è·å–ç¬”è®°è¯¦æƒ…"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹© video\_h264\_urlï¼Œè¡¨ç¤ºH264æ ‡å‡†ç¼–ç æ ¼å¼è§†é¢‘é“¾æ¥
*   langï¼šè§†é¢‘è¯­è¨€ï¼Œå¦‚æ±‰è¯­ã€è‹±è¯­ç­‰ï¼Œä¸å¡«æ—¶é»˜è®¤ä¸ºæ±‰è¯­

**6ã€å¾ªç¯ä½“å†…ä»£ç èŠ‚ç‚¹ï¼šå°†ç¬”è®°æ•°æ®æ•´ç†æˆé£ä¹¦è¡¨æ ¼æ ¼å¼**

è¿™ä¸€æ­¥å°†é‡‡é›†åˆ°çš„è§†é¢‘ä¿¡æ¯è½¬æ¢ä¸ºæ ‡å‡†åŒ–æ•°æ®ç»“æ„ï¼Œä»¥ä¾¿å†™å…¥é£ä¹¦è¡¨æ ¼ã€‚æˆ‘ä»¬éœ€è¦æå–è§†é¢‘çš„æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…å’Œç‚¹èµæ•°ç­‰å…³é”®ä¿¡æ¯ï¼Œå¹¶æŒ‰é£ä¹¦è¡¨æ ¼è¦æ±‚è¿›è¡Œæ ¼å¼åŒ–ã€‚è¿™æ ·ä¸ä»…ä¾¿äºæ•°æ®æ•´ç†å’Œç­›é€‰ï¼Œè¿˜èƒ½å¸®åŠ©æˆ‘ä»¬æ›´ç›´è§‚åœ°åˆ†æçƒ­é—¨å†…å®¹çš„ç‰¹ç‚¹ã€‚

*   è¾“å…¥
    *   inputï¼šä»"è·å–ç¬”è®°è¯¦æƒ…"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©note
    *   dataï¼šä»"æå–è§†é¢‘æ–‡æ¡ˆ"èŠ‚ç‚¹çš„è¾“å‡ºä¸­ï¼Œé€‰æ‹©data
*   è¾“å‡º
    *   recordsï¼šå˜é‡ç±»å‹è®¾ç½®ä¸º Array å¯¹è±¡æ•°ç»„ï¼Œè¡¨ç¤ºå¤„ç†åçš„è§†é¢‘åˆ—è¡¨

ä¸‹é¢æ˜¯å¤„ç†æ•°æ®çš„Pythonä»£ç ï¼Œå®ƒå°†é‡‡é›†åˆ°çš„å°çº¢ä¹¦è§†é¢‘ä¿¡æ¯è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ï¼Œä¾¿äºå­˜å‚¨å’Œåˆ†æã€‚

ä»£ç æå–è§†é¢‘çš„æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ç­‰å…³é”®ä¿¡æ¯ï¼Œå°†å…¶ç»„ç»‡æˆé£ä¹¦è¡¨æ ¼æ‰€éœ€çš„æ ¼å¼ï¼Œç„¶åè¿”å›å¤„ç†å¥½çš„æ•°æ®ã€‚è¿™æ ·æˆ‘ä»¬èƒ½å°†æ‰€æœ‰çƒ­é—¨è§†é¢‘æ•´é½åœ°å­˜æ”¾åœ¨åŒä¸€å¼ è¡¨æ ¼ä¸­ï¼Œæ–¹ä¾¿åç»­åˆ†æï¼š

    async def main(args: Args) -> Output:
        input_data = args.params.get('input')  or {}
        data = args.params.get('data') or {}
    
        records = []  # åˆå§‹åŒ– records åˆ—è¡¨
    
        # æå– note ç›¸å…³å­—æ®µ
        title = input_data.get('note_display_title', '')  # æ ‡é¢˜
        desc = input_data.get('note_desc', '')  # æè¿°
        url = input_data.get('note_url', '')  # é“¾æ¥
        nickname = input_data.get('auther_nick_name', '')  # ä½œè€…æ˜µç§°
        likedCount = input_data.get('note_liked_count', '0')  # ç‚¹èµæ•°
        videoUrl = input_data.get('video_h264_url', '')  # è§†é¢‘åœ°å€
        collectedCount = input_data.get('collected_count', '0')  # æ”¶è—æ•°
        imageList = input_data.get('note_image_list', [])  # å›¾ç‰‡åˆ—è¡¨
    
        # æ„å»ºè®°å½•å¯¹è±¡
        record = {
            "fields": {
                "ç¬”è®°é“¾æ¥": url,
                "æ ‡é¢˜": title,
                "å†…å®¹": desc,
                "ä½œè€…": nickname,
                "ç‚¹èµæ•°": likedCount,
                "é“¾æ¥": {
                    "link": url,
                    "text": title
                },
                "æ”¶è—æ•°": collectedCount,
                "å›¾ç‰‡åœ°å€": '\n'.join(imageList),  # å°†å›¾ç‰‡åˆ—è¡¨æ‹¼æ¥æˆå­—ç¬¦ä¸²
                "è§†é¢‘åœ°å€": videoUrl,
                "è§†é¢‘æ–‡æ¡ˆ": data.get("content", "") 
            }
        }
        records.append(record)  # å°†è®°å½•å¯¹è±¡æ·»åŠ åˆ° records åˆ—è¡¨ä¸­
    
        # æ„å»ºè¾“å‡ºå¯¹è±¡
        ret: Output = {
            "records": records
        }
        return ret
    

**7ã€å¾ªç¯ä½“å†…æ’ä»¶èŠ‚ç‚¹ï¼šå†™å…¥é£ä¹¦è¡¨æ ¼**

æœ€åï¼Œæˆ‘ä»¬å°†æ”¶é›†åˆ°çš„æ‰€æœ‰æ•°æ®æ·»åŠ åˆ°é£ä¹¦å¤šç»´è¡¨æ ¼ä¸­ã€‚

æˆ‘ä»¬éœ€è¦æå‰åˆ›å»ºä¸€ä¸ªå¤šç»´è¡¨æ ¼ï¼Œå¹¶è®¾ç½®å¥½å¯¹åº”çš„è¡¨å¤´å­—æ®µã€‚

è¡¨å¤´å­—æ®µåŒ…æ‹¬è§†é¢‘çš„æ‰€æœ‰å…³é”®ä¿¡æ¯ï¼šç¬”è®°é“¾æ¥ã€æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€ç‚¹èµæ•°ã€é“¾æ¥ã€æ”¶è—æ•°ã€å›¾ç‰‡åœ°å€ã€è§†é¢‘åœ°å€å’Œè§†é¢‘æ–‡æ¡ˆã€‚

æ¥ä¸‹æ¥ï¼Œé€‰æ‹©"é£ä¹¦è¡¨æ ¼"æ’ä»¶èŠ‚ç‚¹çš„add\_recordså·¥å…·ï¼Œå°†é‡‡é›†åˆ°çš„æ•°æ®æ·»åŠ åˆ°å¤šç»´è¡¨æ ¼ä¸­ã€‚

*   è¾“å…¥ï¼š
    *   app\_tokenï¼šæå‰åˆ›å»ºä¸€ä¸ªå¤šç»´è¡¨æ ¼ï¼Œç„¶åå°†å¤šç»´è¡¨æ ¼çš„é“¾æ¥å¤åˆ¶åˆ°æ­¤å¤„ã€‚
    *   recordsï¼šä»"å°†ä¿¡æ¯æ•´ç†ä¸ºé£ä¹¦è¡¨æ ¼å¯ä»¥ä½¿ç”¨çš„æ•°æ®"èŠ‚ç‚¹çš„è¾“å‡ºå˜é‡ä¸­ï¼Œé€‰æ‹©recordsã€‚
    *   table\_idï¼šéœ€å¡«å…¥å¤šç»´è¡¨æ ¼æ•°æ®è¡¨çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚

**8ã€ç»“æŸèŠ‚ç‚¹**

æœ€åæ·»åŠ ç»“æŸèŠ‚ç‚¹ï¼Œå®Œæˆæ•´ä¸ªå·¥ä½œæµç¨‹ã€‚å¦‚å›¾6-25æ‰€ç¤ºã€‚

*   è¾“å‡ºï¼š
    *   outputï¼šå¼€å§‹èŠ‚ç‚¹çš„foldUrlï¼Œä¹Ÿå°±æ˜¯é£ä¹¦å¤šç»´è¡¨æ ¼çš„é“¾æ¥

### 6.å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“è®¾ç½®

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²å®Œæˆå°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§å·¥ä½œæµçš„æ­å»ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•è®¾ç½®å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“ã€‚è¿™ä¸ªå…³é”®ç¯èŠ‚å°†å·¥ä½œæµä¸æ™ºèƒ½ä½“ç»‘å®šåœ¨ä¸€èµ·ï¼Œåªæœ‰å®Œæˆè¿™ä¸€æ­¥ï¼Œæ‰èƒ½çœŸæ­£å®ç°å°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“çš„åŠŸèƒ½ã€‚

**1ã€æ–°å»ºæ™ºèƒ½ä½“**

åœ¨Cozeå¹³å°åˆ›å»ºä¸€ä¸ªæ–°çš„æ™ºèƒ½ä½“ï¼Œå‘½åâ€œå°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“â€ã€‚å¦‚å›¾6-26æ‰€ç¤ºã€‚

**2ã€è®¾ç½®äººè®¾ä¸é€»è¾‘**

è®¾ç½®äººè®¾ä¸é€»è¾‘æ˜¯åˆ›å»ºæ™ºèƒ½ä½“çš„å…³é”®æ­¥éª¤ã€‚åœ¨è¿™ä¸€ç¯èŠ‚ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®æ™ºèƒ½ä½“çš„è¡Œä¸ºæ¨¡å¼å’Œå“åº”æ–¹å¼ã€‚

å¯¹äºå°çº¢ä¹¦çƒ­ç‚¹ç›‘æ§æ™ºèƒ½ä½“ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½ç›´æ¥æ‰§è¡Œä»»åŠ¡ï¼Œæ— éœ€è¿‡å¤šäº¤äº’ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¾ç½®ç®€å•æ˜äº†çš„æŒ‡ä»¤ï¼Œè®©æ™ºèƒ½ä½“åœ¨æ¥æ”¶åˆ°å…³é”®è¯åç«‹å³æ‰§è¡Œè§†é¢‘é‡‡é›†å·¥ä½œã€‚

    ç›´æ¥æ‰§è¡Œ`xhs_keywords`
    

**3ã€ç»‘å®šå·¥ä½œæµ**

æŠŠ"xhs\_keywords"å·¥ä½œæµæ·»åŠ åˆ°æ™ºèƒ½ä½“ä¸­ã€‚

**4ã€æµ‹è¯•å¹¶å‘å¸ƒ**

åœ¨é¢„è§ˆä¸è°ƒè¯•çª—å£ä¸­è¾“å…¥å…³é”®è¯ï¼Œæµ‹è¯•æ™ºèƒ½ä½“çš„å°çº¢ä¹¦çƒ­ç‚¹è§†é¢‘é‡‡é›†åŠŸèƒ½ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œå·¥ä½œæµï¼Œå¹¶å°†ç»“æœç›´æ¥æ·»åŠ åˆ°é£ä¹¦è¡¨æ ¼ä¸­ã€‚

> å¯¹äº†ï¼Œæˆ‘æ•´ç†äº†ä¸€ä»½å¼€æºçš„æ™ºèƒ½ä½“å­¦ä¹ æ‰‹å†Œï¼Œçˆ†è‚ 10 ä¸‡å­—ï¼Œä»·å€¼ 999 å…ƒã€‚é™æ—¶å¼€æ”¾é¢†å–ğŸ‘‰ï¼š[tangshiye.cn](https://tangshiye.cn)

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[AIæ¶æ„å¸ˆæ±¤å¸ˆçˆ·](https://www.cnblogs.com/tangshiye/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/tangshiye/p/19575161](https://www.cnblogs.com/tangshiye/p/19575161)