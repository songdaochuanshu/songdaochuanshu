---
layout: post
title: 'Java åŠ å¯†å’Œè§£å¯†'
date: "2025-02-23T00:39:55Z"
---
Java åŠ å¯†å’Œè§£å¯†
==========

åœ¨ Java ä¸­ï¼ŒåŠ å¯†å’Œè§£å¯†é€šå¸¸é€šè¿‡ **Java Cryptography Architecture (JCA)** å’Œ **Java Cryptography Extension (JCE)** å®ç°ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„åŠ å¯†å’Œè§£å¯†æ“ä½œç¤ºä¾‹ï¼ŒåŒ…æ‹¬å¯¹ç§°åŠ å¯†ï¼ˆå¦‚ AESï¼‰å’Œéå¯¹ç§°åŠ å¯†ï¼ˆå¦‚ RSAï¼‰ã€‚

* * *

### ä¸€ã€å¯¹ç§°åŠ å¯†ï¼ˆAES ç¤ºä¾‹ï¼‰

å¯¹ç§°åŠ å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚

    import javax.crypto.Cipher;
    import javax.crypto.KeyGenerator;
    import javax.crypto.SecretKey;
    import java.util.Base64;
    
    public class AESExample {
        public static void main(String[] args) throws Exception {
            // ç”Ÿæˆå¯†é’¥
            KeyGenerator keyGen = KeyGenerator.getInstance("AES");
            keyGen.init(128); // 128ä½å¯†é’¥
            SecretKey secretKey = keyGen.generateKey();
    
            // åŠ å¯†
            String originalText = "Hello, World!";
            Cipher cipher = Cipher.getInstance("AES");
            cipher.init(Cipher.ENCRYPT_MODE, secretKey);
            byte[] encryptedBytes = cipher.doFinal(originalText.getBytes());
            String encryptedText = Base64.getEncoder().encodeToString(encryptedBytes);
            System.out.println("åŠ å¯†å: " + encryptedText);
    
            // è§£å¯†
            cipher.init(Cipher.DECRYPT_MODE, secretKey);
            byte[] decryptedBytes = cipher.doFinal(Base64.getDecoder().decode(encryptedText));
            String decryptedText = new String(decryptedBytes);
            System.out.println("è§£å¯†å: " + decryptedText);
        }
    }
    

* * *

### äºŒã€éå¯¹ç§°åŠ å¯†ï¼ˆRSA ç¤ºä¾‹ï¼‰

éå¯¹ç§°åŠ å¯†ä½¿ç”¨å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ã€‚

    import javax.crypto.Cipher;
    import java.security.KeyPair;
    import java.security.KeyPairGenerator;
    import java.util.Base64;
    
    public class RSAExample {
        public static void main(String[] args) throws Exception {
            // ç”Ÿæˆå¯†é’¥å¯¹
            KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance("RSA");
            keyPairGen.initialize(2048); // 2048ä½å¯†é’¥
            KeyPair keyPair = keyPairGen.generateKeyPair();
    
            // åŠ å¯†
            String originalText = "Hello, World!";
            Cipher cipher = Cipher.getInstance("RSA");
            cipher.init(Cipher.ENCRYPT_MODE, keyPair.getPublic());
            byte[] encryptedBytes = cipher.doFinal(originalText.getBytes());
            String encryptedText = Base64.getEncoder().encodeToString(encryptedBytes);
            System.out.println("åŠ å¯†å: " + encryptedText);
    
            // è§£å¯†
            cipher.init(Cipher.DECRYPT_MODE, keyPair.getPrivate());
            byte[] decryptedBytes = cipher.doFinal(Base64.getDecoder().decode(encryptedText));
            String decryptedText = new String(decryptedBytes);
            System.out.println("è§£å¯†å: " + decryptedText);
        }
    }
    

* * *

### ä¸‰ã€å“ˆå¸Œç®—æ³•ï¼ˆSHA-256 ç¤ºä¾‹ï¼‰

å“ˆå¸Œç®—æ³•ç”¨äºç”Ÿæˆä¸å¯é€†çš„æ‘˜è¦ä¿¡æ¯ã€‚

    import java.security.MessageDigest;
    import java.util.HexFormat;
    
    public class SHA256Example {
        public static void main(String[] args) throws Exception {
            String originalText = "Hello, World!";
            MessageDigest digest = MessageDigest.getInstance("SHA-256");
            byte[] hashBytes = digest.digest(originalText.getBytes());
            String hashText = HexFormat.of().formatHex(hashBytes);
            System.out.println("SHA-256 å“ˆå¸Œå€¼: " + hashText);
        }
    }
    

* * *

### å››ã€æ³¨æ„äº‹é¡¹

1.  **å¯†é’¥ç®¡ç†**ï¼šå¯†é’¥çš„å®‰å…¨æ€§è‡³å…³é‡è¦ï¼Œå»ºè®®ä½¿ç”¨å®‰å…¨çš„å¯†é’¥å­˜å‚¨å’Œç®¡ç†æ–¹å¼ï¼ˆå¦‚ KeyStoreï¼‰ã€‚
2.  **ç®—æ³•é€‰æ‹©**ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„åŠ å¯†ç®—æ³•ï¼ˆå¦‚ AES ç”¨äºå¯¹ç§°åŠ å¯†ï¼ŒRSA ç”¨äºéå¯¹ç§°åŠ å¯†ï¼‰ã€‚
3.  **å¡«å……æ¨¡å¼**ï¼šåŠ å¯†æ—¶éœ€æŒ‡å®šå¡«å……æ¨¡å¼ï¼ˆå¦‚ `AES/CBC/PKCS5Padding`ï¼‰ï¼Œç¡®ä¿ä¸è§£å¯†æ–¹ä¸€è‡´ã€‚
4.  **å¼‚å¸¸å¤„ç†**ï¼šåŠ å¯†è§£å¯†æ“ä½œå¯èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¿›è¡Œé€‚å½“çš„å¼‚å¸¸å¤„ç†ã€‚

* * *

### äº”ã€å¸¸ç”¨åŠ å¯†ç®—æ³•

ç±»å‹

ç®—æ³•

æè¿°

å¯¹ç§°åŠ å¯†

AES

é«˜çº§åŠ å¯†æ ‡å‡†ï¼Œé€Ÿåº¦å¿«

å¯¹ç§°åŠ å¯†

DES/3DES

æ•°æ®åŠ å¯†æ ‡å‡†ï¼Œè¾ƒæ—§

éå¯¹ç§°åŠ å¯†

RSA

åŸºäºå¤§æ•°åˆ†è§£ï¼Œå®‰å…¨æ€§é«˜

éå¯¹ç§°åŠ å¯†

ECC

æ¤­åœ†æ›²çº¿åŠ å¯†ï¼Œå¯†é’¥çŸ­æ•ˆç‡é«˜

å“ˆå¸Œç®—æ³•

SHA-256

ç”Ÿæˆ 256 ä½å“ˆå¸Œå€¼

å“ˆå¸Œç®—æ³•

MD5

ç”Ÿæˆ 128 ä½å“ˆå¸Œå€¼ï¼Œå·²ä¸å®‰å…¨

* * *

é€šè¿‡ä»¥ä¸Šç¤ºä¾‹å’Œè¯´æ˜ï¼Œæ‚¨å¯ä»¥åœ¨ Java ä¸­å®ç°åŸºæœ¬çš„åŠ å¯†å’Œè§£å¯†æ“ä½œã€‚å¦‚æœéœ€è¦æ›´å¤æ‚çš„åŠŸèƒ½ï¼ˆå¦‚æ•°å­—ç­¾åã€è¯ä¹¦ç®¡ç†ç­‰ï¼‰ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç ”ç©¶ JCA å’Œ JCE çš„é«˜çº§ç‰¹æ€§ã€‚ ğŸ˜Š