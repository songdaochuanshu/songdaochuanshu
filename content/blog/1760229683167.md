---
layout: post
title: 'OFD文档落地技术路径研究'
date: "2025-10-12T00:41:23Z"
---
OFD文档落地技术路径研究
-------------

在2024年5月28日开会后，我们南京都昌公司立刻开启对OFD文档格式的研究，至今已逾一年，是比较早的掌握了OFD文档技术的HIT原生企业，经过这一年多的研究探索，我们在OFD的理论研究和实际应用方面均有所心得。 OFD文档有什么用，能带来什么价值，笔者的其他文章已经讨论过了，本文只专门探讨OFD的落地实现，为HIT同行提供借鉴。

**■前言**

　　2024年5月28日，国家卫健委医院管理研究所于北京召开医院高质量发展大会，首次提出了OFD文档格式。2025年8月15号，医院管理所又在南京召开OFD-H专场会议，指出新的智慧医疗评级中，OFD- H在新的智慧医疗评级中将占据较为重要的位置。

　　在2024年5月28日开会后，我们南京都昌公司立刻开启对OFD文档格式的研究，至今已逾一年，是比较早的掌握了OFD文档技术的HIT原生企业，经过这一年多的研究探索，我们在OFD的理论研究和实际应用方面均有所心得。

　　OFD文档有什么用，能带来什么价值，笔者的其他文章已经讨论过了，本文只专门探讨OFD的落地实现，为HIT同行提供借鉴。

　　我们经过研究认为，OFD技术大体有四种实现技术途径。

**■第一种，业务数据→PDF→OFD**

　　当前许多医院的信息化系统已经支持以PDF格式导出归档文档，另外已有成熟的软件（包括商业软件）能够将PDF转换为OFD文档；同时IT业界也有较为成熟的OFD虚拟打印机，可使业务系统通过虚拟打印的方式生成OFD文档。医院能借助这些技术手段能比较快的实现OFD文档的生成。

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752748-1046032548.png)

　　不过，这种方式生成的OFD文档只能供人阅读，无法后期自动化的数据抽取分析。因此这种OFD文档还需要进行业务数据的补录，由于业务数据的产生和数据补录在流程时序、开发组织、逻辑模块划分等方面距离较远，因此实际上落地上困难重重，这导致生成的OFD文档包含的可自动抽取的业务数据很少，距离OFD-H的预期目标还很远。

　　这种模式还需要防范OFD的“可视化陷阱”，也就是OFD文档从软件处理的角度上是所见非所得，是“阳奉阴违”的。比如有OFD文档打开后显示如下：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752747-7333035.png)

　　而打开OFD页面Content.xml内容则显示如下：

![396c7884472a4cc2a68d7c4377f63069](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752721-12788412.png)

　　这是由于OFD生成软件读取TTF文件，将字符轮廓数据输出为OFD路径，但不输出原始文本。这种OFD文档基本上没有后期数据分析的价值。

**■第二种，业务数据→版式文档风格模板→OFD**

　　人们还可以使用数据套模板的形式来生成OFD文档，大体可以分为两种样式。其中一种是基于版式文档风格模板设计器来实现的，其原理如下图所示：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752713-339261963.png)

　　在这种设计器中，文档包含多个文档元素，大体分为文本标签，图片，勾线框等多种文档元素，所有的元素都使用确定的绝对坐标值，也就是Left，Top，Width，Height这4个数值来确定文档元素在文档中的位置。此时的用户界面类似于传统的报表设计软件：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135753234-1794119549.png) 　　　　　　　　 这种基于直角坐标的设计器技术实现难度不大，但劳动效率低下。比如对于病案首页，需要拖拽几百个文本标签密布到界面上，文本标签之间存在很多对齐操作，当要插入新的元素，则要手动调整其他元素的排版，手工工作量大。

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752642-38080798.png)

　　OFD标准是面向全行业推广的国家标准，不仅仅是少数大医院的玩具，更应该是成千上万家医院的劳动工具，因此必须要降低落地成本，提高实施工作效率才能推广普及开来的。假设全国有10000家医院需要实现OFD功能，平均每个医院需要制作1000个模板，每个模板制作和维护工作耗时2人天。则整个HIT行业为了推广OFD标准，光模板制作工作就需要耗费2千万人天的工作量。很显然，如此巨大的推广成本阻碍了OFD标准在全国的推广。

**■第三种，业务数据→流式文档风格模板→OFD**

　　这种OFD生成路径和第二种很相似，但是采用了基于流式文档风格的模板设计器。其原理图如下：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752707-813405182.png)

　　所谓流式文档是类似MS WORD文档那样的，文档元素在文档视图中的坐标位置是根据上下文动态计算出来的。在文档中每插入一个字符，周边的字符会自动调整其坐标位置来更新文档整体的排版结果。

　　流式文档和版式文档最大的优势就是制作文档的工作效率成倍增加。用户可以纯键盘操作来录入内容，可以使用表格快速完成复杂内容的录入和排版。因此基于流式文档风格的模板设计器其界面可以如下所示：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752974-1540295568.png)

　　这是一个元素拖拽和自由文本录入结合的界面。用户可以用鼠标操作将左边的数据源节点拖拽到文档的任意位置处，也可以正中间用纯键盘进行自由文本录入，还可以在右边的属性列表中仔细设置单个文档元素的属性。工作效率比版式文档风格的模板设计器要高得多，这能成倍提高OFD模板的制作效率，降低系统运维成本，有利于OFD标准向全国各级医院推广。

　　这个技术路径的一个瓶颈就是研发出这个模板工具技术难度非常高，绝大多数HIT企业单靠自己是无法实现的。

**■第四种，病历文档→OFD**

　　当前医院软件系统中，已经大量采用病历编辑器来记录和展示各种业务数据，此时医院产生的业务信息很大部分是存储在病历文书中的。如果病历编辑器能原生的直接生成OFD-H文档，那就非常完美的完成了OFD-H的功能了。简单高效，对现有业务系统改造最小，而且生成的OFD-H文档质量最高。能将OFD-H标准很快速的推广到全国各级医院。

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752556-1005095301.png)

　　不过这种技术路径完全依赖病历编辑器软件的能力，这对编辑器开发者提出了非常高的要求，非顶尖专业团队是根本做不到的，绝大部分HIT企业仅仅依靠自己的力量是无法做到的，必须要借助外部力量。

**■四种实现路径对比**

　　对于这四种实现路径，笔者定义了以下五个度量维度：

1.  研发成本：研发所需的底层技术的难度和成本。数值越大，成本越高。而且这里存在非常艰深的技术难题，有着不小的投资失败的风险。
2.  改造成本：对现有信息化系统的改造成本。修改量越大，成本越高。
3.  运维成本：系统运行维护工作的成本，包括模板制作和持续修改等等。数值越大表示成本越高。
4.  短期效果：功能模块正式运行半年内满足用户预期目标的程度。数值越大表示效果越好。
5.  长期效果：功能模块正式运行半年后满足用户预期目标的程度。数值越大表示效果越好。

　　基于这五个度量维度，笔者画出了4个雷达面积图用于大致评估这四种技术路径：

![](https://img2024.cnblogs.com/blog/12406/202510/12406-20251011135752815-615236583.png)

　　通过这四张图可以看出这四种技术路径各有优缺点，各个市场主体应该根据自身情况来挑选。

**■医院的决策建议**

　　当前大环境下，许多医院经营情况不佳，即使新的《智慧医疗评级》包含了OFD的内容，奈何医院普遍财力不足。如何在有限的资金下做好OFD相关的工作，这是很多医院决策者必须要面临的情况。为此笔者给出以下建议：

　　第一，无论医院条件如何，首先考虑第四种OFD实现路径，也就是编辑器原生支持OFD文档，因为这种模式成本最低，效果最好。

　　第二，如果病历编辑器不支持原生OFD生成，那就要优先采用第三种OFD生成路径了。花些钱能实现不错的OFD的功能，也是物有所值了。

　　第三，如果实在不行那就考虑第一种OFD生成路径，成本低，速度快。虽然最后生成的OFD文档质量不高，是应付式合规，但总算是有了零的突破。

　　第四，对于大多数医院来说，第二种OFD生成路径运维成本太高，要花不少钱做模板，需要谨慎考虑。

　　第五，如果医院财大气粗，要求高，那可以全都要。

■我们的能力

　　我们南京都昌信息科技有限公司基于雄厚的技术积累和对医院业务的深刻理解，已经在HIT行业内率先掌握了OFD技术，我们的病历编辑器已经具备原生OFD能力，我们有足够的能力来帮助用户实现其最期望的OFD技术路径。

**■小结**

　　本文讨论了四种OFD的落地实现的技术路径，分析其中的优缺点，并给医院决策提供了一些建议。笔者认为，抛开新的《智慧医疗评级》，其中的OFD标准单独拎出来也是一个具有重大战略意义的技术标准，值得我们继续深入研究和探索。笔者也欢迎OFD道友前来相互学习共同进步。

posted on 2025-10-11 14:00  [袁永福 电子病历，医疗信息化](https://www.cnblogs.com/xdesigner)  阅读(223)  评论(3)    [收藏](javascript:void\(0\))  [举报](javascript:void\(0\))