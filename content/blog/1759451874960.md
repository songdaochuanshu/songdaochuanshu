---
layout: post
title: '告别 LaTeX 配置地狱：我的 Overleaf (ShareLaTeX-CE) 完整版私有化部署方案'
date: "2025-10-03T00:37:54Z"
---
告别 LaTeX 配置地狱：我的 Overleaf (ShareLaTeX-CE) 完整版私有化部署方案
====================================================

HI! 作为一个经常和 LaTeX 打交道的人，我深知本地配置 TeX Live 环境有多么令人头疼。

> 适用于需要写论文, 基于latex模板的简历编写等期刊. 对于科研人需求更大, 包含了免费的多人协同编写和无限制的编译时间

*   改博客内容基于我的[本地部署overleaf服务帮助latex论文编写](https://www.cnblogs.com/xuhe2/p/18792632)博客内容进一步自动化和便捷化. 同时解决了兼容性问题.

因此，我基于官方 Docker 镜像，创建了一个完整的私有化部署方案 **[xuhe2/sharelatex-ce](https://github.com/xuhe2/sharelatex-ce)**，旨在解决部署中的两大痛点：**缺少宏包**和**硬件兼容性**。

### 痛点一：宏包缺失问题一次解决

官方提供的基础版 Overleaf Docker 镜像往往只包含最基础的 TeX Live 宏包。每当我们引入一个新的 `.sty` 文件，却发现编译报错，就得手动进入容器安装，非常繁琐。

在我的这个方案中，我在 Dockerfile 构建过程中集成了 **完整的 TeX Live 安装**。这意味着您部署完成后，几乎可以支持所有主流和非主流的 LaTeX 宏包，彻底告别“缺少文件”的编译错误，开箱即用。

### 痛点二：老旧硬件的兼容性考量（AVX 问题）

在私有化部署社区中，许多用户反映在不带 **AVX 指令集** 的老旧服务器或 NAS 上运行 MongoDB 时会失败，导致整个 Overleaf 服务无法启动。这是因为新版 MongoDB 对 CPU 架构有了更高的要求。

为了解决这个兼容性问题，我的镜像方案**特意采用了兼容性更好的老版本 MongoDB 和 ShareLaTeX 基础镜像**。虽然这牺牲了新版本的一些特性，但保证了它能在最广泛的硬件环境中稳定运行，让您的私有化部署不再受硬件限制。

### 部署与配置，一步到位

整个部署流程通过 Docker Compose 实现，非常便捷：

1.  **构建镜像：** 使用提供的 `Dockerfile` 构建包含完整 TeX Live 的镜像。
2.  **一键启动：** 使用 `docker-compose up -d` 启动 Overleaf、MongoDB 和 Redis 三大核心服务。
3.  **初始化 MongoDB 副本集：** 部署后，通过一条 `docker exec` 命令初始化 MongoDB 副本集，确保 Overleaf 的所有功能正常启用。

如果您正计划私有化部署一个稳定、兼容性好且宏包齐全的 Overleaf 环境，欢迎访问我的 GitHub 仓库 **[xuhe2/sharelatex-ce](https://github.com/xuhe2/sharelatex-ce)**，查看详细的部署指南和 `README` 内容。

> 喜欢的请点一个STAR

*   为了防止硬盘故障导致overleaf项目文件丢失, 我还编写了[Overleaf项目文件同步工具: olsync](https://www.cnblogs.com/xuhe2/p/19114012)博客, 制作了[olsync](https://github.com/xuhe2/olsync)工具辅助文件自动化备份本地.

希望这个项目能帮助大家更专注于内容创作.