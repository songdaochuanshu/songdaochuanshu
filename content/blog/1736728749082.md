---
layout: post
title: 'Python Â· MuJoCo | MuJoCo ä¸ mujoco_py çš„ç‰ˆæœ¬å¯¹åº”ï¼Œä»¥åŠå®‰è£… Cython<3'
date: "2025-01-13T00:39:09Z"
---
Python Â· MuJoCo | MuJoCo ä¸ mujoco\_py çš„ç‰ˆæœ¬å¯¹åº”ï¼Œä»¥åŠå®‰è£… Cython<3
=========================================================

MuJoCo 210 ~ mujoco\_py==2.1.2.14ï¼ŒMuJoCo 200 ~ mujoco\_py==2.0.2.8

  

### 0 ç³»ç»Ÿç¯å¢ƒ & éœ€æ±‚

*   ç¯å¢ƒï¼šLinux Ubuntu 20.04ï¼ŒCuda 12.2ï¼ˆï¼Ÿï¼‰ä¹Ÿå¯èƒ½æ˜¯ 11ï¼Œæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šé©±åŠ¨ç‰ˆæœ¬â€¦
*   éœ€æ±‚ï¼šå®‰è£… gymã€dm\_controlã€MuJoCo å’Œ mujoco\_pyã€‚
*   å‚è€ƒåšå®¢ï¼š[çŸ¥ä¹ | Mujoco & Mujoco-py å®‰è£…æ•™ç¨‹ä»¥åŠå¸¸è§æŠ¥é”™è§£å†³æ–¹æ³•](https://zhuanlan.zhihu.com/p/352304615) ï¼ˆéå¸¸æ„Ÿè°¢ğŸ™‡ğŸ»â€â™€ï¸ï¼‰

### 1 å„ç‰ˆæœ¬ MuJoCo çš„å®‰è£…

ä¸‹è½½ MuJoCoï¼š

*   MuJoCo 210ï¼š[ä¸‹è½½é“¾æ¥](https://mujoco.org/download/mujoco210-linux-x86_64.tar.gz) ï¼Œä¼šç›´æ¥ä¸‹è½½ä¸€ä¸ªå‹ç¼©åŒ…ï¼›
*   MuJoCo 200ï¼š[https://roboti.us/download.html](https://roboti.us/download.html) ï¼Œç‚¹è¿›å»å¯»æ‰¾å¯¹åº”çš„ç‰ˆæœ¬ï¼Œä¸‹è½½å‹ç¼©åŒ…ï¼›
*   mjpro 150ï¼š[https://roboti.us/download.html](https://roboti.us/download.html) ï¼Œç‚¹è¿›å»å¯»æ‰¾å¯¹åº”çš„ç‰ˆæœ¬ï¼Œä¸‹è½½å‹ç¼©åŒ…ã€‚

å®‰è£… MuJoCoï¼š

*   åœ¨ ~/ ç›®å½•ä¸‹å»ºä¸€ä¸ª .mujoco æ–‡ä»¶å¤¹ï¼ŒæŠŠåˆšåˆšä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åœ¨ .mujoco æ–‡ä»¶å¤¹é‡Œï¼Œè§£å‹åˆ°æ¯”å¦‚ ~/.mujoco/mujoco210 æˆ– ~/.mujoco/mujoco200 çš„è·¯å¾„ä¸‹ã€‚
*   MuJoCo 200 å’Œ mjpro 150 æ‰€éœ€è¦çš„ licenseï¼ˆå³ mjkey.txtï¼‰ï¼šç‚¹è¿› [https://roboti.us/license.html](https://roboti.us/license.html) é‡Œä¸‹è½½ï¼Œæˆ– [ä¸‹è½½é“¾æ¥](https://roboti.us/file/mjkey.txt) ã€‚ä¸‹è½½å®Œæˆåï¼Œæ”¾åˆ° ~/.mujoco/mjkey.txt çš„ä½ç½®ï¼Œæˆ– ~/.mujoco/mujoco200/bin/mjkey.txt çš„ä½ç½®ï¼ˆè®°ä¸æ¸…æ˜¯å“ªä¸ªä½ç½®äº†ï¼Œæ‰€ä»¥éƒ½æ”¾äº†ä¸€ä»½ï¼‰

è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯¹äº MuJoCo 210 å’Œ 200ï¼‰ï¼šåœ¨ ~/.bashrc é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œå¹¶ source ~/.bashrc ï¼š

    # ================== mujoco ==================
    export MUJOCO_PY_MUJOCO_PATH=~/.mujoco/mujoco200  # 200
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/.mujoco/mujoco200/bin  # 200
    # export MUJOCO_PY_MUJOCO_PATH=~/.mujoco/mujoco210  # 210
    # export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/.mujoco/mujoco210/bin  # 210
    export MUJOCO_GL=egl
    # ================== mujoco ==================
    
    # å¿˜è®°ä¸‹é¢ä¸‰è¡Œçš„ä½œç”¨äº†ï¼Œä½†å¯èƒ½è·Ÿ MuJoCo æœ‰ç‚¹å…³ç³»
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/nvidia
    export PATH="$LD_LIBRARY_PATH:$PATH"
    export LD_PRELOAD=/usr/lib/x86_64-linux-gnu/libGLEW.so >> ~/.bashrc
    

### 2 MuJoCo ä¸ mujoco\_py çš„ç‰ˆæœ¬å¯¹åº”ï¼ˆå‚è€ƒçŸ¥ä¹åšå®¢ï¼‰

*   MuJoCo 210ï¼špip install mujoco\_py==2.1.2.14
*   MuJoCo 200ï¼špip install mujoco\_py==2.0.2.8
*   mjpro 150ï¼špip install mujoco\_py==1.50.1.68

ï¼ˆäº²æµ‹è¿™æ ·è£…ä¸‹æ¥ï¼ŒMuJoCo 210 å’Œ MuJoCo 200 éƒ½æ˜¯æ­£å¸¸çš„ï¼‰  
ï¼ˆæµ‹è¯•æ–¹æ³•ï¼šåœ¨ python é‡Œ import gymï¼Œenv = gym.make("Hopper-v3")ï¼Œæµ‹è¯•ä¸€ä¸‹ hopper ç¯å¢ƒï¼Œå† import mujoco\_pyã€import dm\_controlï¼‰

### 3 Cython ç¼–è¯‘æŠ¥é”™

å…·ä½“é”™è¯¯ï¼š

*   å¥½åƒæ˜¯è¿™ä¸ªæ–‡ä»¶æŠ¥é”™ï¼š/mujoco-py/mujoco\_py/cymj.pyx
*   å‚è€ƒ issueï¼š[https://github.com/openai/mujoco-py/issues/773](https://github.com/openai/mujoco-py/issues/773)

è§£å†³æ–¹æ³•ï¼šéœ€è¦å®‰è£…ä½ç‰ˆæœ¬ Cythonï¼Œpip install "Cython<3" ã€‚