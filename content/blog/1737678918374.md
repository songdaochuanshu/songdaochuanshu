---
layout: post
title: 'C# as 和 is 运算符区别和用法'
date: "2025-01-24T00:35:18Z"
---
C# as 和 is 运算符区别和用法
===================

![](https://img2024.cnblogs.com/blog/1336199/202501/1336199-20250123022455739-182936425.png)

前言
--

在C#中，as 和 is 关键字都用于处理类型转换的运算符，但它们有不同的用途和行为。本文我们将详细解释这两个运算符的区别和用法。

is 运算符
------

is 运算符用于检查对象是否是某个特定类型，或者是否可以转换为该类型。它返回一个布尔值 (true 或 false)。

                string title = "Hello DotNetGuide";            if (title is string)            {                Console.WriteLine("是 string 类型");            }            else            {                Console.WriteLine("不是 string 类型");            }            if (title is not null)            {                Console.WriteLine("不为 null");            }            else            {                Console.WriteLine("为 null");            }

### 模式匹配

C# 7.0 引入了模式匹配，允许在 is 表达式中进行类型检查和转换：

                object obj = "追逐时光者";            if (obj is string str)            {                Console.WriteLine($" {str}");            }            else            {                Console.WriteLine("不是指定类型");            }

### 列表模式

从 C# 11 开始，可以使用列表模式来匹配列表或数组的元素。以下代码检查数组中处于预期位置的整数值：

    int[] empty = [];int[] one = [1];int[] odd = [1, 3, 5];int[] even = [2, 4, 6];int[] fib = [1, 1, 2, 3, 5];Console.WriteLine(odd is [1, _, 2, ..]);   // falseConsole.WriteLine(fib is [1, _, 2, ..]);   // trueConsole.WriteLine(fib is [_, 1, 2, 3, ..]);     // trueConsole.WriteLine(fib is [.., 1, 2, 3, _ ]);     // trueConsole.WriteLine(even is [2, _, 6]);     // trueConsole.WriteLine(even is [2, .., 6]);    // trueConsole.WriteLine(odd is [.., 3, 5]); // trueConsole.WriteLine(even is [.., 3, 5]); // falseConsole.WriteLine(fib is [.., 3, 5]); // true

as 运算符
------

as 运算符尝试将对象转换为特定类型，如果转换失败，则返回 null 而不是抛出异常。它通常用于在不需要显式检查对象是否为特定类型的情况下进行安全的类型转换。

> 注意：as 运算符仅考虑引用、可以为 null、装箱和取消装箱转换。它不支持用户定义的或复杂的类型转换，这种情况需要使用强制转换表达式。

                object title = "Hello DotNetGuide";            string str = title as string;            if (str != null)            {                Console.WriteLine("是 string 类型: " + str);            }            else            {                Console.WriteLine("不是 string 类型");            }            int? num = title as int?;            if (num.HasValue)            {                Console.WriteLine("是 int 类型: " + num.Value);            }            else            {                Console.WriteLine("不是 int 类型");            }

C#/.NET/.NET Core面试宝典
---------------------

*   [https://github.com/YSGStudyHards/DotNetGuide](https://github.com/YSGStudyHards/DotNetGuide)

本文已收录至C#/.NET/.NET Core面试宝典中，欢迎关注获取更多面试干货内容。

![](https://img2024.cnblogs.com/blog/1336199/202501/1336199-20250123022519317-732792656.png)

参考文章
----

*   [https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/is](https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/is)
*   [https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator](https://learn.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/type-testing-and-cast#as-operator)

> 作者名称：[追逐时光者](https://www.cnblogs.com/Can-daydayup/)
> 
> 作者简介：一个热爱编程、善于分享、喜欢学习、探索、尝试新事物和新技术的全栈软件工程师。
> 
> 本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文链接，否则保留追究法律责任的权利。如果该篇文章对您有帮助的话，可以点一下右下角的[【♥推荐♥】](javascript:void\(0\))，希望能够持续的为大家带来好的技术文章，文中可能存在描述不正确的地方，欢迎指正或补充，不胜感激。