---
layout: post
title: '用 10 行 Java8 代码，开发一个自己的 ClaudeCodeCLI？你信吗？'
date: "2026-02-08T01:13:03Z"
---
用 10 行 Java8 代码，开发一个自己的 ClaudeCodeCLI？你信吗？
==========================================

最近 Anthropic 推出的 Claude Code 席卷了开发者圈子，其强大的终端交互和“自动驾驶”般的编程能力令人惊叹。那么，在 Java 生态中，我们能否快速构建一个同样强大且高度可控的应用？

最近 Anthropic 推出的 Claude Code 席卷了开发者圈子，其强大的终端交互和“自动驾驶”般的编程能力令人惊叹。那么，在 Java 生态中，我们能否快速构建一个同样强大且高度可控的应用？

答案是肯定的。基于 **Solon AI** 的 `CliSkill` 组件，你只需要 10 行核心代码，就能对接海量的开源技能生态，打造一个属于自己的智能终端（Agent CLI）。

### 1、什么是 Solon AI CliSkill？能干什么？

Solon AI CliSkill 是一个基于 **Pool-Box（池盒）模型** 设计的 AI 综合技能插件。它充当了 AI 智能体（Agent）与操作系统之间的“手”和“眼”。兼容 **Claude Code Agent Skills** 规范。

*   对接海量生态：

直接兼容 Claude Code Agent Skills 规范。只需挂载含有 `SKILL.md` 的技能包，Agent 就能秒变“剪辑师”、“架构师”或“运维专家”。

*   精细化文件管理：

Agent 不再只是胡乱生成代码，它能像人类工程师一样进行 `ls` 浏览目录、`cat` 读取规范、`grep` 检索逻辑，并使用 `edit` 工具进行精准的行级代码修改。

*   安全环境隔离：

Box（工作盒）：Agent 的受限活动空间。它在这里写代码、跑测试，确保不会误删你的系统根目录，不过仍要小心（它可能会自动安装需要的东西。比如：你要生成视步它会安装 ffmpeg）。Pool（技能池）：外部共享的工具库（只读）。你可以挂载一个专门处理视频的池，或者一个专门处理 K8s 部署的池。

### 2、核心代码：10 行 Java8 代码开启智能终端

借助 Solon AI 的高度集成，你的 Java 程序可以极简地驱动这一切：

    public class DemoApp {
        public static void main(String[] args) {
            // 1. 设置工作空间（Agent 将在此目录下进行创作）
            String workDir = "/WORK/projects/my-ai-task";
    
            // 2. 构建 Agent 并挂载 CliSkill (核心逻辑)
            ReActAgent agent = ReActAgent.of(LlmUtil.getChatModel())
                    .name("SolonCodeAgent")
                    .instruction("严格遵守挂载技能中的【规范协议】执行任务")
                    .defaultSkillAdd(new CliSkill(workDir)) // 注入 CliSkill 核心能力
                    .maxSteps(100)                         // 允许 Agent 进行复杂的链式思考
                    .build();
    
            // 3. 驱动任务：Agent 会自动扫描 workDir 下的技能规范并执行
            agent.prompt("帮我生成一个 solon web 项目，实现经典的权限管理系统，包含 Vue3 前端和 Java8 后端");
        }
    }
    

#### 更进一步：使用内置的 SolonCodeCLI

如果你想直接构建一个交互式命令行工具，Solon AI 还提供了一个高度封装的参考实现 SolonCodeCLI（你可以直接 copy 代码进行定制改造）。

它不仅内置了交互循环和多技能池管理，还具备 **Web 能力**，可以轻松与 **钉钉、企业微信、飞书等 IM 工具** 对接互动，让 AI 落地到具体的业务流程中：

    public class DemoApp {
        public static void main(String[] args) {
            SolonCodeCLI solonCodeCLI = new SolonCodeCLI(LlmUtil.getChatModel())
                    .name("小花")
                    .workDir("./app")
                    .mountPool("@shared", "/path/to/opencode-skills")
                    .enableWeb(true)
                    .config(agent -> {
                        agent.maxSteps(100);
                    });
    
            solonCodeCLI.run();
        }
    }
    

### 3、能力进阶：多技能池挂载

如果你希望你的 Agent 是一个“全能天才”，你可以通过 mountPool 隔离挂载不同领域的专家技能包：

    CliSkill cli = new CliSkill("my-box", workDir)
            .mountPool("@shared", "/path/to/opencode-skills") //共享技能
            .mountPool("@media", "/path/to/ffmpeg-skills")  // 处理音视频的专家
            .mountPool("@media", "/path/to/ffmpeg-skills")  // 处理音视频的专家
            .mountPool("@ops", "/path/to/deploy-scripts")   // 负责自动部署的专家
            .mountPool("@doc", "/path/to/pdf-gen-skills");  // 负责生成文档的专家
    

Agent 在执行时，会通过虚拟路径（如 `@media/extract.sh`）安全地调用这些只读工具。

### 4、真实交互场景体验

当你配置好相应的技能包（这里有不错的技能库： [https://github.com/zrt-ai-lab/opencode-skills](https://github.com/zrt-ai-lab/opencode-skills) ）后，你可以体验到如下“科幻”操作：

*   自动化重构：

“检查当前项目的 pom.xml，把所有过时的依赖升级到最新版本，并确保编译通过。”

*   全栈项目生成：

“帮我生成一个基于 Solon 的管理系统。前端要用 Vue3 + ElementPlus，后端要符合 RESTful 规范，带上简单的权限校验逻辑。”

*   多媒体联动：

“先在网上调查一下 Solon AI 的分布式 Skills 架构，写一篇 500 字的总结存为 README.md，然后根据这些内容生成一个 30 秒的视频介绍。”