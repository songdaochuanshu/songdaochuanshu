---
layout: post
title: '全差分放大器（FDA）电路设计计算及电压范围估算方法[原创www.cnblogs.com/helesheng]'
date: "2025-09-24T00:39:42Z"
---
全差分放大器（FDA）电路设计计算及电压范围估算方法\[原创www.cnblogs.com/helesheng\]
=========================================================

![全差分放大器（FDA）电路设计计算及电压范围估算方法[原创www.cnblogs.com/helesheng]](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922233023566-1630898750.png) 本文讨论了全差分放大器用途和电路设计的基本原则，以及输入共模电压限制带来的使用问题。

一、全差分放大器（FDA）的基本原理
------------------

从信号中去除或者向信号中加入共模信号需要用到减法器电路，如下图所示。这是个教科书上的电路，它对两个输入端上的电压做减法后，乘以增益G后，叠加到参考电压（图中Ref端上的电压）上。从而实现电路工作点的移动。

![加法器](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922133121506-1918582942.jpg)

图1 模拟减法器

 为了从差分信号中去除共模信号，使用一路图1所示电路即可：将差分信号从R1和R3的左侧接入即可，输出的共模信号连接到Ref端即可。图1电路的的缺点是R2/R1、R4/R3必须严格相等，否则将应向电路的共模抑制比（CMRR），所以最好使用放大器中集成R1~R4的现成放大器（如仪用放大器等）。去除共模信号的需求，在电流采样、生物电信号放大、热敏电阻转换等应用中使用非常广泛，这里不再赘述。

减法器的另一类应用是反过来将单端信号转换回两路全差分信号。这种应用需求，最常出现在全差分模数转换器（ADC）的驱动电路中。其作用是将单端或差分信号转换为相对于固定共模电压（一般为1/2Vcc），相位相反的一对差分信号，如图2所示。方法是用图1所示的模拟加法器，对虚线所示的单端输入信号和衰减1/2，同时加入1/2的电源电压作为共模电压，得到图中红色的信号；然后再对这个信号反相以求得图中绿色的信号。用分离元件和运放来实现图2所示的信号变换的电路可以参考拙作：[https://www.cnblogs.com/helesheng/p/15583047.html](https://www.cnblogs.com/helesheng/p/15583047.html)中图1的电路。但各大半导体厂商都有自己集成的“全差分放大器”（FDA）解决方案来实现对高速ADC的驱动功能。本文主要探讨这类FDA放大器的计算问题和使用时容易踩的坑。

以下原创内容欢迎网友转载，但请注明出处： [https://www.cnblogs.com/helesheng](https://www.cnblogs.com/helesheng)

![1380455-20211120231803140-1746559377](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922135423365-145191740.jpg)

图2 全差分信号

（全差分放大器的作用通常是将虚线所示的单端信号变换为全差分ADC所需要的要红色和绿色曲线所示的对称的全差分信号）

二、FDA电路设计的基本方法
--------------

 图3是ADI公司经典的全差分放大器AD8132的典型电路。

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922154212095-908964694.png)

图3 AD8132典型电路

一般设计时应使用以下原则：

1、VOCM是外部电路输入的输出信号的共模电压，一般是一个直流或者接近直流的电压值，大小为后端ADC参考电压VREF的1/2。

2、FDA开环增益和输入阻抗很大，只要负反馈成立，同相输入端+IN和反相输入端-IN之间满足“虚断”和“虚断”的原则。

3、为实现所谓“全差分”，同相端和反相端的反馈系数应相同，以避免两侧增益不等。一般取如图所示取两个反馈电阻RF相等，输入电阻RG相等。增益k=RF/RG

4、注意反馈必须是负的，因此反相输出端反馈到同相输入端，同相输出端反馈到反相输入端，不要搞反！

5、输入信号的实质是+DIN和-DIN之差，一般两者之差不应含有直流分量。

三、FDA输入绝对电压范围的计算
----------------

作为一个纯粹的线性电路，FDA同样要求自己的输入电压和输出电压在电源轨（Rail）之内，甚至要求出足够的电压裕量（Head Room）。以AD8132为例，其两个输入端对低电压侧的电压裕量至少为0.3V，对高电压侧的电压裕量至少为2.0V，假设AD8132的电源电压为3.0V，则只有当+IN和-IN两个管脚的绝对电压值都在0.3V~1V范围内（以下推导中假设这个上下限为VΔ-和VΔ+），AD8132才能正常工作。这就要求我们控制输入电压+DIN和-DIN的绝对值，以保证+IN和-IN都在VΔ-和VΔ+范围内。下面以FDA做单端到差分转换，增益为k为例的电路为例来计算输入单端信号的绝对电压范围。

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922191058261-865447058.png)

 图4 FDA实现单端信号到差分信号转化电路

 有前面提到的FDA的功能，两个输出端的电压为共模输入加减k倍输入的一半：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922210535998-2051293930.png)

\[注意保证VO+和VO-都在FDA的输出信号轨（各自距离电源轨1V左右）以内\]

 由虚断得到：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922213515394-1189253896.png)

由虚短得到：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922213829702-2125688846.png)

 保证+IN和-IN都在VΔ-和VΔ+范围内有：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250923203603479-1453718320.png)    或    ![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250923203632925-600788327.png) 

 代入得到：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922214554643-84331793.png)

 解得输入信号的范围：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922214746874-453701703.png)                                           **（1）**

这个解析解有点麻烦，举个实例可能更容易理解。若电源电压使用3V的AD8132 ，增益k为1，ADC的参考电压为2.5V，输出共模电压VOCM设置为参考电压的一半1.25V，把VΔ-和VΔ+为0.3和1V代入可以解得：

f(t)应在-1.3V到1.5V之间。这个结果其实预示了输入在FDA使用3V电源情况下，使用1倍增益，ADC输入信号范围无法做到-2.5V~+2.5V或0~+2.5V的最佳动态范围要求。需要增大FDA的电源电压。

四、反推FDA所需的电源电压
--------------

 我们反推一下，在k=1条件下，共模电压为A/2时，为获得对称的A信号幅度，需要多高的电源电压。

即：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922222615625-1944063184.png)

 代入上面的（1）式得到

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922223050148-1419715292.png)

将f(t)的最大值和最小值代入+A和-A，整理得到 ：

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922223600860-1713293534.png)

 即

![image](https://img2024.cnblogs.com/blog/1380455/202509/1380455-20250922223905817-270150401.png)                                    **（2）**

  上面(2)式中比较难以满足的是第一个，由于负电源轨电压裕量（head room）的存在，要求FDA具备负电源。第二个不等式也要求电源电压不能太低，当然这个要求相对容易做到。