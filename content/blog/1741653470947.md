---
layout: post
title: 'Ollama+DeepSeek+SlackBot'
date: "2025-03-11T00:37:50Z"
---
Ollama+DeepSeek+SlackBot
========================

![Ollama+DeepSeek+SlackBot](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310103329571-879122464.png) æœ¬æ–‡ä»‹ç»äº†ä¸€ç§ä½¿ç”¨SlackèŠå¤©å·¥å…·ä¸­çš„æœºå™¨äººSlackBotçš„APIæ¥å£ï¼Œå®ç°æœ¬åœ°åŒ–éƒ¨ç½²Ollamaçš„DeepSeekå¤§æ¨¡å‹çš„è¿œç¨‹é€šè®¯æ–¹æ¡ˆã€‚ç›¸æ¯”äºè°ƒç”¨å…¬ç½‘çš„APIæ¥å£ï¼Œæ•°æ®éšç§ç¨å¾®å¥½ä¸€ç‚¹ç‚¹ã€‚æœ€ç»ˆçš„æ–¹æ¡ˆåº”è¯¥æ˜¯è‡ªå»ºåŠ å¯†èŠå¤©å·¥å…·+Ollamaæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶é—´æˆæœ¬æœ‰ç‚¹é«˜ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡Œå°è¯•ã€‚

æŠ€æœ¯èƒŒæ™¯
====

æƒ³å¿…æœ€è¿‘æœ‰åœ¨éƒ¨ç½²DeepSeekå¤§æ¨¡å‹çš„äººï¼Œçœ‹æ ‡é¢˜å°±çŸ¥é“è¿™ç¯‡æ–‡ç« åœ¨åšä»€ä¹ˆäº‹æƒ…äº†ã€‚ç”±äºOllamaå¯¹äºIPçš„ç›‘å¬ç¼ºä¹å®‰å…¨é˜²æŠ¤ï¼Œå¹¶ä¸”å†…ç½‘éƒ¨ç½²çš„Ollamaæ¨¡å‹å¯¹äºå¤–ç½‘æ¥è¯´ä¹Ÿæ˜¯ä¸å¯è§çš„ï¼Œè€Œå¦‚æœä½¿ç”¨ä¸€äº›å…¬ç½‘APIï¼Œåˆå­˜åœ¨éšç§æ•°æ®æ³„éœ²çš„é£é™©ã€‚è¿™é‡Œæä¾›ä¸€ä¸ªæ–¹æ¡ˆï¼šä½¿ç”¨ç«¯åˆ°ç«¯åŠ å¯†çš„é€šè®¯è½¯ä»¶ï¼Œå°†æ¶ˆæ¯å†…å®¹è½¬ä¸ºtokenä¼ è¾“ç»™Ollamaæœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹ï¼Œç„¶åæ¥æ”¶tokenä½œä¸ºæ¶ˆæ¯ï¼Œé€šè¿‡åŠ å¯†é€šè®¯è¿”å›ç»™ç”¨æˆ·ã€‚ä½†æ˜¯è€ƒè™‘åˆ°åŠ å¯†é€šè®¯è½¯ä»¶çš„ç”¨æˆ·ç¾¤ä½“å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œè¿™é‡Œä»…ä»…ä½¿ç”¨Slackä½œä¸ºä¸€ä¸ªæ¼”ç¤ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSlackå…¬å¸ä¹Ÿæœ‰è‡ªå·±çš„AIæ¨¡å‹SlackAIï¼Œåœ¨ç”¨æˆ·æ•°æ®å®‰å…¨é˜²æŠ¤è¿™ä¸€å—æœ‰å¤šå¤§çš„å¯é æ€§ï¼Œç•™ç»™å¤§å®¶è‡ªè¡Œåˆ¤æ–­ã€‚

Slackåº”ç”¨æ³¨å†Œæµç¨‹
===========

æˆ‘ä»¬å…ˆå‡å®šä½ å·²ç»æœ‰ä¸€ä¸ªSlackè´¦å·å’Œç›¸åº”çš„Slackå·¥ä½œåŒºäº†ï¼Œé‚£ä¹ˆå¯ä»¥è¿›å…¥åˆ°[appç•Œé¢](https://api.slack.com/apps)å»åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„åº”ç”¨ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305142339872-538922201.png)

æˆ‘é€‰æ‹©çš„æ˜¯`scratch`åˆ›å»ºæ¨¡å¼ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305170509101-250323715.png)

è¿™æ ·å°±èƒ½åœ¨ç½‘é¡µç•Œé¢ä¸Šè¿›è¡Œé…ç½®ã€‚é€‰æ‹©å¥½è‡ªå·±çš„å·¥ä½œåŒºï¼Œé…ç½®è¯¥æœºå™¨äººåœ¨å·¥ä½œåŒºä¸­çš„åå­—ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102125680-2091958997.png)

åˆ›å»ºå®Œæˆåå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102252600-891387136.png)

ç„¶åå¯ä»¥è¿›å…¥åˆ°APPçš„è®¾ç½®ç•Œé¢ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305170450360-93520248.png)

è¦æ‰“å¼€Socketæ¨¡å¼ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305170431791-1232989360.png)

æƒé™é…ç½®åœ¨`Event Subscriptions`å’Œ`OAuth & Permissions`ä¸­ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305170411945-1434982631.png)

ä½†æ˜¯æƒé™é…ç½®è¿™ä¸€å—éœ€è¦åé¢å•ç‹¬å¼€ä¸€ä¸ªç« èŠ‚ï¼Œè¯·ç»§ç»­å¾€ä¸‹çœ‹ã€‚é…ç½®å®Œæˆåï¼Œå¯ä»¥æŠŠåº”ç”¨å®‰è£…åˆ°è‡ªå·±çš„å·¥ä½œåŒºï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102426447-1161067861.png)

å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æœ¬åœ°çš„Slackå®¢æˆ·ç«¯ï¼Œæ‰¾åˆ°`åº”ç”¨`\-`æ·»åŠ åº”ç”¨`ï¼Œåœ¨åˆ—è¡¨ä¸­å±äºè¯¥å·¥ä½œåŒºçš„åº”ç”¨ä¼šæ’åœ¨æœ€å‰é¢ï¼Œå¯ä»¥ç›´æ¥å°†å…¶åŠ å…¥å·¥ä½œåŒºï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305170333863-269070008.png)

è¿™æ ·ä»¥åå°±å¯ä»¥åœ¨åº”ç”¨åˆ—è¡¨çœ‹åˆ°è‡ªå·±å®šä¹‰çš„åº”ç”¨äº†ã€‚

å…³é”®ä¿¡æ¯
====

Slackåº”ç”¨åˆ›å»ºä¹‹åï¼Œæœ‰å‡ ä¸ªå…³é”®çš„tokensä¿¡æ¯ï¼ˆå¯ä»¥è‡ªå·±åœ¨Slack APPç½‘é¡µæ‰¾åˆ°ç›¸å…³çš„å­—ç¬¦ä¸²ï¼‰éœ€è¦ä¿å­˜åˆ°æœ¬åœ°ï¼š

1.  `SLACK_BOT_TOKEN`ï¼Œæ˜¯ä¸€ä¸²`xoxb-`å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œç”¨`QAuth&Permissions`é‡Œé¢çš„`Bot User OAuth Token`ï¼›
2.  `SLACK_APP_TOKEN`ï¼Œæ˜¯ä¸€ä¸²`xapp-`å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œä»`Basic Information`é‡Œé¢çš„`APP Level Tokens`é‡Œé¢æ‰¾ï¼Œæ³¨æ„æƒé™é…ç½®ï¼›
3.  `SLACK_SIGNING_SECRET`ï¼Œæ˜¯ä¸€ä¸²æ™®é€šçš„éšæœºå­—ç¬¦ä¸²ï¼Œä»`Basic Information`é‡Œé¢æ‰¾ã€‚

å…³é”®é…ç½®
====

æƒ³è¦æ­£å¸¸çš„ä½¿ç”¨SlackBotï¼Œæœ‰å‡ ä¸ªå…³é”®çš„æƒé™é…ç½®ï¼Œå¦‚æœæƒé™é…ç½®é”™è¯¯ï¼Œä¼šå¯¼è‡´SlackBotæ— æ³•æ­£ç¡®çš„è¯»å–æ¶ˆæ¯æˆ–è€…æ­£ç¡®åœ°å¯¹æ¶ˆæ¯è¿›è¡Œååº”ã€‚

é¦–å…ˆæ˜¯`APP Level Tokens`çš„é…ç½®ï¼ˆå‚è€ƒè¿™é‡Œçš„ChatBotAppé‡Œé¢çš„é…ç½®ï¼‰ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305172135118-157399724.png)

ç„¶åæ˜¯`Event Subscriptions`ä¸­çš„é…ç½®ä¿¡æ¯ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250305172031159-506954965.png)

æœ€åæ˜¯ä¸¤ä¸ª`QAuth&Permissions`çš„é…ç½®å‚æ•°ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310095330859-1927917108.png)

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310095337072-1539919430.png)

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›éƒ½æ˜¯ä¸ªäººé…ç½®ä¿¡æ¯ï¼Œä»…ä¾›å‚è€ƒã€‚

slack\_boltç¯å¢ƒé…ç½®
===============

slack\_boltå¯ä»¥å…è®¸ä½ ä»æœ¬åœ°Pythonå¯åŠ¨æœåŠ¡ï¼Œè°ƒç”¨SlackBotçš„APIï¼Œç›‘å¬Slackåº”ç”¨ç¨‹åºä¸­çš„å¯¹è¯ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ç…§ä¸åŒçš„æƒé™è·Ÿç”¨æˆ·è¿›è¡Œå¯¹è¯ã€‚å¯ä»¥ä½¿ç”¨pipå®‰è£…slack\_boltï¼š

    $ python3 -m pip install slack_bolt
    Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
    Collecting slack_bolt
      Downloading https://pypi.tuna.tsinghua.edu.cn/packages/5d/2d/fb23c998c43ff8398d7fa1e58bb82e7e735fbdaa0bd4ddaac04b3865bd4c/slack_bolt-1.22.0-py2.py3-none-any.whl (229 kB)
    Collecting slack_sdk<4,>=3.33.5 (from slack_bolt)
      Downloading https://pypi.tuna.tsinghua.edu.cn/packages/25/2d/8724ef191cb64907de1e4e4436462955501e00f859a53d0aa794d0d060ff/slack_sdk-3.34.0-py2.py3-none-any.whl (292 kB)
    Installing collected packages: slack_sdk, slack_bolt
    Successfully installed slack_bolt-1.22.0 slack_sdk-3.34.0
    

ç„¶åæ ¹æ®å‰é¢é‡è¦é…ç½®ä¿¡æ¯ä¸­æåˆ°çš„ï¼Œé…ç½®Tokenï¼š

    # export SLACK_BOT_TOKEN=xxx
    # export SLACK_APP_TOKEN=xxx
    # export SLACK_SIGNING_SECRET=xxx
    

å…ˆæµ‹è¯•ä¸€ä¸ªç®€å•çš„Pythonè„šæœ¬ï¼š

    import os
    
    from slack_bolt import App
    from slack_bolt.adapter.socket_mode import SocketModeHandler
    
    # Install the Slack app and get xoxb- token in advance
    app = App(token=os.environ["SLACK_BOT_TOKEN"])
    
    if __name__ == "__main__":
        SocketModeHandler(app, os.environ["SLACK_APP_TOKEN"]).start()
    

è¿è¡Œæ•ˆæœï¼š

    $ python3 slack_chatbot.py 
    âš¡ï¸ Bolt app is running!
    

è¿™å°±è¡¨ç¤ºæœ¬åœ°SlackBotå®‰è£…æˆåŠŸäº†ï¼Œå½“ç„¶ï¼Œè¿™ä¸ªç¨‹åºæœ¬èº«æ²¡æœ‰é™„å¸¦ä»»ä½•çš„åŠŸèƒ½ã€‚å¯ä»¥ç¨å¾®å‡çº§ä¸€ä¸‹SlackBotçš„æµ‹è¯•åŠŸèƒ½ï¼š

    import os
    from slack_bolt import App
    from slack_bolt.adapter.socket_mode import SocketModeHandler
    
    # Initializes your app with your bot token and socket mode handler
    app = App(token=os.environ.get("SLACK_BOT_TOKEN"), signing_secret=os.environ.get("SLACK_SIGNING_SECRET"))
    
    # Listens to incoming messages that contain "hello"
    # To learn available listener arguments,
    # visit https://tools.slack.dev/bolt-python/api-docs/slack_bolt/kwargs_injection/args.html
    @app.message("hello")
    def message_hello(message, say):
        # say() sends a message to the channel where the event was triggered
        say(f"Hey there <@{message['user']}>!")
    
    @app.event("app_mention")
    def handle_mentions(event, say):
        say(text="Hello!", channel=event["channel"])
    
    # Start your app
    if __name__ == "__main__":
        SocketModeHandler(app, os.environ["SLACK_APP_TOKEN"]).start()
    

åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¼šå¯¹ä¸€ä¸ªäº‹ä»¶å’Œä¸€ä¸ªå…³é”®è¯èµ·ååº”ã€‚ä¾‹å¦‚æˆ‘ä»¬åª@slackbotçš„è¯ï¼Œä¼šè¿”å›ä¸€ä¸ªhelloï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102607638-940559330.png)

å¦‚æœ@slackbotå¹¶ä¸”å¸¦ä¸ŠæŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°±ä¼šåšå‡ºç›¸åº”çš„ç‰¹åˆ«å¤„ç†ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102657606-704760473.png)

SlackBotå¯¹æ¥Ollamaæ¨¡å‹
==================

åœ¨ä¸Šè¿°ç« èŠ‚ä¸­å·²ç»å®Œæˆäº†æœ¬åœ°é€šä¿¡çš„ä¸€äº›é…ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æŠŠSlackBotå¯¹æ¥åˆ°Ollamaæ¨¡å‹ä¸­ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼šè§¦å‘SlackBotä¹‹åï¼Œå°†æ¶ˆæ¯ä½œä¸ºtokenè½¬å‘ç»™Ollamaçš„APIï¼Œç„¶åç­‰å¾…å›å¤å†å›ä¼ ç»™SlackèŠå¤©ç•Œé¢ã€‚è¿™å°±æ˜¯æˆ‘åšçš„ä¸€ä¸ªç®€å•çš„æ¡†æ¶ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹å…·ä½“å®æ–½ã€‚

é¦–å…ˆå®‰è£…Ollamaé€šä¿¡ç›¸å…³ä¾èµ–ï¼š

    $ python3 -m pip install requests python-dotenv
    

ç›´æ¥ä¸ŠDè€å¸ˆç»™çš„ä»£ç ï¼š

    import os
    import re
    import requests
    from slack_bolt import App
    from slack_bolt.adapter.socket_mode import SocketModeHandler
    from dotenv import load_dotenv
    
    # åŠ è½½ç¯å¢ƒå˜é‡
    load_dotenv()
    
    # åˆå§‹åŒ– Slack åº”ç”¨
    app = App(
        token=os.environ["SLACK_BOT_TOKEN"],
        signing_secret=os.environ["SLACK_SIGNING_SECRET"]
    )
    
    # Ollama é…ç½®ï¼ˆå¯é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ï¼‰
    OLLAMA_ENDPOINT = os.getenv("OLLAMA_ENDPOINT", "http://localhost:11434/api/generate")
    OLLAMA_MODEL = os.getenv("OLLAMA_MODEL", "deepseek-r1:14b")
    OLLAMA_PARAMS = {
        "num_ctx": int(os.getenv("OLLAMA_NUM_CTX", 4096)),
        "num_gpu": int(os.getenv("OLLAMA_NUM_GPU", 64)),
        "keep_alive": os.getenv("OLLAMA_KEEP_ALIVE", "2h")
    }
    
    def query_ollama(prompt: str) -> str:
        """å‘ Ollama å‘é€è¯·æ±‚å¹¶è·å–å®Œæ•´å“åº”"""
        payload = {
            "model": OLLAMA_MODEL,
            "prompt": f"è¯·å…ˆè¾“å‡ºæ€è€ƒè¿‡ç¨‹ï¼ˆç”¨THINKING:å¼€å¤´ï¼‰ï¼Œå†è¾“å‡ºæœ€ç»ˆç­”æ¡ˆï¼ˆç”¨ANSWER:å¼€å¤´ï¼‰ï¼š\n\n{prompt}",
            "stream": False,
            # "options": OLLAMA_PARAMS
        }
    
        try:
            response = requests.post(OLLAMA_ENDPOINT, json=payload, timeout=6000)
            response.raise_for_status()
            return response.json()["response"]
        except Exception as e:
            return f"Ollama è¯·æ±‚å¤±è´¥: {str(e)}"
    
    def format_slack_response(raw_response: str) -> str:
        """å°†åŸå§‹å“åº”åˆ†å‰²ä¸ºæ€è€ƒè¿‡ç¨‹å’Œæœ€ç»ˆç­”æ¡ˆ"""
        thinking_match = re.search(r"THINKING:(.*?)(ANSWER:|\Z)", raw_response, re.DOTALL)
        answer_match = re.search(r"ANSWER:(.*)", raw_response, re.DOTALL)
    
        thinking = thinking_match.group(1).strip() if thinking_match else "æœªæä¾›æ€è€ƒè¿‡ç¨‹"
        answer = answer_match.group(1).strip() if answer_match else raw_response
    
        return (
            f"*ğŸ¤” æ€è€ƒè¿‡ç¨‹*ï¼š\n```{thinking}```\n\n"
            f"*ğŸ’¡ æœ€ç»ˆå›ç­”*ï¼š\n```{answer}```"
        )
    
    @app.event("app_mention")
    def handle_ollama_query(event, say):
        """å¤„ç† Slack æåŠäº‹ä»¶"""
        # ç§»é™¤æœºå™¨äººæåŠæ ‡è®°
        query = event["text"].replace(f'<@{app.client.auth_test()["user_id"]}>', '').strip()
        
        # è·å–åŸå§‹å“åº”
        raw_response = query_ollama(query)
        
        # æ ¼å¼åŒ–å“åº”
        slack_message = format_slack_response(raw_response)
        
        # å‘é€åˆ° Slack é¢‘é“
        say(text=slack_message, channel=event["channel"])
    
    if __name__ == "__main__":
        SocketModeHandler(app, os.environ["SLACK_APP_TOKEN"]).start()
    

åªè¦è¿è¡Œè¿™ä¸ªPythonè„šæœ¬ï¼Œå°±å¯ä»¥é€šè¿‡SlackBotå¯åŠ¨Ollamaæœ¬åœ°å¯¹è¯æœåŠ¡ã€‚å¯ä»¥æŸ¥çœ‹ä¼šè¯è¿‡ç¨‹ä¸­Ollamaçš„æ¨¡å‹è¢«è°ƒç”¨ï¼ˆæœ¬åœ°éƒ¨ç½²äº†å¤šä¸ªæ¨¡å‹ï¼Œä¸è¦åœ¨æ„ModelNameçš„å·®å¼‚ï¼‰ï¼š

    $ ollama ps
    NAME                   ID              SIZE     PROCESSOR          UNTIL              
    deepseek-r1:32b-q40    13c7c287f615    21 GB    30%/70% CPU/GPU    4 minutes from now
    

æˆæœå±•ç¤º
====

é€šè¿‡ä¸Šä¸€ä¸ªç« èŠ‚éƒ¨ç½²å®Œæˆï¼Œå¯åŠ¨ä¼šè¯æœåŠ¡ä¹‹åï¼Œå¯ä»¥æµ‹è¯•ä¸€ä¸‹æœ¬åœ°DeepSeekè’¸é¦æ¨¡å‹çš„å›ç­”ã€‚

ç®€å•æé—®ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102817678-1800347839.png)

è¿›ä¸€æ­¥æé—®ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310102913080-1803745953.png)

å› ä¸ºæ¯ä¸€æ¬¡å›å¤éœ€è¦æ—¶é—´ï¼Œä¸æ˜¯æµå¼çš„å“åº”ï¼Œå› æ­¤æˆ‘è‡ªå·±åŠ äº†ä¸€ä¸ªå“åº”å›å¤ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310103003554-644605116.png)

è¿™æ ·å°±ä¼šå‘ŠçŸ¥ç”¨æˆ·ï¼Œä½ çš„æé—®å·²ç»è¢«æ¥æ”¶åˆ°äº†ï¼ŒæœåŠ¡æ­£åœ¨æ­£å¸¸è¿è¡Œï¼Œæ¨¡å‹æ­£åœ¨æ¨ç†ã€‚

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250310103102983-2019581516.png)

æ›´å¤šçš„ç¤ºä¾‹å°±ä¸ä¸€ä¸€å±•ç¤ºäº†ï¼Œè·Ÿä¹‹å‰ä»‹ç»è¿‡çš„AnythingLLMå’ŒChatBoxã€PageAssitç­‰ç›¸æ¯”åŠŸèƒ½è¿˜æ˜¯éå¸¸æ¬ ç¼ºçš„ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è€ƒè™‘è¿›ä¸€æ­¥å»æ‹“å±•ã€‚

æ–¹æ¡ˆé€‰æ‹©
====

å‰ä¸€æ®µæ—¶é—´æœ‰å¾ˆå¤šæ–°é—»åœ¨æŠ¥é“Ollamaçš„å®‰å…¨æ¼æ´ï¼Œåœ¨å…¬ç½‘ä¸Šæœ‰ä¼—å¤šå¼€æ”¾Ollamaç«¯å£çš„æœåŠ¡å™¨å¯ä»¥è¢«æœ‰å¿ƒä¹‹äººåˆ©ç”¨ã€‚è¿™ä»¶äº‹ä¹Ÿå¼•èµ·äº†å¾ˆå¤šå¤§æ¨¡å‹æœ¬åœ°ç”¨æˆ·çš„è­¦è§‰ï¼ŒDè€å¸ˆå¯¹æ¯”äº†å‡ ç§å¯èƒ½ç”¨åˆ°çš„æ–¹æ¡ˆå¹¶ç»™å‡ºäº†å»ºè®®ï¼š

![](https://img2024.cnblogs.com/blog/2277440/202503/2277440-20250307094753681-168322298.png)

Dè€å¸ˆè®¤ä¸ºï¼Œä½¿ç”¨è‡ªå»ºçš„åŠ å¯†èŠå¤©å·¥å…·+Ollamaçš„å®‰å…¨åŠ å›ºï¼Œä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„æ–¹æ¡ˆã€‚æ—¢å¯ä»¥æ»¡è¶³ç”¨æˆ·çš„æ•°æ®éšç§éœ€æ±‚ï¼Œåˆå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜æœ¬åœ°å¤§æ¨¡å‹ä½¿ç”¨çš„çµæ´»åº¦ã€‚è€Œè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æ‰€ä½¿ç”¨åˆ°çš„æ˜¯å…¬å…±èŠå¤©å·¥å…·+Ollamaçš„æ–¹æ¡ˆï¼Œç›¸æ¯”äºä½¿ç”¨å…¬ç½‘APIï¼Œæ•°æ®éšç§ä¼šç¨å¥½ä¸€äº›ã€‚ä½†æ˜¯è¿™é‡Œé¢çš„æ•°æ®éšç§ä¹Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºèŠå¤©å·¥å…·å¯¹äºç”¨æˆ·éšç§æ•°æ®çš„ä¿æŠ¤ç¨‹åº¦ï¼Œç”¨æˆ·éœ€è¦è‡ªå·±è¿›è¡Œé‰´åˆ«ã€‚

æ€»ç»“æ¦‚è¦
====

æœ¬æ–‡ä»‹ç»äº†ä¸€ç§ä½¿ç”¨SlackèŠå¤©å·¥å…·ä¸­çš„æœºå™¨äººSlackBotçš„APIæ¥å£ï¼Œå®ç°æœ¬åœ°åŒ–éƒ¨ç½²Ollamaçš„DeepSeekå¤§æ¨¡å‹çš„è¿œç¨‹é€šè®¯æ–¹æ¡ˆã€‚ç›¸æ¯”äºè°ƒç”¨å…¬ç½‘çš„APIæ¥å£ï¼Œæ•°æ®éšç§ç¨å¾®å¥½ä¸€ç‚¹ç‚¹ã€‚æœ€ç»ˆçš„æ–¹æ¡ˆåº”è¯¥æ˜¯è‡ªå»ºåŠ å¯†èŠå¤©å·¥å…·+Ollamaæœ¬åœ°åŒ–éƒ¨ç½²ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶é—´æˆæœ¬æœ‰ç‚¹é«˜ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡Œå°è¯•ã€‚

ç‰ˆæƒå£°æ˜
====

æœ¬æ–‡é¦–å‘é“¾æ¥ä¸ºï¼š[https://www.cnblogs.com/dechinphy/p/slackbot.html](https://www.cnblogs.com/dechinphy/p/slackbot.html)

ä½œè€…IDï¼šDechinPhy

æ›´å¤šåŸè‘—æ–‡ç« ï¼š[https://www.cnblogs.com/dechinphy/](https://www.cnblogs.com/dechinphy/)

è¯·åšä¸»å–å’–å•¡ï¼š[https://www.cnblogs.com/dechinphy/gallery/image/379634.html](https://www.cnblogs.com/dechinphy/gallery/image/379634.html)

å‚è€ƒé“¾æ¥
====

1.  [https://tools.slack.dev/bolt-python/getting-started](https://tools.slack.dev/bolt-python/getting-started)
2.  [https://cloud.tencent.com/developer/article/2468402](https://cloud.tencent.com/developer/article/2468402)