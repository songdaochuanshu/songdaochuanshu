---
layout: post
title: 'MAFå¿«é€Ÿå…¥é—¨ï¼ˆ7ï¼‰å·¥ä½œæµçš„çŠ¶æ€å…±äº«'
date: "2025-12-18T00:41:10Z"
---
MAFå¿«é€Ÿå…¥é—¨ï¼ˆ7ï¼‰å·¥ä½œæµçš„çŠ¶æ€å…±äº«
==================

![MAFå¿«é€Ÿå…¥é—¨ï¼ˆ7ï¼‰å·¥ä½œæµçš„çŠ¶æ€å…±äº«](https://img2024.cnblogs.com/blog/381412/202512/381412-20251217190653240-1557279859.png) åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸€ä¸ªAIå·¥ä½œæµçš„å¤šä¸ªæ­¥éª¤ä¹‹é—´å¾€å¾€éœ€è¦å…±äº«ä¸Šä¸‹æ–‡æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åŸå§‹è¾“å…¥ã€æ¨¡å‹çš„è¾“å‡ºç¼“å­˜ç­‰ã€‚åœ¨MAFä¸­ï¼Œæä¾›äº†ä¸€ä¸ª WorkflowContext çš„æ¨¡å‹ï¼Œå®ƒåŸç”Ÿæä¾›äº†å·¥ä½œæµä¸Šä¸‹æ–‡çš„çŠ¶æ€å…±äº«èƒ½åŠ›ã€‚

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Edisonã€‚

æœ€è¿‘æˆ‘ä¸€ç›´åœ¨è·Ÿç€åœ£æ°çš„ã€Š[.NET+AIæ™ºèƒ½ä½“å¼€å‘è¿›é˜¶](https://mp.weixin.qq.com/s?__biz=MzA4NzQzNTg4Ng==&mid=2651744458&idx=1&sn=139f7584e81aeecd0945133bdc2b4791&scene=21#wechat_redirect)ã€‹è¯¾ç¨‹å­¦ä¹ MAFçš„å¼€å‘æŠ€å·§ï¼Œæˆ‘å¼ºçƒˆæ¨èä½ ä¹Ÿä¸Šè½¦è·Ÿæˆ‘ä¸€èµ·å‡ºå‘ï¼

[ä¸Šä¸€ç¯‡](https://www.cnblogs.com/edisontalk/p/-/quick-start-on-maf-chatper06)ï¼Œæˆ‘ä»¬å­¦ä¹ äº†MAFä¸­è¿›è¡Œäº†Agentå’ŒExecutorçš„æ··åˆç¼–æ’ï¼Œç›¸ä¿¡ä½ ä¸€å®šæœ‰äº†æ›´å¤šåœ°ç†è§£ã€‚æœ¬ç¯‡ï¼Œæˆ‘ä»¬æ¥é€šè¿‡ä¸€ä¸ªç»å…¸çš„ä¾‹å­äº†è§£ä¸‹MAFä¸­å·¥ä½œæµå¦‚ä½•å®ç°çŠ¶æ€çš„å…±äº«ã€‚

**çŠ¶æ€å…±äº«çš„åº”ç”¨åœºæ™¯**
=============

åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸€ä¸ªAIå·¥ä½œæµçš„å¤šä¸ªæ­¥éª¤ä¹‹é—´å¾€å¾€éœ€è¦å…±äº«ä¸Šä¸‹æ–‡æ•°æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åŸå§‹è¾“å…¥ã€æ¨¡å‹çš„è¾“å‡ºç¼“å­˜ç­‰ã€‚**åœ¨MAFä¸­ï¼Œæä¾›äº†ä¸€ä¸ª WorkflowContext çš„æ¨¡å‹ï¼Œå®ƒåŸç”Ÿæä¾›äº†å·¥ä½œæµä¸Šä¸‹æ–‡çš„çŠ¶æ€å…±äº«èƒ½åŠ›**ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸‹é¢è¿™ä¸ªèšåˆç»Ÿè®¡æµç¨‹ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ªFileContentStateçš„å…±äº«å†…å®¹é€šè¿‡WorkflowContextè¿›è¡Œä¼ é€’å…±äº«ç»™åç»­çš„ä¸¤ä¸ªç»Ÿè®¡Executorä½¿ç”¨ï¼Œè¿›è€Œè¿›è¡Œèšåˆè¾“å‡ºç»“æœã€‚

![image](https://img2024.cnblogs.com/blog/381412/202512/381412-20251217185839212-187740423.png)

**WorkflowContext APIä¸€è§ˆ**
=========================

åœ¨WorkflowContext APIä¸­ï¼Œå®ƒæä¾›äº†ä»¥ä¸‹ä¸€äº›çŠ¶æ€è¯»å–å’Œè®¾ç½®çš„æ¥å£ï¼Œä½œä¸ºå­—å…¸æˆ‘ä»¬å¯ä»¥äº†è§£ä¸€ä¸‹ï¼š

![image](https://img2024.cnblogs.com/blog/381412/202512/381412-20251217185901993-1455682153.png)

è¿™é‡Œæˆ‘ä»¬ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ï¼šQueueStateUpdateAsync å’Œ ReadStateAsync ä¸¤ä¸ªæ–¹æ³•ã€‚

**å®éªŒæ¡ˆä¾‹**
========

ä»Šå¤©æ¥å®è·µä¸€ä¸ªæ–‡æ¡£ç»Ÿè®¡çš„å·¥ä½œæµæ¡ˆä¾‹ï¼Œå’Œä¸Šé¢çš„ä¾‹å­ç›¸ä¼¼ï¼š

![image](https://img2024.cnblogs.com/blog/381412/202512/381412-20251217185945960-911226028.png)

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„**æ‰‡å…¥æ‰‡å‡ºï¼ˆFan-In & Fan-Outï¼‰**å·¥ä½œæµï¼š

é¦–å…ˆï¼Œç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼ŒFileReadExecutorä¼šè¯»å–è¯¥æ–‡ä»¶çš„å†…å®¹å¹¶å°†æ–‡ä»¶å†…å®¹ä¼ å…¥å·¥ä½œæµä¸Šä¸‹æ–‡ä¸­å…±äº«ï¼ŒåŒæ—¶å°†æ–‡ä»¶IDå·ä¼ é€’ç»™åç»­æµç¨‹ã€‚

ç„¶åï¼Œå•è¯ç»Ÿè®¡Executor å’Œ æ®µè½ç»Ÿè®¡Executor ä¼šåˆ†åˆ«ç»Ÿè®¡è¯¥æ–‡ä»¶å†…å®¹çš„ å•è¯æ•° å’Œ æ®µè½æ•°ã€‚

æœ€åï¼Œèšåˆç»Ÿè®¡Executorä¼šå°†æ”¶é›†åˆ°çš„ å•è¯æ•° å’Œ æ®µè½æ•° äº¤ç”±LLMè¿›è¡Œå‹å¥½ä¿¡æ¯çš„è¾“å‡ºï¼Œæœ€åˆåé¦ˆç»™ç”¨æˆ·ã€‚

è¿™ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†**ä¸€æ¬¡å†™å…¥ï¼Œå¤šå¤„è¯»å–**çš„ç»å…¸åœºæ™¯ï¼Œå®ƒä¹Ÿæ˜¯å¹¶å‘åä½œçš„åŸºç¡€ã€‚

**å‡†å¤‡å·¥ä½œ**
--------

åœ¨ä»Šå¤©çš„è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶åˆ›å»ºäº†ä¸€ä¸ª.NETæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå®‰è£…äº†ä»¥ä¸‹NuGetåŒ…ï¼š

*   Microsoft.Agents.AI.OpenAI
*   Microsoft.Agents.AI.Workflows
*   Microsoft.Extensions.AI.OpenAI

æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸­å®šä¹‰äº†LLM APIçš„ä¿¡æ¯ï¼š

{
  "OpenAI": {
    "EndPoint": "https://api.siliconflow.cn",
    "ApiKey": "\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*",
    "ModelId": "Qwen/Qwen3-30B-A3B-Instruct-2507"
  }
}

è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ SiliconCloud æä¾›çš„Â Qwen/Qwen3-30B-A3B-Instruct-2507Â æ¨¡å‹ï¼Œä¹‹å‰çš„ Qwen2.5 æ¨¡å‹åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ä¸é€‚ç”¨ã€‚ä½ å¯ä»¥é€šè¿‡è¿™ä¸ªURLæ³¨å†Œè´¦å·ï¼š[https://cloud.siliconflow.cn/i/DomqCefW](https://cloud.siliconflow.cn/i/DomqCefW)Â è·å–å¤§é‡å…è´¹çš„Tokenæ¥è¿›è¡Œæœ¬æ¬¡å®éªŒã€‚

ç„¶åï¼Œæˆ‘ä»¬å°†é…ç½®æ–‡ä»¶ä¸­çš„APIä¿¡æ¯è¯»å–å‡ºæ¥ï¼š

var config = new ConfigurationBuilder()
    .AddJsonFile($"appsettings.json", optional: false, reloadOnChange: true)
    .Build();
var openAIProvider = config.GetSection("OpenAI").Get<OpenAIProvider>();

å®šä¹‰æ•°æ®ä¼ è¾“æ¨¡å‹
--------

é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸‹åœ¨è¿™ä¸ªå·¥ä½œæµä¸­éœ€è¦ç”Ÿæˆä¼ é€’çš„æ•°æ®æ¨¡å‹ï¼š

ï¼ˆ1ï¼‰FileStats ï¼šç»Ÿè®¡ç»“æœDTO

internal sealed class FileStats
{
    public int WordCount { get; init; }
    public int ParagraphCount { get; init; }
}

ï¼ˆ2ï¼‰FileContentStateConstants ï¼šå¸¸é‡ï¼Œç±»ä¼¼äºCache Keyçš„ä½œç”¨

internal static class FileContentStateConstants
{
    public const string ScopeName = "FileContentState";
}

å®šä¹‰ç¤ºä¾‹æ•°æ®é›†
-------

è¿™é‡Œæˆ‘ä»¬Mockäº†ä¸€ä¸ªæ–‡æ¡£æ•°æ®é›†ï¼Œç”¨äºæ¨¡æ‹Ÿè¯»å–çš„æ–‡ä»¶å†…å®¹ã€‚

internal static class SharedStateSampleData
{
    private static readonly IReadOnlyDictionary<string, string\> Documents = new Dictionary<string, string\>
    {
        \["ProductBrief"\] = "MAF Workflow è®© .NET å›¢é˜Ÿå¯ä»¥åƒç§¯æœ¨ä¸€æ ·ç»„åˆ Agentã€Executor ä¸å·¥å…·, æ”¯æŒæµå¼äº‹ä»¶ã€å¹¶å‘èŠ‚ç‚¹å’Œå¯è§‚æµ‹æ€§ã€‚\\n\\nå®ƒå¼ºè°ƒä¼ä¸šçº§èƒ½åŠ›, åŒ…æ‹¬çŠ¶æ€ç®¡ç†ã€ä¾èµ–æ³¨å…¥ã€æƒé™æ§åˆ¶, é€‚åˆæ­å»ºç«¯åˆ°ç«¯ AI ä¸šåŠ¡æµç¨‹ã€‚",
        \["WeeklyReport"\] = "æœ¬å‘¨å¹³å°å®Œæˆäº† Shared State åŠŸèƒ½çš„ä»£ç èµ°æŸ¥, å·²ç»è¦†ç›– Fan-out/Fan-in, Loop, Human-in-the-Loop ä¸‰ç§åœºæ™¯ã€‚\\n\\nä¸‹å‘¨è®¡åˆ’: 1) é›†æˆå¤šæ¨¡å‹æŠ•ç¥¨; 2) å¢åŠ å¼‚å¸¸å›æ»š; 3) è½åœ°ç›‘æ§æŒ‡æ ‡ã€‚"
    };
    public static string GetDocument(string name)
        \=> Documents.TryGetValue(name, out var content)
            ? content
            : throw new ArgumentException($"æœªæ‰¾åˆ°æ–‡æ¡£: {name}");
}

æ–‡ä»¶è¯»å–Executor
------------

MAFä¸­å®šä¹‰äº†ä¸€ä¸ªExecutorçš„åŸºç±»ï¼Œæ‰€æœ‰è‡ªå®šä¹‰Exectuoréƒ½éœ€è¦ç»§æ‰¿äºå®ƒã€‚

internal sealed class FileReadExecutor() : Executor<string, string\>("FileReadExecutor")
{
    public override async ValueTask<string\> HandleAsync(string message, IWorkflowContext context, CancellationToken cancellationToken = default)
    {
        var content = SharedStateSampleData.GetDocument(message);
        var fileId = Guid.NewGuid().ToString("N");
        await context.QueueStateUpdateAsync(fileId, content, 
            FileContentStateConstants.ScopeName, cancellationToken);
        Console.WriteLine($"ğŸ“¦ FileReadExecutor å·²æˆåŠŸå°† {message} å†™å…¥ Scope:{FileContentStateConstants.ScopeName}");
        return fileId;
    }
}

åœ¨è¿™ä¸ªExecutorä¸­ï¼Œæ¥æ”¶äº†ç”¨æˆ·çš„è¾“å…¥æ–‡ä»¶åï¼Œç„¶åæ¨¡æ‹Ÿä»Mockæ–‡æ¡£å†…å®¹ä¸­è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶å°†æ–‡ä»¶ID å’Œ æ–‡ä»¶å†…å®¹ é€šè¿‡ QueueStateUpdateAsync æ–¹æ³•ä¼ å…¥å…±äº«çŠ¶æ€å­˜å‚¨åŒºä¸­ï¼Œä»¥ä¾¿åç»­èŠ‚ç‚¹åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥ä»å…±äº«çŠ¶æ€ä¸­è¯»å–ä¼ é€’çš„å†…å®¹ã€‚

æœ€åï¼Œå°†æ–‡ä»¶IDç›´æ¥ä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚

æ–‡å­—ç»Ÿè®¡ å’Œ æ®µè½ç»Ÿè®¡Executor
-------------------

è¿™é‡Œæˆ‘ä»¬å¼„äº†ä¸¤ä¸ªç”¨äºç»Ÿè®¡æ–‡ä»¶å†…å®¹çš„Executorï¼Œæ¼”ç¤ºä¸€ä¸‹å¦‚ä½•é€šè¿‡ ReadStateAsync æ–¹æ³•è¯»å–å…±äº«çŠ¶æ€å­˜å‚¨åŒºä¸­çš„å†…å®¹ã€‚  
**ï¼ˆ1ï¼‰æ–‡å­—ç»Ÿè®¡**

internal sealed class WordCountingExecutor() : Executor<string, FileStats>("WordCountingExecutor")
{
    public override async ValueTask<FileStats> HandleAsync(string fileId, IWorkflowContext context, CancellationToken cancellationToken = default)
    {
        string? content = await context.ReadStateAsync<string\>(fileId, FileContentStateConstants.ScopeName, cancellationToken);
        if (content is null)
        {
            throw new InvalidOperationException($"æ— æ³•åœ¨ Scope:{FileContentStateConstants.ScopeName} ä¸­æ‰¾åˆ° fileId={fileId}");
        }
        int wordCount = content.Split(\[' ', '\\n', '\\r'\], StringSplitOptions.RemoveEmptyEntries).Length;
        return new FileStats { WordCount = wordCount };
    }
}

**ï¼ˆ2ï¼‰æ®µè½ç»Ÿè®¡**

internal sealed class ParagraphCountingExecutor() : Executor<string, FileStats>("ParagraphCountingExecutor")
{
    public override async ValueTask<FileStats> HandleAsync(string fileId, IWorkflowContext context, CancellationToken cancellationToken = default)
    {
        string? content = await context.ReadStateAsync<string\>(fileId, FileContentStateConstants.ScopeName, cancellationToken);
        if (content is null)
        {
            throw new InvalidOperationException($"æ— æ³•åœ¨ Scope:{FileContentStateConstants.ScopeName} ä¸­æ‰¾åˆ° fileId={fileId}");
        }

        int paragraphCount = content.Split(\['\\n', '\\r'\], StringSplitOptions.RemoveEmptyEntries).Length;
        return new FileStats { ParagraphCount = paragraphCount };
    }
}

èšåˆè¾“å‡ºExecutor
------------

åœ¨å·¥ä½œæµæœ€åï¼Œæˆ‘ä»¬å®šä¹‰ç»™ä¸€ä¸ªèšåˆè¾“å‡ºçš„èŠ‚ç‚¹æ¥æ±‡æ€»å’Œè¾“å‡ºç”¨æˆ·å‹å¥½çš„ç»Ÿè®¡ç»“æœï¼Œè¿™é‡Œæˆ‘ä»¬é¦–å…ˆè·å–åˆ°ç»“æ„åŒ–çš„ç»Ÿè®¡ç»“æœï¼Œç„¶åé€šè¿‡LLMè®©å…¶æ ¹æ®ç»“æœè¾“å‡ºæœ€ç»ˆçš„åé¦ˆä¿¡æ¯ï¼š

internal sealed class AggregationExecutor : Executor<FileStats>
{
    private readonly AIAgent \_aggregationAgent;
    private readonly AgentThread \_thread;
    private readonly List<FileStats> \_buffer = \[\];
    public AggregationExecutor(IChatClient chatClient) : base("AggregationExecutor")
    {
        // åˆ›å»º Agent å’Œå¯¹è¯çº¿ç¨‹
        this.\_aggregationAgent = chatClient.CreateAIAgent(
            "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ–‡æ¡£ç»Ÿè®¡ç»“æœè¾“å‡ºå¤§å¸ˆï¼Œä½ å¯ä»¥å°†æ”¶åˆ°çš„JSONæ ¼å¼ç»Ÿè®¡ç»“æœï¼ˆå¦‚æ€»è¯æ•°ã€æ€»æ®µè½æ•° ä»¥åŠ ç»Ÿè®¡æ—¶é—´ç­‰ï¼‰è¿›è¡Œå‹å¥½çš„ä¿¡æ¯è¾“å‡ºç»™ç”¨æˆ·ã€‚",
            "output\_agent",
            "Output user friendly message based on input document stats result"); ;
        this.\_thread = this.\_aggregationAgent.GetNewThread();
    }
    public override async ValueTask HandleAsync(FileStats message, IWorkflowContext context, CancellationToken cancellationToken = default)
    {
        this.\_buffer.Add(message);
        if (this.\_buffer.Count < 2)
        {
            return;
        }
        int totalWords = this.\_buffer.Sum(x => x.WordCount);
        int totalParagraphs = this.\_buffer.Sum(x => x.ParagraphCount);
        var output = new
        {
            æ€»è¯æ•° \= totalWords,
            æ€»æ®µè½æ•° \= totalParagraphs,
            ç»Ÿè®¡æ—¶é—´ \= DateTimeOffset.UtcNow
        };
        var response = await this.\_aggregationAgent.RunAsync(JsonSerializer.Serialize(output), this.\_thread, cancellationToken: cancellationToken);
        await context.YieldOutputAsync(response.Text, cancellationToken);
    }
}

**æ„å»ºå·¥ä½œæµ**
---------

ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸€ä¸ªWorkflowï¼Œç°åœ¨Let's do it!

**Step1:** è·å–ChatClient

var chatClient = new OpenAIClient(
        new ApiKeyCredential(openAIProvider.ApiKey),
        new OpenAIClientOptions { Endpoint = new Uri(openAIProvider.Endpoint) })
    .GetChatClient(openAIProvider.ModelId)
    .AsIChatClient();

**Step2:** å®ä¾‹åŒ–è‡ªå®šä¹‰Agent & Executors

var fileRead = new FileReadExecutor();
var wordCounting = new WordCountingExecutor();
var paragraphCounting = new ParagraphCountingExecutor();
var aggregate = new AggregationExecutor(chatClient);

**Step3:** åˆ›å»ºFan-out/Fan-inå·¥ä½œæµ

var sharedStateWorkflow = new WorkflowBuilder(fileRead)
    .AddFanOutEdge(fileRead, \[wordCounting, paragraphCounting\])
    .AddFanInEdge(\[wordCounting, paragraphCounting\], aggregate)
    .WithOutputFrom(aggregate)
    .Build();

Console.OutputEncoding \= Encoding.UTF8;
Console.WriteLine("âœ… Shared State Workflow æ„å»ºå®Œæˆ");

**Step4****:** æµ‹è¯•å·¥ä½œæµ

var documentKey = "ProductBrief";
Console.WriteLine("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
Console.WriteLine($"ğŸ“‚ æ¼”ç¤ºæ–‡æ¡£: {documentKey}");
Console.WriteLine("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
await using (var run = await InProcessExecution.StreamAsync(sharedStateWorkflow, documentKey))
{
    await foreach (WorkflowEvent evt in run.WatchStreamAsync())
    {
        switch (evt)
        {
            case WorkflowStartedEvent started:
                Console.WriteLine($"ğŸš€ Workflow Started");
                break;
            case ExecutorCompletedEvent executorCompleted:
                Console.WriteLine($"âœ… {executorCompleted.ExecutorId} å®Œæˆ");
                break;
            case WorkflowOutputEvent outputEvent:
                Console.WriteLine("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
                Console.WriteLine("ğŸ‰ å·¥ä½œæµæ‰§è¡Œå®Œæˆ");
                Console.WriteLine("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\\n");
                Console.WriteLine($"{outputEvent.Data}");
                break;
            case WorkflowErrorEvent errorEvent:
                Console.WriteLine("âœ¨ æ”¶åˆ° Workflow Error Eventï¼š");
                Console.WriteLine($"{errorEvent.Data}");
                break;
            default:
                break;
        }
    }
    await run.DisposeAsync();
}

æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image](https://img2024.cnblogs.com/blog/381412/202512/381412-20251217190544706-255281045.png)

å¯ä»¥çœ‹è§ï¼Œç»è¿‡å¤šä¸ªèŠ‚ç‚¹çš„ç»Ÿè®¡å’Œèšåˆï¼Œç”±LLMæ€»ç»“è¾“å‡ºäº†ç”¨æˆ·å‹å¥½çš„ç»Ÿè®¡ç»“æœå†…å®¹ã€‚

**å°ç»“**
======

æœ¬æ–‡ä»‹ç»äº†å·¥ä½œæµçš„çŠ¶æ€å…±äº«çš„åº”ç”¨åœºæ™¯ å’Œ WorkflowContextç›¸å…³çš„APIï¼Œæœ€åç»™å‡ºäº†ä¸€ä¸ªæ–‡æ¡£å†…å®¹ç»Ÿè®¡çš„Fan-out/Fan-Inå·¥ä½œæµæ¡ˆä¾‹ä¾›å‚è€ƒã€‚

ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†ç»§ç»­å­¦ä¹ MAFä¸­å·¥ä½œæµçš„ä¸Šä¸‹æ–‡ç›¸å…³å†…å®¹ã€‚

å‚è€ƒèµ„æ–™
====

åœ£æ°ï¼Œã€Š[.NET + AI æ™ºèƒ½ä½“å¼€å‘è¿›é˜¶](https://www.cnblogs.com/sheng-jie/p/19200934)ã€‹ï¼ˆæ¨èæŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼‰

Microsoft Learnï¼Œã€Š[Agent Framework Tutorials](https://learn.microsoft.com/en-us/agent-framework/overview/agent-framework-overview?wt.mc_id=MVP_397012)ã€‹

![](https://images.cnblogs.com/cnblogs_com/edisonchou/1647700/o_200902144330EdisonTalk-Footer.jpg)

ä½œè€…ï¼šçˆ±è¿ªç”Ÿ

å‡ºå¤„ï¼š[https://edisontalk.cnblogs.com](https://edisontalk.cnblogs.com "from")

æœ¬æ–‡ç‰ˆæƒå½’ä½œè€…å’Œåšå®¢å›­å…±æœ‰ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„å¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼Œä¸”åœ¨æ–‡ç« é¡µé¢æ˜æ˜¾ä½ç½®ç»™å‡ºåŸæ–‡é“¾æ¥ã€‚

[![](http://service.t.sina.com.cn/widget/qmd/2068032061/d643d182/10.png)](https://weibo.com/u/2068032061?s=6uyXnP)