---
layout: post
title: 'autohue.jsï¼šè®©ä½ çš„å›¾ç‰‡å’ŒèƒŒæ™¯èä¸ºä¸€ä½“ï¼Œç»äº†ï¼'
date: "2025-02-22T00:34:50Z"
---
autohue.jsï¼šè®©ä½ çš„å›¾ç‰‡å’ŒèƒŒæ™¯èä¸ºä¸€ä½“ï¼Œç»äº†ï¼
===========================

éœ€æ±‚
--

å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæ‹¿ä¸€ä¸ªç½‘ç«™ä¸¾ä¾‹

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d77846da42f4496b3fce343a1100180~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=SeFDJP9P27MxA%2Fk5bQty8GGsMwo%3D)

è¿™é‡Œæœ‰ä¸€ä¸ªå¸¸è§çš„ç½‘ç«™ banner å›¾å®¹å™¨ï¼Œå¤§å°ä¸ºä¸º 1910\*560 ï¼Œçœ‹èµ·æ¥èƒŒæ™¯å›¾å®Œç¾çš„å……æ»¡äº†å®½åº¦ï¼Œä½†æ˜¯å›¾ç‰‡åŸå§‹å¤§å°æ—¶ï¼Œå´æ˜¯ï¼š

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a7921b1792c470287a9d227155ca679~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=dTGo5%2FnTfZhgj8lp6mGIsN6Kf6M%3D)

å®ƒçš„å®½åº¦åªæœ‰ 1440 ï¼Œä¸” background-size è®¾ç½®çš„æ˜¯ contain ï¼Œå³ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œé‚£ä¹ˆå¯ä»¥æ–­å®šå®ƒä¸¤è¾¹çš„è“è‰²æ˜¯ä¾é èƒŒæ™¯è‰²å¡«å……çš„ã€‚

**é‚£ä¹ˆé—®é¢˜æ¥äº†**ï¼Œè¿™æ˜¯ä¸€ä¸ª è½®æ’­ banner ï¼Œå¦‚æœå¸Œæœ›æ·»åŠ ä¸€å¼ ä¸æ˜¯è“è‰²çš„å›¾ç‰‡å‘¢ï¼Ÿéš¾é“è¦ç»™æ¯å¼ å›¾ç‰‡æå‰æ ‡æ³¨å¥½èƒŒæ™¯é¢œè‰²å—ï¼Ÿè¿™æ˜¾ç„¶æ˜¯éå¸¸æ­»æ¿çš„åšæ³•ã€‚

æ‰€ä»¥éœ€è¦ä»å›¾ç‰‡ä¸­æå–åˆ°å›¾ç‰‡çš„ä¸»é¢˜è‰²ï¼Œå½“ç„¶è¿™å¯¹äº js æ¥è¯´ï¼Œä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œå¸‚é¢ä¸Šå·²ç»æœ‰ä¼—å¤šçš„å¼€æºåº“ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚

æ¢ç´¢
--

é¦–å…ˆåœ¨ç½‘ç»œä¸Šæ‰¾åˆ°äº†ä»¥ä¸‹å‡ ä¸ªåº“ï¼š

*   [color-thief](https://github.com/lokesh/color-thief "https://github.com/lokesh/color-thief") è¿™æ˜¯ä¸€æ¬¾åŸºäº JavaScript å’Œ Canvas çš„å·¥å…·ï¼Œèƒ½å¤Ÿä»å›¾åƒä¸­æå–ä¸»è¦é¢œè‰²æˆ–ä»£è¡¨æ€§çš„è°ƒè‰²æ¿
*   [vibrant.js](https://github.com/jariz/vibrant.js "https://github.com/jariz/vibrant.js") è¯¥æ’ä»¶æ˜¯ Android æ”¯æŒåº“ä¸­ Palette ç±»çš„ JavaScript ç‰ˆæœ¬ï¼Œå¯ä»¥ä»å›¾åƒä¸­æå–çªå‡ºçš„é¢œè‰²
*   [rgbaster.js](https://github.com/briangonzalez/rgbaster.js "https://github.com/briangonzalez/rgbaster.js") è¿™æ˜¯ä¸€æ®µå°å‹è„šæœ¬ï¼Œå¯ä»¥è·å–å›¾ç‰‡çš„ä¸»è‰²ã€æ¬¡è‰²ç­‰ä¿¡æ¯ï¼Œæ–¹ä¾¿å®ç°ä¸€äº›ç²¾å½©çš„ Web äº¤äº’æ•ˆæœ

æˆ‘å–æœ€è½»é‡åŒ–çš„ rgbaster.js ï¼ˆæ­¤åº“éå¸¸æç¬‘ï¼Œç”¨ TS ç¼–å†™ï¼Œnpm åŒ…å´æ²¡æœ‰æŒ‡å®š types ï¼‰ æ¥æµ‹è¯•åå‘ç°ï¼Œå®ƒç»™æˆ‘åœ¨ä¸€ä¸ªæ¸å˜è‰²å›¾ç‰‡ä¸­ï¼Œè¿”å›äº†ä¸ƒä¸‡å¤šä¸ªè‰²å€¼ï¼Œå½“ç„¶ï¼Œå®ƒå‡†ç¡®çš„æå–å‡ºäº†é¢ç§¯æœ€å¤§çš„è‰²å€¼ï¼Œä½†æ˜¯è¿™ä¸ªè‰²å€¼ä¸æ˜¯å›¾ç‰‡è¾¹ç¼˜çš„é¢œè‰²ï¼Œå¯¼è‡´è®¾ç½®ä¸ºèƒŒæ™¯è‰²åï¼Œå¹¶ä¸èƒ½å®Œç¾çš„èåˆã€‚

å¦å¤–çš„æ’ä»¶å„ä½å¯ä»¥å‚è€ƒè¿™å‡ ç¯‡æ–‡ç« ï¼š

*   æ–‡ç«  1ï¼š[blog.csdn.net/weixin\_4299â€¦](https://blog.csdn.net/weixin_42998707/article/details/108011092 "https://blog.csdn.net/weixin_42998707/article/details/108011092")
*   æ–‡ç«  2ï¼š[juejin.cn/post/684490â€¦](https://juejin.cn/post/6844903511956815885 "https://juejin.cn/post/6844903511956815885")
*   æ–‡ç«  3ï¼š[www.zhangxinxu.com/wordpress/2â€¦](https://www.zhangxinxu.com/wordpress/2014/08/image-dominant-color-get-rgbaster-js "https://www.zhangxinxu.com/wordpress/2014/08/image-dominant-color-get-rgbaster-js")

å¯ä»¥å‘ç°ï¼Œè¿™äº›æ’ä»¶ä¸»è¦åŠŸèƒ½å°±æ˜¯å–è‰²ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œå¯¹äºä¸€ä¸ªå›¾ç‰‡é¢œè‰²åˆ†æå·¥å…·æ¥è¯´ï¼Œä»–ä»¬åšçš„å¾ˆåˆ°ä½ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°åœºæ™¯ä¸­ï¼Œä»–ä»¬å¾€å¾€æ˜¯ä¸é€‚ç”¨çš„ã€‚

åœ¨æ–‡ç«  2 ä¸­ï¼Œä½œè€…å¯¹æ¯”äº†ä¸‰æ¬¾æ’ä»¶å¯¹äºå›¾ç‰‡å®¹å™¨èƒŒæ™¯è‰²çš„åº”ç”¨ï¼Œçœ‹èµ·æ¥è¿˜æ˜¯ rgbaster æ•ˆæœå¥½ä¸€ç‚¹ï¼Œä½†æ˜¯æˆ‘ä»¬åˆšåˆšä¹Ÿæ‹¿ä»–è¯•äº†ï¼Œå®ƒå¹¶ä¸èƒ½é€‚ç”¨äºé¢œè‰²å¤æ‚åº¦é«˜çš„ã€æ¸å˜è‰²çš„å›¾ç‰‡ã€‚

æ€è€ƒ
--

æ—¢ç„¶åˆåˆåˆæ²¡æœ‰äººåšè¿™ä»¶äº‹ï¼Œæ­£æ‰€è°“æˆ‘ä¸å…¥åœ°ç‹±è°å…¥åœ°ç‹±ï¼Œæˆ‘æ‰‹å†™ä¸€ä¸ª

æ•´ç†ä¸€ä¸‹éœ€æ±‚ï¼Œæˆ‘å‘ç°æˆ‘å¸Œæœ›å¾—åˆ°çš„æ˜¯ï¼š

1.  å›¾ç‰‡çš„ä¸»é¢˜è‰²ï¼ˆé¢ç§¯å æ¯”æœ€å¤§ï¼‰
2.  æ¬¡ä¸»é¢˜è‰²ï¼ˆé¢ç§¯å æ¯”ç¬¬äºŒå¤§ï¼‰
3.  åˆé€‚çš„èƒŒæ™¯è‰²ï¼ˆå³å›¾ç‰‡è¾¹ç¼˜é¢œè‰²ï¼Œæ¸å˜æ—¶ï¼Œéœ€è¦è¾¹ç¼˜é¢œè‰²æ¥è®¾ç½®èƒŒæ™¯è‰²ï¼‰

è¿™æ ·ä¸€æ¥ï¼Œå°±å·²ç»å¯ä»¥è¦†ç›–å¤§éƒ¨åˆ†éœ€æ±‚äº†ï¼Œ1+2 å¯ä»¥ç”Ÿæˆç›¸å…³çš„ ä¸»é¢˜ TAG ã€ä¸»é¢˜èƒŒæ™¯ï¼Œ3 å¯ä»¥ä½¿ç•™ç™½çš„å›¾ç‰‡å®¹å™¨å®Œç¾èåˆã€‚

å¼€æ
--

**âš âš  æœ¬å°èŠ‚å†…å®¹éå¸¸ç¡¬æ ¸ï¼Œå¦‚æœä¸æƒ³æ·±ç©¶åŸç†å¯ä»¥ç›´æ¥[è·³è¿‡](#heading-6 "#heading-6")ï¼Œæ–‡ç« æœ«å°¾æœ‰ç”¨æ³•å’Œæ•ˆæœå›¾ âš âš **

### æ€è·¯

é¦–å…ˆéœ€è¦é¿å…ä¸Šé¢æåˆ°çš„æ’ä»¶çš„ç¼ºç‚¹ï¼Œå³å¯¹æ¸å˜å›¾ç‰‡è¦åšå¥½å¤„ç†ï¼Œä¸èƒ½å–å‡ºæˆåƒä¸Šä¸‡çš„é¢œè‰²ï¼Œä½“éªŒå¤ªå·®ä¸”å®ç”¨æ€§ä¸å¼ºï¼Œå¯¹äºæ¸å˜è‰²è¿˜æœ‰ä¸€ç‚¹ï¼Œå³åœ¨æ¸å˜è·¯å¾„ä¸Šï¼Œæ¯ä¸€ç‚¹çš„é¢œè‰²éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥éœ€è¦å°†ä»–ä»¬ä»¥ä¸€ä¸ªé˜ˆå€¼åˆ†ç±»ï¼ŒæŒ‘é€‰å‡ºä¸€ä¼—ç›¸è¿‘è‰²ï¼Œå¹¶è®¡ç®—å‡ºä¸€ä¸ªå¹³å‡è‰²ï¼Œè¿™æ ·å°±ä¸ä¼šå¯¼è‡´ä¸»é¢˜è‰²å¤ªç²¾å‡†è¿›è€Œæ²¡æœ‰ä»£è¡¨æ€§ã€‚

å¯¹äºèƒŒæ™¯è‰²ï¼Œéœ€è¦æŒ‰æƒ…å†µåˆ†æï¼Œå¦‚æœåªæ˜¯å¸Œæœ›åšä¸€ä¸ªåè°ƒçš„é¡µé¢ï¼Œé‚£ä¹ˆå¤§å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸»é¢˜è‰²åšæ¸å˜è¿‡æ¸¡æˆ–è’™å±‚ï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼äºè¿™ç§æ•ˆæœ

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13ad6e69b69b4e208bd0dd20c5089ad4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=aOBwn9e8CqsU5wyFVa3UOg735G0%3D)

ä½†æ˜¯å¦‚æœå¸Œæœ›èƒŒæ™¯ä¸å›¾ç‰‡å®Œç¾è¡”æ¥ï¼Œè®©äººçœ‹ä¸å‡ºå›¾ç‰‡è¾¹ç•Œçš„æ„Ÿè§‰ï¼Œå°±éœ€è¦å•ç‹¬å¯¹è¾¹ç¼˜é¢œè‰²å–è‰²äº†ã€‚

æœ€åä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå›¾ç‰‡åˆ†è¾¨ç‡è¿‡å¤§ï¼Œåœ¨éå†åƒç´ ç‚¹æ—¶ä¼šéå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œæ‰€ä»¥éœ€è¦é™ä½é‡‡æ ·ç‡ï¼Œè™½ç„¶ä¼šå¯¼è‡´ä¸€äº›ç²¾åº¦ä¸Šçš„ä¸¢å¤±ï¼Œä½†æ˜¯è°ƒæ•´ä¸ºä¸€ä¸ªåˆé€‚çš„å€¼ååº”è¯¥åŸºæœ¬å¯ç”¨ã€‚

å‰©ä½™çš„ç»†èŠ‚é—®é¢˜ï¼Œæˆ‘ä¼šåœ¨ä¸‹é¢çš„ä»£ç ä¸­è§£é‡Š

### ä½¿ç”¨ JaveScript ç¼–ç 

æ¥ä¸‹æ¥æˆ‘å°†è¯¦ç»†æè¿° autohue.js çš„å®ç°è¿‡ç¨‹ï¼Œç”±äºæœ¬äººå¯¹`è‰²å½©ç§‘å­¦`ä¸ç”šäº†è§£ï¼Œå¦‚æœ‰è§£é‡Šä¸åˆ°ä½æˆ–é”™è¯¯ï¼Œè¿˜è¯·æŒ‡å‡ºã€‚

é¦–å…ˆç¼–å†™ä¸€ä¸ªå…¥å£ä¸»å‡½æ•°ï¼Œæˆ‘ç›®å‰è€ƒè™‘åˆ°çš„å‚æ•°åº”è¯¥æœ‰ï¼š

    export default async function colorPicker(imageSource: HTMLImageElement | string, options?: autoColorPickerOptions)
    type thresholdObj = { primary?: number; left?: number; right?: number; top?: number; bottom?: number }
    interface autoColorPickerOptions {
    /**
    * - é™é‡‡æ ·åçš„æœ€å¤§å°ºå¯¸ï¼ˆé»˜è®¤ 100px ï¼‰
    * - é™é‡‡æ ·åçš„å›¾ç‰‡å°ºå¯¸ä¸ä¼šè¶…è¿‡è¯¥å€¼ï¼Œå¯æ ¹æ®éœ€æ±‚è°ƒæ•´
    * - é™é‡‡æ ·åçš„å›¾ç‰‡å°ºå¯¸è¶Šå°ï¼Œå¤„ç†é€Ÿåº¦è¶Šå¿«ï¼Œä½†å¯èƒ½ä¼šå½±å“é¢œè‰²æå–çš„å‡†ç¡®æ€§
    **/
    maxSize?: number
    /**
    * - Lab è·ç¦»é˜ˆå€¼ï¼ˆé»˜è®¤ 10 ï¼‰
    * - ä½äºæ­¤å€¼çš„é¢œè‰²å½’ä¸ºåŒä¸€ç°‡ï¼Œå»ºè®® 8~12
    * - å€¼è¶Šå¤§ï¼Œé¢œè‰²è¶Šå®¹æ˜“è¢«åˆå¹¶ï¼Œæå–çš„é¢œè‰²è¶Šå°‘
    * - å€¼è¶Šå°ï¼Œé¢œè‰²è¶Šå®¹æ˜“è¢«åŒºåˆ†ï¼Œæå–çš„é¢œè‰²è¶Šå¤š
    **/
    threshold?: number | thresholdObj
    }
    

> æ¦‚å¿µè§£é‡Š Lab ï¼Œå…¨ç§°ï¼š`CIE L*a*b` ï¼Œ`CIE L*a*b*` æ˜¯`CIE XYZ`è‰²å½©æ¨¡å¼çš„æ”¹è¿›å‹ã€‚å®ƒçš„â€œLâ€ï¼ˆæ˜äº®åº¦ï¼‰ï¼Œâ€œaâ€ï¼ˆç»¿è‰²åˆ°çº¢è‰²ï¼‰å’Œâ€œbâ€ï¼ˆè“è‰²åˆ°é»„è‰²ï¼‰ä»£è¡¨è®¸å¤šçš„å€¼ã€‚ä¸ XYZ æ¯”è¾ƒï¼Œ`CIE L*a*b*`çš„è‰²å½©æ›´é€‚åˆäºäººçœ¼æ„Ÿè§‰çš„è‰²å½©ï¼Œæ­£æ‰€è°“`æ„ŸçŸ¥å‡åŒ€`

ç„¶åéœ€è¦å®ç°ä¸€ä¸ªæ­£å¸¸çš„ loadImg æ–¹æ³•ï¼Œä½¿ç”¨ canvas å¼‚æ­¥åŠ è½½å›¾ç‰‡

    function loadImage(imageSource: HTMLImageElement | string): Promise<HTMLImageElement> {
    return new Promise((resolve, reject) => {
    let img: HTMLImageElement
    if (typeof imageSource === 'string') {
    img = new Image()
    img.crossOrigin = 'Anonymous'
    img.src = imageSource
    } else {
    img = imageSource
    }
    if (img.complete) {
    resolve(img)
    } else {
    img.onload = () => resolve(img)
    img.onerror = (err) => reject(err)
    }
    })
    }
    

è¿™æ ·æˆ‘ä»¬å°±è·å–åˆ°äº†å›¾ç‰‡å¯¹è±¡ã€‚

ç„¶åä¸ºäº†å›¾ç‰‡è¿‡å¤§ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œé™é‡‡æ ·å¤„ç†

    // åˆ©ç”¨ Canvas å¯¹å›¾ç‰‡è¿›è¡Œé™é‡‡æ ·ï¼Œè¿”å› ImageData å¯¹è±¡
    function getImageDataFromImage(img: HTMLImageElement, maxSize: number = 100): ImageData {
    const canvas = document.createElement('canvas')
    let width = img.naturalWidth
    let height = img.naturalHeight
    if (width > maxSize || height > maxSize) {
    const scale = Math.min(maxSize / width, maxSize / height)
    width = Math.floor(width * scale)
    height = Math.floor(height * scale)
    }
    canvas.width = width
    canvas.height = height
    const ctx = canvas.getContext('2d')
    if (!ctx) {
    throw new Error('æ— æ³•è·å– Canvas ä¸Šä¸‹æ–‡')
    }
    ctx.drawImage(img, 0, 0, width, height)
    return ctx.getImageData(0, 0, width, height)
    }
    
    

> æ¦‚å¿µè§£é‡Šï¼Œé™é‡‡æ ·ï¼šé™é‡‡æ ·ï¼ˆ Downsampling ï¼‰æ˜¯æŒ‡åœ¨å›¾åƒå¤„ç†ä¸­ï¼Œé€šè¿‡å‡å°‘æ•°æ®çš„é‡‡æ ·ç‡æˆ–åˆ†è¾¨ç‡æ¥é™ä½æ•°æ®é‡çš„è¿‡ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨ä¿æŒåŸå§‹ä¿¡æ¯å¤§è‡´ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œå‡å°‘æ•°æ®çš„å¤æ‚åº¦å’Œå­˜å‚¨éœ€æ±‚ã€‚è¿™é‡Œç®€å•ç†è§£ä¸ºå°†å›¾ç‰‡å¼ºåˆ¶å‹ç¼©ä¸º 100\*100 ä»¥å†…ï¼Œä¹Ÿæ˜¯ canvas å‹ç¼©å›¾ç‰‡çš„å¸¸è§åšæ³•ã€‚

å¾—åˆ°å›¾åƒä¿¡æ¯åï¼Œå°±å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œåƒç´ éå†å¤„ç†äº†ï¼Œæ­£å¦‚æ€è€ƒä¸­æåˆ°çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç›¸è¿‘è‰²æå–å¹¶å–å¹³å‡è‰²ï¼Œå¹¶æœ€ç»ˆè·å–åˆ°ä¸»é¢˜è‰²ã€æ¬¡ä¸»é¢˜è‰²ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»€ä¹ˆæ‰ç®—ç›¸è¿‘è‰²ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œåœ¨ å¸¸è§„çš„ rgb ä¸­ç›´æ¥è®¡ç®—æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºå®ƒæ¶‰åŠåˆ°ä¸€ä¸ªæ„ŸçŸ¥å‡åŒ€çš„é—®é¢˜

> æ¦‚å¿µè§£é‡Šï¼Œæ„ŸçŸ¥å‡åŒ€ï¼šXYZ ç³»ç»Ÿå’Œåœ¨å®ƒçš„è‰²åº¦å›¾ä¸Šè¡¨ç¤ºçš„ä¸¤ç§é¢œè‰²ä¹‹é—´çš„è·ç¦»ä¸é¢œè‰²è§‚å¯Ÿè€…æ„ŸçŸ¥çš„å˜åŒ–ä¸ä¸€è‡´ï¼Œè¿™ä¸ªé—®é¢˜å«åšæ„ŸçŸ¥å‡åŒ€æ€§(perceptual uniformity)é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯é¢œè‰²ä¹‹é—´æ•°å­—ä¸Šçš„å·®åˆ«ä¸è§†è§‰æ„ŸçŸ¥ä¸ä¸€è‡´ã€‚ç”±äºæˆ‘ä»¬éœ€è¦åœ¨é¢œè‰²ç°‡ä¸­è®¡ç®—å‡ºå¹³å‡è‰²ï¼Œé‚£ä¹ˆå¯¹äºäººçœ¼æ¥è¯´å“ªäº›é¢œè‰²æ˜¯ç›¸è¿‘çš„ï¼Ÿæ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ sRGB è½¬åŒ–ä¸º Lab è‰²å½©ç©ºé—´ï¼ˆæ„ŸçŸ¥å‡åŒ€çš„ï¼‰ï¼Œå†è®¡ç®—å…¶æ¬§æ°è·ç¦»ï¼Œåœ¨æŸä¸€é˜ˆå€¼å†…çš„é¢œè‰²ï¼Œå³å¯è®¤ä¸ºæ˜¯ç›¸è¿‘è‰²ã€‚

æ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å°† rgb è½¬åŒ–ä¸º Lab è‰²å½©ç©ºé—´

    // å°† sRGB è½¬æ¢ä¸º Lab è‰²å½©ç©ºé—´
    function rgbToLab(r: number, g: number, b: number): [number, number, number] {
    let R = r / 255,
    G = g / 255,
    B = b / 255
    R = R > 0.04045 ? Math.pow((R + 0.055) / 1.055, 2.4) : R / 12.92
    G = G > 0.04045 ? Math.pow((G + 0.055) / 1.055, 2.4) : G / 12.92
    B = B > 0.04045 ? Math.pow((B + 0.055) / 1.055, 2.4) : B / 12.92
    
    let X = R * 0.4124 + G * 0.3576 + B * 0.1805
    let Y = R * 0.2126 + G * 0.7152 + B * 0.0722
    let Z = R * 0.0193 + G * 0.1192 + B * 0.9505
    
    X = X / 0.95047
    Y = Y / 1.0
    Z = Z / 1.08883
    
    const f = (t: number) => (t > 0.008856 ? Math.pow(t, 1 / 3) : 7.787 * t + 16 / 116)
    const fx = f(X)
    const fy = f(Y)
    const fz = f(Z)
    const L = 116 * fy - 16
    const a = 500 * (fx - fy)
    const bVal = 200 * (fy - fz)
    return [L, a, bVal]
    }
    

è¿™ä¸ªå‡½æ•°ä½¿ç”¨äº†çœ‹èµ·æ¥å¾ˆå¤æ‚çš„ç®—æ³•ï¼Œä¸å¿…æ·±ç©¶ï¼Œè¿™æ˜¯å®ƒçš„å¤§æ¦‚è§£é‡Šï¼š

1.  è·å–åˆ° rgb å‚æ•°
    
2.  è½¬åŒ–ä¸ºçº¿æ€§ rgb ï¼ˆç§»é™¤ gamma çŸ«æ­£ï¼‰ï¼Œå¸¸é‡ **0.04045** æ˜¯ sRGB ï¼ˆæ ‡å‡† TGB ï¼‰é¢œè‰²ç©ºé—´ä¸­çš„ä¸€ä¸ªé˜ˆå€¼ï¼Œç”¨äºåŒºåˆ†éçº¿æ€§å’Œçº¿æ€§çš„ sRGB å€¼ï¼Œå…·ä½“æ¥è¯´ï¼Œå½“ sRGB é¢œè‰²åˆ†é‡å¤§äº 0.04045 æ—¶ï¼Œéœ€è¦é€šè¿‡ gamma æ ¡æ­£ï¼ˆå³é‡‡ç”¨ `((R + 0.055) / 1.055) ^ 2.4`ï¼‰æ¥å¾—åˆ°çº¿æ€§ RGB ï¼›å¦‚æœå°äºç­‰äº 0.04045 ï¼Œåˆ™ç›´æ¥è¿›è¡Œçº¿æ€§è½¬æ¢ï¼ˆå³ `R / 12.92`ï¼‰
    
3.  çº¿æ€§ RGB åˆ° XYZ ç©ºé—´çš„è½¬æ¢ï¼Œè½¬æ¢å…¬å¼å¦‚ä¸‹ï¼š
    

*   `X = R * 0.4124 + G * 0.3576 + B * 0.1805`
*   `Y = R * 0.2126 + G * 0.7152 + B * 0.0722`
*   `Z = R * 0.0193 + G * 0.1192 + B * 0.9505`

4.  å½’ä¸€åŒ– XYZ å€¼ï¼Œä¸ºäº†å‚è€ƒç™½ç‚¹ï¼ˆ D65 ï¼‰ï¼Œæ ‡å‡†ç™½ç‚¹çš„ XYZ å€¼æ˜¯ `(0.95047, 1.0, 1.08883)`ã€‚æ‰€ä»¥éœ€è¦é€šè¿‡é™¤ä»¥è¿™äº›å¸¸æ•°æ¥è¿›è¡Œå½’ä¸€åŒ–
    
5.  XYZ åˆ° Lab çš„è½¬æ¢ï¼Œå…¬å¼å‡½æ•°ï¼šconst f = (t: number) => (t > 0.008856 ? Math.pow(t, 1 / 3) : 7.787 \* t + 16 / 116)
    
6.  è®¡ç®— L, a, b åˆ†é‡
    

**L**ï¼šäº®åº¦åˆ†é‡ï¼ˆè¡¨ç¤ºé¢œè‰²çš„æ˜æš—ç¨‹åº¦ï¼‰

*   `L = 116 * fy - 16`

**a**ï¼šç»¿è‰²åˆ°çº¢è‰²çš„è‰²å·®åˆ†é‡

*   `a = 500 * (fx - fy)`

**b**ï¼šè“è‰²åˆ°é»„è‰²çš„è‰²å·®åˆ†é‡

*   `b = 200 * (fy - fz)`

æ¥ä¸‹æ¥å®ç°èšç±»ç®—æ³•

    /**
    * å¯¹æ»¡è¶³æ¡ä»¶çš„åƒç´ è¿›è¡Œèšç±»
    * @param imageData å›¾ç‰‡åƒç´ æ•°æ®
    * @param condition åˆ¤æ–­åƒç´ æ˜¯å¦å±äºæŒ‡å®šåŒºåŸŸçš„æ¡ä»¶å‡½æ•°ï¼ˆå‚æ•° x, y ï¼‰
    * @param threshold Lab è·ç¦»é˜ˆå€¼ï¼Œä½äºæ­¤å€¼çš„é¢œè‰²å½’ä¸ºåŒä¸€ç°‡ï¼Œå»ºè®® 8~12
    */
    function clusterPixelsByCondition(imageData: ImageData, condition: (x: number, y: number) => boolean, threshold: number = 10): Cluster[] {
    const clusters: Cluster[] = []
    const data = imageData.data
    const width = imageData.width
    const height = imageData.height
    for (let y = 0; y < height; y++) {
    for (let x = 0; x < width; x++) {
    if (!condition(x, y)) continue
    const index = (y * width + x) * 4
    if (data[index + 3] === 0) continue // å¿½ç•¥é€æ˜åƒç´ 
    const r = data[index]
    const g = data[index + 1]
    const b = data[index + 2]
    const lab = rgbToLab(r, g, b)
    let added = false
    for (const cluster of clusters) {
    const d = labDistance(lab, cluster.averageLab)
    if (d < threshold) {
    cluster.count++
    cluster.sumRgb[0] += r
    cluster.sumRgb[1] += g
    cluster.sumRgb[2] += b
    cluster.sumLab[0] += lab[0]
    cluster.sumLab[1] += lab[1]
    cluster.sumLab[2] += lab[2]
    cluster.averageRgb = [cluster.sumRgb[0] / cluster.count, cluster.sumRgb[1] / cluster.count, cluster.sumRgb[2] / cluster.count]
    cluster.averageLab = [cluster.sumLab[0] / cluster.count, cluster.sumLab[1] / cluster.count, cluster.sumLab[2] / cluster.count]
    added = true
    break
    }
    }
    if (!added) {
    clusters.push({
    count: 1,
    sumRgb: [r, g, b],
    sumLab: [lab[0], lab[1], lab[2]],
    averageRgb: [r, g, b],
    averageLab: [lab[0], lab[1], lab[2]]
    })
    }
    }
    }
    return clusters
    }
    

å‡½æ•°å†…éƒ¨æœ‰ä¸€ä¸ª labDistance çš„è°ƒç”¨ï¼ŒlabDistance æ˜¯è®¡ç®— Lab é¢œè‰²ç©ºé—´ä¸­çš„æ¬§æ°è·ç¦»çš„

    // è®¡ç®— Lab ç©ºé—´çš„æ¬§æ°è·ç¦»
    function labDistance(lab1: [number, number, number], lab2: [number, number, number]): number {
    const dL = lab1[0] - lab2[0]
    const da = lab1[1] - lab2[1]
    const db = lab1[2] - lab2[2]
    return Math.sqrt(dL * dL + da * da + db * db)
    }
    

> æ¦‚å¿µè§£é‡Šï¼Œæ¬§æ°è·ç¦»ï¼šEuclidean Distance ï¼Œæ˜¯ä¸€ç§åœ¨å¤šç»´ç©ºé—´ä¸­æµ‹é‡ä¸¤ä¸ªç‚¹ä¹‹é—´â€œç›´çº¿â€è·ç¦»çš„æ–¹æ³•ã€‚è¿™ç§è·ç¦»çš„è®¡ç®—åŸºäºæ¬§å‡ é‡Œå¾—å‡ ä½•ä¸­ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å…¬å¼ï¼Œé€šè¿‡è®¡ç®—ä¸¤ç‚¹åœ¨å„ä¸ªç»´åº¦ä¸Šçš„å·®çš„å¹³æ–¹å’Œï¼Œç„¶åå–å¹³æ–¹æ ¹å¾—åˆ°ã€‚æ¬§æ°è·ç¦»æ˜¯æŒ‡ n ç»´ç©ºé—´ä¸­ä¸¤ä¸ªç‚¹ä¹‹é—´çš„çœŸå®è·ç¦»ï¼Œæˆ–è€…å‘é‡çš„è‡ªç„¶é•¿åº¦ï¼ˆå³è¯¥ç‚¹åˆ°åŸç‚¹çš„è·ç¦»ï¼‰ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°é‡‡ç”¨äº†ç±»ä¼¼ K-means çš„èšç±»æ–¹å¼ï¼Œå°†å°äºç”¨æˆ·ä¼ å…¥é˜ˆå€¼çš„é¢œè‰²å½’ä¸ºä¸€ç°‡ï¼Œå¹¶å–å¹³å‡è‰²(ä½¿ç”¨ Lab å€¼)ã€‚

> æ¦‚å¿µè§£é‡Šï¼Œèšç±»ç®—æ³•ï¼šClustering Algorithm æ˜¯ä¸€ç§æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå…¶ç›®çš„æ˜¯å°†æ•°æ®é›†ä¸­çš„å…ƒç´ åˆ†æˆä¸åŒçš„ç»„ï¼ˆç°‡ï¼‰ï¼Œä½¿å¾—åŒä¸€ç»„å†…çš„å…ƒç´ ç›¸ä¼¼åº¦è¾ƒé«˜ï¼Œè€Œä¸åŒç»„ä¹‹é—´çš„å…ƒç´ ç›¸ä¼¼åº¦è¾ƒä½ã€‚è¿™é‡Œæ˜¯å°†ç›¸è¿‘è‰²å½’ä¸ºä¸€ç°‡ã€‚

> æ¦‚å¿µè§£é‡Šï¼Œé¢œè‰²ç°‡ï¼šç°‡æ˜¯èšç±»ç®—æ³•ä¸­ä¸€ä¸ªå¸¸è§çš„æ¦‚å¿µï¼Œå¯ä»¥å¤§è‡´ç†è§£ä¸º "ä¸€ç±»"

å¾—åˆ°äº†é¢œè‰²ç°‡é›†åˆåï¼Œå°±å¯ä»¥æŒ‰ç…§ count å¤§å°æ¥åˆ¤æ–­å“ªä¸ªæ˜¯ä¸»é¢˜è‰²äº†

    // å¯¹å…¨å›¾æ‰€æœ‰åƒç´ è¿›è¡Œèšç±»
    let clusters = clusterPixelsByCondition(imageData, () => true, threshold.primary)
    clusters.sort((a, b) => b.count - a.count)
    const primaryCluster = clusters[0]
    const secondaryCluster = clusters.length > 1 ? clusters[1] : clusters[0]
    const primaryColor = rgbToHex(primaryCluster.averageRgb)
    const secondaryColor = rgbToHex(secondaryCluster.averageRgb)
    

ç°åœ¨æˆ‘ä»¬å·²ç»è·å–åˆ°äº†ä¸»é¢˜è‰²ã€æ¬¡ä¸»é¢˜è‰² ğŸ‰ğŸ‰ğŸ‰

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­è®¡ç®—è¾¹ç¼˜é¢œè‰²

æŒ‰ç…§åŒæ ·çš„æ–¹æ³•ï¼Œåªæ˜¯æŠŠé˜ˆå€¼è®¾å°ä¸€ç‚¹ï¼Œæˆ‘è¿™é‡Œç›´æ¥è®¾ç½®ä¸º 1 ï¼ˆ threshold.top ç­‰éƒ½æ˜¯ 1 ï¼‰

    // åˆ†åˆ«å¯¹ä¸Šã€å³ã€ä¸‹ã€å·¦è¾¹ç¼˜è¿›è¡Œèšç±»
    const topClusters = clusterPixelsByCondition(imageData, (_x, y) => y < margin, threshold.top)
    topClusters.sort((a, b) => b.count - a.count)
    const topColor = topClusters.length > 0 ? rgbToHex(topClusters[0].averageRgb) : primaryColor
    
    const bottomClusters = clusterPixelsByCondition(imageData, (_x, y) => y >= height - margin, threshold.bottom)
    bottomClusters.sort((a, b) => b.count - a.count)
    const bottomColor = bottomClusters.length > 0 ? rgbToHex(bottomClusters[0].averageRgb) : primaryColor
    
    const leftClusters = clusterPixelsByCondition(imageData, (x, _y) => x < margin, threshold.left)
    leftClusters.sort((a, b) => b.count - a.count)
    const leftColor = leftClusters.length > 0 ? rgbToHex(leftClusters[0].averageRgb) : primaryColor
    
    const rightClusters = clusterPixelsByCondition(imageData, (x, _y) => x >= width - margin, threshold.right)
    rightClusters.sort((a, b) => b.count - a.count)
    const rightColor = rightClusters.length > 0 ? rgbToHex(rightClusters[0].averageRgb) : primaryColor
    

è¿™æ ·æˆ‘ä»¬å°±è·å–åˆ°äº†ä¸Šä¸‹å·¦å³å››æ¡è¾¹çš„é¢œè‰² ğŸ‰ğŸ‰ğŸ‰

è¿™æ ·å¤§è‡´çš„å·¥ä½œå°±å®Œæˆäº†ï¼Œæœ€åæˆ‘ä»¬å°†éœ€è¦çš„å±æ€§å¯¼å‡ºç»™ç”¨æˆ·ï¼Œæˆ‘ä»¬çš„ä¸»å‡½æ•°æœ€ç»ˆé•¿è¿™æ ·ï¼š

    /**
    * ä¸»å‡½æ•°ï¼šæ ¹æ®å›¾ç‰‡è‡ªåŠ¨æå–é¢œè‰²
    * @param imageSource å›¾ç‰‡ URL æˆ– HTMLImageElement
    * @returns è¿”å›åŒ…å«ä¸»è¦é¢œè‰²ã€æ¬¡è¦é¢œè‰²å’ŒèƒŒæ™¯è‰²å¯¹è±¡ï¼ˆä¸Šã€å³ã€ä¸‹ã€å·¦ï¼‰çš„ç»“æœ
    */
    export default async function colorPicker(imageSource: HTMLImageElement | string, options?: autoColorPickerOptions): Promise<AutoHueResult> {
    const { maxSize, threshold } = __handleAutoHueOptions(options)
    const img = await loadImage(imageSource)
    // é™é‡‡æ ·ï¼ˆæœ€å¤§å°ºå¯¸ 100px ï¼Œå¯æ ¹æ®éœ€æ±‚è°ƒæ•´ï¼‰
    const imageData = getImageDataFromImage(img, maxSize)
    
    // å¯¹å…¨å›¾æ‰€æœ‰åƒç´ è¿›è¡Œèšç±»
    let clusters = clusterPixelsByCondition(imageData, () => true, threshold.primary)
    clusters.sort((a, b) => b.count - a.count)
    const primaryCluster = clusters[0]
    const secondaryCluster = clusters.length > 1 ? clusters[1] : clusters[0]
    const primaryColor = rgbToHex(primaryCluster.averageRgb)
    const secondaryColor = rgbToHex(secondaryCluster.averageRgb)
    
    // å®šä¹‰è¾¹ç¼˜å®½åº¦ï¼ˆå•ä½åƒç´ ï¼‰
    const margin = 10
    const width = imageData.width
    const height = imageData.height
    
    // åˆ†åˆ«å¯¹ä¸Šã€å³ã€ä¸‹ã€å·¦è¾¹ç¼˜è¿›è¡Œèšç±»
    const topClusters = clusterPixelsByCondition(imageData, (_x, y) => y < margin, threshold.top)
    topClusters.sort((a, b) => b.count - a.count)
    const topColor = topClusters.length > 0 ? rgbToHex(topClusters[0].averageRgb) : primaryColor
    
    const bottomClusters = clusterPixelsByCondition(imageData, (_x, y) => y >= height - margin, threshold.bottom)
    bottomClusters.sort((a, b) => b.count - a.count)
    const bottomColor = bottomClusters.length > 0 ? rgbToHex(bottomClusters[0].averageRgb) : primaryColor
    
    const leftClusters = clusterPixelsByCondition(imageData, (x, _y) => x < margin, threshold.left)
    leftClusters.sort((a, b) => b.count - a.count)
    const leftColor = leftClusters.length > 0 ? rgbToHex(leftClusters[0].averageRgb) : primaryColor
    
    const rightClusters = clusterPixelsByCondition(imageData, (x, _y) => x >= width - margin, threshold.right)
    rightClusters.sort((a, b) => b.count - a.count)
    const rightColor = rightClusters.length > 0 ? rgbToHex(rightClusters[0].averageRgb) : primaryColor
    
    return {
    primaryColor,
    secondaryColor,
    backgroundColor: {
    top: topColor,
    right: rightColor,
    bottom: bottomColor,
    left: leftColor
    }
    }
    }
    
    

è¿˜è®°å¾—æœ¬å°èŠ‚ä¸€å¼€å§‹æåˆ°çš„å‚æ•°å—ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ maxSize ï¼ˆå‹ç¼©å¤§å°ï¼Œç”¨äºé™é‡‡æ ·ï¼‰ã€threshold ï¼ˆé˜ˆå€¼ï¼Œç”¨äºè®¾ç½®ç°‡å¤§å°ï¼‰

ä¸ºäº†ç”¨æˆ·å‹å¥½ï¼Œæˆ‘è¿˜ç¼–å†™äº† threshold å‚æ•°çš„å¯é€‰ç±»å‹ï¼šnumber | thresholdObj

    type thresholdObj = { primary?: number; left?: number; right?: number; top?: number; bottom?: number }
    

å¯ä»¥å•ç‹¬è®¾ç½®ä¸»é˜ˆå€¼ã€ä¸Šä¸‹å·¦å³å››è¾¹é˜ˆå€¼ï¼Œä»¥é€‚åº”æ›´ä¸ªæ€§åŒ–çš„æƒ…å†µã€‚

autohue.js è¯ç”Ÿäº†
--------------

åå­—çš„ç”±æ¥ï¼šç§‰æ‰¿ä¸€è´¯å‘½åä¹ æƒ¯ï¼Œauto å®¶æ—æˆå‘˜åˆå¤šä¸€ä¸ªï¼Œä¸é¢œè‰²æœ‰å…³çš„å•è¯æœ‰å¥½å¤šä¸ªï¼Œæˆ‘å–äº†æœ€çŸ­æœ€å¥½è®°çš„ä¸€ä¸ª hue(è‰²ç›¸)ï¼Œä¹Ÿæ¯”è¾ƒå¥‘åˆæ’ä»¶ç”¨é€”ã€‚

æ­¤æ’ä»¶å·²åœ¨ github å¼€æºï¼š**[GitHub autohue.js](https://github.com/Auto-Plugin/autohue.js "https://github.com/Auto-Plugin/autohue.js")**

npm ä¸»é¡µï¼š**[NPM autohue.js](https://www.npmjs.com/package/autohue.js "https://www.npmjs.com/package/autohue.js")**

åœ¨çº¿ä½“éªŒï¼š[autohue.js å®˜æ–¹é¦–é¡µ](https://auto-plugin.github.io/index/autohue.js/ "https://auto-plugin.github.io/index/autohue.js/")

### å®‰è£…ä¸ä½¿ç”¨

    pnpm i autohue.js
    

    import autohue from 'autohue.js'
    
    autohue(url, {
    threshold: {
    primary: 10,
    left: 1,
    bottom: 12
    },
    maxSize: 50
    })
    .then((result) => {
    // ä½¿ç”¨ console.log æ‰“å°å‡ºè‰²å—å…ƒç´  s
    console.log(`%c${result.primaryColor}`, 'color: #fff; background: ' + result.primaryColor, 'main')
    console.log(`%c${result.secondaryColor}`, 'color: #fff; background: ' + result.secondaryColor, 'sub')
    console.log(`%c${result.backgroundColor.left}`, 'color: #fff; background: ' + result.backgroundColor.left, 'bg-left')
    console.log(`%c${result.backgroundColor.right}`, 'color: #fff; background: ' + result.backgroundColor.right, 'bg-right')
    console.log(`%clinear-gradient to right`, 'color: #fff; background: linear-gradient(to right, ' + result.backgroundColor.left + ', ' + result.backgroundColor.right + ')', 'bg')
    bg.value = `linear-gradient(to right, ${result.backgroundColor.left}, ${result.backgroundColor.right})`
    })
    .catch((err) => console.error(err))
    
    

æœ€ç»ˆæ•ˆæœ
----

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f12b9b60723e4904a17b127267b2cc25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=ks155oLNvAT1jQpLw1SMeG2bKqk%3D)

å¤æ‚è¾¹ç¼˜æ•ˆæœ

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa6c3317d84749718ad30ae88bb4bda5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=B2EgDDoqazFdpB1Mqto52dzKOc0%3D)

çºµå‘æ¸å˜æ•ˆæœï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯ left å’Œ right è¾¹çš„å€¼ï¼Œå¯èƒ½ä½¿ç”¨ top å’Œ bottom æ•ˆæœæ›´ä½³ï¼‰

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe207c4dfc2a461e9f6a7dd04b0ea3a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=8J4w88RIlGwDCvoAHc74%2BAY7hQc%3D)

çº¯è‰²æ•ˆæœï¼ˆå› ä¸ºå•ç‹¬å¯¹è¾¹ç¼˜é‡‡æ ·ï¼Œæ‰€ä»¥æ— è®ºå›¾ç‰‡å†…å®¹å¤šå¤æ‚ï¼Œçº¯è‰²åŸºæœ¬çœ‹ä¸å‡ºè¾¹ç•Œï¼‰

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bddbdc43e244bb4b41e3676617b29e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=WqBxwWdA4A03id3rE4ntnFWCu3g%3D)

çªå˜è¾¹ç¼˜æ•ˆæœï¼ˆæ­¤æ—¶ç”¨ css åšæ¸å˜è’™å±‚åº”è¯¥æ•ˆæœä¼šæ›´å¥½ï¼‰

![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/596fb4fc81454766abb44912ab12c020~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636I6x5Y6E5pav:q75.awebp?rk3s=f64ab15b&x-expires=1740554069&x-signature=sb6PB5oqkEzss9LWxSeaAjWRtHo%3D)

æ¨ªå‘æ¸å˜æ•ˆæœï¼ˆä½¿ç”¨çš„æ˜¯ left å’Œ right çš„è‰²å€¼ï¼‰ï¼ŒåŸºæœ¬çœ‹ä¸å‡ºè¾¹ç•Œ

å‚è€ƒèµ„æ–™
----

*   [zhuanlan.zhihu.com/p/370371059](https://zhuanlan.zhihu.com/p/370371059 "https://zhuanlan.zhihu.com/p/370371059")
*   [baike.baidu.com/item/%E5%9Bâ€¦](https://baike.baidu.com/item/%E5%9B%BD%E9%99%85%E7%85%A7%E6%98%8E%E5%A7%94%E5%91%98%E4%BC%9A/10021151?fromtitle=CIE&fromid=8649998 "https://baike.baidu.com/item/%E5%9B%BD%E9%99%85%E7%85%A7%E6%98%8E%E5%A7%94%E5%91%98%E4%BC%9A/10021151?fromtitle=CIE&fromid=8649998")
*   [baike.baidu.com/item/%E6%A0â€¦](https://baike.baidu.com/item/%E6%A0%87%E5%87%86%E5%85%89%E6%BA%90D65/20792406 "https://baike.baidu.com/item/%E6%A0%87%E5%87%86%E5%85%89%E6%BA%90D65/20792406")
*   [zh.wikipedia.org/wiki/%E6%ACâ€¦](https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB "https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB")
*   [blog.csdn.net/weixin\_4256â€¦](https://blog.csdn.net/weixin_42560067/article/details/116182991 "https://blog.csdn.net/weixin_42560067/article/details/116182991")
*   [zh.wikipedia.org/wiki/K-%E5%â€¦](https://zh.wikipedia.org/wiki/K-%E5%B9%B3%E5%9D%87%E7%AE%97%E6%B3%95 "https://zh.wikipedia.org/wiki/K-%E5%B9%B3%E5%9D%87%E7%AE%97%E6%B3%95")
*   [blog.csdn.net/weixin\_4299â€¦](https://blog.csdn.net/weixin_42998707/article/details/108011092 "https://blog.csdn.net/weixin_42998707/article/details/108011092")
*   [juejin.cn/post/684490â€¦](https://juejin.cn/post/6844903511956815885 "https://juejin.cn/post/6844903511956815885")

ç•ªå¤–
--

Auto å®¶æ—çš„å…¶ä»–æˆå‘˜

*   [Auto-Plugin](https://github.com/Auto-Plugin "https://github.com/Auto-Plugin")/**[autofit.js](https://github.com/Auto-Plugin/autofit.js "https://github.com/Auto-Plugin/autofit.js")** autofit.js è¿„ä»Šä¸ºæ­¢æœ€æ˜“ç”¨çš„è‡ªé€‚åº”å·¥å…·
*   [Auto-Plugin](https://github.com/Auto-Plugin "https://github.com/Auto-Plugin")/**[autolog.js](https://github.com/Auto-Plugin/autolog.js "https://github.com/Auto-Plugin/autolog.js")** autolog.js è½»é‡åŒ–å°å¼¹çª—
*   [Auto-Plugin](https://github.com/Auto-Plugin "https://github.com/Auto-Plugin")/**[autouno](https://github.com/Auto-Plugin/autouno "https://github.com/Auto-Plugin/autouno")** autouno ç›´è§‰çš„ UnoCSS é¢„è®¾æ–¹æ¡ˆ
*   [Auto-Plugin](https://github.com/Auto-Plugin "https://github.com/Auto-Plugin")/**[autohue.js](https://github.com/Auto-Plugin/autohue.js "https://github.com/Auto-Plugin/autohue.js")** æœ¬å“ ä¸€ä¸ªè‡ªåŠ¨æå–å›¾ç‰‡ä¸»é¢˜è‰²è®©å›¾ç‰‡å’ŒèƒŒæ™¯èä¸ºä¸€ä½“çš„å·¥å…·