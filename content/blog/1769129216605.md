---
layout: post
title: 'Qt技巧笔记(三)：QSpinBox数值微调框组件笔记'
date: "2026-01-23T00:46:56Z"
---
Qt技巧笔记(三)：QSpinBox数值微调框组件笔记
===========================

QSpinBox是Qt框架中的一个部件(Widget)，用于提供一个方便用户输入整数值的界面元素。它通常以微调框(QSpinBox)的形式展示，用户可以通过微调框上的按钮或手动输入来增加或减少整数值。在实际使用中该控件主要用于整型或浮点的计数显示，与普通的LineEdit组件不同，该组件可以在前后增加特殊符号并提供了上下幅度的调整按钮，灵活性更强。

​ Qt是一个跨平台C++图形界面开发库，利用Qt可以快速开发跨平台窗体应用程序，在Qt中我们可以通过拖拽的方式将不同组件放到指定的位置，实现图形化开发极大的方便了开发效率，本笔记将重点介绍QSpinBox数值微调组件的常用方法及灵活应用。

​ QSpinBox是Qt框架中的一个部件(Widget)，用于提供一个方便用户输入整数值的界面元素。它通常以微调框(QSpinBox)的形式展示，用户可以通过微调框上的按钮或手动输入来增加或减少整数值。在实际使用中该控件主要用于整型或浮点的计数显示，与普通的LineEdit组件不同，该组件可以在前后增加特殊符号并提供了上下幅度的调整按钮，灵活性更强。其使用场景：

*   **数值输入**：适用于需要用户输入整数值的场景，如设置计算参数、调整数量等。
    
*   **调整参数**：在需要进行微小调整的地方，提供直观的增减按钮。
    
*   **限制输入范围**：当需要确保用户输入在一定范围内时，可以设置参数的最大值和最小值；
    
*   **只读展示**：可以用于只读展示某个数值，不允许用户修改。
    
    以下是QSpinBox类的一些常用方法API，说明并概述成表格：
    
    方法API
    
    描 述
    
    `QSpinBox(QWidget *parent = nullptr)`
    
    构造函数，创建一个整数微调框。
    
    `int value() const`
    
    获取当前微调框中的整数值。
    
    `void setValue(int value)`
    
    设置微调框的整数值。
    
    `int minimum() const`
    
    获取微调框的最小值。
    
    `void setMinimum(int min)`
    
    设置微调框的最小值。
    
    `int maximum() const`
    
    获取微调框的最大值。
    
    `void setMaximum(int max)`
    
    设置微调框的最大值。
    
    `int singleStep() const`
    
    获取单步步进值，即微调框在每次增减操作时的变化量。
    
    `void setSingleStep(int step)`
    
    设置单步步进值。
    
    `int prefix() const`
    
    获取前缀（显示在值之前的文本）。
    
    `void setPrefix(const QString &prefix)`
    
    设置前缀。
    
    `int suffix() const`
    
    获取后缀（显示在值之后的文本）。
    
    `QString cleanText() const`
    
    获取文本表示的干净值，即不包含前缀和后缀的纯文本值。
    
    `bool wrapping() const`
    
    检查微调框是否启用了循环，即在达到最大或最小值时是否绕回。
    
    `void setWrapping(bool on)`
    
    启用或禁用微调框的循环。
    
    `void stepUp()`
    
    将微调框的值增加一个单步步进值
    
    `void stepDown()`
    
    将微调框的值减少一个单步步进值。
    
    `void setAccelerated(bool on)`
    
    启用或禁用加速，即按住上下箭头时值的变化速度是否逐渐加快。
    
    `bool isAccelerated() const`
    
    检查是否启用了加速。
    
    `void setReadOnly(bool ro)`
    
    设置微调框为只读模式，禁止用户编辑值。
    
    `bool isReadOnly() const`
    
    检查微调框是否为只读模式。
    
    `void setAlignment(Qt::Alignment align)`
    
    设置微调框中文本的对齐方式。
    
    `Qt::Alignment alignment() const`
    
    获取微调框中文本的对齐方式。
    
    `void setButtonSymbols(QAbstractSpinBox::ButtonSymbols bs)`
    
    设置增减按钮的显示方式。
    
    `QAbstractSpinBox::ButtonSymbols buttonSymbols() const`
    
    获取增减按钮的显示方式。
    
    这些方法涵盖了QSpinBox类中一些常用的设置和获取整数微调框属性的功能。其信号部分
    
    信号声明
    
    信号说明
    
    `void textChanged(const QString &text)`
    
    微调框的文本发生改变时会触发，参数`QString`带有前缀和后缀
    
    `void valueChanged(int i)`
    
    微调框的⽂本发⽣改变时会触发，参数 int，表示当前的数值
    

接下来将用一个简单的案例展示如何使用 QSpinBox组件，该组件有两个版本：QSpinBox用于展示单精度浮点数，而`QDoubleSpinBox()` 则可以展示精度更高的数值，需要注意的是，该组件有两个特殊参数，当使用setPrefix() 时可以指定在前方加入特殊符号，而使用 setSuffix() 时则可以在后方追加特殊符号，我们就可以后方追加为例。

以下是一个使用 QSpinBox 的 C++ Qt 示例，展示了如何创建控件、设置属性并连接信号：

    #include <QApplication>
    #include <QWidget>
    #include <QSpinBox>
    #include <QVBoxLayout>
    #include <QDebug>
    
    class MainWindow : public QWidget {
        Q_OBJECT
    public:
        MainWindow() {
            QSpinBox *spinBox = new QSpinBox(this);
            spinBox->setRange(0, 100);      // 设置范围 0-100
            spinBox->setValue(10);          // 设置初始值
            spinBox->setSingleStep(5);      // 设置步长为 5
    
            // 连接值改变信号到槽函数
            connect(spinBox, QOverload<int>::of(&QSpinBox::valueChanged),
                    this, &MainWindow::onValueChanged);
    
            QVBoxLayout *layout = new QVBoxLayout(this);
            layout->addWidget(spinBox);
        }
    
    public slots:
        void onValueChanged(int value) {
            qDebug() << "Spin box value changed to:" << value;
        }
    };
    
    int main(int argc, char *argv[]) {
        QApplication app(argc, argv);
        MainWindow window;
        window.show();
        return app.exec();
    }
    
    

### 参考资料：

[C++ Qt开发：SpinBox数值微调框组件-腾讯云开发者社区-腾讯云](https://cloud.tencent.com/developer/article/2370336)