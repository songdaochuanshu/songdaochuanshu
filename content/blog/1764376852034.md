---
layout: post
title: 'è®¾è®¡æ¨¡å¼æ·±åº¦è§£æï¼šç­–ç•¥æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ä¸æ¨¡æ¿æ¨¡å¼'
date: "2025-11-29T00:40:52Z"
---
è®¾è®¡æ¨¡å¼æ·±åº¦è§£æï¼šç­–ç•¥æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ä¸æ¨¡æ¿æ¨¡å¼
========================

ä¸´æ—¶æ’å…¥ä¸€ä¸ªé¢å¤–çŸ¥è¯†æ¢æ¢æ€è·¯ï¼Œè®¤è¯†ä¸€ä¸‹å‡ ä¸ªä¸šåŠ¡ä¸­å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œå°½å¯èƒ½è®²æ˜ç™½ã€å¤šå¤šç‚¹èµæ”¯æŒ~
----------------------------------------------

å¼•è¨€
--

åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è§£å†³å¸¸è§é—®é¢˜çš„ç»å…¸æ–¹æ¡ˆã€‚ä»Šå¤©æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸‰ç§å¸¸ç”¨çš„è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼šç­–ç•¥æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼å’Œæ¨¡æ¿æ¨¡å¼ã€‚æ¯ç§æ¨¡å¼éƒ½æœ‰å…¶ç‹¬ç‰¹çš„é€‚ç”¨åœºæ™¯å’Œä¼˜åŠ¿ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ç¼–å†™å‡ºæ›´åŠ çµæ´»ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚

1\. ç­–ç•¥æ¨¡å¼ (Strategy Pattern)
---------------------------

### æ¨¡å¼ä»‹ç»

ç­–ç•¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚

### æ ¸å¿ƒæ€æƒ³

*   **å°è£…å˜åŒ–**ï¼šå°†ç»å¸¸å˜åŒ–çš„ç®—æ³•éƒ¨åˆ†æŠ½è±¡å‡ºæ¥
*   **é¢å‘æ¥å£**ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°
*   **ç»„åˆä¼˜äºç»§æ‰¿**ï¼šé€šè¿‡ç»„åˆæ–¹å¼ä½¿ç”¨ç®—æ³•ï¼Œé¿å…ç»§æ‰¿å¸¦æ¥çš„å¤æ‚æ€§

### é€‚ç”¨åœºæ™¯

*   ä¸€ä¸ªç³»ç»Ÿéœ€è¦åœ¨å¤šç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§
*   æœ‰å¤šä¸ªæ¡ä»¶è¯­å¥å®šä¹‰ä¸åŒè¡Œä¸ºçš„æƒ…å†µ
*   å¸Œæœ›ç®—æ³•å¯ä»¥è‡ªç”±åˆ‡æ¢
*   éœ€è¦éš”ç¦»ç®—æ³•çš„ä½¿ç”¨å’Œå®ç°

### ç»å…¸ç¤ºä¾‹ï¼šæ”¯ä»˜ç³»ç»Ÿ

    /**
     * æ”¯ä»˜ç­–ç•¥æ¥å£
     * å®šä¹‰æ‰€æœ‰æ”¯ä»˜æ–¹å¼å¿…é¡»å®ç°çš„æ–¹æ³•
     */
    interface PaymentStrategy {
        /**
         * æ‰§è¡Œæ”¯ä»˜
         * @param amount æ”¯ä»˜é‡‘é¢
         * @return æ”¯ä»˜ç»“æœ
         */
        boolean pay(double amount);
        
        /**
         * è·å–æ”¯ä»˜æ–¹å¼åç§°
         * @return æ”¯ä»˜æ–¹å¼åç§°
         */
        String getPaymentMethod();
    }
    
    /**
     * æ”¯ä»˜å®æ”¯ä»˜ç­–ç•¥
     * å®ç°æ”¯ä»˜å®ç‰¹æœ‰çš„æ”¯ä»˜é€»è¾‘
     */
    class AlipayStrategy implements PaymentStrategy {
        @Override
        public boolean pay(double amount) {
            System.out.println("ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ " + amount + " å…ƒ");
            // è°ƒç”¨æ”¯ä»˜å®SDKè¿›è¡Œæ”¯ä»˜
            System.out.println("è°ƒç”¨æ”¯ä»˜å®æ¥å£...");
            System.out.println("ç”¨æˆ·ç¡®è®¤æ”¯ä»˜...");
            System.out.println("æ”¯ä»˜æˆåŠŸï¼");
            return true;
        }
        
        @Override
        public String getPaymentMethod() {
            return "æ”¯ä»˜å®";
        }
    }
    
    /**
     * å¾®ä¿¡æ”¯ä»˜ç­–ç•¥
     * å®ç°å¾®ä¿¡æ”¯ä»˜ç‰¹æœ‰çš„æ”¯ä»˜é€»è¾‘
     */
    class WechatPayStrategy implements PaymentStrategy {
        @Override
        public boolean pay(double amount) {
            System.out.println("ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ " + amount + " å…ƒ");
            // è°ƒç”¨å¾®ä¿¡æ”¯ä»˜SDKè¿›è¡Œæ”¯ä»˜
            System.out.println("è°ƒç”¨å¾®ä¿¡æ”¯ä»˜æ¥å£...");
            System.out.println("ç”¨æˆ·è¾“å…¥å¯†ç ...");
            System.out.println("æ”¯ä»˜æˆåŠŸï¼");
            return true;
        }
        
        @Override
        public String getPaymentMethod() {
            return "å¾®ä¿¡æ”¯ä»˜";
        }
    }
    
    /**
     * é“¶è¡Œå¡æ”¯ä»˜ç­–ç•¥
     * å®ç°é“¶è¡Œå¡æ”¯ä»˜ç‰¹æœ‰çš„æ”¯ä»˜é€»è¾‘
     */
    class BankCardStrategy implements PaymentStrategy {
        private String cardNumber;
        private String cvv;
        
        public BankCardStrategy(String cardNumber, String cvv) {
            this.cardNumber = cardNumber;
            this.cvv = cvv;
        }
        
        @Override
        public boolean pay(double amount) {
            System.out.println("ä½¿ç”¨é“¶è¡Œå¡æ”¯ä»˜ " + amount + " å…ƒ");
            // è°ƒç”¨é“¶è¡Œæ”¯ä»˜ç½‘å…³
            System.out.println("éªŒè¯é“¶è¡Œå¡ä¿¡æ¯...");
            System.out.println("å¡å·: " + maskCardNumber(cardNumber));
            System.out.println("è°ƒç”¨é“¶è¡Œæ”¯ä»˜ç½‘å…³...");
            System.out.println("æ”¯ä»˜æˆåŠŸï¼");
            return true;
        }
        
        @Override
        public String getPaymentMethod() {
            return "é“¶è¡Œå¡";
        }
        
        private String maskCardNumber(String cardNumber) {
            // éšè—é“¶è¡Œå¡å·ä¸­é—´éƒ¨åˆ†
            if (cardNumber.length() > 8) {
                return cardNumber.substring(0, 4) + " **** **** " + cardNumber.substring(cardNumber.length() - 4);
            }
            return cardNumber;
        }
    }
    
    /**
     * æ”¯ä»˜ä¸Šä¸‹æ–‡
     * è´Ÿè´£ç®¡ç†å’Œä½¿ç”¨å…·ä½“çš„æ”¯ä»˜ç­–ç•¥
     */
    class PaymentContext {
        private PaymentStrategy paymentStrategy;
        
        /**
         * è®¾ç½®æ”¯ä»˜ç­–ç•¥
         * @param paymentStrategy å…·ä½“çš„æ”¯ä»˜ç­–ç•¥
         */
        public void setPaymentStrategy(PaymentStrategy paymentStrategy) {
            this.paymentStrategy = paymentStrategy;
        }
        
        /**
         * æ‰§è¡Œæ”¯ä»˜æ“ä½œ
         * @param amount æ”¯ä»˜é‡‘é¢
         * @return æ”¯ä»˜ç»“æœ
         */
        public boolean executePayment(double amount) {
            if (paymentStrategy == null) {
                throw new IllegalStateException("æ”¯ä»˜ç­–ç•¥æœªè®¾ç½®");
            }
            
            System.out.println("å¼€å§‹" + paymentStrategy.getPaymentMethod() + "æ”¯ä»˜æµç¨‹...");
            return paymentStrategy.pay(amount);
        }
    }
    
    /**
     * ç­–ç•¥æ¨¡å¼æ¼”ç¤ºç±»
     */
    public class StrategyPatternDemo {
        public static void main(String[] args) {
            // åˆ›å»ºæ”¯ä»˜ä¸Šä¸‹æ–‡
            PaymentContext context = new PaymentContext();
            
            // ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜
            System.out.println("=== æ”¯ä»˜å®æ”¯ä»˜ ===");
            context.setPaymentStrategy(new AlipayStrategy());
            context.executePayment(100.0);
            
            // ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜
            System.out.println("\n=== å¾®ä¿¡æ”¯ä»˜ ===");
            context.setPaymentStrategy(new WechatPayStrategy());
            context.executePayment(200.0);
            
            // ä½¿ç”¨é“¶è¡Œå¡æ”¯ä»˜
            System.out.println("\n=== é“¶è¡Œå¡æ”¯ä»˜ ===");
            context.setPaymentStrategy(new BankCardStrategy("6225880112345678", "123"));
            context.executePayment(300.0);
        }
    }
    

### ç­–ç•¥æ¨¡å¼ä¼˜åŠ¿

1.  **å¼€é—­åŸåˆ™**ï¼šæ–°å¢æ”¯ä»˜æ–¹å¼æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
2.  **æ¶ˆé™¤æ¡ä»¶åˆ¤æ–­**ï¼šé¿å…å¤§é‡çš„if-elseè¯­å¥
3.  **ä»£ç å¤ç”¨**ï¼šç›¸åŒç®—æ³•å¯ä»¥åœ¨ä¸åŒç¯å¢ƒä¸­å¤ç”¨
4.  **æ˜“äºæµ‹è¯•**ï¼šæ¯ä¸ªç­–ç•¥éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•

2\. è´£ä»»é“¾æ¨¡å¼ (Chain of Responsibility Pattern)
-------------------------------------------

### æ¨¡å¼ä»‹ç»

è´£ä»»é“¾æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚

### æ ¸å¿ƒæ€æƒ³

*   **è§£è€¦å‘é€è€…å’Œæ¥æ”¶è€…**ï¼šå‘é€è€…ä¸éœ€è¦çŸ¥é“å“ªä¸ªå¯¹è±¡ä¼šå¤„ç†è¯·æ±‚
*   **åŠ¨æ€ç»„åˆ**ï¼šå¯ä»¥åŠ¨æ€åœ°æ·»åŠ æˆ–ä¿®æ”¹å¤„ç†é“¾
*   **çµæ´»å¤„ç†**ï¼šæ¯ä¸ªå¤„ç†å™¨å¯ä»¥é€‰æ‹©å¤„ç†è¯·æ±‚æˆ–ä¼ é€’ç»™ä¸‹ä¸€ä¸ª

### é€‚ç”¨åœºæ™¯

*   æœ‰å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†åŒä¸€ä¸ªè¯·æ±‚
*   æƒ³åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹å‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤è¯·æ±‚
*   éœ€è¦åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚

### ç»å…¸ç¤ºä¾‹ï¼šè¯·å‡å®¡æ‰¹ç³»ç»Ÿ

    /**
     * è¯·å‡è¯·æ±‚ç±»
     * åŒ…å«è¯·å‡çš„åŸºæœ¬ä¿¡æ¯
     */
    class LeaveRequest {
        private String employeeName;
        private int leaveDays;
        private String reason;
        
        public LeaveRequest(String employeeName, int leaveDays, String reason) {
            this.employeeName = employeeName;
            this.leaveDays = leaveDays;
            this.reason = reason;
        }
        
        // Getter æ–¹æ³•
        public String getEmployeeName() { return employeeName; }
        public int getLeaveDays() { return leaveDays; }
        public String getReason() { return reason; }
    }
    
    /**
     * å®¡æ‰¹å¤„ç†å™¨æ¥å£
     * å®šä¹‰å®¡æ‰¹å¤„ç†å™¨çš„åŸºæœ¬è¡Œä¸º
     */
    interface ApprovalHandler {
        /**
         * è®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†å™¨
         * @param nextHandler ä¸‹ä¸€ä¸ªå®¡æ‰¹å¤„ç†å™¨
         */
        void setNextHandler(ApprovalHandler nextHandler);
        
        /**
         * å¤„ç†è¯·å‡è¯·æ±‚
         * @param request è¯·å‡è¯·æ±‚
         * @return å¤„ç†ç»“æœ
         */
        boolean handleRequest(LeaveRequest request);
    }
    
    /**
     * ç»„é•¿å®¡æ‰¹å¤„ç†å™¨
     * å¤„ç†1å¤©ä»¥å†…çš„è¯·å‡
     */
    class GroupLeaderHandler implements ApprovalHandler {
        private ApprovalHandler nextHandler;
        
        @Override
        public void setNextHandler(ApprovalHandler nextHandler) {
            this.nextHandler = nextHandler;
        }
        
        @Override
        public boolean handleRequest(LeaveRequest request) {
            System.out.println("ç»„é•¿æ­£åœ¨å®¡æ‰¹ " + request.getEmployeeName() + " çš„è¯·å‡ç”³è¯·...");
            
            if (request.getLeaveDays() <= 1) {
                System.out.println("âœ… ç»„é•¿æ‰¹å‡† " + request.getEmployeeName() + " è¯·å‡ " + 
                                 request.getLeaveDays() + " å¤©ï¼ŒåŸå› ï¼š" + request.getReason());
                return true;
            }
            
            System.out.println("â­ï¸  ç»„é•¿æ— æƒé™å®¡æ‰¹ " + request.getLeaveDays() + " å¤©è¯·å‡ï¼Œè½¬äº¤ä¸Šçº§");
            return nextHandler != null && nextHandler.handleRequest(request);
        }
    }
    
    /**
     * ç­é•¿å®¡æ‰¹å¤„ç†å™¨
     * å¤„ç†3å¤©ä»¥å†…çš„è¯·å‡
     */
    class SquadLeaderHandler implements ApprovalHandler {
        private ApprovalHandler nextHandler;
        
        @Override
        public void setNextHandler(ApprovalHandler nextHandler) {
            this.nextHandler = nextHandler;
        }
        
        @Override
        public boolean handleRequest(LeaveRequest request) {
            System.out.println("ç­é•¿æ­£åœ¨å®¡æ‰¹ " + request.getEmployeeName() + " çš„è¯·å‡ç”³è¯·...");
            
            if (request.getLeaveDays() <= 3) {
                System.out.println("âœ… ç­é•¿æ‰¹å‡† " + request.getEmployeeName() + " è¯·å‡ " + 
                                 request.getLeaveDays() + " å¤©ï¼ŒåŸå› ï¼š" + request.getReason());
                return true;
            }
            
            System.out.println("â­ï¸  ç­é•¿æ— æƒé™å®¡æ‰¹ " + request.getLeaveDays() + " å¤©è¯·å‡ï¼Œè½¬äº¤ä¸Šçº§");
            return nextHandler != null && nextHandler.handleRequest(request);
        }
    }
    
    /**
     * å‰¯å‚é•¿å®¡æ‰¹å¤„ç†å™¨
     * å¤„ç†3å¤©ä»¥å†…çš„è¯·å‡ï¼ˆä¸ç­é•¿æƒé™ç›¸åŒï¼Œä½†è§’è‰²ä¸åŒï¼‰
     */
    class ViceManagerHandler implements ApprovalHandler {
        private ApprovalHandler nextHandler;
        
        @Override
        public void setNextHandler(ApprovalHandler nextHandler) {
            this.nextHandler = nextHandler;
        }
        
        @Override
        public boolean handleRequest(LeaveRequest request) {
            System.out.println("å‰¯å‚é•¿æ­£åœ¨å®¡æ‰¹ " + request.getEmployeeName() + " çš„è¯·å‡ç”³è¯·...");
            
            if (request.getLeaveDays() <= 3) {
                System.out.println("âœ… å‰¯å‚é•¿æ‰¹å‡† " + request.getEmployeeName() + " è¯·å‡ " + 
                                 request.getLeaveDays() + " å¤©ï¼ŒåŸå› ï¼š" + request.getReason());
                return true;
            }
            
            System.out.println("â­ï¸  å‰¯å‚é•¿æ— æƒé™å®¡æ‰¹ " + request.getLeaveDays() + " å¤©è¯·å‡ï¼Œè½¬äº¤å‚é•¿");
            return nextHandler != null && nextHandler.handleRequest(request);
        }
    }
    
    /**
     * å‚é•¿å®¡æ‰¹å¤„ç†å™¨
     * å¤„ç†æ‰€æœ‰è¯·å‡ï¼Œæ˜¯è´£ä»»é“¾çš„ç»ˆç‚¹
     */
    class ManagerHandler implements ApprovalHandler {
        private ApprovalHandler nextHandler;
        
        @Override
        public void setNextHandler(ApprovalHandler nextHandler) {
            // å‚é•¿æ˜¯æœ€ç»ˆå®¡æ‰¹äººï¼Œæ²¡æœ‰ä¸‹ä¸€ä¸ªå¤„ç†å™¨
        }
        
        @Override
        public boolean handleRequest(LeaveRequest request) {
            System.out.println("å‚é•¿æ­£åœ¨å®¡æ‰¹ " + request.getEmployeeName() + " çš„è¯·å‡ç”³è¯·...");
            
            if (request.getLeaveDays() <= 10) {
                System.out.println("âœ… å‚é•¿æ‰¹å‡† " + request.getEmployeeName() + " è¯·å‡ " + 
                                 request.getLeaveDays() + " å¤©ï¼ŒåŸå› ï¼š" + request.getReason());
                return true;
            } else {
                System.out.println("âŒ å‚é•¿æ‹’ç» " + request.getEmployeeName() + " çš„è¯·å‡ç”³è¯·ï¼Œ" +
                                 "åŸå› ï¼šè¯·å‡å¤©æ•°è¿‡é•¿");
                return false;
            }
        }
    }
    
    /**
     * å®¡æ‰¹é“¾æ„å»ºå™¨
     * è´Ÿè´£æ„å»ºå®¡æ‰¹è´£ä»»é“¾
     */
    class ApprovalChainBuilder {
        /**
         * æ„å»ºå®Œæ•´çš„å®¡æ‰¹è´£ä»»é“¾
         * @return è´£ä»»é“¾çš„èµ·å§‹å¤„ç†å™¨
         */
        public static ApprovalHandler buildChain() {
            // åˆ›å»ºå„ä¸ªå¤„ç†å™¨
            ApprovalHandler groupLeader = new GroupLeaderHandler();
            ApprovalHandler squadLeader = new SquadLeaderHandler();
            ApprovalHandler viceManager = new ViceManagerHandler();
            ApprovalHandler manager = new ManagerHandler();
            
            // æ„å»ºè´£ä»»é“¾ï¼šç»„é•¿ -> ç­é•¿ -> å‰¯å‚é•¿ -> å‚é•¿
            groupLeader.setNextHandler(squadLeader);
            squadLeader.setNextHandler(viceManager);
            viceManager.setNextHandler(manager);
            
            return groupLeader;
        }
    }
    
    /**
     * è¯·å‡æœåŠ¡ç±»
     * æä¾›è¯·å‡ç”³è¯·æœåŠ¡
     */
    class LeaveService {
        private ApprovalHandler approvalHandler;
        
        public LeaveService() {
            this.approvalHandler = ApprovalChainBuilder.buildChain();
        }
        
        /**
         * æäº¤è¯·å‡ç”³è¯·
         * @param request è¯·å‡è¯·æ±‚
         * @return å®¡æ‰¹ç»“æœ
         */
        public boolean submitLeaveRequest(LeaveRequest request) {
            System.out.println("\n=== " + request.getEmployeeName() + " æäº¤è¯·å‡ç”³è¯· ===");
            System.out.println("è¯·å‡å¤©æ•°ï¼š" + request.getLeaveDays() + " å¤©");
            System.out.println("è¯·å‡åŸå› ï¼š" + request.getReason());
            
            return approvalHandler.handleRequest(request);
        }
    }
    
    /**
     * è´£ä»»é“¾æ¨¡å¼æ¼”ç¤ºç±»
     */
    public class ChainOfResponsibilityPatternDemo {
        public static void main(String[] args) {
            LeaveService leaveService = new LeaveService();
            
            // æµ‹è¯•ä¸åŒå¤©æ•°çš„è¯·å‡ç”³è¯·
            System.out.println("===== è´£ä»»é“¾æ¨¡å¼ - è¯·å‡å®¡æ‰¹æ¼”ç¤º =====");
            
            // 1å¤©è¯·å‡ - ç»„é•¿å®¡æ‰¹
            LeaveRequest request1 = new LeaveRequest("å¼ ä¸‰", 1, "èº«ä½“ä¸é€‚");
            leaveService.submitLeaveRequest(request1);
            
            // 2å¤©è¯·å‡ - ç­é•¿å®¡æ‰¹
            LeaveRequest request2 = new LeaveRequest("æå››", 2, "å®¶é‡Œæœ‰äº‹");
            leaveService.submitLeaveRequest(request2);
            
            // 3å¤©è¯·å‡ - å‰¯å‚é•¿å®¡æ‰¹
            LeaveRequest request3 = new LeaveRequest("ç‹äº”", 3, "å¹´å‡ä¼‘æ¯");
            leaveService.submitLeaveRequest(request3);
            
            // 5å¤©è¯·å‡ - å‚é•¿å®¡æ‰¹
            LeaveRequest request4 = new LeaveRequest("èµµå…­", 5, "å©šå‡");
            leaveService.submitLeaveRequest(request4);
            
            // 15å¤©è¯·å‡ - å‚é•¿æ‹’ç»
            LeaveRequest request5 = new LeaveRequest("é’±ä¸ƒ", 15, "é•¿å‡æ—…æ¸¸");
            leaveService.submitLeaveRequest(request5);
        }
    }
    

### è´£ä»»é“¾æ¨¡å¼ä¼˜åŠ¿

1.  **é™ä½è€¦åˆåº¦**ï¼šè¯·æ±‚å‘é€è€…æ— éœ€çŸ¥é“å…·ä½“çš„å¤„ç†è€…
2.  **åŠ¨æ€é…ç½®**ï¼šå¯ä»¥åŠ¨æ€åœ°æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹å¤„ç†é“¾
3.  **çµæ´»æ€§**ï¼šå¯ä»¥æ”¹å˜å¤„ç†é“¾çš„é¡ºåºæˆ–ç»“æ„
4.  **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªå¤„ç†è€…åªå…³æ³¨è‡ªå·±çš„å¤„ç†é€»è¾‘

3\. æ¨¡æ¿æ¨¡å¼ (Template Pattern)
---------------------------

### æ¨¡å¼ä»‹ç»

æ¨¡æ¿æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚

### æ ¸å¿ƒæ€æƒ³

*   **å°è£…ä¸å˜éƒ¨åˆ†**ï¼šå°†ä¸å˜çš„è¡Œä¸ºç§»åˆ°çˆ¶ç±»
*   **æ‰©å±•å¯å˜éƒ¨åˆ†**ï¼šå°†å˜åŒ–çš„è¡Œä¸ºç”±å­ç±»å®ç°
*   **ä»£ç å¤ç”¨**ï¼šå…¬å…±çš„ä»£ç åœ¨çˆ¶ç±»ä¸­å®ç°
*   **æ§åˆ¶å­ç±»æ‰©å±•**ï¼šé€šè¿‡æ¨¡æ¿æ–¹æ³•æ§åˆ¶å­ç±»çš„æ‰©å±•ç‚¹

### é€‚ç”¨åœºæ™¯

*   æœ‰å¤šä¸ªç±»åŒ…å«ç›¸åŒçš„æ“ä½œï¼Œä½†å…¶ä¸­æŸäº›æ­¥éª¤çš„å®ç°ä¸åŒ
*   éœ€è¦æ§åˆ¶å­ç±»æ‰©å±•æ—¶ï¼Œåªå…è®¸åœ¨ç‰¹å®šç‚¹è¿›è¡Œæ‰©å±•
*   é‡è¦çš„å¤æ‚ç®—æ³•éœ€è¦å®šä¹‰éª¨æ¶ï¼Œç»†èŠ‚ç”±å­ç±»å®ç°

### ç»å…¸ç¤ºä¾‹ï¼šé¥®æ–™åˆ¶ä½œç³»ç»Ÿ

    /**
     * æŠ½è±¡é¥®æ–™ç±» - æ¨¡æ¿ç±»
     * å®šä¹‰é¥®æ–™åˆ¶ä½œçš„åŸºæœ¬æµç¨‹
     */
    abstract class BeverageTemplate {
        
        /**
         * æ¨¡æ¿æ–¹æ³• - å®šä¹‰é¥®æ–™åˆ¶ä½œçš„å®Œæ•´æµç¨‹ï¼ˆfinalé˜²æ­¢å­ç±»é‡å†™ï¼‰
         */
        public final void prepareBeverage() {
            boilWater();         // ç…®æ²¸æ°´
            brew();              // å†²æ³¡ï¼ˆç”±å­ç±»å®ç°ï¼‰
            pourInCup();         // å€’å…¥æ¯å­
            addCondiments();     // æ·»åŠ è°ƒæ–™ï¼ˆç”±å­ç±»å®ç°ï¼‰
            
            // é’©å­æ–¹æ³• - å­ç±»å¯ä»¥é€‰æ‹©æ€§é‡å†™
            if (customerWantsCondiments()) {
                extraStep();     // é¢å¤–æ­¥éª¤
            }
            
            serve();             // ä¸Šé¥®æ–™
        }
        
        /**
         * ç…®æ²¸æ°´ - å…·ä½“æ–¹æ³•ï¼ˆæ‰€æœ‰é¥®æ–™éƒ½éœ€è¦ç…®æ²¸æ°´ï¼‰
         */
        private void boilWater() {
            System.out.println("1. ğŸš° ç…®æ²¸æ°´");
        }
        
        /**
         * å€’å…¥æ¯å­ - å…·ä½“æ–¹æ³•ï¼ˆæ‰€æœ‰é¥®æ–™éƒ½éœ€è¦å€’å…¥æ¯å­ï¼‰
         */
        private void pourInCup() {
            System.out.println("3. ğŸ¥¤ å€’å…¥æ¯å­");
        }
        
        /**
         * ä¸Šé¥®æ–™ - å…·ä½“æ–¹æ³•ï¼ˆæ‰€æœ‰é¥®æ–™éƒ½éœ€è¦ä¸Šæ¡Œï¼‰
         */
        private void serve() {
            System.out.println("6. ğŸ¹ ä¸Šé¥®æ–™ï¼š" + getBeverageName());
        }
        
        /**
         * é’©å­æ–¹æ³• - å®¢æˆ·æ˜¯å¦æƒ³è¦è°ƒæ–™ï¼ˆé»˜è®¤è¿”å›trueï¼Œå­ç±»å¯é‡å†™ï¼‰
         */
        protected boolean customerWantsCondiments() {
            return true;
        }
        
        /**
         * é¢å¤–æ­¥éª¤ - é’©å­æ–¹æ³•ï¼ˆé»˜è®¤ç©ºå®ç°ï¼Œå­ç±»å¯é‡å†™ï¼‰
         */
        protected void extraStep() {
            // é»˜è®¤ä¸æ‰§è¡Œé¢å¤–æ­¥éª¤
        }
        
        /**
         * å†²æ³¡æ–¹æ³• - æŠ½è±¡æ–¹æ³•ï¼ˆå¿…é¡»ç”±å­ç±»å®ç°ï¼‰
         */
        protected abstract void brew();
        
        /**
         * æ·»åŠ è°ƒæ–™ - æŠ½è±¡æ–¹æ³•ï¼ˆå¿…é¡»ç”±å­ç±»å®ç°ï¼‰
         */
        protected abstract void addCondiments();
        
        /**
         * è·å–é¥®æ–™åç§° - æŠ½è±¡æ–¹æ³•ï¼ˆå¿…é¡»ç”±å­ç±»å®ç°ï¼‰
         */
        protected abstract String getBeverageName();
    }
    
    /**
     * èŒ¶ç±» - å…·ä½“æ¨¡æ¿
     * å®ç°èŒ¶çš„å…·ä½“åˆ¶ä½œæ­¥éª¤
     */
    class Tea extends BeverageTemplate {
        
        @Override
        protected void brew() {
            System.out.println("2. ğŸƒ å†²æ³¡èŒ¶å¶");
        }
        
        @Override
        protected void addCondiments() {
            System.out.println("4. ğŸ‹ åŠ å…¥æŸ æª¬");
        }
        
        @Override
        protected String getBeverageName() {
            return "æŸ æª¬èŒ¶";
        }
        
        @Override
        protected void extraStep() {
            System.out.println("5. â³ é™ç½®2åˆ†é’Ÿè®©èŒ¶å‘³æ›´æµ“éƒ");
        }
    }
    
    /**
     * å’–å•¡ç±» - å…·ä½“æ¨¡æ¿
     * å®ç°å’–å•¡çš„å…·ä½“åˆ¶ä½œæ­¥éª¤
     */
    class Coffee extends BeverageTemplate {
        
        @Override
        protected void brew() {
            System.out.println("2. â˜• å†²æ³¡å’–å•¡ç²‰");
        }
        
        @Override
        protected void addCondiments() {
            System.out.println("4. ğŸ¥› åŠ å…¥ç³–å’Œç‰›å¥¶");
        }
        
        @Override
        protected String getBeverageName() {
            return "æ‹¿é“å’–å•¡";
        }
        
        @Override
        protected boolean customerWantsCondiments() {
            // å‡è®¾æœ‰30%çš„é¡¾å®¢ä¸è¦è°ƒæ–™
            return Math.random() > 0.3;
        }
    }
    
    /**
     * çº¯èŒ¶ç±» - å…·ä½“æ¨¡æ¿
     * å®ç°ä¸åŠ è°ƒæ–™çš„èŒ¶
     */
    class PureTea extends BeverageTemplate {
        
        @Override
        protected void brew() {
            System.out.println("2. ğŸƒ å†²æ³¡èŒ¶å¶");
        }
        
        @Override
        protected void addCondiments() {
            // çº¯èŒ¶ä¸åŠ ä»»ä½•è°ƒæ–™
            System.out.println("4. â© çº¯èŒ¶ï¼Œè·³è¿‡æ·»åŠ è°ƒæ–™");
        }
        
        @Override
        protected String getBeverageName() {
            return "çº¯èŒ¶";
        }
        
        @Override
        protected boolean customerWantsCondiments() {
            // çº¯èŒ¶æ°¸è¿œä¸åŠ è°ƒæ–™
            return false;
        }
    }
    
    /**
     * é¥®æ–™åº—ç±»
     * æä¾›åˆ¶ä½œé¥®æ–™çš„æœåŠ¡
     */
    class BeverageShop {
        /**
         * åˆ¶ä½œæŒ‡å®šç±»å‹çš„é¥®æ–™
         * @param beverage é¥®æ–™æ¨¡æ¿
         */
        public void makeBeverage(BeverageTemplate beverage) {
            System.out.println("\n=== å¼€å§‹åˆ¶ä½œé¥®æ–™ ===");
            beverage.prepareBeverage();
            System.out.println("=== é¥®æ–™åˆ¶ä½œå®Œæˆ ===\n");
        }
    }
    
    /**
     * æ¨¡æ¿æ¨¡å¼æ¼”ç¤ºç±»
     */
    public class TemplatePatternDemo {
        public static void main(String[] args) {
            BeverageShop shop = new BeverageShop();
            
            System.out.println("===== æ¨¡æ¿æ¨¡å¼ - é¥®æ–™åˆ¶ä½œæ¼”ç¤º =====");
            
            // åˆ¶ä½œèŒ¶
            shop.makeBeverage(new Tea());
            
            // åˆ¶ä½œå’–å•¡ï¼ˆå¯èƒ½ä¸åŠ è°ƒæ–™ï¼‰
            shop.makeBeverage(new Coffee());
            
            // åˆ¶ä½œçº¯èŒ¶ï¼ˆä¸åŠ è°ƒæ–™ï¼‰
            shop.makeBeverage(new PureTea());
            
            // æ¼”ç¤ºå¤šæ¬¡å’–å•¡åˆ¶ä½œï¼ˆå±•ç¤ºé’©å­æ–¹æ³•çš„æ•ˆæœï¼‰
            System.out.println("å¤šæ¬¡åˆ¶ä½œå’–å•¡ï¼ˆå±•ç¤ºé’©å­æ–¹æ³•æ•ˆæœï¼‰:");
            for (int i = 0; i < 3; i++) {
                System.out.println("\nç¬¬ " + (i + 1) + " æ¬¡:");
                shop.makeBeverage(new Coffee());
            }
        }
    }
    

### æ¨¡æ¿æ¨¡å¼ä¼˜åŠ¿

1.  **ä»£ç å¤ç”¨**ï¼šå…¬å…±ä»£ç åœ¨çˆ¶ç±»ä¸­å®ç°ï¼Œé¿å…ä»£ç é‡å¤
2.  **æé«˜æ‰©å±•æ€§**ï¼šå­ç±»å¯ä»¥é€šè¿‡å®ç°æŠ½è±¡æ–¹æ³•æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤
3.  **æ§åˆ¶å­ç±»**ï¼šçˆ¶ç±»å¯ä»¥æ§åˆ¶ç®—æ³•çš„ç»“æ„ï¼Œé˜²æ­¢å­ç±»ä¿®æ”¹ç®—æ³•éª¨æ¶
4.  **ç¬¦åˆå¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­

ä¸‰ç§æ¨¡å¼å¯¹æ¯”
------

ç‰¹æ€§

ç­–ç•¥æ¨¡å¼

è´£ä»»é“¾æ¨¡å¼

æ¨¡æ¿æ¨¡å¼

**ä¸»è¦ç›®çš„**

å°è£…ç®—æ³•ï¼Œä½¿å…¶å¯äº’æ¢

è§£è€¦å‘é€è€…å’Œæ¥æ”¶è€…

å®šä¹‰ç®—æ³•éª¨æ¶ï¼Œå­ç±»å®ç°ç»†èŠ‚

**å…³æ³¨ç‚¹**

ç®—æ³•é€‰æ‹©

è¯·æ±‚ä¼ é€’

ç®—æ³•ç»“æ„

**çµæ´»æ€§**

è¿è¡Œæ—¶åˆ‡æ¢ç­–ç•¥

åŠ¨æ€æ„å»ºå¤„ç†é“¾

ç¼–è¯‘æ—¶ç¡®å®šç»“æ„

**é€‚ç”¨åœºæ™¯**

å¤šç§ç®—æ³•é€‰æ‹©

å¤šçº§å®¡æ‰¹ã€è¿‡æ»¤

å›ºå®šæµç¨‹ï¼Œå¯å˜å®ç°

**æ‰©å±•æ–¹å¼**

æ–°å¢ç­–ç•¥ç±»

æ–°å¢å¤„ç†å™¨

æ–°å¢å­ç±»

æ€»ç»“
--

è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘ä¸­å®è´µçš„ç»éªŒæ€»ç»“ï¼Œæ­£ç¡®ä½¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚

*   **ç­–ç•¥æ¨¡å¼**é€‚åˆå¤„ç†ç®—æ³•é€‰æ‹©çš„åœºæ™¯ï¼Œè®©ç®—æ³•å¯ä»¥ç‹¬ç«‹äºå®¢æˆ·ç«¯å˜åŒ–
*   **è´£ä»»é“¾æ¨¡å¼**é€‚åˆå¤„ç†è¯·æ±‚éœ€è¦ç»è¿‡å¤šä¸ªå¤„ç†ç¯èŠ‚çš„åœºæ™¯ï¼Œå®ç°å‘é€è€…å’Œæ¥æ”¶è€…çš„è§£è€¦
*   **æ¨¡æ¿æ¨¡å¼**é€‚åˆå¤„ç†æœ‰å›ºå®šæµç¨‹ä½†æŸäº›æ­¥éª¤éœ€è¦ä¸åŒå®ç°çš„åœºæ™¯ï¼Œå®ç°ä»£ç å¤ç”¨å’Œæ‰©å±•æ§åˆ¶

åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Œæœ‰æ—¶ç”šè‡³éœ€è¦ç»„åˆä½¿ç”¨å¤šç§æ¨¡å¼æ¥è§£å†³å¤æ‚çš„é—®é¢˜ã€‚æŒæ¡è¿™äº›è®¾è®¡æ¨¡å¼çš„ç²¾é«“ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æˆä¸ºæ›´ä¼˜ç§€çš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚

â¤ï¸ å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹èµæ”¯æŒï¼ ğŸ‘ åŒæ—¶æ¬¢è¿å…³æ³¨æˆ‘çš„åšå®¢ï¼Œè·å–æ›´å¤šç²¾å½©å†…å®¹ï¼

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ï¼Œä½œè€…ï¼š[ä½›ç¥–è®©æˆ‘æ¥å·¡å±±](https://www.cnblogs.com/sun-10387834/)ï¼Œè½¬è½½è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/sun-10387834/p/19278707](https://www.cnblogs.com/sun-10387834/p/19278707)