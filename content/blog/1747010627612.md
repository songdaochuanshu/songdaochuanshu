---
layout: post
title: '自建OpenDeepWiki并且白嫖500代金券'
date: "2025-05-12T00:43:47Z"
---
自建OpenDeepWiki并且白嫖500代金券
========================

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025414719-921598241.png)

相信很多人都对OpenDeepWiki很感兴趣。OpenDeepWiki提供了MCP实现，您可以部署属于自己公司的私有知识库，将仓库加入进去，通过MCP对指定的仓库实现内容检索并提供最佳指引。

白嫖500代金券
--------

1.  点击 注册链接 [https://account.coreshub.cn/signup?invite=ZmpMQlZxYVU=](https://account.coreshub.cn/signup?invite=ZmpMQlZxYVU=) 注册账号
2.  完成企业账号实名认证（**注意：只有企业账号才会赠送500代金券**）
3.  前往 API密钥管理页面 [https://console.coreshub.cn/xb3/maas/global-keys/](https://console.coreshub.cn/xb3/maas/global-keys/) 创建APIKey，用于后续部署

部署OpenDeepWiki
--------------

### 前期准备

*   一台安装了Docker和Docker-Compose的服务器
*   刚才创建的API Key

### 部署步骤

1.  创建`docker-compose.yml`文件，内容如下：

    services:
      koalawiki:
        image: crpi-j9ha7sxwhatgtvj4.cn-shenzhen.personal.cr.aliyuncs.com/koala-ai/koala-wiki
        environment:
          - KOALAWIKI_REPOSITORIES=/repositories
          - TASK_MAX_SIZE_PER_USER=5 # 每个用户AI处理文档生成的最大数量，遇到429限流时可调整为1
          - REPAIR_MERMAID=1 # 是否进行Mermaid修复，1修复，其余不修复
          - CHAT_MODEL=DeepSeek-V3 # 必须要支持function的模型
          - ANALYSIS_MODEL=DeepSeek-V3 # 分析模型，用于生成仓库目录结构，模型越强，生成的目录结构越好
          - CHAT_API_KEY=您的APIkey
          - ENDPOINT=https://openapi.coreshub.cn/v1
          - DB_TYPE=sqlite
          - DB_CONNECTION_STRING=Data Source=/data/KoalaWiki.db
          - EnableSmartFilter=true # 是否启用智能过滤，可能影响AI获取仓库文件目录的能力
        volumes:
          - ./repositories:/app/repositories
          - ./data:/data
          
      koalawiki-web:
        image: crpi-j9ha7sxwhatgtvj4.cn-shenzhen.personal.cr.aliyuncs.com/koala-ai/koala-wiki-web
        environment:
          - NEXT_PUBLIC_API_URL=http://koalawiki:8080 # 提供给server的地址
          
      nginx: # 将前端和后端代理到同一端口
        image: crpi-j9ha7sxwhatgtvj4.cn-shenzhen.personal.cr.aliyuncs.com/koala-ai/nginx:alpine
        ports:
          - 8090:80
        volumes:
          - ./nginx/nginx.conf:/etc/nginx/conf.d/default.conf
        depends_on:
          - koalawiki
          - koalawiki-web
    

2.  创建nginx配置目录和配置文件：
    
        mkdir -p nginx
        
    
3.  编辑`./nginx/nginx.conf`文件，内容如下：
    

    server {
        listen 80;
        server_name localhost;
    
        # 日志配置
        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;
    
        # 代理所有 /api/ 请求到后端服务
        location /api/ {
            proxy_pass http://koalawiki:8080/api/;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_cache_bypass $http_upgrade;
        }
    
        # 其他所有请求转发到前端服务
        location / {
            proxy_pass http://koalawiki-web:3000;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection 'upgrade';
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_cache_bypass $http_upgrade;
        }
    }
    

4.  启动服务：

    # 拉取镜像
    docker-compose pull
    
    # 启动服务
    docker-compose up -d
    

5.  打开浏览器访问：[http://localhost:8090](http://localhost:8090)，即可看到OpenDeepWiki界面

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025406659-449702256.png)

将项目添加到OpenDeepWiki
------------------

1.  点击"添加新仓库"按钮，填写仓库地址（支持私有仓库，可填写凭证）：

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025401745-1330416358.png)

2.  点击提交后，系统会开始处理仓库。刷新页面后可以看到仓库正在处理中，点击进入可查看详细进度：

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025357976-94530650.png)

3.  初始阶段可能会显示如下界面，这是因为AI正在初始化项目，需要稍作等待：

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025354092-1508626561.png)

4.  刷新UI后，当概览和目录结构生成成功，即可看到项目进度和相关信息：

![](https://img2024.cnblogs.com/blog/3578564/202505/3578564-20250512025348773-688418827.png)

完成以上步骤后，您就拥有了一个功能完善的私有OpenDeepWiki，可以对您的代码仓库进行智能检索和问答了。

开源地址
----

如果您对OpenDeepWiki感兴趣您可以加入我们

github:[https://github.com/AIDotNet/OpenDeepWiki](https://github.com/AIDotNet/OpenDeepWiki)

gitee:[https://gitee.com/AIDotNet/OpenDeepWiki](https://gitee.com/AIDotNet/OpenDeepWiki)

在线体验：[https://opendeep.wiki/](https://opendeep.wiki/)