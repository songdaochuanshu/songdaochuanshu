---
layout: post
title: '规划中主要使用的地图类型'
date: "2025-12-31T00:45:52Z"
---
规划中主要使用的地图类型
============

> 博客地址：[https://www.cnblogs.com/zylyehuo/](https://www.cnblogs.com/zylyehuo/)

Occupancy Grid Map
==================

> 【占据栅格地图】

> [移动机器人运动规划-第一章(运动规划介绍与地图构建)-第三节(地图构建方法-Occupancy Grid Map)](https://www.bilibili.com/video/BV1GzwderECF/?spm_id_from=333.337.search-card.all.click&vd_source=4acdb875c05ce9dccfce3cd6cfaac651)

> [自动驾驶中的Occupancy Grid占用栅格算法](https://www.bilibili.com/video/BV14C4y1r7Jd/?spm_id_from=333.337.search-card.all.click&vd_source=4acdb875c05ce9dccfce3cd6cfaac651)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230091555060-1199064499.png)

*   基于贝叶斯公式

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230092048607-315558262.png)

*   基于马尔科夫假设（当前的概率与之前的概率是独立的）

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230092203011-2028367547.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230092225738-123828824.png)

*   发现存在相同项

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230092347064-1157737378.png)

*   将两个概率进行相除，约去相同项

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230092755566-498805078.png)

*   利用 log 函数，分离出先验状态

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230093031164-242106556.png)

*   还剩下“逆传感器模型”部分【不直观】

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230093249678-366631429.png)

*   再利用贝叶斯公式，将“逆传感器模型”转换为“传感器模型”【基于当前栅格地图的状态，得到的这一次观测值应该是0还是1的概率】，发现又出现相同项

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230093716424-1872441123.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230093825914-1423272760.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230094001016-1041041406.png)

*   假设“传感器模型”是个定值【基于观测的更新方式】

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230094259734-1484359303.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230094533636-1069601382.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230094914148-745996427.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095200901-845289928.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095233736-1331029782.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095347220-253112120.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095358663-165236316.png)

*   利用滚动的 Occupancy Grid Map，解决“大地图”问题

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095538388-1548681780.png)

TSDF
====

> (Truncated Signed Distance Field)【截断符号距离场】

> [An open-source version of the Chisel chunked TSDF library.](https://github.com/personalrobotics/OpenChisel)

> [运动规划之 TSDF map](https://www.bilibili.com/video/BV1Xi4y1471W/?spm_id_from=333.337.search-card.all.click&vd_source=4acdb875c05ce9dccfce3cd6cfaac651)

*   障碍物外面的值为正值，障碍物外面的值为负值

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230151947608-384612791.png)

ESDF
====

> (Euclidean Signed Distance Field)【欧几里得符号距离场】

> [移动机器人运动规划-第一章(运动规划介绍与地图构建)-第三节(地图构建方法-ESDF)](https://www.bilibili.com/video/BV1Hnwde9EFc?spm_id_from=333.788.player.switch&vd_source=4acdb875c05ce9dccfce3cd6cfaac651&trackid=web_related_0.router-related-2206419-gx8f2.1767056746104.238)

*   “一层”的是 ESDF，上面的小栅格是 Occupancy Grid Map

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230095632105-2084501764.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230100013176-744146623.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230100121591-1498147498.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230100151782-1360282382.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230101513785-573529793.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230135055798-1520530407.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230135316095-806542410.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230135735490-663923292.png)

*   仅针对一维的伪代码

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230135828974-1891255415.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230140300707-708995518.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230140520538-65060715.png)

*   对于二维的情况，就是固定 x，根据不同的 y 求解到达障碍物的最小距离
*   以第一列为例

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230140734954-316583447.png)

*   以第二列为例（没有障碍物的情况，则每个位置的值都为 ∞）

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230141116066-773952293.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230141241727-845739716.png)

*   接着固定 y，根据不同的 x 求解到达障碍物的最小距离

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230141744667-376666185.png)

*   以下面三行为例

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230141817043-1907659702.png)

*   对于第一个格子，x=1，选取【这个格子到别的格子的距离 + 别的格子里面的“值”】最小的结果

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230142536264-839975597.png)

*   对于第二个格子，x=2

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230142732894-2092955561.png)

*   利用两次“一维”的求解，获得二维的结果【三维类似】

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230142837572-2122723745.png)

*   障碍物里面存放的值的意义：到最近的 free 的栅格的距离，同时这个值放的是负值
*   先将障碍物和 free 栅格进行翻转，然后进行计算

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143237644-1636509800.png)

*   将计算后的值添加上负号

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143311745-18788185.png)

*   再和原来的场进行叠加

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143344921-1946627573.png)

*   先沿着 z 轴算，再沿着 y 轴算，最后沿着 x 轴算

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143458985-408992367.png)

*   进行翻转操作【反向 ESDF】，计算障碍物内部的值【先沿着 z 轴算，再沿着 y 轴算，最后沿着 x 轴算】

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143811950-1709618967.png)

*   最后进行叠加

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230143910379-1892087086.png)

*   对于当前位置不在栅格中心的情况，利用插值进行解决

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230144224352-5167244.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230144333713-2132197098.png)

*   ESDF 地图梯度的计算

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230144605924-1620303920.png)

Gaussian Map
============

3DGS
----

> (3D Gaussian Splatting)【3D 高斯溅射地图 / 前沿视觉地图】

> [3D Gaussian Splatting算法及其实现细节](https://zhuanlan.zhihu.com/p/7833648056)

> 论文：[3D Gaussian Splatting for Real-Time Radiance Field Rendering](https://arxiv.org/pdf/2308.04079)

> [代码](https://github.com/graphdeco-inria/gaussian-splatting)

GP Map
------

> (Gaussian Process Map)【高斯过程地图 / 概率连续地图】

> [什么是高斯过程（Gaussian Processes, GP）](https://zhuanlan.zhihu.com/p/2751630763)

> 论文：[Gaussian process occupancy maps for dynamic environments](https://fabioramos.github.io/Publications_files/Simon_ISER2014.pdf)

GMM
---

> (Gaussian Mixture Models)【高斯混合模型地图】

> [如何通俗的理解高斯混合模型（Gaussian Mixture Models））](https://zhuanlan.zhihu.com/p/151671154)

> 论文：[Gaussian Mixture Models](https://zhuanlan.zhihu.com/p/151671154)

NeRF
====

> (Neural Radiance Fields)【神经辐射场】

> 论文：[Representing Scenes as Neural Radiance Fields for View Synthesis](https://arxiv.org/pdf/2003.08934)

> [代码](https://github.com/bmild/nerf)

> [官网](https://www.matthewtancik.com/nerf)

> [NeRF 首篇经典论文介绍（ECCV2020）](https://blog.csdn.net/jiaoyangwm/article/details/133804918)

> [【较真系列】讲人话-NeRF全解（原理+代码+公式）](https://www.bilibili.com/video/BV1CC411V7oq/?spm_id_from=333.337.search-card.all.click&vd_source=4acdb875c05ce9dccfce3cd6cfaac651)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230152646680-808967645.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153232330-8093872.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153304058-1966233738.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153458012-810246374.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153627018-1090646223.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153701724-2140345591.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153801636-51891141.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230153921564-421511957.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230154119566-421233492.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230154404671-1853328831.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230154452220-1182229856.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230154836620-1158102823.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230155102446-1293304585.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230155330237-169551366.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230155631408-2064100778.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230155728157-250263865.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230155820644-869689816.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230160626120-96920975.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230160754127-1769142361.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230160851194-233434887.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230160937600-1841363.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230161047152-122034867.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230161318891-1616916806.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230161437134-1545984944.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230161723359-1462419215.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230161925557-1973428927.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230174118921-38385255.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230174243818-575765853.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175016337-1136716337.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175052111-1485817129.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175157993-2141132230.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175345585-750664154.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175425714-1466271787.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175528313-2072746571.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175732929-1433112194.png)

![image](https://img2024.cnblogs.com/blog/3071480/202512/3071480-20251230175830148-1190162908.png)