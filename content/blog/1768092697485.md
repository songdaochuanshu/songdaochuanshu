---
layout: post
title: 'å¼ é«˜å…´çš„å¤§æ¨¡å‹å¼€å‘å®æˆ˜ï¼šï¼ˆä¸ƒï¼‰åŸºäº Dify + Ollama æ­å»ºç§æœ‰åŒ–çŸ¥è¯†é—®ç­”åŠ©æ‰‹'
date: "2026-01-11T00:51:37Z"
---
å¼ é«˜å…´çš„å¤§æ¨¡å‹å¼€å‘å®æˆ˜ï¼šï¼ˆä¸ƒï¼‰åŸºäº Dify + Ollama æ­å»ºç§æœ‰åŒ–çŸ¥è¯†é—®ç­”åŠ©æ‰‹
===========================================

ç›®å½•

*   [ä¸ºä»€ä¹ˆé€‰æ‹© Dify + Ollama](#ä¸ºä»€ä¹ˆé€‰æ‹©-dify--ollama)
*   [Ollama æœ¬åœ°éƒ¨ç½²](#ollama-æœ¬åœ°éƒ¨ç½²)
*   [Dify æœ¬åœ°å®¹å™¨åŒ–éƒ¨ç½²](#dify-æœ¬åœ°å®¹å™¨åŒ–éƒ¨ç½²)
*   [æ¨¡å‹æ¥å…¥ä¸çŸ¥è¯†åº“ RAG æ„å»º](#æ¨¡å‹æ¥å…¥ä¸çŸ¥è¯†åº“-rag-æ„å»º)
    *   [å‡†å¤‡ Embedding æ¨¡å‹](#å‡†å¤‡-embedding-æ¨¡å‹)
    *   [åœ¨ Dify ä¸­æ·»åŠ  Ollama æ¨¡å‹ä¾›åº”å•†](#åœ¨-dify-ä¸­æ·»åŠ -ollama-æ¨¡å‹ä¾›åº”å•†)
    *   [æ„å»ºçŸ¥è¯†åº“](#æ„å»ºçŸ¥è¯†åº“)
    *   [æ£€ç´¢æµ‹è¯•](#æ£€ç´¢æµ‹è¯•)
*   [æ„å»ºæ™ºèƒ½ä½“åº”ç”¨](#æ„å»ºæ™ºèƒ½ä½“åº”ç”¨)
    *   [åˆ›å»ºåº”ç”¨](#åˆ›å»ºåº”ç”¨)
    *   [ç¼–æ’ç•Œé¢æ¦‚è§ˆ](#ç¼–æ’ç•Œé¢æ¦‚è§ˆ)
    *   [æŸ¥è¯¢é¢„å¤„ç†](#æŸ¥è¯¢é¢„å¤„ç†)
    *   [å…³è”çŸ¥è¯†åº“](#å…³è”çŸ¥è¯†åº“)
    *   [ç¼–å†™æç¤ºè¯](#ç¼–å†™æç¤ºè¯)
    *   [è°ƒæ•´æ¨¡å‹å‚æ•°](#è°ƒæ•´æ¨¡å‹å‚æ•°)
    *   [è°ƒè¯•ä¸å‘å¸ƒ](#è°ƒè¯•ä¸å‘å¸ƒ)
*   [Python API è°ƒç”¨å®æˆ˜](#python-api-è°ƒç”¨å®æˆ˜)
    *   [è·å– API å¯†é’¥](#è·å–-api-å¯†é’¥)
    *   [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
    *   [ç¼–å†™è„šæœ¬](#ç¼–å†™è„šæœ¬)

ä½ æ˜¯å¦ä¹Ÿæœ‰è¿‡è¿™æ ·çš„ç»å†ï¼šå½“æ±½è½¦ä»ªè¡¨ç›˜ä¸Šçªç„¶è·³å‡ºä¸€ä¸ªé™Œç”Ÿçš„é»„è‰²æ•…éšœç¯ï¼Œæˆ–è€…ä½ æƒ³è°ƒæ•´åè§†é•œçš„å€’è½¦ä¸‹ç¿»åŠŸèƒ½ï¼Œå´ä¸å¾—ä¸ä»å‰¯é©¾æ‰‹å¥—ç®±é‡Œç¿»å‡ºé‚£æœ¬åšè¾¾ 400 é¡µã€å°çš®éƒ½å¿«ç²˜è¿çš„ã€Šç”¨æˆ·ä½¿ç”¨æ‰‹å†Œã€‹ã€‚ä½ è¯•å›¾åœ¨ç›®å½•ä¸­å¯»æ‰¾å…³é”®è¯ï¼Œç¿»åˆ°ç¬¬ 218 é¡µï¼Œå´å‘ç°è¿˜æœ‰â€œå‚è§ç¬¬ 56 é¡µâ€çš„è·³è½¬ã€‚åœ¨é‚£ä¸€åˆ»ï¼Œä½ ä¸€å®šå¸Œæœ›æœ‰ä¸€ä¸ªæ‡‚è¡Œçš„è€å¸æœºååœ¨æ—è¾¹ï¼Œä½ åªéœ€é—®ä¸€å¥ï¼šâ€œè¿™ä¸ªåƒèŒ¶å£¶ä¸€æ ·çš„ç¯äº®äº†æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿâ€ï¼Œä»–å°±èƒ½ç«‹é©¬å‘Šè¯‰ä½ ç­”æ¡ˆã€‚åœ¨ AI å¤§æ¨¡å‹æ—¶ä»£ï¼Œè¿™ä¸ªæ„¿æœ›å·²ç»å¯ä»¥é›¶æˆæœ¬å®ç°ã€‚ä»Šå¤©è¿™ç¯‡åšå®¢ï¼Œå°†å¸¦å¤§å®¶å®æˆ˜ä¸€ä¸ªéå¸¸å…¸å‹çš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ åœºæ™¯ï¼š**åˆ©ç”¨å¼€æºå·¥å…· Dify å’Œæœ¬åœ°å¤§æ¨¡å‹å·¥å…· Ollamaï¼Œæ­å»ºä¸€ä¸ªèƒ½å¤Ÿå®Œå…¨è¯»æ‡‚ä½ æ±½è½¦æ‰‹å†Œçš„ AI æ™ºèƒ½ä½“**ã€‚å®Œæˆåï¼Œä¸ä»…å¯ä»¥é€šè¿‡ Web ç•Œé¢ä¸å®ƒå¯¹è¯ï¼Œè¿˜èƒ½é€šè¿‡ Python API å°†å…¶é›†æˆåˆ°å…¶ä»–åº”ç”¨ä¸­ã€‚

ä¸ºä»€ä¹ˆé€‰æ‹© Dify + Ollama
-------------------

åœ¨å¼€å§‹åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆèŠèŠä¸ºä»€ä¹ˆé€‰æ‹©è¿™å¥—æŠ€æœ¯æ ˆã€‚å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ„å»º AI åº”ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚åƒä¹‹å‰åšå®¢ä»‹ç»çš„é‚£æ ·ç›´æ¥ç”¨ **LangChain** æ‰‹æ“ï¼Œæˆ–è€…ä½¿ç”¨**äº‘ç«¯çš„ API**ï¼Œä½†å¯¹äºä¸æ‡‚ç¼–ç¨‹ã€ä¸æ‡‚æŠ€æœ¯çš„ç”¨æˆ·ï¼ŒDify + Ollama æ˜¯ç›®å‰æ€§ä»·æ¯”æœ€é«˜ã€ä¸Šæ‰‹æœ€å¿«çš„é€‰æ‹©ã€‚

**Ollama**ï¼šä¹‹å‰å·²ç»ä»‹ç»è¿‡äº†ï¼Œå®ƒæ˜¯ç›®å‰åœ¨æœ¬åœ°è¿è¡Œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æœ€ç®€å•çš„å·¥å…·ã€‚ä¸éœ€è¦å¤æ‚çš„ç¯å¢ƒé…ç½®ï¼Œä¸éœ€è¦ç ”ç©¶ PyTorchï¼Œåªéœ€ä¸€è¡Œå‘½ä»¤ï¼Œå°±èƒ½åœ¨ PC ä¸Šè¿è¡Œ Llama 3ã€Qwen 2.5 ç­‰å¼€æºæ¨¡å‹ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œå®ƒæ˜¯æœ¬åœ°åŒ–çš„ï¼Œéšç§ç»å¯¹å®‰å…¨ã€‚

**Dify**ï¼šå¦‚æœè¯´ Ollama æä¾›äº†â€œå¤§è„‘â€ï¼Œé‚£ä¹ˆ Dify å°±æä¾›äº†â€œèº«ä½“â€å’Œâ€œå››è‚¢â€ï¼Œä½¿æ¨¡å‹å…·å¤‡äº†ä¸€äº›â€œèƒ½åŠ›â€ã€‚Dify æ˜¯ä¸€ä¸ªå¼€æºçš„ LLM åº”ç”¨å¼€å‘å¹³å°ï¼Œå®ƒè§£å†³äº† LLM å¼€å‘ä¸­æœ€å¸¸è§çš„é—®é¢˜ï¼šçŸ¥è¯†åº“çš„åˆ‡ç‰‡ä¸ç´¢å¼•ã€Prompt çš„ç¼–æ’ã€ä¸Šä¸‹æ–‡è®°å¿†çš„ç®¡ç†ï¼Œä»¥åŠå¯¹å¤–æä¾›æ ‡å‡†çš„ API æ¥å£ã€‚å®ƒæ˜¯ä½ä»£ç çš„ï¼Œå‡ ä¹ä¸éœ€è¦å†™ä»£ç å°±èƒ½æ­å‡ºä¸€ä¸ªä¼ä¸šçº§çš„ AI åº”ç”¨ã€‚

åœ¨æ¥ä¸‹æ¥çš„æ•™ç¨‹ä¸­ï¼Œå°†å®Œæˆä»¥ä¸‹æ“ä½œï¼š

*   **ç¯å¢ƒæ­å»º**ï¼šåœ¨æœ¬åœ°éƒ¨ç½² Ollama å’Œ Difyã€‚
*   **æ¨¡å‹æ¥å…¥**ï¼šè®© Dify è¿æ¥ä¸Šæœ¬åœ°è¿è¡Œçš„ Qwen2.5 æ¨¡å‹ã€‚
*   **çŸ¥è¯†åº“æ„å»º**ï¼šä¸Šä¼ ã€Šç”¨æˆ·æ‰‹å†Œã€‹PDFï¼Œé€šè¿‡ RAG æŠ€æœ¯è®© AI â€œå­¦ä¼šâ€æ‰‹å†Œçš„å†…å®¹ã€‚
*   **æ™ºèƒ½ä½“ç¼–æ’**ï¼šè°ƒè¯• Promptï¼Œè®©å®ƒæ ¹æ®ç”¨æˆ·æ‰‹å†Œå›ç­”é—®é¢˜ã€‚
*   **API è°ƒç”¨**ï¼šç¼–å†™ Python è„šæœ¬è°ƒç”¨æ­å»ºå¥½çš„æ™ºèƒ½ä½“ï¼Œå®ç°é—®ç­”ã€‚

æ“ä½œç”¨åˆ°çš„ç”¨æˆ·æ‰‹å†Œå¯åœ¨æ­¤å¤„ä¸‹è½½ï¼š[https://oss.mpdoc.com/doc/2026/01/10/CA60DABA002540C5894B85DA2DB46E14.pdf?attname=BMW\_ç”¨æˆ·æ‰‹å†Œ\_01405A7D339.pdf](https://oss.mpdoc.com/doc/2026/01/10/CA60DABA002540C5894B85DA2DB46E14.pdf?attname=BMW_%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C_01405A7D339.pdf)

Ollama æœ¬åœ°éƒ¨ç½²
-----------

Ollama çš„å®‰è£…æåº¦ç®€åŒ–ï¼Œå‡ ä¹æ˜¯â€œå¼€ç®±å³ç”¨â€ã€‚ç›´æ¥è®¿é—® Ollama å®˜ç½‘ [https://ollama.com/download](https://ollama.com/download) ä¸‹è½½å®‰è£…åŒ…å³å¯ã€‚Linux ä½¿ç”¨å®˜æ–¹çš„ä¸€é”®å®‰è£…è„šæœ¬ `curl -fsSL https://ollama.com/install.sh | sh`ã€‚å®‰è£…å®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ `ollama -v`ï¼Œçœ‹åˆ°ç‰ˆæœ¬å·å³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚

![1](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173555538-1096083792.jpg)

è®¿é—® [https://ollama.com/search](https://ollama.com/search) å¯ä»¥æŸ¥çœ‹ Ollama æ”¯æŒçš„æ¨¡å‹ï¼Œè¿™é‡Œé€‰æ‹© Qwen2.5-7B ç‰ˆæœ¬ï¼ˆ70 äº¿å‚æ•°ï¼Œå¹³è¡¡äº†é€Ÿåº¦å’Œæ™ºèƒ½ï¼‰ã€‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ `ollama run qwen2.5:7b`ï¼Œç­‰å¾…æ¨¡å‹ä¸‹è½½å®Œæˆï¼ˆå¤§çº¦ 5GBï¼‰ï¼Œå³å¯åœ¨æœ¬åœ°è¿è¡Œè¯¥æ¨¡å‹ã€‚ä¸‹è½½å®Œæˆåï¼Œä¼šç›´æ¥è¿›å…¥å¯¹è¯æ¡†ã€‚ä½ å¯ä»¥è¯•ç€é—®å®ƒï¼šâ€œä½ å¥½ï¼Œä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚â€ å¦‚æœå®ƒèƒ½æµç•…å›å¤ï¼Œè¯´æ˜æ¨¡å‹å·²ç»æ¿€æ´»ã€‚æŒ‰ `Ctrl + D` é€€å‡ºå¯¹è¯æ¨¡å¼ï¼Œæ¨¡å‹ä¼šåœ¨åå°ç»§ç»­è¿è¡Œã€‚

Dify æœ¬åœ°å®¹å™¨åŒ–éƒ¨ç½²
------------

ä¸ºäº†ä¿è¯ç¯å¢ƒçš„çº¯å‡€å’Œæ˜“äºç®¡ç†ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ Docker Compose è¿›è¡Œéƒ¨ç½²ã€‚é¦–å…ˆï¼Œç¡®ä¿ä½ çš„æœºå™¨ä¸Šå®‰è£…äº† Docker å’Œ Docker Composeï¼ˆ[https://www.docker.com](https://www.docker.com)ï¼‰ã€‚ä¸‹é¢éœ€è¦å°† Dify çš„ä»£ç ä»“åº“ä¸‹è½½åˆ°æœ¬åœ°ã€‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ `git clone --depth 1 https://github.com/langgenius/dify.git`ï¼Œå¦‚æœä½ æœ¬åœ°æ²¡æœ‰å®‰è£… Gitï¼Œä¹Ÿå¯ä»¥ç›´æ¥å» GitHub é¡µé¢ä¸‹è½½ ZIP å‹ç¼©åŒ…å¹¶è§£å‹ã€‚

![2](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173616095-1852757731.jpg)

Dify æ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æ¶æ„ï¼ŒåŒ…å«å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ï¼ˆPostgreSQLï¼‰ã€ç¼“å­˜ï¼ˆRedisï¼‰å’Œå‘é‡æ•°æ®åº“ï¼ˆWeaviate/Qdrantï¼‰ç­‰å¤šä¸ªç»„ä»¶ã€‚æ‰‹åŠ¨å®‰è£…è¿™äº›ç»„ä»¶éå¸¸ç¹çï¼Œä½†é€šè¿‡ Docker Composeï¼Œå¯ä»¥ä¸€é”®æ‹‰èµ·æ‰€æœ‰æœåŠ¡ã€‚è¿›å…¥ç›®å½•å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆæ¬¡è¿è¡Œéœ€è¦æ‹‰å–å¤šä¸ª Docker é•œåƒã€‚

    # è¿›å…¥ docker ç›®å½•
    cd dify/docker
    # å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
    cp .env.example .env
    # å¯åŠ¨å®¹å™¨
    docker compose up -d
    

![3](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173625142-201318639.jpg)

ç­‰å¾…æ‰€æœ‰å®¹å™¨å¯åŠ¨å®Œæ¯•åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `http://localhost/install`ï¼Œä½ å°†çœ‹åˆ° Dify çš„åˆå§‹åŒ–å¼•å¯¼ç•Œé¢ã€‚åœ¨è¿™é‡Œè®¾ç½®ä½ çš„ç®¡ç†å‘˜è´¦å·å’Œå¯†ç ã€‚è®¾ç½®å®Œæˆåï¼Œå³å¯ç™»å½•è¿›å…¥ Difyã€‚

![4](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173632662-382269253.jpg)

æ¨¡å‹æ¥å…¥ä¸çŸ¥è¯†åº“ RAG æ„å»º
---------------

ç¯å¢ƒæ­å»ºå®Œæ¯•åï¼Œç›®å‰çš„ Dify è¿˜æ˜¯ä¸€ä¸ªâ€œç©ºå£³â€ã€‚ä¸‹é¢éœ€è¦åšä¸¤ä»¶äº‹ï¼š

1.  æŠŠ Ollama çš„æ¨¡å‹æ¥å…¥ Difyï¼Œè®©å®ƒæ‹¥æœ‰å¯¹è¯å’Œç†è§£èƒ½åŠ›ï¼›
2.  æŠŠã€Šç”¨æˆ·æ‰‹å†Œã€‹å–‚ç»™å®ƒï¼Œæ„å»ºå‘é‡çŸ¥è¯†åº“ã€‚

### å‡†å¤‡ Embedding æ¨¡å‹

åœ¨æ„å»ºçŸ¥è¯†åº“æ—¶ï¼Œé™¤äº†å¯¹è¯æ¨¡å‹ï¼Œè¿˜éœ€è¦ä¸€ä¸ªä¸“é—¨çš„ **Text Embeddingï¼ˆæ–‡æœ¬å‘é‡åŒ–ï¼‰**æ¨¡å‹ã€‚ä¹‹å‰çš„åšå®¢å·²ç»ä»‹ç»äº† Embedding çš„æ¦‚å¿µï¼Œç®€å•æ¥è¯´ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠæ‰‹å†Œé‡Œçš„æ–‡å­—å˜æˆè®¡ç®—æœºèƒ½ç†è§£çš„â€œæ•°å­—å‘é‡â€ã€‚æ‰“å¼€å‘½ä»¤è¡Œï¼Œæ‹‰å–è½»é‡çº§å‘é‡æ¨¡å‹ `ollama pull nomic-embed-text`ã€‚

![5](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173639897-1775865399.jpg)

### åœ¨ Dify ä¸­æ·»åŠ  Ollama æ¨¡å‹ä¾›åº”å•†

å›åˆ° Dify çš„ç½‘é¡µç•Œé¢ï¼š

1.  ç‚¹å‡»å³ä¸Šè§’çš„ `å¤´åƒ -> è®¾ç½® -> æ¨¡å‹ä¾›åº”å•†`ã€‚
2.  æ‰¾åˆ° Ollama å¡ç‰‡ï¼Œç‚¹å‡»â€œå®‰è£…â€ã€‚
3.  å®‰è£…å®Œæˆåï¼Œç‚¹å‡» Ollama å¡ç‰‡ä¸­çš„â€œæ·»åŠ æ¨¡å‹â€ã€‚

![6](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173645926-2078639365.jpg)

è¿™é‡Œéœ€è¦æ·»åŠ ä¸¤æ¬¡ï¼š

ç¬¬ä¸€æ¬¡ï¼šæ·»åŠ  LLMï¼ˆå¯¹è¯æ¨¡å‹ï¼‰

*   æ¨¡å‹åç§°ï¼šqwen2.5:7bï¼ˆå¿…é¡»ä¸ä½ åœ¨å‘½ä»¤è¡Œ ollama list æŸ¥çœ‹åˆ°çš„åç§°å®Œå…¨ä¸€è‡´ï¼‰
*   æ¨¡å‹ç±»å‹ï¼šLLM
*   åŸºç¡€ URLï¼š[http://host.docker.internal:11434](http://host.docker.internal:11434)ï¼ˆDocker å®¹å™¨è®¿é—®å®¿ä¸»æœºçš„åœ°å€ï¼‰

![7](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173652398-161191621.jpg)

ç¬¬äºŒæ¬¡ï¼šæ·»åŠ  Text Embeddingï¼ˆå‘é‡æ¨¡å‹ï¼‰

*   æ¨¡å‹åç§°ï¼šnomic-embed-text
*   æ¨¡å‹ç±»å‹ï¼šText Embedding
*   åŸºç¡€ URLï¼šåŒä¸Š

![8](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173658489-1675220963.jpg)

å¦‚æœä¿å­˜æ—¶æç¤ºâ€œErrorâ€ï¼Œè¯·æ£€æŸ¥ Ollama èƒ½å¦é€šè¿‡ URL [http://localhost:11434](http://localhost:11434) è®¿é—®ï¼Œæˆ–è€… Docker ç½‘ç»œé…ç½®å’Œé˜²ç«å¢™è®¾ç½®ã€‚

### æ„å»ºçŸ¥è¯†åº“

1.  ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„ `çŸ¥è¯†åº“ -> åˆ›å»ºçŸ¥è¯†åº“`ã€‚  
    ![9](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173705818-296885859.jpg)
2.  ä¸Šä¼ æ–‡æ¡£ï¼šé€‰æ‹©â€œå¯¼å…¥å·²æœ‰æ–‡æœ¬â€ï¼Œå°† `ç”¨æˆ·æ‰‹å†Œ.pdf` æ‹–è¿›å»ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚  
    ![10](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173723222-1833847036.jpg)
3.  åˆ†æ®µï¼ˆChunkï¼‰è®¾ç½®ï¼šè¿™é‡Œéœ€è¦é…ç½®å¦‚ä½•å°† PDF æ‹†è§£æˆå°æ®µè½ï¼Œæ–¹ä¾¿åç»­æ£€ç´¢ã€‚  
    ![11](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110175824415-1968033477.jpg)
    *   **åˆ†æ®µæ ‡è¯†ç¬¦**ï¼šæ–‡æ¡£æ®µè½ä¹‹é—´æ˜¯æ€æ ·åˆ†éš”çš„ã€‚`\n` è¡¨ç¤ºæ¢è¡Œç¬¦ï¼Œä¾‹å¦‚æ­¤å¤„ä¸Šä¼ çš„æ–‡æ¡£æ®µè½ä¹‹é—´å°±æ˜¯é€šè¿‡æ¢è¡Œç¬¦åˆ†éš”çš„ï¼Œæœ‰äº›æ—¶å€™å¯èƒ½ä¼šä½¿ç”¨åŒæ¢è¡Œç¬¦ `\n\n`ï¼Œå³ä¸¤ä¸ªæ®µè½ä¹‹é—´æœ‰ä¸€ä¸ªç©ºè¡Œã€‚  
        ![12](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173744816-994388722.jpg)
    *   **æœ€å¤§åˆ†æ®µé•¿åº¦**ï¼šå†³å®šäº† AI â€œä¸€å£åƒå¤šå°‘ä¸œè¥¿â€ã€‚å¦‚æœè®¾ç½®å¾—å¤ªå°ï¼ŒçŸ¥è¯†åº“ä¼šè¢«åˆ‡å¾—è¿‡ç¢ï¼Œå½±å“æ£€ç´¢æ•ˆæœï¼›å¦‚æœè®¾ç½®å¾—å¤ªå¤§ï¼ŒAI å¯èƒ½æ— æ³•æœ‰æ•ˆåˆ©ç”¨ä¸Šä¸‹æ–‡ã€‚
    *   **åˆ†æ®µé‡å é•¿åº¦**\*ï¼šç›¸é‚»æ®µè½ä¹‹é—´é‡å çš„å­—ç¬¦æ•°ï¼Œæœ‰åŠ©äºä¿æŒä¸Šä¸‹æ–‡è¿ç»­æ€§ã€‚
    *   **ä½¿ç”¨ Q&A åˆ†æ®µ**ï¼šå¦‚æœä½ çš„æ–‡æ¡£æ˜¯â€œé—®ç­”â€ç±»å‹çš„ï¼Œå¼€å¯æ­¤é€‰é¡¹å¯ä»¥è®© Dify è¯†åˆ«é—®ç­”å¯¹ï¼Œæå‡æ£€ç´¢æ•ˆæœã€‚
4.  ç´¢å¼•æ–¹å¼ï¼šé€‰æ‹© â€œé«˜è´¨é‡â€ï¼Œè¿™ä¼šè°ƒç”¨åˆšæ‰é…ç½®çš„ `nomic-embed-text` æ¨¡å‹è¿›è¡Œå‘é‡åŒ–å¤„ç†ã€‚  
    ![13](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173757332-1520249686.jpg)
5.  ç‚¹å‡» â€œä¿å­˜å¹¶å¤„ç†â€ã€‚

æ­¤æ—¶ï¼ŒDify ä¼šå°†å‡ ç™¾é¡µçš„ PDF æ‹†è§£æˆå°æ®µï¼Œè½¬æ¢æˆå‘é‡ï¼Œå¹¶å­˜å…¥å†…ç½®çš„å‘é‡æ•°æ®åº“ä¸­ã€‚æ ¹æ®æ–‡æ¡£å¤§å°ï¼Œè¿™å¯èƒ½éœ€è¦è¾ƒé•¿çš„æ—¶é—´ã€‚

![14](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173809295-2078979256.jpg)

### æ£€ç´¢æµ‹è¯•

ä¸è¦æ€¥ç€å»åˆ›å»ºèŠå¤©åŠ©æ‰‹ï¼Œå…ˆç¡®è®¤çŸ¥è¯†åº“â€œæ‡‚äº†â€æ²¡æœ‰ã€‚åœ¨çŸ¥è¯†åº“è¯¦æƒ…é¡µçš„å·¦ä¾§ï¼Œæ‰¾åˆ° `å¬å›æµ‹è¯•` æŒ‰é’®ã€‚è¿™é‡Œå¯ä»¥æ¨¡æ‹Ÿæ£€ç´¢è¿‡ç¨‹ã€‚ä¾‹å¦‚è¾“å…¥æµ‹è¯•æ–‡æœ¬ï¼šâ€œå¦‚ä½•æ‰“å¼€è¿œå…‰ç¯ï¼Ÿâ€ï¼Œç‚¹å‡» `æµ‹è¯•`ï¼Œç³»ç»Ÿä¼šå±•ç¤ºå®ƒä»æ‰‹å†Œä¸­æ‰¾åˆ°çš„æœ€ç›¸å…³çš„å‡ ä¸ªæ®µè½ã€‚å¦‚æœç»“æœä¸å‡†ï¼Œè¯´æ˜åˆ†æ®µå¯èƒ½åˆ‡å¾—å¤ªç¢äº†ï¼Œæˆ–è€… PDF è§£æä¹±ç ã€‚è¿™æ—¶éœ€è¦å›åˆ° `è®¾ç½®` ä¸­è°ƒæ•´åˆ†æ®µè§„åˆ™é‡æ–°ç´¢å¼•ã€‚

![15](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173816173-120366651.jpg)

æ„å»ºæ™ºèƒ½ä½“åº”ç”¨
-------

å¦‚æœè¯´çŸ¥è¯†åº“æ˜¯ AI çš„â€œå›¾ä¹¦é¦†â€ï¼Œé‚£ä¹ˆ **æ™ºèƒ½ä½“ç¼–æ’ï¼ˆOrchestrationï¼‰** å°±æ˜¯ç»™ AI åˆ¶å®šâ€œå‘˜å·¥æ‰‹å†Œâ€ã€‚éœ€è¦å‘Šè¯‰ AIï¼šä½ ç°åœ¨çš„èº«ä»½æ˜¯ä»€ä¹ˆï¼Ÿä½ åº”è¯¥æ€ä¹ˆæŸ¥é˜…èµ„æ–™ï¼Ÿé‡åˆ°ä¸çŸ¥é“çš„é—®é¢˜è¯¥æ€ä¹ˆå›ç­”ï¼Ÿåœ¨ Dify ä¸­ï¼Œè¿™ä¸€æ­¥ä¸éœ€è¦å†™ä»£ç ï¼Œå…¨ç¨‹å¯è§†åŒ–æ“ä½œã€‚

### åˆ›å»ºåº”ç”¨

å›åˆ° Dify é¦–é¡µçš„ `å·¥ä½œå®¤`ï¼Œç‚¹å‡» `åˆ›å»ºåº”ç”¨` æŒ‰é’®ã€‚åº”ç”¨ç±»å‹é€‰æ‹© `Chatflow`ï¼Œå¹¶èµ·ä¸€ä¸ªåˆé€‚çš„åç§°ã€‚

![16](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173823717-759822891.jpg)

### ç¼–æ’ç•Œé¢æ¦‚è§ˆ

è¿›å…¥åº”ç”¨åï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªå·¦å³åˆ†æ çš„ç•Œé¢ï¼š

*   å·¦ä¾§ï¼šç¼–æ’åŒºï¼Œç¼–æ’ AI çš„å·¥ä½œæµç¨‹ã€‚é»˜è®¤åˆ›å»ºäº†ä¸€ä¸ªåŒ…å« LLM èŠ‚ç‚¹çš„æœ€ç®€å•å¯¹è¯æµç¨‹ã€‚
*   å³ä¾§ï¼šè°ƒè¯•åŒºï¼Œç”¨æ¥è®¾ç½®æç¤ºè¯ã€ä¸Šä¸‹æ–‡ã€å¼€åœºç™½ç­‰ï¼Œä¹Ÿå¯ä»¥å®æ—¶æµ‹è¯• AI çš„ååº”ã€‚

![17](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173829942-380944119.jpg)

### æŸ¥è¯¢é¢„å¤„ç†

åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œä½ å¯èƒ½ä¼šå‘ç° AI æœ‰æ—¶å€™å˜å¾—â€œç¬¨ç¬¨çš„â€ã€‚å› ä¸ºç”¨æˆ·çš„å£è¯­è¡¨è¾¾å’Œæ‰‹å†Œçš„ä¹¦é¢æœ¯è¯­ä¸å®Œå…¨ä¸€è‡´ï¼Œå¯¼è‡´æ£€ç´¢å¤±è´¥ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨ AI å»çŸ¥è¯†åº“â€œç¿»ä¹¦â€ä¹‹å‰ï¼Œå…ˆå¯¹ç”¨æˆ·çš„é—®é¢˜è¿›è¡Œâ€œé¢„å¤„ç†â€ï¼Œä¹Ÿå°±æ˜¯æå–æ£€ç´¢çš„å…³é”®è¯å¥ã€‚

![18](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173835949-1897527180.jpg)

ä¸‹é¢ç‚¹å‡»é»˜è®¤æä¾›çš„ `LLM` èŠ‚ç‚¹ï¼Œä¿®æ”¹åç§°ä¸ºâ€œæå–å…³é”®è¯â€ã€‚åœ¨å³ä¾§çš„ `SYSTEM` æç¤ºè¯åŒºåŸŸï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š

    # Task
    ä½ å°†æ”¶åˆ°ç”¨æˆ·çš„é—®é¢˜ã€‚è¯·å…ˆæå–é—®é¢˜ä¸­çš„å…³é”®ä¿¡æ¯ï¼Œç”¨äºè¿›è¡Œæ£€ç´¢çŸ¥è¯†åº“å†…å®¹ã€‚
    
    # Output
    è¾“å‡ºå¤šä¸ªå…³é”®è¯æˆ–å…³é”®å¥ï¼Œå…³é”®è¯æˆ–å…³é”®å¥ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¦æ­¢ç›´æ¥å›ç­”ç”¨æˆ·çš„é—®é¢˜
    

å®Œæˆåå¯ä»¥ç‚¹å‡»é¡¶éƒ¨çš„ `é¢„è§ˆ` æŒ‰é’®è¿›è¡Œæµ‹è¯•ã€‚

![19](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173843770-326911027.jpg)

### å…³è”çŸ¥è¯†åº“

æ£€ç´¢å…³é”®è¯æœ‰äº†ä¹‹åï¼Œå°±å¯ä»¥åˆ©ç”¨å…³é”®è¯åœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³å†…å®¹ã€‚åœ¨ `æå–å…³é”®è¯` å’Œ `ç›´æ¥å›å¤` èŠ‚ç‚¹ä¹‹é—´ï¼Œæ·»åŠ ä¸€ä¸ªæ–°èŠ‚ç‚¹ `çŸ¥è¯†æ£€ç´¢`ã€‚

![20](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173852564-747377421.jpg)

å°† `æŸ¥è¯¢æ–‡æœ¬` æ”¹ä¸º `æå–å…³é”®è¯` èŠ‚ç‚¹çš„è¾“å‡ºï¼Œ`çŸ¥è¯†åº“` é€‰æ‹©åˆšåˆšåˆ›å»ºçš„â€œç”¨æˆ·æ‰‹å†Œâ€çŸ¥è¯†åº“ã€‚

![21](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173859735-806861444.jpg)

### ç¼–å†™æç¤ºè¯

ä»çŸ¥è¯†åº“ä¸­æ£€ç´¢åˆ° **ç›¸å…³ä¿¡æ¯ï¼ˆContextï¼Œä¸Šä¸‹æ–‡ï¼‰** åï¼Œæ¥ä¸‹æ¥å°±æ˜¯è®© AI æ ¹æ®è¿™äº›ä¿¡æ¯å›ç­”ç”¨æˆ·çš„é—®é¢˜äº†ã€‚åœ¨ `çŸ¥è¯†æ£€ç´¢` å’Œ `ç›´æ¥å›å¤` èŠ‚ç‚¹ä¹‹é—´ï¼Œæ·»åŠ ä¸€ä¸ª `LLM èŠ‚ç‚¹` åç§°ä¸º `å›ç­”é—®é¢˜`ã€‚

![22](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173906681-185163454.jpg)

åœ¨å³ä¾§çš„ `ä¸Šä¸‹æ–‡` ä¸­é€‰æ‹© `çŸ¥è¯†æ£€ç´¢` èŠ‚ç‚¹è¾“å‡ºçš„ç»“æœ `result`ï¼Œ`SYSTEM` æç¤ºè¯åŒºåŸŸï¼Œè¾“å…¥ä¸‹é¢çš„æç¤ºè¯ï¼Œè¿™æ®µæç¤ºè¯ä½¿ç”¨äº† **Role-Constraints-Goal** æ¡†æ¶ï¼Œèƒ½æœ‰æ•ˆé˜²æ­¢ AI äº§ç”Ÿå¹»è§‰ã€‚

    # Role
    ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„æ±½è½¦ç»´ä¿®ä¸ä½¿ç”¨ä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ã€Contextã€‘æä¾›çš„å†…å®¹ï¼Œå‡†ç¡®ã€ç®€æ´åœ°å›ç­”ç”¨æˆ·å…³äºè½¦è¾†ä½¿ç”¨çš„é—®é¢˜ã€‚
    
    # Constraints
    1. å¿…é¡»å®Œå…¨åŸºäºã€Contextã€‘ä¸­çš„ä¿¡æ¯å›ç­”ï¼Œä¸¥ç¦å‡­ç©ºæé€ æˆ–åˆ©ç”¨å¤–éƒ¨çŸ¥è¯†å›ç­”æ‰‹å†Œæœªæ¶‰åŠçš„å†…å®¹ã€‚
    2. å¦‚æœã€Contextã€‘ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·ç›´æ¥å›ç­”ï¼šâ€œå¾ˆæŠ±æ­‰ï¼Œå½“å‰æ‰‹å†Œä¸­æœªæ‰¾åˆ°å…³äºè¯¥é—®é¢˜çš„è¯´æ˜ã€‚â€
    3. å›ç­”æ­¥éª¤è¦æ¸…æ™°ï¼Œå¦‚æœæ˜¯æ“ä½œæŒ‡å—ï¼Œè¯·æŒ‰ 1. 2. 3. åˆ†ç‚¹åˆ—å‡ºã€‚
    4. è¯­æ°”è¦ä¸“ä¸šã€è€å¿ƒã€ä¹äºåŠ©äººã€‚
    
    # Goal
    å¸®åŠ©ç”¨æˆ·å¿«é€Ÿè§£å†³è½¦è¾†ä½¿ç”¨ä¸­çš„ç–‘æƒ‘ï¼Œç¡®ä¿è¡Œè½¦å®‰å…¨ã€‚
    
    # Context
    {{#context#}}
    

![23](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173914452-1683249888.jpg)

### è°ƒæ•´æ¨¡å‹å‚æ•°

ç‚¹å‡»æ¨¡å‹å³ä¾§çš„å›¾æ ‡ï¼Œè®¾ç½® **æ¸©åº¦ï¼ˆTemperatureï¼‰** å‚æ•°ï¼Œå¯ä»¥è®¾ä¸ºå°äº 0.5 çš„å€¼ã€‚æ¸©åº¦è¶Šä½ï¼ŒAI è¶Šä¸¥è°¨ã€è¶Šæ­»æ¿ï¼›æ¸©åº¦è¶Šé«˜ï¼ŒAI è¶Šå‘æ•£ã€è¶Šæœ‰åˆ›é€ åŠ›ã€‚å¯¹äºâ€œæŸ¥é˜…è¯´æ˜ä¹¦â€è¿™ç§ä¸¥è‚ƒåœºæ™¯ï¼Œéœ€è¦çš„æ˜¯ç»å¯¹çš„å‡†ç¡®ï¼Œè€Œä¸æ˜¯åˆ›é€ åŠ›ã€‚

![24](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173920912-187985402.jpg)

### è°ƒè¯•ä¸å‘å¸ƒ

ä»¥ä¸Šé…ç½®å®Œæˆåï¼Œå…ˆåœ¨å³ä¾§è¿›è¡Œé¢„è§ˆæµ‹è¯•ï¼Œè§‚å¯Ÿ AI çš„å›ç­”æ˜¯å¦å‡†ç¡®ã€æ­¥éª¤æ˜¯å¦æ¸…æ™°ï¼Œå¹¶ä¸”æœ‰æ— å¼•ç”¨æ¥æºã€‚å¦‚æœä¸æ»¡æ„ï¼Œå¯ä»¥ç»§ç»­è°ƒæ•´æç¤ºè¯æˆ–ä¸Šä¸‹æ–‡è®¾ç½®ï¼Œç›´åˆ°æ»¡æ„ä¸ºæ­¢ã€‚æµ‹è¯•æ»¡æ„åï¼Œç‚¹å‡»å³ä¸Šè§’çš„ `å‘å¸ƒ` æŒ‰é’®ã€‚å‘å¸ƒæˆåŠŸåç‚¹å‡» `è¿è¡Œ`ï¼Œå³å¯é€šè¿‡ URL è¿›å…¥ Web ç•Œé¢å’Œä½ çš„â€œè½¦è¾†ç®¡å®¶â€èŠå¤©äº†ï¼

![25](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173927484-1416542216.jpg)

Python API è°ƒç”¨å®æˆ˜
---------------

åœ¨å‰é¢çš„æ­¥éª¤ä¸­ï¼Œå·²ç»å®ç°äº†ä¸€ä¸ªèƒ½åœ¨ Dify ç½‘é¡µç«¯æµç•…å¯¹è¯çš„â€œç”¨è½¦é¡¾é—®â€ã€‚Dify æœ€å¼ºå¤§çš„åœ°æ–¹åœ¨äºå®ƒéµå¾ª API First çš„è®¾è®¡ç†å¿µã€‚æˆ‘ä»¬åœ¨ç½‘é¡µä¸Šçœ‹åˆ°çš„æ‰€æœ‰åŠŸèƒ½ï¼Œéƒ½å¯ä»¥é€šè¿‡ API è¿›è¡Œè°ƒç”¨ã€‚è¿™æ„å‘³ç€å¯ä»¥æŠŠè¿™ä¸ªâ€œå¤§è„‘â€æ¥å…¥åˆ°ä»»ä½•ä½ æƒ³è¦çš„åœ°æ–¹ã€‚æ¥ä¸‹æ¥ï¼Œç¼–å†™ä¸€æ®µ Python ä»£ç ï¼Œå®ç°ä¸æ™ºèƒ½ä½“çš„è¿œç¨‹å¯¹è¯ã€‚

### è·å– API å¯†é’¥

è¦é€šè¿‡ API è°ƒç”¨ Difyï¼Œé¦–å…ˆéœ€è¦æ‹¿åˆ°é€šè¡Œè¯ã€‚åœ¨ Dify åº”ç”¨ç¼–æ’é¡µé¢çš„å·¦ä¾§å¯¼èˆªæ ï¼Œç‚¹å‡» `è®¿é—® API`ã€‚

1.  åœ¨å³ä¸Šè§’ç‚¹å‡» `API å¯†é’¥ -> åˆ›å»ºå¯†é’¥`ã€‚
2.  å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ã€‚
3.  ç•™æ„é¡µé¢ä¸Šçš„ API æœåŠ¡å™¨åœ°å€ï¼Œæœ¬åœ°éƒ¨ç½²é€šå¸¸æ˜¯ [http://localhost/v1](http://localhost/v1) ã€‚

![26](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173934628-1854017123.jpg)

### ç¯å¢ƒå‡†å¤‡

éœ€è¦ä½¿ç”¨ Python çš„ requests åº“æ¥å‘é€ HTTP è¯·æ±‚ã€‚å¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼Œè¯·åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ `pip install requests`ã€‚

### ç¼–å†™è„šæœ¬

æ–°å»ºä¸€ä¸ªæ–‡ä»¶ `car_bot.py`ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶è¿›å»ã€‚è¿™æ®µä»£ç ä½¿ç”¨äº†é˜»å¡æ¨¡å¼ (Blocking)ï¼Œç¨‹åºä¼šç­‰å¾… AI å®Œå…¨ç”Ÿæˆå®Œç­”æ¡ˆåï¼Œä¸€æ¬¡æ€§è¿”å›ç»“æœã€‚

    import requests
    
    # ================= é…ç½®åŒºåŸŸ =================
    # æ›¿æ¢ä¸ºä½ çš„ API å¯†é’¥
    API_KEY = 'app-pJRiHLHP4UMJ3tGqyYLyAjGb' 
    # Dify çš„ API åœ°å€
    BASE_URL = 'http://localhost/v1'
    # å®šä¹‰è¯·æ±‚å¤´
    headers = {
        'Authorization': f'Bearer {API_KEY}',
        'Content-Type': 'application/json'
    }
    # ===========================================
    
    def ask(question, user_id="user_123", conversation_id=""):
        """
        å‘é€é—®é¢˜ç»™ Dify æ™ºèƒ½ä½“
        :param question: ç”¨æˆ·çš„é—®é¢˜
        :param user_id: ç”¨æˆ·å”¯ä¸€æ ‡è¯†ï¼ˆç”¨äºåŒºåˆ†ä¸åŒç”¨æˆ·çš„ä¸Šä¸‹æ–‡ï¼‰
        :param conversation_id: ä¼šè¯ IDï¼ˆç”¨äºå¤šè½®å¯¹è¯ï¼‰
        """
        url = f'{BASE_URL}/chat-messages'
        
        payload = {
            "inputs": {},           # å¦‚æœä½ çš„ Prompt æ²¡è®¾ç½®å˜é‡ï¼Œè¿™é‡Œç•™ç©º
            "query": question,      # ç”¨æˆ·çš„é—®é¢˜
            "response_mode": "blocking", # blocking=ç­‰å¾…å…¨éƒ¨ç”Ÿæˆ, streaming=æµå¼è¾“å‡º
            "conversation_id": conversation_id,  # ç•™ç©ºè¡¨ç¤ºå¼€å¯æ–°ä¼šè¯ï¼Œå¡«å…¥ ID å¯å»¶ç»­ä¸Šä¸‹æ–‡
            "user": user_id,        # å¿…é¡»å­—æ®µï¼ŒåŒºåˆ†ç”¨æˆ·
        }
    
        try:
            print(f"æ­£åœ¨æ€è€ƒé—®é¢˜ï¼š{question} ...")
            response = requests.post(url, headers=headers, json=payload)
            response.raise_for_status()
            result = response.json()
            
            # æå– AI çš„å›ç­”
            answer = result.get('answer', '')
            # æå–å¼•ç”¨æ¥æºï¼ˆå¦‚æœæœ‰ï¼‰
            metadata = result.get('metadata', {})
            usage = metadata.get('usage', {})
            
            print("-" * 30)
            print(f"ğŸ¤– AI å›ç­”ï¼š\n{answer}")
            print("-" * 30)
            print(f"ğŸ“Š æ¶ˆè€— Tokenï¼š{usage.get('total_tokens', 0)}")
            
            return result.get('conversation_id') # è¿”å›ä¼šè¯ ID ä¾›ä¸‹æ¬¡ä½¿ç”¨
    
        except requests.exceptions.RequestException as e:
            print(f"è¯·æ±‚å‡ºé”™: {e}")
            return None
    
    if __name__ == '__main__':
        # æµ‹è¯•è°ƒç”¨
        current_conversation_id = ask("å¦‚ä½•åˆ†äº«æ•°å­—é’¥åŒ™ï¼Ÿ")
    

è¿è¡Œè„šæœ¬ `python car_bot.py`ï¼Œä½ å°†çœ‹åˆ° AI æ ¹æ®æ‰‹å†Œå†…å®¹ç»™å‡ºçš„å‡†ç¡®å›ç­”ã€‚

![27](https://img2024.cnblogs.com/blog/1085877/202601/1085877-20260110173943328-1105087118.jpg)

é€šè¿‡è¿™ä¸ª Python è„šæœ¬ï¼Œæƒ³è±¡åŠ›å°±å¯ä»¥èµ·é£äº†ã€‚å°†è„šæœ¬å°è£…æˆä¸€ä¸ª Web æœåŠ¡ï¼Œæ¥æ”¶å¾®ä¿¡æ¶ˆæ¯ï¼Œè½¬å‘ç»™ Difyï¼Œå†æŠŠç­”æ¡ˆå‘å›å¾®ä¿¡ï¼Œåˆ¶ä½œä¸€ä¸ªèŠå¤©æœºå™¨äººã€‚ä¹Ÿå¯ä»¥ç»“åˆ Whisperï¼ˆè¯­éŸ³è½¬æ–‡å­—ï¼‰å’Œ Edge-TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰ï¼Œç»™è¿™ä¸ªæ™ºèƒ½ä½“åŠ ä¸Šè€³æœµå’Œå˜´å·´...