---
layout: post
title: 'Unigineæ•´åˆMyra UI Libraryå…¨çºªå½•ï¼ˆ1ï¼‰ï¼šå¼•è¨€ï¼Œçº¹ç†ä¸å¹³å°'
date: "2025-09-26T00:38:22Z"
---
Unigineæ•´åˆMyra UI Libraryå…¨çºªå½•ï¼ˆ1ï¼‰ï¼šå¼•è¨€ï¼Œçº¹ç†ä¸å¹³å°
=======================================

å¤ªé•¿ä¸çœ‹ï¼š[https://github.com/horeaper/UnigineMyraIntegration](https://github.com/horeaper/UnigineMyraIntegration)

ä»€ä¹ˆæ˜¯Myraï¼Ÿ
--------

è¿™ä¸ªæ˜¯Myraï¼š[https://github.com/rds1983/Myra](https://github.com/rds1983/Myra)

ç†Ÿæ‚‰WPF/Avalonia/Silverlight/UWPå¼€å‘çš„æœ‹å‹è‚¯å®šä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥è¿™ä¸ªUIåº“ç”¨çš„æ˜¯ä»€ä¹ˆä½æ–™äº†ã€‚å®ƒå½“ç„¶ä¸æ˜¯å®Œæ•´çš„WPFå®ç°ï¼Œå¯¹äºæ¸¸æˆå¼€å‘è€Œè¨€ä¹Ÿæ²¡å¿…è¦ç”¨å®Œæ•´çš„WPFï¼Œå¤ªé‡äº†ã€‚

Myraæœ‰ç€å’ŒWPFéå¸¸ç±»ä¼¼çš„Layoutç³»ç»Ÿï¼Œè¿è¡Œæ•ˆç‡ä¹Ÿä¸é”™ï¼ŒåŒæ—¶è¿˜æ”¯æŒXMLå£°æ˜ï¼ˆè¢«ç§°ä¸ºMMLï¼ŒMyra Markup Languageï¼‰ï¼Œæ—¢å¯ä»¥å®æ—¶åŠ è½½XMLä¹Ÿå¯ä»¥ç”¨MyraPadå°†è¿™äº›XMLè½¬æ¢æˆC#ä»£ç ã€‚æ•´åˆè¿›å¼•æ“é‡Œä¹Ÿä¸éº»çƒ¦ã€‚è¿™å°±å¤Ÿäº†ã€‚

è¿™ç©æ„å„¿ç”šè‡³FileDialogå’ŒColorPickerDialogéƒ½ç»™ä½ åšäº†ä¸€ä»½ï¼Œçœäº†å¤§äº‹äº†ğŸ¤£

ç¬¬ä¸€æ­¥ï¼šå…ˆå­¦å†ç”¨
--------

æœ¬æ–‡å†™äºMyra 1.5.9ç‰ˆæœ¬ã€‚

é¦–å…ˆå»ºè®®æŠŠGithubä¸ŠMyraçš„Wikiéƒ½çœ‹ä¸€éï¼Œå¤§æ¦‚äº†è§£ä¸€ä¸‹Myraæ˜¯æ€ä¹ˆç©çš„ã€‚ä¹‹åæˆ‘å»ºè®®æ‰¾ä¸ªç©ºæ–‡ä»¶å¤¹`git clone https://github.com/rds1983/Myra.git`ï¼Œç„¶åæ‰“å¼€`Myra\build\Myra.PlatformAgnostic.sln`ï¼Œä½ ä¼šçœ‹åˆ°å‡ ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­åœ¨Samplesæ–‡ä»¶å¤¹ä¸‹é¢æœ‰è¿™ä¸‰ä¸ªç¤ºä¾‹é¡¹ç›®ï¼š

*   `Samples/Myra.Samples.PlatformAgnostic`ï¼šç”¨MonoGameæ‰‹åŠ¨æ•´åˆï¼Œä¸ä½¿ç”¨è‡ªå¸¦çš„æ•´åˆæ–¹å¼ï¼Œè€Œæ˜¯æ‰‹åŠ¨ä»æ¥å£ç»§æ‰¿å¹¶å®ç°æ‰€æœ‰æ¥å£åŠŸèƒ½ã€‚å¦‚æœä½ è¦æ•´åˆçš„ç›®æ ‡å¼•æ“é‡Œé¢æœ‰Xnaçš„SpriteBatchç±»ä¼¼ç‰©ï¼Œé‚£ä¹ˆç›´æ¥ç…§ç€è¿™ä¸ªä¾‹å­å»åšå°±å¤Ÿäº†ã€‚
*   `Samples/Myra.Samples.Silk.NET`ï¼šç”¨Silk.NET + OpenGLæ•´åˆï¼Œæ˜¯æœ€åº•å±‚çš„æ•´åˆæ–¹å¼ã€‚è™½ç„¶çª—å£æ¡†æ¶è¿˜æ˜¯Silk.NETæä¾›çš„ï¼Œä¸è¿‡å…¶è´Ÿè´£æ¸²æŸ“çš„`QuadBatch.cs`å®Œå…¨æ˜¯æ‰‹å†™ã€‚å¦‚æœä½ è¦æ•´åˆçš„ç›®æ ‡å¼•æ“é‡Œé¢åªæä¾›äº†æœ€åŸºç¡€çš„Meshæ¸²æŸ“æ–¹å¼ï¼ˆæ¯”å¦‚Unigineï¼‰ï¼Œé‚£ä¹ˆå°±è¦å‚è€ƒè¿™ä¸ªä¾‹å­æ¥åšã€‚
*   `Samples/Myra.Samples.Silk.NET.TrippyGL`ï¼šä»ç„¶æ˜¯Silk.NET + OpenGLæ•´åˆï¼Œä½†ä½¿ç”¨TrippyGLç®€åŒ–äº†ä»£ç ã€‚TrippyGLæä¾›äº†ä¸€ä¸ªSpriteBatchç±»ä¼¼ç‰©ï¼Œå«TextureBatcherï¼Œå› æ­¤è¿™ä¸ªæ•´åˆè¿‡ç¨‹å’Œæ‰‹åŠ¨MonoGameæ•´åˆå¾ˆç±»ä¼¼ã€‚å…¶å®å¯ä»¥è·³è¿‡ä¸çœ‹ã€‚

æœ€åæ˜¯`Myra.PlatformAgnostic`ï¼ŒMyraä¸»é¡¹ç›®ï¼Œä»£ç è™½ç„¶å¾ˆå¤šä½†æ•´ç†çš„å¾ˆæœ‰åºï¼Œæƒ³çœ‹å¯ä»¥é’»è¿›å»çœ‹ï¼Œä½†ç›®å‰å…ˆä¸èµ°é‚£ä¹ˆæ·±ã€‚

æ¥ä¸‹æ¥å»ºè®®å»è¿™é‡Œï¼š[https://github.com/unigine-engine/unigine-imgui-csharp-integration-sample](https://github.com/unigine-engine/unigine-imgui-csharp-integration-sample)

è¿™ä¸ªä¾‹å­æ˜¯Unigineæ•´åˆImGui.NETçš„ä¾‹å­ï¼Œå…¶ä¸­ImGuiImpl.csæ˜¯æ•´ä¸ªå®ç°è¿‡ç¨‹ã€‚åˆ«è¢«è¿™çœ‹ä¸Šå»ä¹±ä¸ƒå…«ç³Ÿçš„æ–‡ä»¶å“åˆ°ï¼Œå…¶å®å®ƒå†…å®¹è¿˜æ˜¯æŒºç®€å•çš„ï¼Œåªæ˜¯æŠŠå‡ ä¸ªä¸åŒçš„æ¨¡å—å…¨å†™åœ¨äº†ä¸€ä¸ªç±»é‡Œé¢ã€‚å¥½å­©å­ä¸è¦è¿™ä¹ˆåšå“¦ï¼

å‘Unigineæ•´åˆæ–°çš„GUIç³»ç»Ÿï¼Œç»å¤§éƒ¨åˆ†å†…å®¹éƒ½å¯ä»¥å‚è€ƒè¿™ä¸ªImGui.NETçš„å®ç°æ–¹å¼ã€‚åæ–‡æˆ‘ä¹Ÿä¼šå¤šæ¬¡æåˆ°è¿™ä¸ªä¸œè¥¿ã€‚

ç¬¬äºŒæ­¥ï¼šå‡†å¤‡å·¥ä½œ
--------

Myraè‡ªå¸¦æœ‰MonoGameã€FNAå’ŒStrideçš„æ•´åˆï¼ŒåŒæ—¶è¿˜æœ‰PlatformAgnosticåŒ…ç”¨æ¥åº”ä»˜å…¶ä»–çš„æƒ…å†µã€‚æˆ‘ä»¬å½“ç„¶è¦ç”¨è¿™ä¸ªåŒ…ï¼Œç»™é¡¹ç›®åŠ ä¸ŠMyraæ”¯æŒå¾ˆç®€å•ï¼Œæ¯•ç«Ÿè¿™æ˜¯UnigineğŸ˜ï¼š

    dotnet add package Myra.PlatformAgnostic
    

ç„¶ååœ¨sourceæ–‡ä»¶å¤¹ä¸‹å»ºä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œå°±å«MyraIntegrationå¥½äº†ã€‚

æ•´åˆMyraåˆ°Unigineï¼ŒåŒ…æ‹¬æ•´åˆåˆ°å…¶ä»–æ‰€æœ‰å¼•æ“ï¼Œå¤§æ¦‚æœ‰è¿™ä¹ˆå‡ æ­¥å·¥ä½œï¼š

1.  å®ç°æ¥å£`ITexture2DManager`ï¼Œå®ç°å¯¹çº¹ç†çš„åˆ›å»ºå’Œå±æ€§è·å–ã€‚
2.  å®ç°æ¥å£`IMyraRenderer`ï¼Œå®ç°çª—å£Scissorçš„è®¾ç½®å’Œçº¹ç†çš„ç»˜åˆ¶
3.  å®ç°æ¥å£`IMyraPlatform`ï¼Œå‘Myraæä¾›çª—å£ã€é”®ç›˜ã€é¼ æ ‡å’Œè§¦å±çš„ä¿¡æ¯ã€‚ç›®å‰æˆ‘ä»¬æš‚æ—¶ä¸ç®¡è§¦å±ã€‚
4.  æœ€åï¼Œå°†ä¸Šè¿°å®ç°æä¾›ç»™`MyraEnvironment.Platform`ï¼Œå†åˆ›å»ºä¸€ä¸ª`Myra.Graphics2D.UI.Desktop`å¯¹è±¡ï¼Œå°†`Desktop.Root`è®¾ç½®æˆUIæ§ä»¶çš„å®ç°ï¼Œæœ€åé€šè¿‡`Desktop.Render()`æ¸²æŸ“å‡ºç»“æœã€‚

é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªä¸€ä¸ªçš„å¤„ç†ï¼š

ITexture2DManager
-----------------

Unigineåˆ›å»ºçº¹ç†è¦åˆ†ä¸¤æ­¥èµ°ï¼Œæ³¨æ„åˆ›å»ºä¸ºRGBA8æ ¼å¼ï¼ŒUsageè¦åŠ ä¸ŠDynamicï¼Œå¹¶ä¸”è®¾ç½®ä¸ºPoint Filterï¼š

    object ITexture2DManager.CreateTexture(int width, int height)
    {
    	var texture = new Texture();
    	texture.Create2D(width, height, Texture.FORMAT_RGBA8, Texture.FORMAT_USAGE_DYNAMIC | Texture.SAMPLER_FILTER_POINT);
    	return texture;
    }
    

Myraæœ‰ä¸ªåŠŸèƒ½æ˜¯Smooth Fontï¼Œéœ€è¦å°†çº¹ç†Filterè®¾ç½®ä¸ºBilinearã€‚è¿™ä¸ªåŠŸèƒ½å¹¶ä¸æ˜¯æŒ‡å®šæ¸²æŸ“çš„å­—ä½“æ˜¯å¦æœ‰æŠ—é”¯é½¿ï¼ˆæŠ—é”¯é½¿æ˜¯ä¸€ç›´å¯ç”¨çš„ï¼‰ï¼Œè€Œæ˜¯åœ¨UIå‘ç”Ÿç¼©æ”¾çš„æ—¶å€™æ˜¯å¦å¯¹æ¸²æŸ“å‡ºæ¥çš„æ–‡å­—åšå¹³æ»‘åŒ–ã€‚ç›®å‰æˆ‘ä»¬å…ˆä¸ç®¡è¿™ä¸ªã€‚

ä¹‹åè¦å‘Šè¯‰Myraçº¹ç†çš„å°ºå¯¸ï¼Œæ¯•ç«Ÿä¼ ç»™Myraçš„æ˜¯ä¸€ä¸ªobjectè€Œæ²¡æœ‰å…¶ä»–çš„ä¿¡æ¯ï¼š

    Point ITexture2DManager.GetTextureSize(object obj)
    {
    	var texture = (Texture)obj;
    	return new Point(texture.GetWidth(), texture.GetHeight());
    }
    

æ¥ä¸‹æ¥è¦å°†å›¾åƒæ•°æ®ä¼ é€’ç»™çº¹ç†ï¼š

    void ITexture2DManager.SetTextureData(object obj, Rectangle bounds, byte[] data)
    {
    	using var image = new Image();
    	image.Create2D(bounds.Width, bounds.Height, Image.FORMAT_RGBA8, 1, false);
    	image.SetPixels(data);
    
    	var texture = (Texture)obj;
    	texture.SetImage2D(image, bounds.X, bounds.Y);
    
    	image.SetPixels((byte[])null!);
    }
    

Unigineæ²¡æœ‰ç±»ä¼¼OpenGLçš„`glTexSubImage2D`ï¼Œä¸èƒ½ç›´æ¥å¾€çº¹ç†ä¸Šå†™æ•°æ®ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªImageå¯¹è±¡ç„¶åæ‹·è´è¿‡å»ã€‚  
åˆ›å»ºçš„Imageå¯¹è±¡ä¹Ÿå¾—æ˜¯RGBA8æ ¼å¼ï¼Œå’Œçº¹ç†ä¿æŒä¸€è‡´ã€‚ä¸éœ€è¦Mipmapï¼Œå¹¶å°†clearå‚æ•°è®¾ç½®æˆfalseï¼Œæ¯•ç«Ÿé©¬ä¸Šå°±è¦ç”¨æ•°æ®å†™æ»¡æ•´ä¸ªImageã€‚

åé¢å°±å¾ˆå¥½ç†è§£äº†ï¼Œå°†Imageä¼ é€’ç»™Textureè¿›è¡Œæ•°æ®ä¸Šä¼ ã€‚æ¥ä¸‹æ¥è¿™ä¸€è¡Œ`image.SetPixels((byte[])null!)`ä¸æ˜¯C#é‡Œå¸¸è§çš„æ“ä½œï¼šå°†Imageçš„ç¼“å†²åŒºè®¾ç½®ä¸ºnullã€‚è¿™ä¸€ç‚¹å’ŒUnigineçš„C++åº•å±‚å®ç°æœ‰å…³ï¼Œå®ƒçš„C++åº•å±‚ä¼šç›´æ¥æ‹¿dataçš„æŒ‡é’ˆå»ç”¨ï¼Œè€Œä¸è¿›è¡Œæ•°æ®æ‹·è´ã€‚å› æ­¤åœ¨æœ€åImage.Disposeçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚å› æ­¤è¿™é‡Œè¦è®¾ç½®ä¸ºç©ºã€‚

è¿™ä¸ªå¤æ€ªçš„è®¾è®¡å¡äº†æˆ‘å¥½ä¸€æ®µæ—¶é—´ï¼Œç›´åˆ°æˆ‘ä»”ç»†ç¿»é˜…äº†ImGui.NETçš„å®ç°æ‰ææ˜ç™½ã€‚ä½ å¯ä»¥åœ¨ImGuiImpl.csçš„create\_font\_texture()å‡½æ•°é‡Œæ‰¾åˆ°ç±»ä¼¼çš„ä¸œè¥¿ã€‚ç¤ºä¾‹é‡Œä½¿ç”¨äº†ä¸€ä¸ªBlobè¿›è¡Œä¸­è½¬ï¼Œå› ä¸ºç¤ºä¾‹ä»ImGuiè·å–çš„æ•°æ®æ˜¯RGBA32æ ¼å¼çš„ï¼Œéœ€è¦å¤šä¸€ä¸ªæ­¥éª¤è½¬æ¢æˆRGBA8ã€‚Myraè¿™è¾¹æ•°æ®æ ¼å¼æ˜¯ç›¸åŒçš„å› æ­¤å¯ä»¥çœç•¥è¿™ä¸€æ­¥ã€‚

IMyraPlatform
-------------

Rendererç‰µæ‰¯çš„ä¸œè¥¿å¤šä¸€äº›ï¼Œå…ˆæ¥æPlatformã€‚

Myraéœ€è¦çŸ¥é“æ¸²æŸ“çª—å£çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯Unigineçš„ClientRenderSizeï¼š

    Point IMyraPlatform.ViewSize
    {
    	get {
    		var clientRenderSize = WindowManager.MainWindow.ClientRenderSize;
    		return new Point(clientRenderSize.x, clientRenderSize.y);
    	}
    }
    

ä¹‹åå®ç°å‘Myraæä¾›é¼ æ ‡ä¿¡æ¯çš„æ¥å£ï¼š

    int mouseWheelValue;
    
    MouseInfo IMyraPlatform.GetMouseInfo()
    {
    	var position = Input.MousePosition - WindowManager.MainWindow.ClientPosition;
    	mouseWheelValue += Input.MouseWheel;
    	return new MouseInfo {
    		IsLeftButtonDown = Input.IsMouseButtonPressed(Input.MOUSE_BUTTON.LEFT),
    		IsRightButtonDown = Input.IsMouseButtonPressed(Input.MOUSE_BUTTON.RIGHT),
    		IsMiddleButtonDown = Input.IsMouseButtonPressed(Input.MOUSE_BUTTON.MIDDLE),
    		Position = new Point(position.x, position.y),
    		Wheel = mouseWheelValue,
    	};
    }
    

æœ‰ä¸¤ç‚¹è¦æ³¨æ„ã€‚ç¬¬ä¸€ç‚¹æ˜¯è¿™é‡Œè¦ä½¿ç”¨`Input.IsMouseButtonPressed`è€Œä¸æ˜¯`Input.IsMouseButtonDown`ï¼Œåè€…è¿”å›çš„æ˜¯å½“å‰å¸§å†…é¼ æ ‡æŒ‰é”®æ˜¯å¦æœ‰è¢«æŒ‰ä¸‹è¿‡ã€‚å¦ä¸€ç‚¹æ˜¯é¼ æ ‡æ»šè½®æ•°æ®ï¼ŒMyraéœ€è¦çš„æ˜¯ç´¯è®¡åçš„ç»å¯¹å€¼ï¼ˆXnaçš„å¤„ç†æ–¹å¼ï¼‰è€Œä¸æ˜¯å¸¸è§çš„ç›¸å¯¹å€¼ï¼Œå› æ­¤è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªmouseWheelValueå˜é‡å°†å†å²æ•°æ®ç´¯åŠ èµ·æ¥å†ä¼ é€’ç»™Myraã€‚

æ¥ä¸‹æ¥éœ€è¦å‘Myraæä¾›é”®ç›˜ä¿¡æ¯ã€‚ç”±äºMyraçš„Keyså€¼å’ŒUnigineçš„ä¸ä¸€æ ·ï¼ˆMyraç”¨çš„æ˜¯Xnaçš„å€¼ï¼Œä¹Ÿå°±æ˜¯Windowså¹³å°çš„å€¼ï¼ŒUnigineä½¿ç”¨äº†ä¸€å¥—è‡ªå·±çš„ä¸œè¥¿ï¼‰ï¼Œå› æ­¤éœ€è¦åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ï¼š

    readonly Keys[] UnigineToMyraKeyMap = new Keys[(int)Input.KEY.NUM_KEYS];
    
    void GenerateMyraKeyMap()
    {
    	UnigineToMyraKeyMap[(int)Input.KEY.ESC] = Keys.Escape;
    	UnigineToMyraKeyMap[(int)Input.KEY.F1] = Keys.F1;
    	UnigineToMyraKeyMap[(int)Input.KEY.F2] = Keys.F2;
    	UnigineToMyraKeyMap[(int)Input.KEY.F3] = Keys.F3;
    	UnigineToMyraKeyMap[(int)Input.KEY.F4] = Keys.F4;
    	UnigineToMyraKeyMap[(int)Input.KEY.F5] = Keys.F5;
    	UnigineToMyraKeyMap[(int)Input.KEY.F6] = Keys.F6;
    	UnigineToMyraKeyMap[(int)Input.KEY.F7] = Keys.F7;
    	UnigineToMyraKeyMap[(int)Input.KEY.F8] = Keys.F8;
    	UnigineToMyraKeyMap[(int)Input.KEY.F9] = Keys.F9;
    	UnigineToMyraKeyMap[(int)Input.KEY.F10] = Keys.F10;
    	UnigineToMyraKeyMap[(int)Input.KEY.F11] = Keys.F11;
    	UnigineToMyraKeyMap[(int)Input.KEY.F12] = Keys.F12;
    	UnigineToMyraKeyMap[(int)Input.KEY.PRINTSCREEN] = Keys.PrintScreen;
    	UnigineToMyraKeyMap[(int)Input.KEY.SCROLL_LOCK] = Keys.Scroll;
    	UnigineToMyraKeyMap[(int)Input.KEY.PAUSE] = Keys.Pause;
    	UnigineToMyraKeyMap[(int)Input.KEY.BACK_QUOTE] = Keys.OemTilde;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_1] = Keys.D1;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_2] = Keys.D2;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_3] = Keys.D3;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_4] = Keys.D4;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_5] = Keys.D5;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_6] = Keys.D6;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_7] = Keys.D7;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_8] = Keys.D8;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_9] = Keys.D9;
    	UnigineToMyraKeyMap[(int)Input.KEY.DIGIT_0] = Keys.D0;
    	UnigineToMyraKeyMap[(int)Input.KEY.MINUS] = Keys.OemMinus;
    	UnigineToMyraKeyMap[(int)Input.KEY.EQUALS] = Keys.OemPlus;
    	UnigineToMyraKeyMap[(int)Input.KEY.BACKSPACE] = Keys.Back;
    	UnigineToMyraKeyMap[(int)Input.KEY.TAB] = Keys.Tab;
    	UnigineToMyraKeyMap[(int)Input.KEY.Q] = Keys.Q;
    	UnigineToMyraKeyMap[(int)Input.KEY.W] = Keys.W;
    	UnigineToMyraKeyMap[(int)Input.KEY.E] = Keys.E;
    	UnigineToMyraKeyMap[(int)Input.KEY.R] = Keys.R;
    	UnigineToMyraKeyMap[(int)Input.KEY.T] = Keys.T;
    	UnigineToMyraKeyMap[(int)Input.KEY.Y] = Keys.Y;
    	UnigineToMyraKeyMap[(int)Input.KEY.U] = Keys.U;
    	UnigineToMyraKeyMap[(int)Input.KEY.I] = Keys.I;
    	UnigineToMyraKeyMap[(int)Input.KEY.O] = Keys.O;
    	UnigineToMyraKeyMap[(int)Input.KEY.P] = Keys.P;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT_BRACKET] = Keys.OemOpenBrackets;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT_BRACKET] = Keys.OemCloseBrackets;
    	UnigineToMyraKeyMap[(int)Input.KEY.ENTER] = Keys.Enter;
    	UnigineToMyraKeyMap[(int)Input.KEY.CAPS_LOCK] = Keys.CapsLock;
    	UnigineToMyraKeyMap[(int)Input.KEY.A] = Keys.A;
    	UnigineToMyraKeyMap[(int)Input.KEY.S] = Keys.S;
    	UnigineToMyraKeyMap[(int)Input.KEY.D] = Keys.D;
    	UnigineToMyraKeyMap[(int)Input.KEY.F] = Keys.F;
    	UnigineToMyraKeyMap[(int)Input.KEY.G] = Keys.G;
    	UnigineToMyraKeyMap[(int)Input.KEY.H] = Keys.H;
    	UnigineToMyraKeyMap[(int)Input.KEY.J] = Keys.J;
    	UnigineToMyraKeyMap[(int)Input.KEY.K] = Keys.K;
    	UnigineToMyraKeyMap[(int)Input.KEY.L] = Keys.L;
    	UnigineToMyraKeyMap[(int)Input.KEY.SEMICOLON] = Keys.OemSemicolon;
    	UnigineToMyraKeyMap[(int)Input.KEY.QUOTE] = Keys.OemQuotes;
    	UnigineToMyraKeyMap[(int)Input.KEY.BACK_SLASH] = Keys.OemBackslash;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT_SHIFT] = Keys.LeftShift;
    	UnigineToMyraKeyMap[(int)Input.KEY.LESS] = Keys.Apps;
    	UnigineToMyraKeyMap[(int)Input.KEY.Z] = Keys.Z;
    	UnigineToMyraKeyMap[(int)Input.KEY.X] = Keys.X;
    	UnigineToMyraKeyMap[(int)Input.KEY.C] = Keys.C;
    	UnigineToMyraKeyMap[(int)Input.KEY.V] = Keys.V;
    	UnigineToMyraKeyMap[(int)Input.KEY.B] = Keys.B;
    	UnigineToMyraKeyMap[(int)Input.KEY.N] = Keys.N;
    	UnigineToMyraKeyMap[(int)Input.KEY.M] = Keys.M;
    	UnigineToMyraKeyMap[(int)Input.KEY.COMMA] = Keys.OemComma;
    	UnigineToMyraKeyMap[(int)Input.KEY.DOT] = Keys.OemPeriod;
    	UnigineToMyraKeyMap[(int)Input.KEY.SLASH] = Keys.OemQuestion;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT_SHIFT] = Keys.RightShift;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT_CTRL] = Keys.LeftControl;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT_CMD] = Keys.LeftWindows;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT_ALT] = Keys.LeftAlt;
    	UnigineToMyraKeyMap[(int)Input.KEY.SPACE] = Keys.Space;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT_ALT] = Keys.RightAlt;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT_CMD] = Keys.RightWindows;
    	UnigineToMyraKeyMap[(int)Input.KEY.MENU] = Keys.None;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT_CTRL] = Keys.RightControl;
    	UnigineToMyraKeyMap[(int)Input.KEY.INSERT] = Keys.Insert;
    	UnigineToMyraKeyMap[(int)Input.KEY.DELETE] = Keys.Delete;
    	UnigineToMyraKeyMap[(int)Input.KEY.HOME] = Keys.Home;
    	UnigineToMyraKeyMap[(int)Input.KEY.END] = Keys.End;
    	UnigineToMyraKeyMap[(int)Input.KEY.PGUP] = Keys.PageUp;
    	UnigineToMyraKeyMap[(int)Input.KEY.PGDOWN] = Keys.PageDown;
    	UnigineToMyraKeyMap[(int)Input.KEY.UP] = Keys.Up;
    	UnigineToMyraKeyMap[(int)Input.KEY.LEFT] = Keys.Left;
    	UnigineToMyraKeyMap[(int)Input.KEY.DOWN] = Keys.Down;
    	UnigineToMyraKeyMap[(int)Input.KEY.RIGHT] = Keys.Right;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUM_LOCK] = Keys.NumLock;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIVIDE] = Keys.Divide;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_MULTIPLY] = Keys.Multiply;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_MINUS] = Keys.Subtract;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_7] = Keys.NumPad7;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_8] = Keys.NumPad8;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_9] = Keys.NumPad9;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_PLUS] = Keys.Add;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_4] = Keys.NumPad4;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_5] = Keys.NumPad5;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_6] = Keys.NumPad6;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_1] = Keys.NumPad1;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_2] = Keys.NumPad2;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_3] = Keys.NumPad3;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_ENTER] = Keys.Enter;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DIGIT_0] = Keys.NumPad0;
    	UnigineToMyraKeyMap[(int)Input.KEY.NUMPAD_DOT] = Keys.Decimal;
    }
    

æœ‰äº†è¿™ä¸ªæ˜ å°„è¡¨ä¹‹åï¼Œå‘Myraæä¾›é”®ç›˜ä¿¡æ¯å°±å¾ˆç®€å•äº†ï¼š

    void IMyraPlatform.SetKeysDown(bool[] keys)
    {
    	for (int key = 0; key < (int)Input.KEY.NUM_KEYS; ++key) {
    		var myraKey = UnigineToMyraKeyMap[key];
    		keys[(int)myraKey] = Input.IsKeyDown((Input.KEY)key);
    	}
    }
    

å’Œé¼ æ ‡é‚£è¾¹ä¸åŒï¼Œé•¿æŒ‰ä¸€ä¸ªé”®ç›˜æŒ‰é”®çš„æ—¶å€™ï¼ŒInput.IsKeyDownä¼šå¤šæ¬¡è§¦å‘ï¼Œå› æ­¤å¯ä»¥å®ç°é•¿æŒ‰æŒ‰é”®è¿ç»­è¾“å…¥çš„æ•ˆæœã€‚

å‰©ä¸‹çš„ä¸¤ä¸ªï¼š

    void IMyraPlatform.SetMouseCursorType(MouseCursorType mouseCursorType)
    {
    	//TODO: Use game's custom cursor with Input.SetMouseCursorCustom()
    }
    
    TouchCollection IMyraPlatform.GetTouchState()
    {
    	return TouchCollection.Empty;
    }
    

SetMouseCursorTypeè¿™é‡Œï¼Œæ ¹æ®ä¼ è¿›æ¥çš„MouseCursorTypeï¼Œç”¨`Input.SetMouseCursorCustom()`è®¾ç½®æˆæ¸¸æˆè‡ªå®šä¹‰çš„å…‰æ ‡å³å¯ã€‚ç›®å‰å…ˆç•¥è¿‡ã€‚

GetTouchStateè¿™é‡Œï¼Œå¯ä»¥å…ˆå¿½ç•¥ã€‚Unigineæ˜¯æœ‰è§¦æ§å¤„ç†çš„APIçš„ï¼Œå°±åœ¨Inputé‡Œé¢ï¼Œæƒ³å®ç°ä¹Ÿå¯ä»¥å®ç°ï¼Œä¸è¿‡ç›®å‰Unigineä¸æ”¯æŒç§»åŠ¨å¹³å°ï¼Œå¿½ç•¥æ‰ä¹Ÿä¸ä¼šæœ‰å¤ªå¤§çš„é—®é¢˜ã€‚