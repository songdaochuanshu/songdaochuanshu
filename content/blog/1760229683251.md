---
layout: post
title: 'åšå®¢å›­å¦‚ä½•æ”¯æŒ PlantUMLï¼Ÿå®Œæ•´é…ç½®æ•™ç¨‹'
date: "2025-10-12T00:41:23Z"
---
åšå®¢å›­å¦‚ä½•æ”¯æŒ PlantUMLï¼Ÿå®Œæ•´é…ç½®æ•™ç¨‹
=======================

![image](https://img2024.cnblogs.com/blog/1439869/202510/1439869-20251011131042011-272882980.jpg)

> 1.  [1\. å¼•å…¥](#20251011130604-fdx2ary)
> 2.  [2\. åšå®¢å›­ä¸æ”¯æŒplantumlæ¸²æŸ“](#20251011124948-f15erws)
> 3.  [3\. ç¼–å†™jsè„šæœ¬æ”¯æŒplantuml](#20251011125610-i33uyir)
> 4.  [4\. ç¼ºç‚¹](#20251011130036-d0f7eyc)

ã€€ã€€â€

1\. å¼•å…¥
------

ã€€ã€€ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬åœ¨å†™åšå®¢çš„æ—¶å€™ï¼Œå¸¸ä½¿ç”¨PlantUML å’Œ Mermaidç»˜åˆ¶å›¾è¡¨ã€æµç¨‹å›¾ã€æ¶æ„å›¾ã€‚è¿™æ˜¯å› ä¸ºç”¨ä»£ç å»ç”»å›¾ï¼Œä¸æ€ä¹ˆéœ€è¦æ‰‹åŠ¨æ§åˆ¶æ ¼å¼ã€å¯¹é½ã€é—´è·ç­‰ç»†èŠ‚ï¼Œåªéœ€è¦ä¸“æ³¨äºé€»è¾‘ç»“æ„å’Œå†…å®¹æœ¬èº«ï¼Œå·¥å…·ä¼šè‡ªåŠ¨å®Œæˆå¸ƒå±€å’Œæ¸²æŸ“ã€‚å°±åƒæˆ‘ä»¬å†™åšå®¢çš„æ—¶å€™ï¼Œæ›´åŠ åå‘äºmarkdownè€Œä¸æ˜¯å¯Œæ–‡æœ¬ï¼Œè¿™æ ·å¯ä»¥è®©æˆ‘ä»¬ä¸“æ³¨äºåšå®¢å†…å®¹ï¼Œè€Œä¸æ˜¯æ€»åœ¨è°ƒæ•´æ ¼å¼ã€‚

ã€€ã€€åšå®¢å›­å¯¹ä¸Mermaidæ”¯æŒåŸç”Ÿæ¸²æŸ“ï¼Œä¾‹å¦‚ï¼š

    â€```mermaid
    sequenceDiagram
        participant User as ç”¨æˆ·
        participant Frontend as åšå®¢å›­å‰ç«¯
        participant Backend as åšå®¢å›­åç«¯
        participant DB as æ•°æ®åº“
    
        User->>Frontend: ç™»å½•å¹¶è¿›å…¥å†™åšå®¢é¡µé¢
        Frontend->>User: æ¸²æŸ“ç¼–è¾‘å™¨ç•Œé¢
        User->>Frontend: ç¼–å†™æ–‡ç« å¹¶ç‚¹å‡»â€œå‘å¸ƒâ€
        Frontend->>Backend: å‘é€ POST /api/posts (å«æ ‡é¢˜ã€å†…å®¹)
        Backend->>DB: ä¿å­˜æ–‡ç« æ•°æ®
        DB-->>Backend: ä¿å­˜æˆåŠŸ
        Backend-->>Frontend: è¿”å›æˆåŠŸå“åº”
        Frontend-->>User: æ˜¾ç¤ºâ€œå‘å¸ƒæˆåŠŸâ€æç¤º
    â€```
    

ã€€ã€€æ¸²æŸ“ç»“æœå¦‚ä¸‹ï¼š

sequenceDiagram participant User as ç”¨æˆ· participant Frontend as åšå®¢å›­å‰ç«¯ participant Backend as åšå®¢å›­åç«¯ participant DB as æ•°æ®åº“ User->>Frontend: ç™»å½•å¹¶è¿›å…¥å†™åšå®¢é¡µé¢ Frontend->>User: æ¸²æŸ“ç¼–è¾‘å™¨ç•Œé¢ User->>Frontend: ç¼–å†™æ–‡ç« å¹¶ç‚¹å‡»â€œå‘å¸ƒâ€ Frontend->>Backend: å‘é€ POST /api/posts (å«æ ‡é¢˜ã€å†…å®¹) Backend->>DB: ä¿å­˜æ–‡ç« æ•°æ® DB-->>Backend: ä¿å­˜æˆåŠŸ Backend-->>Frontend: è¿”å›æˆåŠŸå“åº” Frontend-->>User: æ˜¾ç¤ºâ€œå‘å¸ƒæˆåŠŸâ€æç¤º

ã€€ã€€ä¸Šè¿°è¯­æ³•å¯ä»¥åœ¨åšå®¢å›­ä¸­è¿›è¡ŒåŸç”Ÿæ¸²æŸ“ï¼Œvery goodã€‚

2\. åšå®¢å›­ä¸æ”¯æŒplantumlæ¸²æŸ“
--------------------

ã€€ã€€ä½†æ˜¯å¦‚æœä½¿ç”¨å¦‚ä¸‹çš„plantumlè¯­æ³•ï¼Œåšå®¢å›­å°±ä¼šæ¸²æŸ“å¤±è´¥

    â€```plantuml
    @startuml
    actor ç”¨æˆ· as User
    participant "åšå®¢å›­å‰ç«¯" as Frontend
    participant "åšå®¢å›­åç«¯" as Backend
    database "æ•°æ®åº“" as DB
    
    User -> Frontend : ç™»å½•å¹¶è¿›å…¥å†™åšå®¢é¡µé¢
    Frontend --> User : æ¸²æŸ“ç¼–è¾‘å™¨
    User -> Frontend : ç¼–å†™æ–‡ç« ï¼Œç‚¹å‡»â€œå‘å¸ƒâ€
    Frontend -> Backend : POST /api/posts\n{title, content}
    Backend -> DB : INSERT INTO posts(...)
    DB --> Backend : OK
    Backend --> Frontend : {success: true, id: 123}
    Frontend --> User : æ˜¾ç¤ºâ€œå‘å¸ƒæˆåŠŸâ€
    @enduml
    â€```
    

![image](https://img2024.cnblogs.com/blog/1439869/202510/1439869-20251011130843750-1178510283.png)

3\. ç¼–å†™jsè„šæœ¬æ”¯æŒplantuml
--------------------

ã€€ã€€plantumlè¿›è¡Œæ¸²æŸ“ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œå…¶ä¸­ä¸€ç§æ–¹æ³•å¦‚ä¸‹ï¼š

*   å®˜æ–¹æä¾› [PlantUML Server](https://www.plantuml.com/plantuml) ï¼š
    
    *   ç”¨æˆ·å‘é€ PlantUML æ–‡æœ¬ï¼ˆBase64 ç¼–ç ï¼‰
    *   æœåŠ¡ç«¯è§£æ â†’ è°ƒç”¨ Graphviz â†’ è¿”å› PNG/SVG
    *   ä¾‹å¦‚ï¼š`https://www.plantuml.com/plantuml/png/SoWkIImgAStDuNBAJrBGjLDmpCbCJbMmKiX8pSd9vt98pKi1IW80`

![image](https://img2024.cnblogs.com/blog/1439869/202510/1439869-20251011130844388-254988966.png)

ã€€ã€€åœ¨åšå®¢å›­é¡µè„šhtmlä»£ç è¾“å…¥å¦‚ä¸‹jsè„šæœ¬ï¼š

    <script src="https://files.cnblogs.com/files/xiaohuiduan/plantuml-encoder.min.js"></script>
    <script>
    (function() {
      const format = 'svg'; // å¯æ”¹ä¸º 'svg' è·å¾—çŸ¢é‡å›¾,pngè·å¾—pngå›¾
      const server = 'https://www.plantuml.com/plantuml/' + format + '/';
    
      // æŸ¥æ‰¾æ‰€æœ‰ â€```plantuml ç”Ÿæˆçš„ä»£ç å—
      document.querySelectorAll('code.language-plantuml').forEach(codeEl => {
        const code = codeEl.textContent.trim();
        if (!code) return;
    
        try {
          const encoded = plantumlEncoder.encode(code);
          const img = document.createElement('img');
          img.src = server + encoded;
          img.alt = 'PlantUML Diagram';
          img.style.maxWidth = '100%';
          img.style.height = 'auto';
          img.style.display = 'block';
          img.style.margin = '1em auto';
    
          // æ›¿æ¢æ•´ä¸ª <pre> å®¹å™¨ï¼ˆå› ä¸º code åœ¨ pre é‡Œé¢ï¼‰
          const preEl = codeEl.parentElement;
          if (preEl && preEl.tagName === 'PRE') {
            preEl.parentNode.replaceChild(img, preEl);
          } else {
            codeEl.parentNode.replaceChild(img, codeEl);
          }
        } catch (e) {
          console.error('PlantUML render error:', e, code);
          codeEl.style.color = 'red';
          codeEl.textContent = 'PlantUML æ¸²æŸ“å¤±è´¥: ' + (e.message || e);
        }
      });
    })();
    </script>
    

ã€€ã€€æœ€ç»ˆä¾¿èƒ½å¤Ÿè¿›è¡Œæ¸²æŸ“äº†ï¼š

    @startuml
    actor ç”¨æˆ· as User
    participant "åšå®¢å›­å‰ç«¯" as Frontend
    participant "åšå®¢å›­åç«¯" as Backend
    database "æ•°æ®åº“" as DB
    
    User -> Frontend : ç™»å½•å¹¶è¿›å…¥å†™åšå®¢é¡µé¢
    Frontend --> User : æ¸²æŸ“ç¼–è¾‘å™¨
    User -> Frontend : ç¼–å†™æ–‡ç« ï¼Œç‚¹å‡»â€œå‘å¸ƒâ€
    Frontend -> Backend : POST /api/posts\n{title, content}
    Backend -> DB : INSERT INTO posts(...)
    DB --> Backend : OK
    Backend --> Frontend : {success: true, id: 123}
    Frontend --> User : æ˜¾ç¤ºâ€œå‘å¸ƒæˆåŠŸâ€
    @enduml
    

4\. ç¼ºç‚¹
------

ã€€ã€€å°½ç®¡ä¸Šè¿°æ–¹æ¡ˆå¯ä»¥è®©åšå®¢å›­æ”¯æŒæ’å…¥plantumlè¯­æ³•ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š

1.  å¦‚æœplantumlç¨‹åºå­—ç¬¦è¿‡é•¿ï¼Œå¯èƒ½ä¼šæ¸²æŸ“å¤±è´¥ã€‚
2.  plantuml serveråœ¨å›½å¤–ï¼Œå¯èƒ½ä¼šå› ä¸ºç½‘ç»œç­‰å› ç´ å¯¼è‡´æ¸²æŸ“å¤±è´¥ã€‚

ã€€ã€€å…¶å®æœ€å¥½çš„æ–¹æ³•å°±æ˜¯åšå®¢å›­åŸç”Ÿæ”¯æŒplantumlã€‚

ã€€ã€€Make cnblogs great againï¼

  
ä½œè€…ï¼š [æ¸£æ¸£è¾‰å•Š](https://www.cnblogs.com/xiaohuiduan/)  
å‡ºå¤„ï¼š[https://www.cnblogs.com/xiaohuiduan/p/19134824/cnblogs-plantuml](https://www.cnblogs.com/xiaohuiduan/p/19134824/cnblogs-plantuml)

### é‚®ç®±ğŸ“«ï¼šxiaohuiduan@hunnu.edu.cn