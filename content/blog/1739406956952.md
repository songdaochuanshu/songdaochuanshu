---
layout: post
title: '[虚拟化/Docker] Docker Desktop 安装与使用'
date: "2025-02-13T00:35:56Z"
---
\[虚拟化/Docker\] Docker Desktop 安装与使用
===================================

0 序：DeepSeek 等AI大模型在Windows的私有化部署
=================================

*   DeepSeek 等AI大模型在Windows的私有化部署，最流行的开源AI终端应用————Dify，依赖于 Docker 环境。由此，必然离不开：`Docker Desktop`

1 概述：`Docker Desktop`
=====================

*   `docker desktop` 是一款`Docker`**容器运行管理工具**，用于在**本地机器**上运行 `docker` 容器。其使用方式包括：

> *   1.  安装 docker desktop；
> *   2.  启动 docker desktop；
> *   3.  创建 docker 镜像（可基于 `dockerfile`）；
> *   4.  构建 docker 镜像（使用 `docker build`）；
> *   5.  运行 docker 容器（使用 `docker run`）。
> *   ...

2 安装步骤
======

安装 on Windows
-------------

### Step1. 安装 Docker Desktop

*   Step1.1 下载安装包。

> 访问 Docker 官网，选择与您的操作系统匹配的安装包。按照安装说明进行操作。
> 
> *   [https://www.docker.com/](https://www.docker.com/)
> *   [https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/)

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231005601939-1408882817.png)

> 选择合适的安装包，并点击下载
> 
> > [https://desktop.docker.com/win/main/amd64/Docker Desktop Installer.exe](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)

*   step1.2 点击安装包(`Docker Desktop Installer.exe`)，开始安装

> `4.36.0` (175267)

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231131315739-1530218828.png)

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231131305407-278515827.png)

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231133356195-1811509703.png)

> 默认的安装目录:

    C:\Program Files\Docker\
        cli-plugins\
            docker-ai.exe*
            docker-desktop.exe*
            docker-init.exe*
            docker-buildx.exe*
            docker-dev.exe*
            docker-sbom.exe*
            docker-compose.exe*
            docker-extension.exe*
            docker-scout.exe*
            docker-debug.exe*
            docker-feedback.exe*
        Docker\
            frontend\
                Docker Desktop.exe
                ...
            resources\
                bin\
                    ...
                cli-plugins\
                    ...
                wsl\
                    ...
                com.docker.admin.exe
                com.docker.backend.exe
                com.docker.build.exe
                com.docker.dev-envs.exe
                com.docker.diagnose.exe
                Docker desktop.exe
                dockerd.exe
                docker-desktop.iso
                ...
            app.json
            Docker Desktop Installer.exe
            DockerCli.exe
            Docker Desktop.exe
            ...
    
    C:\ProgramData\DockerDesktop\
        tmp-d4w\
            host.docker.internal (文件内容: 192.xxx.xxx.235)
        install-cli-log-admin.txt
        install-log-admin.txt
    

*   为 docker 等程序配置环境变量

    Path 环境变量-追加配置项: C:\Program Files\Docker\Docker\resources\bin
    

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213023159217-255800046.png)

*   step1.3 重启电脑

> 重启后:

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101150458780-1255351765.png)

> > Accept

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101150532556-728908654.png)

> > Finish

### Step2. 启动 Docker Desktop

安装后，从启动 Docker Desktop 应用程序。它将在您的托盘或菜单栏中运行。

> 进入Docker Desktop主页，欢迎来到桌面版的Docker

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101150620036-272107122.png)

> 可以选择登录 Docker 账号，也可以选择不登录（我先选择不登陆）

### Step3. 使用/管理 Docker 容器

*   推荐文献

> *   [\[docker\] Dockerfile详解 - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/18088530)
> *   [\[Docker\] Docker Compose 基础教程（概念/基础操作） - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/17785405.html)
> *   [\[Docker\] Docker 基础教程（概念/原理/基础操作） - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/17439306.html)

> 提示
> 
> *   使用 `docker run` 命令运行容器
> 
> > *   `-it`：交互式终端
> > *   `--rm`：容器退出后删除
> > *   `--name`：为容器分配一个名称（可选）

*   使用 `docker ps` 查看正在运行的容器。

    C:\Users\xxx>docker ps
    CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
    

*   使用 `docker image list` 查看已构建的镜像。

    C:\Users\xxx>docker image list
    REPOSITORY                  TAG        IMAGE ID       CREATED         SIZE
    redis                       6-alpine   8d7a968b2baf   5 weeks ago     30.2MB
    semitechnologies/weaviate   1.19.0     8ec9f084ab23   21 months ago   52.5MB
    

*   `docker info`

    C:\Users\xxx> docker info
    Client:
     Version:    25.0.3
     Context:    default
     Debug Mode: false
     Plugins:
      buildx: Docker Buildx (Docker Inc.)
        Version:  v0.12.1-desktop.4
        Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
      compose: Docker Compose (Docker Inc.)
        Version:  v2.24.6-desktop.1
        Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
      debug: Get a shell into any image or container. (Docker Inc.)
        Version:  0.0.24
        Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
      dev: Docker Dev Environments (Docker Inc.)
        Version:  v0.1.0
        Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
      extension: Manages Docker extensions (Docker Inc.)
        Version:  v0.2.22
        Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
      feedback: Provide feedback, right in your terminal! (Docker Inc.)
        Version:  v1.0.4
        Path:     C:\Program Files\Docker\cli-plugins\docker-feedback.exe
      init: Creates Docker-related starter files for your project (Docker Inc.)
        Version:  v1.0.1
        Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
      sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
        Version:  0.6.0
        Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
      scout: Docker Scout (Docker Inc.)
        Version:  v1.5.0
        Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe
    
    Server:
     Containers: 0
      Running: 0
      Paused: 0
      Stopped: 0
     Images: 2
     Server Version: 25.0.3
     Storage Driver: overlay2
      Backing Filesystem: extfs
      Supports d_type: true
      Using metacopy: false
      Native Overlay Diff: true
      userxattr: false
     Logging Driver: json-file
     Cgroup Driver: cgroupfs
     Cgroup Version: 1
     Plugins:
      Volume: local
      Network: bridge host ipvlan macvlan null overlay
      Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
     Swarm: inactive
     Runtimes: io.containerd.runc.v2 runc
     Default Runtime: runc
     Init Binary: docker-init
     containerd version: ae07eda36dd25f8a1b98dfbf587313b99c0190bb
     runc version: v1.1.12-0-g51d5e94
     init version: de40ad0
     Security Options:
    

*   使用 `docker stop` 停止容器。
*   使用 `docker rm` 删除容器。
*   使用 `docker image rm` 删除镜像。

Y （可选步骤）注册/登录 Docker 账号
=======================

*   登录Docker账号，可创建和管理自己的镜像仓库Hub

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231005900926-1913253136.png)

U FAQ: 安装 Docker Desktop
========================

Q:安装 Docker Desktop 时，报："此访问控制列表格式不规范，因此无法修改"
---------------------------------------------

*   问题描述

> 点击 Docker Desktop 安装程序进行安装时，报："此访问控制列表格式不规范，因此无法修改"

![](https://img2024.cnblogs.com/blog/1173617/202412/1173617-20241231131126054-1308211091.png)

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101154418237-1900797588.png)

*   解决方法

> *   step1 使用管理员权限，打开`cmd`命令提示符窗口。

> *   step2 修复文件目录权限

    icacls "C:\Program Files\Docker" /reset /t /c /q
    icacls "C:\ProgramData\DockerDesktop" /reset /t /c /q
    

> > 参数解释
> > 
> > *   /reset：重置权限为默认值。
> > *   /t：递归地应用到所有子文件和子目录。
> > *   /c：继续执行，即使出现错误。
> > *   /q：静默模式，不显示成功消息。

> 执行完成执行，再次安装即可解决该问题。

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101154638960-88853298.png)

*   参考文献

> *   [此访问控制列表格式不规范，因此无法修改 - CSDN](https://download.csdn.net/blog/column/11479674/142408021)

Q: `Docker Desktop` 启动后，面板显示"Docker Engine Stopped"
---------------------------------------------------

*   问题描述

> `Docker Desktop` 启动后，面板显示"Docker Engine Stopped"

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101154959706-464905816.png)

> 如果你解决了访问`docker.com`的网络问题，打开`Docker Desktop`时，还会附带报："Docker Desktop - WSL update failed"

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101161034243-846406710.png)

    Docker Desktop - WSL update failed
    
    An error occurred while updating WSL.
    
    You can manually update using wsl --update.
    
    If the issue persists, collect diagnostics and submit an issue
    
    --------------------------------------
    
    wsl update failed: update failed: updating wsl: exit code: 4294967295: running WSL command wsl.exe C:\Windows\System32\wsl.exe --update --web-download: �]�ybk(403)0
    
    : exit status 0xffffffff
    

*   解决方法

> 此处针对"Docker Engine Stopped"问题(不单单针对"Docker Desktop - WSL update failed"错误)的整个解决方法

*   参考文献

> *   [https://docs.docker.com/desktop/troubleshoot-and-support/support/#how-is-personal-diagnostic-data-handled-in-docker-desktop](https://docs.docker.com/desktop/troubleshoot-and-support/support/#how-is-personal-diagnostic-data-handled-in-docker-desktop)

Q: 解决Win10家庭版找不到`Hyper-V`的问题
----------------------------

*   问题描述

> `Windows 10`**家庭版**在默认的“启用或关闭Windows功能”中**不直接包含`Hyper-V`选项**，但可以通过手动步骤来启用它。

    control -> 控制面板\程序\程序和功能 -> 启用或关闭Windows功能 -> Hyper-V (此选项，在 Windows 10 家庭版 中默认没有)
    

*   Step1 检查电脑是否支持`Hyper-V`

> 首先，确认电脑硬件是否支持`Hyper-V`功能。  
> 打开`Windows PowerShell` 或 CMD（以**管理员身份**运行）。

输入 `systeminfo` 命令并回车。

> 情况1：可能显示 "Hyper-V 要求: 已检测到虚拟机监控程序。将不显示 Hyper-V 所需的功能" （说明电脑支持Hyper-V）

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101155116690-1431994183.png)

> 情况2: 如果所有四个要求均显示为“是” （说明电脑支持Hyper-V）  
> ![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101155154868-1537781828.png)

*   Step2 准备启用Hyper-V的脚本

> 如果电脑支持Hyper-V，接下来需要准备一个脚本来启用它。

新建一个文本文件，命名为`enable-hyperv.cmd`（或任何其他.cmd后缀的名称）。将以下代码复制并粘贴到该文件中：

    pushd "%~dp0"
     
    dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum >hyper-v.txt
     
    for /f %%i in ('findstr /i . hyper-v.txt 2^>nul') do dism /online /norestart /add-package:"%SystemRoot%\servicing\Packages\%%i"
     
    del hyper-v.txt
     
    Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL
    

保存文件

*   Step3 运行脚本以启用Hyper-V。找到`enable-hyperv.cmd`文件，右键点击该文件，选择“**以管理员身份运行**”。

> 等待脚本执行完成。脚本执行结束后，会提示**重启计算机**以使更改生效

运行日志

    C:\Windows\system32>pushd "C:\Users\XXX\Desktop\"
    
    C:\Users\XXX\Desktop>dir /b C:\Windows\servicing\Packages\*Hyper-V*.mum  1>hyper-v.txt
    
    C:\Users\XXX\Desktop>for /F %i in ('findstr /i . hyper-v.txt 2>nul') do dism /online /norestart /add-package:"C:\Windows\servicing\Packages\%i"
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-ClientEdition-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3758.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-ClientEdition-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3758
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-ClientEdition-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-ClientEdition-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-ClientEdition-WOW64-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-ClientEdition-WOW64-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-ClientEdition-WOW64-Package~31bf3856ad364e35~amd64~~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-ClientEdition-WOW64-Package~31bf3856ad364e35~amd64~~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Hypervisor-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Hypervisor-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Hypervisor-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Hypervisor-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Hypervisor-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Hypervisor-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Hypervisor-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Hypervisor-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Common-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Common-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Common-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.4046.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Common-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.4046
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Common-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Common-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Common-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Common-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Core-Group-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Core-Group-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Core-Group-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3930.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Core-Group-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3930
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Core-Group-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Core-Group-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Offline-Core-Group-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Offline-Core-Group-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Online-Services-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Online-Services-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Online-Services-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Online-Services-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Online-Services-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Online-Services-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Online-Services-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Online-Services-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Package-base-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Package-base-merged-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Package-base-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Package-base-merged-Package~31bf3856ad364e35~amd64~~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Package-base-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Package-base-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.1
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Package-base-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Package-base-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Services-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Services-Package~31bf3856ad364e35~amd64~zh-CN~10.0.19041.3636
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>dism /online /norestart /add-package:"C:\Windows\servicing\Packages\Microsoft-Hyper-V-Services-Package~31bf3856ad364e35~amd64~~10.0.19041.4170.mum"
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    正在处理 1 (共 1) - 正在添加程序包 Microsoft-Hyper-V-Services-Package~31bf3856ad364e35~amd64~~10.0.19041.4170
    [==========================100.0%==========================]
    操作成功完成。
    
    C:\Users\XXX\Desktop>del hyper-v.txt
    
    C:\Users\XXX\Desktop>Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL
    
    部署映像服务和管理工具
    版本: 10.0.19041.3636
    
    映像版本: 10.0.19045.4170
    
    启用一个或多个功能
    [==========================100.0%==========================]
    操作成功完成。
    重新启动 Windows 以完成该操作。
    是否立即重新启动计算机? (Y/N)Y

*   Step4 重启计算机后，再次查看，即出现了`Hyper-V`选项

    control(控制面板) -> 控制面板\程序\程序和功能 -> 启用或关闭Windows功能 -> Hyper-V (选项出现)
    

![](https://img2024.cnblogs.com/blog/1173617/202501/1173617-20250101155612746-1987829463.png)

*   参考文献

> *   [解决win10家庭版找不到Hyper-V的问题 - CSDN](https://blog.csdn.net/weixin_41870042/article/details/140712373)

Q: 启动 DockerDesktop 服务的方式
-------------------------

*   方式1: 从 `services.msc` 手动启动`Docker Desktop Service`

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213024702793-998554517.png)

Q: Docker Desktop 为 Docker Engine 配置 Docker 镜像源
-----------------------------------------------

*   推荐文献

> *   [\[Docker\] Docker 基础教程（概念/原理/基础操作）－　博客园／千千寰宇](https://www.cnblogs.com/johnnyzen/p/17439306.html#_lab2_5_1)
> 
> > Docker Hub 镜像加速器列表
> 
> *   [Docker桌面版配置镜像源（纯小白版） - CSDN](https://blog.csdn.net/m0_48335178/article/details/137588842)

*   Docker Desktop 中配置 Docker 镜像源，本质 = 修改 json 配置文件

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213015241343-1890104509.png)

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213014923103-348715239.png)

*   应用并重启

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213015320629-470463251.png)

*   测试是否配置成功

> *   Windows PowerShell

    docker info
    

> > 在输出中寻找 `Registry Mirrors`，看到刚刚输入的镜像地址即配置成功

![](https://img2024.cnblogs.com/blog/1173617/202502/1173617-20250213015933530-1905525763.png)

Y 推荐文献
======

*   [\[Windows/虚拟化/OS\] WSL(Windows Subsystem for Linux)技术 - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/18646495)
*   [从零开始！在 Windows 上安装与配置 Dify - CSDN](https://blog.csdn.net/qq_49035156/article/details/143264534)

X 参考文献
======

*   第三方网站 :

> *   [https://docker.github.net.cn/get-docker/](https://docker.github.net.cn/get-docker/)

*   [【Docker基础】Docker Desktop入门使用指南 - CSDN](https://blog.csdn.net/qq_42567701/article/details/142414252)
    
*   [docker desktop怎么用 - php中文网](https://www.php.cn/faq/818710.html)
    
*   [Windows 11 中安装 Docker Desktop 并安装镜像 - CSDN](https://blog.csdn.net/weixin_67276852/article/details/139691781)
    
*   [Docker Desktop的使用方法 - CSDN](https://blog.csdn.net/cxr828/article/details/145031595)
    

![QQ沟通交流群](https://blog-static.cnblogs.com/files/johnnyzen/cnblogs-qq-group-qrcode.gif?t=1679679148)

本文作者： **[千千寰宇](https://github.com/Johnny-ZTSD)**  
本文链接： [https://www.cnblogs.com/johnnyzen](https://www.cnblogs.com/johnnyzen)  
关于博文：评论和私信会在第一时间回复，或[直接私信](https://msg.cnblogs.com/msg/send/johnnyzen)我。  
版权声明：本博客所有文章除特别声明外，均采用 [BY-NC-SA](http://blog.sina.com.cn/s/blog_896327b90102y6c6.html "https://creativecommons.org/licenses/by-nc-nd/4.0/") 许可协议。转载请注明出处！  
日常交流：大数据与软件开发-QQ交流群: 774386015 **【[入群二维码](javascript:void\(0\);)】**参见左下角。您的支持、鼓励是博主技术写作的重要动力！