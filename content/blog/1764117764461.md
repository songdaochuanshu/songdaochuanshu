---
layout: post
title: 'Spring IOC 源码学习一 基本姿势'
date: "2025-11-26T00:42:44Z"
---
Spring IOC 源码学习一 基本姿势
=====================

Spring IOC 源码学习一 基本姿势
=====================

以下是个人私货, 请读者谨慎参考。  
作为一个过来人, 没有方式方法学习 Spring 源码枯燥无味的，建议你：

1.  熟悉常见的Spring关键接口：Spring 框架庞大而复杂，扩展点非常多，建议先了解学习 Spring 常见外围的扩展功能点（比如 在Spring中对于`@PostConstruct` and `@PreDestroy`的注解就是通过 BeanPostProcessor接口实现的），再逐渐靠近核心代码时有种“哦，原来是这里调用的感觉就对了” 也能够把框架功能整体串起来加深记忆。
2.  概念性问题：IOC 是 Spring 框架成立基础，你需要对这个核心概念有所明确，也不复杂。
3.  容器的基本加载流程：跟踪源码时心中需要有个主体流程，避免对一些细枝末节，不重要的点反复调试。避免浪费生命，高效学习。

1\. Spring IOC 源码关键的接口
======================

*   [\[Spring BeanFactory 接口\]](https://www.cnblogs.com/dddy/p/19197760) - 用于获取、创建和存放bean 的工厂 (工厂模式)。
*   [\[Spring BeanDefinition 接口\]](https://www.cnblogs.com/dddy/p/19204749) - Bean 定义的元数据对象, 可以理解为一个bean 对应一个 BeanDefinition 的描述。
*   [\[Spring BeanFactoryPostProcessor 接口\]](https://www.cnblogs.com/dddy/p/19258245) - Spring 预留的扩展点， 在 BeanFactory 加载完所有的 BeanDefinition 但是尚未实例化任何Bean时调用，设计主要目的是对 BeanDefinition 进行扩展。
*   [\[Spring BeanPostProcessor 接口\]](https://www.cnblogs.com/dddy/p/19219551) - Spring 预留的扩展点，会在Bean实例化 -> 填充属性 -> 调用Aware 后 回调的扩展点， 设计的主要目的是针对Bean的实例进行扩展。
*   [\[Spring Aware 接口\]](https://www.cnblogs.com/dddy/p/19261469) - Spring 给Bean 感知/获取到 Spring 容器内部组件的回调接口, 例如: 实现 ApplicationContextAware 接口Spring 会给你注入 '容器对象', 实现 EnvironmentAware 接口Spring 会给你注入 '环境对象' 可获取环境变量等.
*   [\[Spring 中的Event机制\]](https://www.cnblogs.com/dddy/p/19191523) - Spring 内置的事件订阅、通知机制，可以监听Spring 容器内部的启动、刷新等事件，也可以扩展自定义事件，实现框架系统的解耦 (观察者模式)。

2\. 概念性的问题
==========

什么是控制反转(Inversion of Control)
-----------------------------

IOC，即控制反转（Inversion of Control），是软件设计中的一种原则，它指的是将控制权从应用程序代码中转移至框架或容器。在传统的程序设计中，应用程序负责创建和管理对象之间的依赖关系，**而在 IOC 中，控制权被反转，由容器负责管理对象之间的依赖关系。**

> 好莱坞有句名言：“Don‘t call us, we’ll call you.”（不要打电话给我们，我们会打给你）。这就是 IoC 的精髓。你（程序员）不要主动去创建和管理你的依赖，等框架（导演）来调用你，并把需要的“道具”（依赖）给你。

什么是依赖注入(Dependency Injection)
-----------------------------

在实践中，**IOC 主要通过依赖注入（Dependency Injection）来实现**。依赖注入是IOC的一种实现方式，它指的是将对象所依赖的其他对象（依赖项）注入到该对象中，而不是由对象自己创建或查找依赖项。这样做的好处是降低了对象之间的耦合度，使得代码更易于维护、测试和扩展。

**in short: IOC 是一个设计概念或原则, 在实践中，**IOC 主要通过依赖注入（Dependency Injection）来实现\*\* \*\*

3.Spring IOC 容器的基本加载流程
======================

以加载读取 xml 的 `org.springframework.context.support.ClassPathXmlApplicationContext` 为例:

    ApplicationContext context = new ClassPathXmlApplicationContext("application.xml");  
    

上图  

预防老年痴呆，保持终身学习! —— [daidaidaiyu](https://www.cnblogs.com/dddy/)