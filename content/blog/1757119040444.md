---
layout: post
title: 'å…³äº.net9å‘å¸ƒå•ä½“exeç¨‹åºæ— æ³•æ‰“å¼€é—®é¢˜è¯¦è§£'
date: "2025-09-06T00:37:20Z"
---
å…³äº.net9å‘å¸ƒå•ä½“exeç¨‹åºæ— æ³•æ‰“å¼€é—®é¢˜è¯¦è§£
========================

ä¸€ã€ç–‘éš¾æ‚ç—‡ğŸ“

â€‹ æŸå¤©ï¼Œå¼€å¼€å¿ƒå¿ƒçš„ä½¿ç”¨äº†æœ€æ–°çš„.net9å¼€å‘äº†ä¸€ä¸ªwinformç¨‹åºï¼Œåœ¨å‘å¸ƒæˆx64æ¶æ„çš„å•æ–‡ä»¶exeåï¼Œåœ¨ç”µè„‘ä¸Šé¢ç«Ÿç„¶æ‰“ä¸å¼€ï¼Œç»è¿‡å¤šæ¬¡å°è¯•åå‘ç°x86ç‰ˆæœ¬çš„åœ¨æœ¬åœ°ç”µè„‘ä¸Šæµ‹è¯•æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€å‘å¸ƒæˆx64æ¨¡å¼åˆ™ä¼šè¿›è¡ŒæŠ¥é”™

äºŒã€åœºæ™¯é‡ç°

![image-20250905112936301](https://img2024.cnblogs.com/blog/2664797/202509/2664797-20250905135737188-700679481.png)

å‘å¸ƒé…ç½®å¦‚ä¸Šï¼Œå½“ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„äº‹ä»¶æŸ¥çœ‹å™¨drumpé”™è¯¯ï¼ŒæŠ“åˆ°æ•°æ®å¦‚ä¸‹

    Version=1
    EventType=APPCRASH
    EventTime=134012782822231598
    ReportType=2
    Consent=1
    UploadTime=134012783158499355
    ReportStatus=268439648
    ReportIdentifier=34beb59a-eca4-4639-82ac-a6a356f6c0ee
    IntegratorReportIdentifier=7be766a2-0334-435e-8f1f-9de061e719c4
    Wow64Host=34404
    NsAppName=å·¥å…·.exe
    OriginalFilename=å·¥å…·.dll
    AppSessionGuid=00003770-0001-0205-fae8-4e7bea1bdc01
    TargetAppId=W:0006860c34e8850dfd245f76021df6a94dbd00000000!0000084e67ec0f97c6d906b825c90602a2ce4666eb41!å·¥å…·.exe
    TargetAppVer=2025//06//16:18:48:31!0!å·¥å…·.exe
    BootId=4294967295
    TargetAsId=2372
    IsFatal=1
    EtwNonCollectReason=4
    Response.BucketId=6bd1075ac6d404d421418afefa96e95b
    Response.BucketTable=4
    Response.LegacyBucketId=1243427799861487963
    Response.type=4
    Sig[0].Name=åº”ç”¨ç¨‹åºå
    Sig[0].Value=å·¥å…·.exe
    Sig[1].Name=åº”ç”¨ç¨‹åºç‰ˆæœ¬
    Sig[1].Value=1.0.0.0
    Sig[2].Name=åº”ç”¨ç¨‹åºæ—¶é—´æˆ³
    Sig[2].Value=685066ff
    Sig[3].Name=æ•…éšœæ¨¡å—åç§°
    Sig[3].Value=KERNELBASE.dll
    Sig[4].Name=æ•…éšœæ¨¡å—ç‰ˆæœ¬
    Sig[4].Value=10.0.19041.1202
    Sig[5].Name=æ•…éšœæ¨¡å—æ—¶é—´æˆ³
    Sig[5].Value=c9db1934
    Sig[6].Name=å¼‚å¸¸ä»£ç 
    Sig[6].Value=c0000602
    Sig[7].Name=å¼‚å¸¸åç§»
    Sig[7].Value=000000000010be3e
    DynamicSig[1].Name=OS ç‰ˆæœ¬
    DynamicSig[1].Value=10.0.19044.2.0.0.256.191
    DynamicSig[2].Name=åŒºåŸŸè®¾ç½® ID
    DynamicSig[2].Value=2052
    DynamicSig[22].Name=å…¶ä»–ä¿¡æ¯ 1
    DynamicSig[22].Value=162d
    DynamicSig[23].Name=å…¶ä»–ä¿¡æ¯ 2
    DynamicSig[23].Value=162dc7323adee510a77f5cd94c6dfe5f
    DynamicSig[24].Name=å…¶ä»–ä¿¡æ¯ 3
    DynamicSig[24].Value=cdd1
    DynamicSig[25].Name=å…¶ä»–ä¿¡æ¯ 4
    DynamicSig[25].Value=cdd1120f7c4950a490c053074b983c78
    UI[2]=C:\win-x64\å·¥å…·.exe
    LoadedModule[0]=C:\win-x64\å·¥å…·.exe
    LoadedModule[1]=C:\Windows\SYSTEM32\ntdll.dll
    LoadedModule[2]=C:\Windows\System32\KERNEL32.DLL
    LoadedModule[3]=C:\Windows\System32\KERNELBASE.dll
    LoadedModule[4]=C:\Windows\SYSTEM32\apphelp.dll
    LoadedModule[5]=C:\InetPub\ftproot\Tipray\Ldterm\ghijt64.DLL
    LoadedModule[6]=C:\Windows\System32\ADVAPI32.dll
    LoadedModule[7]=C:\Windows\System32\msvcrt.dll
    LoadedModule[8]=C:\Windows\System32\sechost.dll
    LoadedModule[9]=C:\Windows\System32\RPCRT4.dll
    LoadedModule[10]=C:\Windows\System32\ole32.dll
    LoadedModule[11]=C:\Windows\System32\ucrtbase.dll
    LoadedModule[12]=C:\Windows\System32\combase.dll
    LoadedModule[13]=C:\Windows\System32\GDI32.dll
    LoadedModule[14]=C:\Windows\System32\win32u.dll
    LoadedModule[15]=C:\Windows\System32\gdi32full.dll
    LoadedModule[16]=C:\Windows\System32\msvcp_win.dll
    LoadedModule[17]=C:\Windows\System32\USER32.dll
    LoadedModule[18]=C:\Windows\System32\OLEAUT32.dll
    LoadedModule[19]=C:\Windows\System32\SHELL32.dll
    LoadedModule[20]=C:\Inetpub\ftproot\Tipray\LdTerm\LdSmartEnc64.dll
    LoadedModule[21]=C:\Windows\SYSTEM32\FLTLIB.DLL
    LoadedModule[22]=C:\Windows\System32\IMM32.DLL
    LoadedModule[23]=C:\Inetpub\ftproot\Tipray\LdTerm\HookCreateProcessInternal64.dll
    LoadedModule[24]=C:\Inetpub\ftproot\Tipray\LdTerm\LdUserInjectDll64.dll
    LoadedModule[25]=C:\Inetpub\ftproot\Tipray\LdTerm\HookDataInteractionx64.dll
    LoadedModule[26]=C:\Inetpub\ftproot\Tipray\LdTerm\LdHook64.dll
    LoadedModule[27]=C:\Windows\System32\PSAPI.DLL
    LoadedModule[28]=C:\Windows\SYSTEM32\WINSPOOL.DRV
    LoadedModule[29]=C:\Windows\SYSTEM32\VERSION.dll
    LoadedModule[30]=C:\Windows\SYSTEM32\CRYPTBASE.DLL
    LoadedModule[31]=C:\Inetpub\ftproot\Tipray\LdTerm\ghhlp64.dll
    LoadedModule[32]=C:\Inetpub\ftproot\Tipray\LdTerm\MonFileOp64.dll
    LoadedModule[33]=C:\Windows\System32\SHLWAPI.dll
    LoadedModule[34]=C:\Windows\SYSTEM32\MPR.dll
    LoadedModule[35]=C:\Inetpub\ftproot\Tipray\LdTerm\LdWaterMarkHook64.dll
    LoadedModule[36]=C:\Windows\WinSxS\amd64_microsoft.windows.gdiplus_6595b64144ccf1df_1.1.19041.1288_none_91a663c8cc864906\gdiplus.dll
    State[0].Key=Transport.DoneStage1
    State[0].Value=1
    OsInfo[0].Key=vermaj
    OsInfo[0].Value=10
    OsInfo[1].Key=vermin
    OsInfo[1].Value=0
    OsInfo[2].Key=verbld
    OsInfo[2].Value=19044
    OsInfo[3].Key=ubr
    OsInfo[3].Value=1288
    OsInfo[4].Key=versp
    OsInfo[4].Value=0
    OsInfo[5].Key=arch
    OsInfo[5].Value=9
    OsInfo[6].Key=lcid
    OsInfo[6].Value=2052
    OsInfo[7].Key=geoid
    OsInfo[7].Value=45
    OsInfo[8].Key=sku
    OsInfo[8].Value=191
    OsInfo[9].Key=domain
    OsInfo[9].Value=1
    OsInfo[10].Key=prodsuite
    OsInfo[10].Value=256
    OsInfo[11].Key=ntprodtype
    OsInfo[11].Value=1
    OsInfo[12].Key=platid
    OsInfo[12].Value=10
    OsInfo[13].Key=sr
    OsInfo[13].Value=0
    OsInfo[14].Key=tmsi
    OsInfo[14].Value=1099223
    OsInfo[15].Key=osinsty
    OsInfo[15].Value=1
    OsInfo[16].Key=iever
    OsInfo[16].Value=11.789.19041.0-11.0.1000
    OsInfo[17].Key=portos
    OsInfo[17].Value=0
    OsInfo[18].Key=ram
    OsInfo[18].Value=7880
    OsInfo[19].Key=svolsz
    OsInfo[19].Value=238
    OsInfo[20].Key=wimbt
    OsInfo[20].Value=0
    OsInfo[21].Key=blddt
    OsInfo[21].Value=191206
    OsInfo[22].Key=bldtm
    OsInfo[22].Value=1406
    OsInfo[23].Key=bldbrch
    OsInfo[23].Value=vb_release
    OsInfo[24].Key=bldchk
    OsInfo[24].Value=0
    OsInfo[25].Key=wpvermaj
    OsInfo[25].Value=0
    OsInfo[26].Key=wpvermin
    OsInfo[26].Value=0
    OsInfo[27].Key=wpbuildmaj
    OsInfo[27].Value=0
    OsInfo[28].Key=wpbuildmin
    OsInfo[28].Value=0
    OsInfo[29].Key=osver
    OsInfo[29].Value=10.0.19041.1288.amd64fre.vb_release.191206-1406
    OsInfo[30].Key=buildflightid
    OsInfo[31].Key=edition
    OsInfo[31].Value=IoTEnterpriseS
    OsInfo[32].Key=ring
    OsInfo[32].Value=Retail
    OsInfo[33].Key=expid
    OsInfo[34].Key=fconid
    OsInfo[35].Key=containerid
    OsInfo[36].Key=containertype
    OsInfo[37].Key=edu
    OsInfo[37].Value=0
    FriendlyEventName=å·²åœæ­¢å·¥ä½œ
    ConsentKey=APPCRASH
    AppName=å·¥å…·
    AppPath=C:\win-x64\å·¥å…·.exe
    NsPartner=windows 
    NsGroup=windows8
    ApplicationIdentity=8CE23494FD3E8EC4878D62E3C55F8B8E
    MetadataHash=784019804
    

å‡†å¤‡å»å¾®è½¯çš„å¼€æºåº“æŸ¥æŸ¥æ˜¯å¦æœ‰è¿™æ–¹é¢issueï¼Œä¸€æŸ¥å‘ç°ç½ªé­ç¥¸é¦–ç«Ÿç„¶æ˜¯.net9sdkçš„é—®é¢˜ï¼Œçœ‹æ¥å‡ºç°è¿™ä¸ªé—®é¢˜çš„äººè¿˜ä¸å°‘ï¼ŒæŠ¥é”™çš„ç¯å¢ƒä¹Ÿæ˜¯å„ç§å„æ ·çš„

![image-20250905113715195](https://img2024.cnblogs.com/blog/2664797/202509/2664797-20250905135618952-321175828.png)

ä¸‰ã€é—®é¢˜å¯¼è‡´åŸå› ğŸµ

1.åœ¨ç‰¹å®šçš„VMware çš„è™šæ‹Ÿæœºè¿è¡Œæ—¶ä¼šå¯¼è‡´æ­¤ç§æƒ…å†µ

2.åœ¨ç‰¹å®šçš„win10ä»¥åŠä¹‹å‰ç‰ˆæœ¬ä¸Šä¼šå‡ºç°

3.åœ¨ç³»ç»Ÿç”µè„‘å®‰è£…äº†é˜²ç—…æ¯’è½¯ä»¶ï¼ˆç»¿ç›¾ã€360ï¼Œç­‰ï¼‰

åœ¨çœ‹äº†å¤šä¸ªissueä¹‹åï¼Œæ‰¾åˆ°äº†ç½ªé­ç¥¸é¦–ï¼Œç¨‹åºå¯åŠ¨åŠå´©æºƒåªæœ‰åœ¨ä½¿ç”¨æœ€æ–°çš„.NET9çš„sdkä¸Šåœ¨å‘å¸ƒx64ç‰ˆæœ¬æ—¶ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå¾®è½¯åœ¨[.NET 9 Preview 6å¼€å§‹](https://github.com/dotnet/docs/issues/42600?ref=bra.live)ï¼ŒCET ä¼šè¢«å¼ºåˆ¶å¼€å¯ã€‚apphostä¼šå¼ºåˆ¶åŠ ä¸Šä¸€ä¸ªå¤´éƒ¨ï¼Œæ ‡è®°æ”¯æŒ CETã€‚åœ¨æ–°çš„ Intel CPU + æ–°çš„ Windows ä¸‹ï¼Œä¼šè¢«æ‰§è¡Œ CETã€‚ä½†æ˜¯ï¼Œå¦‚æœç¨‹åºæœ¬èº«æ˜¯ä¸æ”¯æŒï¼Œåˆæˆ–è€…ç¨‹åºæ‰€ä¾èµ–çš„ nuget åŒ…ä¸æ”¯æŒ CET çš„è¯ï¼Œç¨‹åºå°±ä¼šç›´æ¥å´©æºƒï¼Œæ²¡æœ‰ä»»ä½•æç¤ºï¼Œç”šè‡³è¿ç¨‹åºçš„ main éƒ½è¿›ä¸å»ï¼Œlog ä¹Ÿæ‰“ä¸å‡ºæ¥ã€‚

æ‰€ä»¥è¯´ï¼Œæˆ‘ä¹‹å‰æ·»åŠ çš„å…¨å±€é”™è¯¯æ—¥å¿—ä¸ºä»€ä¹ˆæ²¡æœ‰æŠ“åˆ°è¿™ä¸ªå¼‚å¸¸ï¼ŒåŸæ¥åœ¨è¿è¡Œæ—¶å°±å·²ç»å´©æºƒäº†

å››ã€å¦‚ä½•è§£å†³ğŸŒµ

1.ä¸è¦ä½¿ç”¨x64è¿›è¡Œå‘å¸ƒï¼Œæµ‹è¯•ä½¿ç”¨x86å‘å¸ƒåå¯ä»¥æ­£å¸¸æ‰“å¼€

2.åœ¨å—å½±å“æœºå™¨ä¸Šé¢ä¸è¦é€šè¿‡åŒå‡»ç”Ÿæˆçš„.exeåº”ç”¨ç¨‹åºï¼Œé€šè¿‡ PowerShell æˆ– CMD å¯æ­£å¸¸è¿è¡Œ

3.åœ¨å—å½±å“æœºå™¨ä¸Šé¢æ‰“å¼€windowså®‰å…¨ç§-åº”ç”¨å’Œæµè§ˆæ§åˆ¶-Exploit Protection-ç¨‹åºè®¾ç½®ï¼Œæ·»åŠ ä¸»ç¨‹åºçš„åå­—ï¼Œä¾‹å¦‚â€œå·¥å…·.exeâ€ï¼Œç‚¹å‡»è‡ªå®šä¹‰ï¼ŒæŠŠâ€œç¡¬ä»¶å¼ºåˆ¶å®æ–½çš„å †æ ˆä¿æŠ¤â€ä¸­ï¼Œâ€œæ›¿ä»£ç³»ç»Ÿè®¾ç½®â€å‹¾ä¸Šï¼Œä¿æŒåœ¨â€œå…³â€çš„çŠ¶æ€ï¼Œä¿å­˜ã€‚å†æ‰“å¼€ç¨‹åºå°±å¯ä»¥äº†ã€‚

4.æœ€åä¸€ä¸ªå°±æ˜¯å…³é—­.net9çš„cetåŠŸèƒ½ï¼Œåœ¨ç¨‹åºçš„`.csproj`æ–‡ä»¶ä¸­ï¼Œ`<PropertyGroup>`æ®µï¼ŒåŠ ä¸Š`<CETCompat>false</CETCompat>`ï¼Œé‡æ–°ç¼–è¯‘ç¨‹åºï¼Œå†å‘å¸ƒåå³å¯æ­£å¸¸è¿è¡Œã€‚

é—®é¢˜åˆ°è¿™å°±è§£å†³äº†ï¼Œå½“ä».net8å‡çº§åˆ°.ne9åï¼Œæ²¡æƒ³åˆ°è¿˜ä¼šé‡åˆ°è¿™ç§ç–‘éš¾æ‚ç—‡ï¼Œçœ‹æ¥åœ¨æ¯ä¸€ä¸ªå¤§ç‰ˆæœ¬æ›´æ–°ä¹‹åï¼Œè¿˜æ˜¯è¦æ…é‡ï¼Œå½“ç„¶è‡ªèº«çš„è°ƒè¯•debugèƒ½åŠ›ä¹Ÿå¾—æœ‰ï¼Œå‡ºç°é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿå®šä½åˆ°é—®é¢˜ç‚¹ï¼Œæ²¡æœ‰è§£å†³æ€è·¯çš„æ—¶å€™ä¸å¦‚å»å®˜æ–¹çš„issueä¸Šé¢çœ‹çœ‹ï¼Œå¯èƒ½ä¼šæœ‰æƒŠå–œå“¦ï¼