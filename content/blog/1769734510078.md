---
layout: post
title: 'Kuboard ç¦»çº¿å®‰è£…ä¸Ž K3s é›†ç¾¤ç»‘å®šå®Œæ•´æŒ‡å—'
date: "2026-01-30T00:55:10Z"
---
Kuboard ç¦»çº¿å®‰è£…ä¸Ž K3s é›†ç¾¤ç»‘å®šå®Œæ•´æŒ‡å—
==========================

ðŸ“‹ ç›®å½•
-----

*   [çŽ¯å¢ƒè¯´æ˜Ž](#%E7%8E%AF%E5%A2%83%E8%AF%B4%E6%98%8E)
*   [å‡†å¤‡å·¥ä½œ](#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C)
*   [ä¸€ã€å‡†å¤‡ç¦»çº¿å®‰è£…åŒ…](#%E4%B8%80%E5%87%86%E5%A4%87%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85%E5%8C%85)
*   [äºŒã€ä¼ è¾“æ–‡ä»¶åˆ°æœåŠ¡å™¨](#%E4%BA%8C%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8)
*   [ä¸‰ã€å®‰è£… Kuboard](#%E4%B8%89%E5%AE%89%E8%A3%85-kuboard)
*   [å››ã€è§£å†³ 404 é—®é¢˜](#%E5%9B%9B%E8%A7%A3%E5%86%B3-404-%E9%97%AE%E9%A2%98)
*   [äº”ã€ç»‘å®š K3s é›†ç¾¤](#%E4%BA%94%E7%BB%91%E5%AE%9A-k3s-%E9%9B%86%E7%BE%A4)
*   [å¸¸ç”¨ç®¡ç†å‘½ä»¤](#%E5%B8%B8%E7%94%A8%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4)
*   [å¸¸è§é—®é¢˜](#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98)

* * *

çŽ¯å¢ƒè¯´æ˜Ž
----

### æœåŠ¡å™¨çŽ¯å¢ƒ

*   **æœåŠ¡å™¨ IP**: 10.12.12.110
*   **æ“ä½œç³»ç»Ÿ**: CentOS/RHEL
*   **ç½‘ç»œçŽ¯å¢ƒ**: å†…ç½‘ï¼Œæ— æ³•è®¿é—®å¤–ç½‘
*   **å·²å®‰è£…æœåŠ¡**: K3s v1.30.11+k3s1

### æœ¬åœ°çŽ¯å¢ƒ

*   **æ“ä½œç³»ç»Ÿ**: Windows
*   **ç½‘ç»œ**: å¯ä»¥è”ç½‘
*   **å·²å®‰è£…å·¥å…·**: Docker Desktopã€SecureCRT

* * *

å‡†å¤‡å·¥ä½œ
----

### æ‰€éœ€å·¥å…·

*   Docker Desktopï¼ˆWindows æœ¬åœ°ï¼‰
*   SecureCRTï¼ˆSSH è¿žæŽ¥å·¥å…·ï¼‰
*   æµè§ˆå™¨

### ç½‘ç»œè¦æ±‚

*   æœ¬åœ°æœºå™¨å¯ä»¥è®¿é—®äº’è”ç½‘
*   æœ¬åœ°æœºå™¨å¯ä»¥ SSH è¿žæŽ¥åˆ°æœåŠ¡å™¨
*   æœåŠ¡å™¨å¤„äºŽå†…ç½‘çŽ¯å¢ƒ

* * *

ä¸€ã€å‡†å¤‡ç¦»çº¿å®‰è£…åŒ…
---------

### 1.1 ä¸‹è½½ Kuboard é•œåƒ

åœ¨ Windows æœ¬åœ°ï¼ˆå·²å®‰è£… Docker Desktopï¼‰çš„ PowerShell ä¸­æ‰§è¡Œï¼š

    # ä½¿ç”¨å›½å†…é•œåƒæºä¸‹è½½ Kuboard v3
    docker pull swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3
    
    # é‡æ–°æ ‡è®°é•œåƒ
    docker tag swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3 eipwork/kuboard:v3
    
    # éªŒè¯é•œåƒ
    docker images | Select-String kuboard
    

### 1.2 å¯¼å‡ºé•œåƒä¸º tar æ–‡ä»¶

    # åˆ›å»ºç›®å½•
    New-Item -ItemType Directory -Force -Path "D:\Documents\kuboard-offline\images"
    
    # å¯¼å‡ºé•œåƒï¼ˆçº¦ 126 MBï¼‰
    docker save eipwork/kuboard:v3 -o "D:\Documents\kuboard-offline\images\kuboard-v3.tar"
    
    # æŸ¥çœ‹æ–‡ä»¶å¤§å°
    Get-ChildItem "D:\Documents\kuboard-offline\images\kuboard-v3.tar"
    

### 1.3 ä¸‹è½½ Docker ç¦»çº¿å®‰è£…åŒ…

    # åˆ›å»ºç›®å½•
    New-Item -ItemType Directory -Force -Path "D:\Documents\kuboard-offline\docker"
    
    # ä¸‹è½½ Docker ç¦»çº¿åŒ…ï¼ˆçº¦ 66.6 MBï¼‰
    Invoke-WebRequest -Uri "https://download.docker.com/linux/static/stable/x86_64/docker-24.0.7.tgz" -OutFile "D:\Documents\kuboard-offline\docker\docker-24.0.7.tgz"
    

### 1.4 åˆ›å»ºå®‰è£…è„šæœ¬

åœ¨ `D:\Documents\kuboard-offline\` ç›®å½•ä¸‹åˆ›å»º `install.sh` æ–‡ä»¶ï¼š

    #!/bin/bash
    # Kuboard ç¦»çº¿å®‰è£…è„šæœ¬
    
    set -e
    
    echo "=========================================="
    echo "Kuboard ç¦»çº¿å®‰è£…"
    echo "=========================================="
    
    # æ£€æŸ¥æ˜¯å¦ä¸º root ç”¨æˆ·
    if [ "$EUID" -ne 0 ]; then 
        echo "è¯·ä½¿ç”¨ root ç”¨æˆ·æˆ– sudo æ‰§è¡Œæ­¤è„šæœ¬"
        exit 1
    fi
    
    SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
    
    # æ£€æŸ¥ Docker æ˜¯å¦å·²å®‰è£…
    if ! command -v docker &> /dev/null; then
        echo "[1/4] å®‰è£… Docker..."
        
        if [ -f "${SCRIPT_DIR}/docker/docker-24.0.7.tgz" ]; then
            cd "${SCRIPT_DIR}/docker"
            tar -xzf docker-24.0.7.tgz
            cp docker/* /usr/bin/
            chmod +x /usr/bin/docker*
            
            # åˆ›å»º Docker systemd æœåŠ¡
            cat > /etc/systemd/system/docker.service << 'DOCKERSERVICE'
    [Unit]
    Description=Docker Application Container Engine
    Documentation=https://docs.docker.com
    After=network-online.target firewalld.service
    Wants=network-online.target
    
    [Service]
    Type=notify
    ExecStart=/usr/bin/dockerd
    ExecReload=/bin/kill -s HUP $MAINPID
    LimitNOFILE=infinity
    LimitNPROC=infinity
    TimeoutStartSec=0
    Delegate=yes
    KillMode=process
    Restart=on-failure
    StartLimitBurst=3
    StartLimitInterval=60s
    
    [Install]
    WantedBy=multi-user.target
    DOCKERSERVICE
    
            systemctl daemon-reload
            systemctl start docker
            systemctl enable docker
            
            echo "âœ“ Docker å®‰è£…å®Œæˆ"
        else
            echo "âš  æœªæ‰¾åˆ° Docker å®‰è£…åŒ…"
        fi
    else
        echo "[1/4] Docker å·²å®‰è£…: $(docker --version)"
    fi
    
    echo ""
    echo "[2/4] åŠ è½½ Kuboard é•œåƒ..."
    if [ -f "${SCRIPT_DIR}/images/kuboard-v3.tar" ]; then
        docker load -i "${SCRIPT_DIR}/images/kuboard-v3.tar"
        echo "âœ“ Kuboard é•œåƒåŠ è½½å®Œæˆ"
    else
        echo "âœ— æœªæ‰¾åˆ° Kuboard é•œåƒæ–‡ä»¶"
        exit 1
    fi
    
    echo ""
    echo "[3/4] åˆ›å»ºæ•°æ®ç›®å½•..."
    mkdir -p /data/kuboard
    echo "âœ“ æ•°æ®ç›®å½•åˆ›å»ºå®Œæˆ: /data/kuboard"
    
    echo ""
    echo "[4/4] å¯åŠ¨ Kuboard å®¹å™¨..."
    
    SERVER_IP="10.12.12.110"
    
    # æ£€æŸ¥æ˜¯å¦å·²æœ‰è¿è¡Œçš„ kuboard å®¹å™¨
    if docker ps -a | grep -q kuboard; then
        echo "æ£€æµ‹åˆ°å·²å­˜åœ¨çš„ kuboard å®¹å™¨ï¼Œæ­£åœ¨åˆ é™¤..."
        docker rm -f kuboard
    fi
    
    # å¯åŠ¨å®¹å™¨
    docker run -d \
      --restart=unless-stopped \
      --name=kuboard \
      -p 80:80/tcp \
      -p 10081:10081/tcp \
      -e KUBOARD_ENDPOINT="http://${SERVER_IP}:80" \
      -e KUBOARD_AGENT_SERVER_TCP_PORT="10081" \
      -v /data/kuboard:/data \
      eipwork/kuboard:v3
    
    echo ""
    echo "ç­‰å¾…å®¹å™¨å¯åŠ¨..."
    sleep 5
    
    # æ£€æŸ¥å®¹å™¨çŠ¶æ€
    if docker ps | grep -q kuboard; then
        echo "âœ“ Kuboard å¯åŠ¨æˆåŠŸï¼"
        echo ""
        echo "=========================================="
        echo "å®‰è£…å®Œæˆï¼"
        echo "=========================================="
        echo "è®¿é—®åœ°å€: http://${SERVER_IP}"
        echo "é»˜è®¤ç”¨æˆ·å: admin"
        echo "é»˜è®¤å¯†ç : Kuboard123"
        echo ""
        echo "âš ï¸  è¯·ç«‹å³ç™»å½•å¹¶ä¿®æ”¹é»˜è®¤å¯†ç ï¼"
        echo "=========================================="
    else
        echo "âœ— Kuboard å¯åŠ¨å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—:"
        docker logs kuboard
        exit 1
    fi
    

### 1.5 æ–‡ä»¶ç»“æž„

å‡†å¤‡å®ŒæˆåŽï¼Œç›®å½•ç»“æž„å¦‚ä¸‹ï¼š

    D:\Documents\kuboard-offline\
    â”œâ”€â”€ docker/
    â”‚   â””â”€â”€ docker-24.0.7.tgz          (66.6 MB)
    â”œâ”€â”€ images/
    â”‚   â””â”€â”€ kuboard-v3.tar             (126 MB)
    â””â”€â”€ install.sh                      (å®‰è£…è„šæœ¬)
    

**æ€»å¤§å°**: çº¦ 193 MB

* * *

äºŒã€ä¼ è¾“æ–‡ä»¶åˆ°æœåŠ¡å™¨
----------

### 2.1 ä½¿ç”¨ SecureCRT çš„ SFTP åŠŸèƒ½

#### è¿žæŽ¥åˆ°æœåŠ¡å™¨

1.  æ‰“å¼€ SecureCRT
2.  æ–°å»ºä¼šè¯æˆ–å¿«é€Ÿè¿žæŽ¥
    *   åè®®ï¼šSSH2
    *   ä¸»æœºåï¼š`10.12.12.110`
    *   ç«¯å£ï¼š`22`
    *   ç”¨æˆ·åï¼š`sudoroot`
3.  è¿žæŽ¥å¹¶è¾“å…¥å¯†ç 

#### ä¸Šä¼ æ–‡ä»¶

1.  æŒ‰ `Alt + P` æ‰“å¼€ SFTP çª—å£
2.  åœ¨ SFTP çª—å£ä¸­æ‰§è¡Œï¼š

    # åˆ‡æ¢åˆ°æœåŠ¡å™¨çš„ /tmp ç›®å½•
    cd /tmp
    
    # åˆ‡æ¢æœ¬åœ°ç›®å½•åˆ° D:\Documents
    lcd D:\Documents
    
    # ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹
    put -r kuboard-offline
    

3.  ç­‰å¾…ä¼ è¾“å®Œæˆï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰

### 2.2 éªŒè¯æ–‡ä»¶ä¼ è¾“

åœ¨ SecureCRT å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š

    # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å®Œæ•´
    ls -lh /tmp/kuboard-offline/
    ls -lh /tmp/kuboard-offline/docker/
    ls -lh /tmp/kuboard-offline/images/
    

* * *

ä¸‰ã€å®‰è£… Kuboard
------------

### 3.1 æ‰§è¡Œå®‰è£…è„šæœ¬

åœ¨ SecureCRT ä¸­æ‰§è¡Œï¼š

    # è¿›å…¥ç›®å½•
    cd /tmp/kuboard-offline
    
    # ç»™è„šæœ¬æ‰§è¡Œæƒé™
    chmod +x install.sh
    
    # æ‰§è¡Œå®‰è£…
    sudo bash install.sh
    

### 3.2 ç­‰å¾…å®‰è£…å®Œæˆ

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1.  âœ… æ£€æŸ¥å¹¶å®‰è£… Dockerï¼ˆå¦‚æžœæœªå®‰è£…ï¼‰
2.  âœ… åŠ è½½ Kuboard é•œåƒ
3.  âœ… åˆ›å»ºæ•°æ®ç›®å½• `/data/kuboard`
4.  âœ… å¯åŠ¨ Kuboard å®¹å™¨

å®‰è£…è¿‡ç¨‹çº¦éœ€ **1-3 åˆ†é’Ÿ**ã€‚

### 3.3 éªŒè¯å®‰è£…

    # æŸ¥çœ‹å®¹å™¨çŠ¶æ€
    sudo docker ps | grep kuboard
    
    # æŸ¥çœ‹æ—¥å¿—
    sudo docker logs kuboard | tail -50
    
    # æµ‹è¯•æœ¬åœ°è®¿é—®
    curl -I http://localhost:80
    

* * *

å››ã€è§£å†³ 404 é—®é¢˜
-----------

### 4.1 é—®é¢˜çŽ°è±¡

åˆæ¬¡å®‰è£…åŽï¼Œè®¿é—® `http://10.12.12.110` å¯èƒ½ä¼šé‡åˆ° **404 page not found** é”™è¯¯ã€‚

### 4.2 é—®é¢˜åŽŸå› 

Kuboard v3 é•œåƒçš„ nginx é…ç½®æ–‡ä»¶é»˜è®¤ç”Ÿæˆä¸å®Œæ•´ï¼Œç¼ºå°‘ `http {}` å—ï¼Œå¯¼è‡´æ— æ³•æ­£ç¡®å¤„ç† HTTP è¯·æ±‚ã€‚

### 4.3 è§£å†³æ–¹æ¡ˆï¼šæ›´æ¢ç«¯å£å¹¶ä¿®å¤é…ç½®

#### æ­¥éª¤ 1ï¼šåœæ­¢çŽ°æœ‰å®¹å™¨å¹¶ä½¿ç”¨æ–°ç«¯å£

    # åœæ­¢å¹¶åˆ é™¤çŽ°æœ‰å®¹å™¨
    sudo docker stop kuboard
    sudo docker rm kuboard
    
    # ä½¿ç”¨ 41878 ç«¯å£é‡æ–°å¯åŠ¨
    sudo docker run -d \
      --restart=unless-stopped \
      --name=kuboard \
      -p 41878:80/tcp \
      -p 10081:10081/tcp \
      -e KUBOARD_ENDPOINT="http://10.12.12.110:41878" \
      -e KUBOARD_AGENT_SERVER_TCP_PORT="10081" \
      -v /data/kuboard:/data \
      eipwork/kuboard:v3
    
    # ç­‰å¾…å®¹å™¨å¯åŠ¨
    sleep 30
    

#### æ­¥éª¤ 2ï¼šä¿®å¤ nginx é…ç½®

    # åˆ›å»ºå®Œæ•´çš„ nginx é…ç½®
    sudo docker exec kuboard sh -c 'cat > /etc/nginx/nginx.conf << "EOF"
    user www-data;
    worker_processes auto;
    pid /run/nginx.pid;
    include /etc/nginx/modules-enabled/*.conf;
    
    events {
        worker_connections 65535;
    }
    
    http {
        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
        keepalive_timeout 65;
        types_hash_max_size 2048;
    
        include /etc/nginx/mime.types;
        default_type application/octet-stream;
    
        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;
    
        gzip on;
    
        server {
            listen 80;
            server_name _;
            
            client_max_body_size 1024m;
    
            location / {
                proxy_pass http://127.0.0.1:10080;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "upgrade";
            }
        }
    }
    
    stream {}
    EOF'
    
    # é‡è½½ nginx é…ç½®
    sudo docker exec kuboard nginx -s reload
    

#### æ­¥éª¤ 3ï¼šéªŒè¯è®¿é—®

    # æµ‹è¯•æœ¬åœ°è®¿é—®
    curl -I http://localhost:41878
    
    # æŸ¥çœ‹å®¹å™¨çŠ¶æ€
    sudo docker ps | grep kuboard
    

### 4.4 è®¿é—® Kuboard

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

**[http://10.12.12.110:41878](http://10.12.12.110:41878)**

ç™»å½•ä¿¡æ¯ï¼š

*   **ç”¨æˆ·å**: `admin`
*   **å¯†ç **: `Kuboard123`

âš ï¸ **é‡è¦æé†’**ï¼šé¦–æ¬¡ç™»å½•åŽè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

* * *

äº”ã€ç»‘å®š K3s é›†ç¾¤
-----------

### 5.1 æ£€æŸ¥ K3s çŠ¶æ€

åœ¨ SecureCRT ä¸­æ‰§è¡Œï¼š

    # æ£€æŸ¥ K3s æœåŠ¡çŠ¶æ€
    sudo systemctl status k3s
    
    # æŸ¥çœ‹èŠ‚ç‚¹ä¿¡æ¯
    sudo kubectl get nodes
    
    # æŸ¥çœ‹ kubeconfig æ–‡ä»¶
    ls -la /etc/rancher/k3s/k3s.yaml
    

### 5.2 æ–¹æ³•ä¸€ï¼šä½¿ç”¨ KubeConfig å¯¼å…¥ï¼ˆæŽ¨èï¼‰

#### æ­¥éª¤ 1ï¼šç”Ÿæˆä¿®æ”¹åŽçš„ kubeconfig

åœ¨ SecureCRT ä¸­æ‰§è¡Œï¼š

    # å°† 127.0.0.1 æ›¿æ¢ä¸ºæœåŠ¡å™¨å®žé™… IP
    sudo cat /etc/rancher/k3s/k3s.yaml | sed 's/127.0.0.1/10.12.12.110/g'
    

#### æ­¥éª¤ 2ï¼šå¤åˆ¶è¾“å‡ºå†…å®¹

æ‰§è¡Œä¸Šé¢å‘½ä»¤åŽï¼Œä¼šè¾“å‡ºä¿®æ”¹åŽçš„ kubeconfigï¼Œ**å…¨éƒ¨å¤åˆ¶**ï¼ˆä»Ž `apiVersion: v1` å¼€å§‹åˆ°æœ€åŽï¼‰ã€‚

#### æ­¥éª¤ 3ï¼šåœ¨ Kuboard ä¸­å¯¼å…¥

1.  æµè§ˆå™¨è®¿é—® **[http://10.12.12.110:41878](http://10.12.12.110:41878)**
2.  ä½¿ç”¨ `admin/Kuboard123` ç™»å½•
3.  ç‚¹å‡»é¡µé¢ä¸Šçš„ã€Œ**æ·»åŠ é›†ç¾¤**ã€æŒ‰é’®
4.  é€‰æ‹©ã€Œ**é€šè¿‡ KubeConfig å¯¼å…¥**ã€
5.  å°†åˆšæ‰å¤åˆ¶çš„ kubeconfig å†…å®¹ç²˜è´´åˆ°æ–‡æœ¬æ¡†
6.  ç‚¹å‡»ã€Œ**ç¡®å®š**ã€æˆ–ã€Œ**å¯¼å…¥**ã€

#### æ­¥éª¤ 4ï¼šéªŒè¯é›†ç¾¤è¿žæŽ¥

å¯¼å…¥æˆåŠŸåŽï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š

*   é›†ç¾¤åç§°ï¼šdefault
*   èŠ‚ç‚¹æ•°é‡ï¼š1
*   K3s ç‰ˆæœ¬ï¼šv1.30.11+k3s1
*   èŠ‚ç‚¹çŠ¶æ€ï¼šReady

### 5.3 æ–¹æ³•äºŒï¼šä½¿ç”¨ Token æ–¹å¼

å¦‚æžœ KubeConfig å¯¼å…¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ Token æ–¹å¼ã€‚

#### æ­¥éª¤ 1ï¼šåˆ›å»º ServiceAccount

åœ¨ SecureCRT ä¸­æ‰§è¡Œï¼š

    # åˆ›å»º Kuboard ä¸“ç”¨è´¦å·å’Œæƒé™
    cat <<EOF | sudo kubectl apply -f -
    ---
    apiVersion: v1
    kind: Namespace
    metadata:
      name: kuboard
    
    ---
    apiVersion: v1
    kind: ServiceAccount
    metadata:
      name: kuboard-admin
      namespace: kuboard
    
    ---
    apiVersion: rbac.authorization.k8s.io/v1
    kind: ClusterRoleBinding
    metadata:
      name: kuboard-admin
    roleRef:
      apiGroup: rbac.authorization.k8s.io
      kind: ClusterRole
      name: cluster-admin
    subjects:
    - kind: ServiceAccount
      name: kuboard-admin
      namespace: kuboard
    
    ---
    apiVersion: v1
    kind: Secret
    metadata:
      name: kuboard-admin-token
      namespace: kuboard
      annotations:
        kubernetes.io/service-account.name: kuboard-admin
    type: kubernetes.io/service-account-token
    EOF
    

#### æ­¥éª¤ 2ï¼šèŽ·å– Token

    # ç­‰å¾… Secret åˆ›å»º
    sleep 5
    
    # èŽ·å– Token
    echo "=========================================="
    echo "Token:"
    echo "=========================================="
    sudo kubectl get secret kuboard-admin-token -n kuboard -o jsonpath='{.data.token}' | base64 -d
    echo ""
    echo ""
    
    # èŽ·å– CA è¯ä¹¦
    echo "=========================================="
    echo "CA Certificate:"
    echo "=========================================="
    sudo kubectl get secret kuboard-admin-token -n kuboard -o jsonpath='{.data.ca\.crt}'
    echo ""
    

#### æ­¥éª¤ 3ï¼šåœ¨ Kuboard ä¸­æ·»åŠ é›†ç¾¤

1.  è®¿é—® **[http://10.12.12.110:41878](http://10.12.12.110:41878)**
2.  ç‚¹å‡»ã€Œ**æ·»åŠ é›†ç¾¤**ã€
3.  é€‰æ‹©ã€Œ**é€šè¿‡ Token å¯¼å…¥**ã€æˆ–ã€Œ**æ‰‹åŠ¨æ·»åŠ **ã€
4.  å¡«å†™ä¿¡æ¯ï¼š
    *   **é›†ç¾¤åç§°**ï¼šk3s-clusterï¼ˆè‡ªå®šä¹‰ï¼‰
    *   **API Server åœ°å€**ï¼š`https://10.12.12.110:6443`
    *   **Token**ï¼šç²˜è´´æ­¥éª¤ 2 èŽ·å–çš„ Token
    *   **CA è¯ä¹¦**ï¼šç²˜è´´æ­¥éª¤ 2 èŽ·å–çš„ CA è¯ä¹¦ï¼ˆå¦‚æžœéœ€è¦ï¼‰
5.  ç‚¹å‡»ã€Œ**ç¡®å®š**ã€

### 5.4 éªŒè¯é›†ç¾¤ç»‘å®š

ç»‘å®šæˆåŠŸåŽï¼Œåœ¨ Kuboard ç•Œé¢ä¸­å¯ä»¥ï¼š

*   æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹çŠ¶æ€
*   æŸ¥çœ‹å‘½åç©ºé—´åˆ—è¡¨
*   æŸ¥çœ‹å·¥ä½œè´Ÿè½½ï¼ˆDeploymentsã€Pods ç­‰ï¼‰
*   ç®¡ç†é…ç½®å’Œå­˜å‚¨
*   æŸ¥çœ‹æ—¥å¿—å’Œç›‘æŽ§æ•°æ®

* * *

å¸¸ç”¨ç®¡ç†å‘½ä»¤
------

### Kuboard å®¹å™¨ç®¡ç†

    # æŸ¥çœ‹å®¹å™¨çŠ¶æ€
    sudo docker ps | grep kuboard
    
    # æŸ¥çœ‹å®žæ—¶æ—¥å¿—
    sudo docker logs -f kuboard
    
    # é‡å¯æœåŠ¡
    sudo docker restart kuboard
    
    # åœæ­¢æœåŠ¡
    sudo docker stop kuboard
    
    # å¯åŠ¨æœåŠ¡
    sudo docker start kuboard
    
    # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
    sudo docker inspect kuboard
    

### æ•°æ®å¤‡ä»½

    # æ‰‹åŠ¨å¤‡ä»½
    sudo tar -czf kuboard-backup-$(date +%Y%m%d).tar.gz /data/kuboard
    
    # æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶
    ls -lh kuboard-backup-*.tar.gz
    
    # æ¢å¤å¤‡ä»½
    sudo tar -xzf kuboard-backup-20260129.tar.gz -C /
    

### ç«¯å£æ£€æŸ¥

    # æŸ¥çœ‹ç«¯å£ç›‘å¬
    sudo netstat -tlnp | grep -E '41878|10081'
    
    # æµ‹è¯•æœ¬åœ°è®¿é—®
    curl -I http://localhost:41878
    
    # æµ‹è¯•å¤–éƒ¨è®¿é—®
    telnet 10.12.12.110 41878
    

### K3s é›†ç¾¤ç®¡ç†

    # æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€
    sudo kubectl get nodes
    
    # æŸ¥çœ‹æ‰€æœ‰ Pod
    sudo kubectl get pods --all-namespaces
    
    # æŸ¥çœ‹ K3s æœåŠ¡çŠ¶æ€
    sudo systemctl status k3s
    
    # é‡å¯ K3s
    sudo systemctl restart k3s
    
    # æŸ¥çœ‹ K3s æ—¥å¿—
    sudo journalctl -u k3s -f
    

* * *

å¸¸è§é—®é¢˜
----

### Q1: è®¿é—® Kuboard æ˜¾ç¤º 404 é”™è¯¯

**åŽŸå› **ï¼šnginx é…ç½®ä¸å®Œæ•´ï¼Œç¼ºå°‘ `http {}` å—ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

1.  æ›´æ¢ç«¯å£ï¼ˆé¿å¼€ 80 ç«¯å£ï¼‰
2.  æ‰‹åŠ¨ä¿®å¤ nginx é…ç½®ï¼ˆå‚è€ƒ [å››ã€è§£å†³ 404 é—®é¢˜](#%E5%9B%9B%E8%A7%A3%E5%86%B3-404-%E9%97%AE%E9%A2%98)ï¼‰

### Q2: æ— æ³•ä»Žæµè§ˆå™¨è®¿é—® Kuboard

**æŽ’æŸ¥æ­¥éª¤**ï¼š

    # 1. æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
    sudo docker ps | grep kuboard
    
    # 2. æ£€æŸ¥ç«¯å£ç›‘å¬
    sudo netstat -tlnp | grep 41878
    
    # 3. æ£€æŸ¥é˜²ç«å¢™
    sudo firewall-cmd --list-ports
    
    # 4. å¼€æ”¾ç«¯å£
    sudo firewall-cmd --permanent --add-port=41878/tcp
    sudo firewall-cmd --permanent --add-port=10081/tcp
    sudo firewall-cmd --reload
    

### Q3: K3s é›†ç¾¤æ— æ³•è¿žæŽ¥

**å¯èƒ½åŽŸå› **ï¼š

1.  API Server åœ°å€é”™è¯¯ï¼ˆåº”è¯¥æ˜¯æœåŠ¡å™¨ IPï¼Œä¸æ˜¯ 127.0.0.1ï¼‰
2.  Token æˆ–è¯ä¹¦é”™è¯¯
3.  K3s æœåŠ¡æœªè¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**ï¼š

    # æ£€æŸ¥ K3s çŠ¶æ€
    sudo systemctl status k3s
    
    # é‡å¯ K3s
    sudo systemctl restart k3s
    
    # é‡æ–°ç”Ÿæˆ kubeconfig
    sudo cat /etc/rancher/k3s/k3s.yaml | sed 's/127.0.0.1/10.12.12.110/g'
    

### Q4: ç«¯å£è¢«å ç”¨

**æ£€æŸ¥ç«¯å£å ç”¨**ï¼š

    sudo netstat -tlnp | grep :41878
    

**æ›´æ¢ç«¯å£**ï¼š

    # åœæ­¢å®¹å™¨
    sudo docker rm -f kuboard
    
    # ä½¿ç”¨æ–°ç«¯å£ï¼ˆå¦‚ 8888ï¼‰
    sudo docker run -d \
      --restart=unless-stopped \
      --name=kuboard \
      -p 8888:80/tcp \
      -p 10081:10081/tcp \
      -e KUBOARD_ENDPOINT="http://10.12.12.110:8888" \
      -e KUBOARD_AGENT_SERVER_TCP_PORT="10081" \
      -v /data/kuboard:/data \
      eipwork/kuboard:v3
    

### Q5: Docker é•œåƒæ‹‰å–å¤±è´¥

**åŽŸå› **ï¼šå›½å†…ç½‘ç»œè®¿é—® Docker Hub å—é™ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨å›½å†…é•œåƒæº

    # ä½¿ç”¨åŽä¸ºäº‘é•œåƒæº
    docker pull swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3
    
    # é‡æ–°æ ‡è®°
    docker tag swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3 eipwork/kuboard:v3
    

* * *

æ€»ç»“
--

æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†åœ¨å†…ç½‘çŽ¯å¢ƒä¸‹ç¦»çº¿å®‰è£… Kuboard å¹¶ç»‘å®š K3s é›†ç¾¤çš„å®Œæ•´æµç¨‹ï¼š

1.  **å‡†å¤‡é˜¶æ®µ**ï¼šåœ¨è”ç½‘çš„ Windows æœºå™¨ä¸Šä¸‹è½½ Kuboard é•œåƒå’Œ Docker ç¦»çº¿åŒ…
2.  **ä¼ è¾“é˜¶æ®µ**ï¼šä½¿ç”¨ SecureCRT çš„ SFTP åŠŸèƒ½å°†æ–‡ä»¶ä¼ è¾“åˆ°å†…ç½‘æœåŠ¡å™¨
3.  **å®‰è£…é˜¶æ®µ**ï¼šæ‰§è¡Œå®‰è£…è„šæœ¬ï¼Œè‡ªåŠ¨å®Œæˆ Docker å’Œ Kuboard çš„å®‰è£…
4.  **ä¿®å¤é˜¶æ®µ**ï¼šè§£å†³ nginx é…ç½®é—®é¢˜ï¼Œæ›´æ¢ç«¯å£ç¡®ä¿æ­£å¸¸è®¿é—®
5.  **ç»‘å®šé˜¶æ®µ**ï¼šé€šè¿‡ KubeConfig æˆ– Token æ–¹å¼å°† K3s é›†ç¾¤ç»‘å®šåˆ° Kuboard

### å…³é”®è¦ç‚¹

*   âœ… ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿä¸‹è½½
*   âœ… ç¦»çº¿å®‰è£…é€‚ç”¨äºŽå†…ç½‘çŽ¯å¢ƒ
*   âœ… æ‰‹åŠ¨ä¿®å¤ nginx é…ç½®è§£å†³ 404 é—®é¢˜
*   âœ… ä½¿ç”¨éžæ ‡å‡†ç«¯å£é¿å…å†²çª
*   âœ… KubeConfig æ–¹å¼æ˜¯æœ€ç®€å•çš„é›†ç¾¤ç»‘å®šæ–¹æ³•

### æœ€ç»ˆæ•ˆæžœ

*   **Kuboard è®¿é—®åœ°å€**ï¼š[http://10.12.12.110:41878](http://10.12.12.110:41878)
*   **é»˜è®¤è´¦å·**ï¼šadmin / Kuboard123
*   **K3s é›†ç¾¤**ï¼šå·²æˆåŠŸç»‘å®šï¼Œå¯é€šè¿‡ Kuboard ç®¡ç†

* * *

å‚è€ƒèµ„æº
----

*   Kuboard å®˜ç½‘ï¼š[https://kuboard.cn](https://kuboard.cn)
*   K3s å®˜ç½‘ï¼š[https://k3s.io](https://k3s.io)
*   Docker å®˜ç½‘ï¼š[https://www.docker.com](https://www.docker.com)
*   SecureCRT å®˜ç½‘ï¼š[https://www.vandyke.com/products/securecrt/](https://www.vandyke.com/products/securecrt/)

* * *

**ä½œè€…**ï¼šæŠ€æœ¯åšå®¢  
**æ—¥æœŸ**ï¼š2026-01-29  
**ç‰ˆæœ¬**ï¼šv1.0

* * *

é™„å½•
--

### A. å®Œæ•´çš„å®‰è£…è„šæœ¬

å‚è€ƒ [ä¸‰ã€å®‰è£… Kuboard](#%E4%B8%89%E5%AE%89%E8%A3%85-kuboard) ä¸­çš„ `install.sh`

### B. nginx å®Œæ•´é…ç½®

å‚è€ƒ [å››ã€è§£å†³ 404 é—®é¢˜](#%E5%9B%9B%E8%A7%A3%E5%86%B3-404-%E9%97%AE%E9%A2%98) ä¸­çš„ nginx é…ç½®

### C. ç«¯å£è¯´æ˜Ž

ç«¯å£

ç”¨é€”

åè®®

41878

Kuboard Web ç•Œé¢

HTTP

10081

Kuboard Agent é€šä¿¡

TCP/UDP

6443

K3s API Server

HTTPS

### D. ç›®å½•ç»“æž„

    /data/kuboard/              # Kuboard æ•°æ®ç›®å½•
    â”œâ”€â”€ etcd-data/              # etcd æ•°æ®
    â”œâ”€â”€ questdb/                # QuestDB æ•°æ®
    â””â”€â”€ ...
    
    /etc/rancher/k3s/           # K3s é…ç½®ç›®å½•
    â””â”€â”€ k3s.yaml                # K3s kubeconfig
    
    /tmp/kuboard-offline/       # ç¦»çº¿å®‰è£…åŒ…
    â”œâ”€â”€ docker/
    â”œâ”€â”€ images/
    â””â”€â”€ install.sh
    

* * *

**æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿Žç•™è¨€è®¨è®ºã€‚** ðŸŽ‰