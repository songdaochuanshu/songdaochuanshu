---
layout: post
title: '基于高德地图API在Python中实现地图功能的方法'
date: "2025-01-02T00:35:44Z"
---
基于高德地图API在Python中实现地图功能的方法
==========================

本文介绍在高德开放平台中，申请、获取地图API的Key的方法；同时通过简单的Python代码，调取API信息，对所得Key的可用性加以验证~

  本文介绍在**高德开放平台**中，申请、获取地图**API**的**Key**的方法；同时通过简单的**Python**代码，调取**API**信息，对所得**Key**的可用性加以验证。

  首先，我们进入**高德开放平台**的[官方网站](https://lbs.amap.com/)。如果大家是第一次使用高德地图开放平台，那么需要点击右上角注册一个开发者账号。

  注册完毕后，登录这一账号，并点击如下图紫色框内所示的“**控制台**”。

![image](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152210478-161301728.png)

  随后，点击左侧“**应用管理**”中的“**我的应用**”，并到右上角点击“**创建新应用**”；如下图所示。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205651-465633661.png)

  随后，在弹出的窗口中，依据我们的需求，输入应用的名称及其类型；如下图所示。其中，**名称**就按照我们实际需求来命名，**类型**则按照我们的应用场景来选择即可。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205711-43409037.png)

  接下来，在界面右上角，点击“**添加Key**”；如下图所示。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205711-1656211395.png)

  随后，为这个**Key**命名，并选择所需的服务平台；如下图所示。我这里后续打算基于**Python**语言的`requests`库来使用**API**，所以这里就选择了“**Web服务**”。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205762-1523007249.png)

  随后，即可生成**Key**，如下图中紫色框内所示。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205638-900089805.png)

  获取**Key**之后，我们可以验证一下这个**Key**是否可以使用。在这里，给出一个基于**Python**语言，使用高德开放平台提供的“**天气查询**”功能，对**Key**加以验证的代码；代码如下。

    # -*- coding: utf-8 -*-
    """
    Created on Wed May 29 20:36:11 2024
    
    @author: fkxxgis
    """
    
    import json
    import requests
    
    key = "在这里输入您的key"
    city_code = "410300"
    
    response = requests.get("https://restapi.amap.com/v3/weather/weatherInfo?key=" + key + "&city=" + city_code)
    text = response.text
    result = json.loads(text)
    need = result["lives"][0]
    
    print("您查询的" + need["province"] + need["city"] + "在" + need["reporttime"] + "的天气为" + need["weather"] + "，温度为" + need["temperature_float"] + "，" + need["winddirection"] + "风" + need["windpower"] +"级。")
    

  其中，大家在使用上述验证代码时，需要将`key = "在这里输入您的key"`这句代码引号中的内容，修改为通过前述操作所获取的**Key**；同时，还可以修改`city_code`，从而对不同城市、区域的天气加以查询。这里关于城市的代码，大家可以参考这个[网站](https://www.mca.gov.cn/mzsj/xzqh/2022/202201xzqh.html)。

  随后，即可执行上述代码；执行代码后，将打印出指定区域在查询时刻的实时天气。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205866-299962578.png)

  可以看到，已经可以获取到对应地区的实时天气了，说明前述获取**Key**的流程已经成功。

  此外，关于**API**使用的方法，我们后续会用更多博客来详细介绍，所以上述代码我们就暂时不再逐句解释了，在这里仅仅用来验证我们所获取的**Key**的可用性。

  此外，对于每一位高德开放平台的开发者，我们所能调取不同功能**API**的次数也是有每日限制的，具体配额我们可以在“**我的应用**”中，通过“**查看配额**”选项来查阅；如下图所示。

![](https://img2024.cnblogs.com/blog/3080295/202501/3080295-20250101152205860-416106496.png)

  至此，大功告成。