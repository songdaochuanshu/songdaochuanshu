---
layout: post
title: '小米 AX3000T ImmortalWrt 完整刷机教程'
date: "2025-08-26T00:40:46Z"
---
小米 AX3000T ImmortalWrt 完整刷机教程
=============================

1.开启SSH功能
=========

1.1 下载 [xmir-patcher](https://github.com/openwrt-xiaomi/xmir-patcher "xmir-patcher") zip包
-----------------------------------------------------------------------------------------

网址：[https://github.com/openwrt-xiaomi/xmir-patcher](https://github.com/openwrt-xiaomi/xmir-patcher)  
点击 `Download ZIP` 直接下载即可。  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825162637822-1673786174.png)

1.2 开启SSH功能
-----------

**说明：AX3000T靠近电源口为WAN口，其他口为LAN口**

网线一端插入LAN口，一端插入电脑。解压缩 `xmir-patcher zip`包，运行`run.bat` 文件。  
**step1 全量备份固件及Uboot(用于恢复固件或Uboot)**  
运行脚本后，输入`4`回车。  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825162408717-256523586.png)  
会自动将小米官方固件及Uboot备份到工具下的backups文件夹中。

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825163526848-584945955.png)

**step2 开启SSH服务功能**  
运行脚本后，输入`2`回车，输入路由器管理后台密码(输入过程不显示密码)回车，显示`SSH server are activated!`即为成功。  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825163355213-717261577.png)

2.刷入Uboot
=========

使用到的工具：SSH连接工具  
使用您熟悉的终端工具即可，这里以`MobaXterm`工具为例。  
MobaXterm官方下载地址：[https://mobaxterm.mobatek.net/download.html](https://mobaxterm.mobatek.net/download.html)

小米AX3000T U-Boot下载地址：[xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build](https://github.com/hkint/xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build "xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build")  
该项目编译了 Hanwckf's ImmortalWrt 固件及相应的 U-Boot。  
releases页面选择`*layout.bin`文件即可，如mt7981\_ax3000t-fip-fixed-parts-multi-layout.bin

**说明**：  
**固件及Uboot携带an8855**字样适配**小米AX3000T V2版本**，如mt7981\_ax3000t\_an8855-fip-fixed-parts-multi-layout.bin  
**固件及Uboot不携带an8855**字样适配**小米AX3000T V1版本**，如mt7981\_ax3000t-fip-fixed-parts-multi-layout.bin

**step1 登录SSH**  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825171623726-843903292.png)  
**配置SSH:** **打开MobaXterm----Session----SSH----填入路由器管理后台地址----设置登录用户为`root`\----点击 `OK`**确定即可。  
小米路由器SSH用户名：`root`  
小米路由器SSHt密码：`root`

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825172038396-1823408586.png)  
双击，刚才配置好的会话，连接SSH会话即可。

**step2 写入Uboot**

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825173611562-1025275181.png)

将Windows中的开源`Uboot`直接拖拽传输至`tmp`文件夹。之后执行以下命令：

    cd ../tmp  #进入tmp文件夹
    mtd write mt7981_ax3000t-fip-fixed-parts-multi-layout.bin FIP  #写入Uboot文件
    

3.刷入ImmortalWrt 固件
==================

**说明：**  
**`*factory*`文件**：首次刷机时，使用 Factory 映像以刷入 ImmortalWrt。通常您可以在原厂固件的 Web 界面中完成此操作。  
**`*sysupgrade*`文件**：使用 Sysupgrade 映像以更新现有运行 ImmortalWrt 的设备。该映像可以在 LuCI 界面或终端中使用。

小米AX3000T ImmortalWrt 固件下载地址：[xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build](https://github.com/hkint/xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build "xiaomi-ax3000t-immortalwrt-hanwckf-firmware-build")  
该项目编译了 Hanwckf's ImmortalWrt 固件及相应的 U-Boot。  
releases页面分别选择如下文件下载即可

    *factory.bin`文件，如immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-factory.bin
    *sysupgrade.bin文件，如immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-sysupgrade.bin
    

3.1 刷入 `*factory.bin`文件
-----------------------

**step1 设置电脑IP为 `192.168.1.2`**  
**控制面板----网络和Internet----网络连接----右击你接入路由器的适配器----属性----Internet协议版本4(TCP/IPv4)**。按以下图片配置后确定即可。  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175126481-1542814405.png)

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175149882-1742012814.png)

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175157339-990721220.png)

**step2 路由器进入Uboot**  
用卡针顶住路由器reset键，之后路由器接入电源。reset键一直按住等待10秒左右，指示灯变为蓝色后松开reset键。

**step3 浏览器登录`192.168.1.1`**，即可进入Uboot页面，选择`immortalwrt-112m`模式，  
上传`immortalwrt-mediatek-mt7981-xiaomi_mi-router-ax3000t-squashfs-factory.bin`固件即可。  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175656898-937233585.png)  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175702580-1927652685.png)

**step4 设置电脑IP设置为`自动获取获取IP地址`**  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825175850184-259570513.png)

3.2 刷入 `*sysupgrade.bin`文件升级完整固件(目前似乎可省略此步骤)
--------------------------------------------

**step1 浏览器登录固件LAN IP(192.168.31.1)地址**，点击登录  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180124498-1101066320.png)  
**step2 刷写`*sysupgrade.bin`**  
系统----备份与升级----操作----刷写固件---上传`*sysupgrade.bin`固件----等待路由器重启指示灯变蓝色即可。

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180140189-2129582218.png)

![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825180337386-749922037.png)

4.手动安装or升级openclash(可正常在管理页面安装的帅逼可忽略)
=====================================

4.1 安装or升级openclash
-------------------

**step1 下载 openclash**  
github地址：[https://github.com/vernesong/OpenClash](https://github.com/vernesong/OpenClash)  
releases页面下载`*.ipk`文件即可，如luci-app-openclash\_0.46.137\_all.ipk  
**step2 安装openclash**  
通过终端工具将`luci-app-openclash_0.46.137_all.ipk`传输至tmp文件夹  
执行以下命令安装即可  
`opkg install luci-app-openclash_0.46.137_all.ipk`

4.2 安装or升级mihomo内核(可正常在管理页面安装的帅逼可忽略)
------------------------------------

**step1 下载mihomo内核**  
github网址：[https://github.com/MetaCubeX/mihomo](https://github.com/MetaCubeX/mihomo)  
releases页面下载`mihomo-linux-arm64*`文件，如mihomo-linux-arm64-v1.19.12.gz

**step2 安装mihomo内核**  
通过终端工具将`mihomo-linux-arm64-v1.19.12.gz`传输至tmp文件夹  
执行以下命令安装：

    cd /etc/openclash/core # 进入内核文件夹，没有则创建即可
    rm clash_meta          # 删除原有内核，如果存在
    mv /tmp/mihomo-linux-arm64-v1.19.12.gz .   # 复制内核压缩包至当前内核文件夹
    gunzip mihomo-linux-arm64-v1.19.12.gz      # 解压缩包
    mv mihomo-linux-arm64-v1.19.12 clash_meta  # 重命名内核文件名为clash_meta
    chmod +x clash_meta                        # 添加可执行权限
    

**step3 重启路由器系统**  
![image](https://img2024.cnblogs.com/blog/2167049/202508/2167049-20250825184819207-201722119.png)

5\. openclash基本配置(todo)
=======================

6\. 刷回原厂固件及Uboot(todo)
======================