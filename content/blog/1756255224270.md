---
layout: post
title: 'ã€æ¸²æŸ“æµæ°´çº¿ã€‘[é€ç‰‡å…ƒé˜¶æ®µ]-[æ··åˆBlend]ä»¥UnityURPä¸ºä¾‹'
date: "2025-08-27T00:40:24Z"
---
ã€æ¸²æŸ“æµæ°´çº¿ã€‘\[é€ç‰‡å…ƒé˜¶æ®µ\]-\[æ··åˆBlend\]ä»¥UnityURPä¸ºä¾‹
=======================================

![ã€æ¸²æŸ“æµæ°´çº¿ã€‘[é€ç‰‡å…ƒé˜¶æ®µ]-[æ··åˆBlend]ä»¥UnityURPä¸ºä¾‹](https://img2024.cnblogs.com/blog/3685400/202508/3685400-20250826143525236-275201204.png) æœ¬æ–‡æ·±å…¥è§£æUnity URPæ¸²æŸ“ç®¡çº¿ä¸­çš„Blendå’ŒBlendOpæŒ‡ä»¤ï¼Œå¯¹æ¯”OpenGLåŸç”Ÿå®ç°ä¸Unityå†…ç½®ç®¡çº¿çš„å·®å¼‚ã€‚URPé€šè¿‡ä¼˜åŒ–æ··åˆæ“ä½œï¼Œæ”¯æŒåŠ æ³•/å‡æ³•/Min/Maxç­‰è¿ç®—ï¼Œåœ¨ç§»åŠ¨ç«¯å’Œé«˜æ€§èƒ½å¹³å°å‡èƒ½é«˜æ•ˆè¿è¡Œã€‚æ–‡ç« è¯¦ç»†ä»‹ç»äº†æ··åˆå› å­é…ç½®å’Œå®é™…åº”ç”¨ï¼ŒåŒ…æ‹¬é€æ˜åº¦æ··åˆã€åŠ æ³•å‘å…‰ç­‰æ•ˆæœï¼Œå¹¶æä¾›èƒ½é‡æŠ¤ç›¾ã€ç²’å­å‘å…‰ã€æ°´ä½“æ¸²æŸ“ç­‰å…·ä½“Shaderå®ç°æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åˆ©ç”¨æ··åˆæŒ‡ä»¤å®ç°å„ç§è§†è§‰ç‰¹æ•ˆã€‚URPç›¸æ¯”ä¼ ç»Ÿæ–¹æ¡ˆå…·æœ‰æ›´å¥½çš„è·¨å¹³å°å…¼å®¹æ€§å’Œæ€§èƒ½è¡¨ç°ã€‚

Unity URPï¼ˆUniversal Render Pipelineï¼‰ä¸­çš„Blendå’ŒBlendOpæ˜¯ShaderLabä¸­æ§åˆ¶é¢œè‰²æ··åˆçš„æ ¸å¿ƒæŒ‡ä»¤ï¼Œå…¶å‘å±•å†å²ä¸æ¸²æŸ“æŠ€æœ¯æ¼”è¿›å¯†åˆ‡ç›¸å…³ã€‚æ—©æœŸå›ºå®šåŠŸèƒ½ç®¡çº¿ä»…æ”¯æŒç®€å•çš„Alphaæ··åˆï¼Œéšç€å¯ç¼–ç¨‹ç€è‰²å™¨çš„æ™®åŠï¼Œæ··åˆæ“ä½œé€æ¸æ‰©å±•ä¸ºå¯å®šåˆ¶åŒ–çš„æ•°å­¦è¿ç®—ã€‚URPé€šè¿‡ä¼˜åŒ–è¿™äº›æŒ‡ä»¤çš„åº•å±‚å®ç°ï¼Œä½¿å…¶åœ¨ç§»åŠ¨ç«¯å’Œé«˜æ€§èƒ½å¹³å°å‡èƒ½é«˜æ•ˆè¿è¡Œã€‚

> [ã€ä»UnityURPå¼€å§‹æ¢ç´¢æ¸¸æˆæ¸²æŸ“ã€‘](https://blog.csdn.net/chenghai37/category_13021255.html?fromshare=blogcolumn&sharetype=blogcolumn&sharerId=13021255&sharerefer=PC&sharesource=chenghai37&sharefrom=from_link)**ä¸“æ -ç›´è¾¾**

**OpenGLä¸­çš„æ··åˆå®ç°**
================

â€Œ**APIè°ƒç”¨æœºåˆ¶**â€Œ
-------------

OpenGLé€šè¿‡`glBlendFunc`å’Œ`glBlendEquation`å‡½æ•°å®ç°æ··åˆæ“ä½œï¼Œå¯¹åº”URPä¸­`Blend`å’Œ`BlendOp`æŒ‡ä»¤ã€‚å…¶ä¸­ï¼š

*   `glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)`ç­‰ä»·äºURPçš„`Blend SrcAlpha OneMinusSrcAlpha`
*   `glBlendEquation(GL_FUNC_ADD)`å¯¹åº”`BlendOp Add`æ“ä½œ

â€Œ**ç®¡çº¿é˜¶æ®µå·®å¼‚**â€Œ
------------

OpenGLå°†æ··åˆä½œä¸ºå›ºå®šç®¡çº¿é˜¶æ®µï¼Œåœ¨ç‰‡æ®µç€è‰²å™¨ä¹‹åæ‰§è¡Œï¼Œè€ŒURPé€šè¿‡å¯ç¼–ç¨‹ç€è‰²å™¨åœ¨ç‰‡å…ƒå¤„ç†é˜¶æ®µåŠ¨æ€æ§åˆ¶æ··åˆå‚æ•°

â€Œ**åŒæºæ··åˆé™åˆ¶**â€Œ
------------

OpenGL 4.xæ”¯æŒ`GL_SRC1_COLOR`ç­‰åŒæºæ··åˆå› å­ï¼Œä½†ç§»åŠ¨ç«¯GLES 3.0éœ€é€šè¿‡æ‰©å±•å®ç°ï¼ŒURPå¯¹æ­¤åšäº†å¹³å°å…¼å®¹æ€§å°è£…

**å†…ç½®ç®¡çº¿æ··åˆå®ç°**
============

â€Œ**æ—©æœŸå®ç°æ–¹å¼**â€Œ
------------

å†…ç½®ç®¡çº¿é€šè¿‡`Queue="Transparent"`æ ‡ç­¾è‡ªåŠ¨å¯ç”¨æ··åˆï¼Œä½†éœ€æ‰‹åŠ¨é…ç½®`Blend`å‘½ä»¤ä¸”ä¸æ”¯æŒ`BlendOp`é«˜çº§æ“ä½œ

â€Œ**æ·±åº¦å¤„ç†å·®å¼‚**â€Œ
------------

å†…ç½®ç®¡çº¿è¦æ±‚æ˜¾å¼å…³é—­æ·±åº¦å†™å…¥ï¼ˆ`ZWrite Off`ï¼‰ï¼Œè€ŒURPåœ¨é€æ˜æ¸²æŸ“é˜Ÿåˆ—ä¸­è‡ªåŠ¨ç®¡ç†æ·±åº¦æµ‹è¯•ä¸æ··åˆçš„å†²çª

â€Œ**æ€§èƒ½ä¼˜åŒ–å¯¹æ¯”**â€Œ
------------

å†…ç½®ç®¡çº¿æ··åˆè®¡ç®—å›ºå®šäºGPUå›ºå®šåŠŸèƒ½å•å…ƒï¼ŒURPåˆ™é€šè¿‡å¯ç¼–ç¨‹ç€è‰²å™¨å®ç°åŠ¨æ€æ··åˆç­–ç•¥ï¼Œå¦‚æ ¹æ®è®¾å¤‡æ€§èƒ½åˆ‡æ¢`Min/Max`æ“ä½œ

**å…³é”®æŠ€æœ¯å¯¹æ¯”**
==========

ç‰¹æ€§

OpenGLåŸç”Ÿå®ç°

Unityå†…ç½®ç®¡çº¿

URPä¼˜åŒ–æ–¹æ¡ˆ

æ··åˆå› å­é…ç½®

`glBlendFunc`

`Blend`å‘½ä»¤

å°è£…ä¸ºè·¨å¹³å°ShaderæŒ‡ä»¤

æ“ä½œç¬¦æ‰©å±•

`glBlendEquation`

ä»…æ”¯æŒåŸºç¡€åŠ å‡

æ”¯æŒ`Min/Max/RevSub`ç­‰

ç§»åŠ¨ç«¯å…¼å®¹æ€§

éœ€æ£€æŸ¥æ‰©å±•æ”¯æŒ

å…¨å¹³å°ç»Ÿä¸€è¡Œä¸º

è‡ªåŠ¨é™çº§æ··åˆæ–¹æ¡ˆ

å¤šæ¸²æŸ“ç›®æ ‡æ”¯æŒ

`glDrawBuffers`

æœ‰é™æ”¯æŒ

å®Œæ•´MRTæ··åˆæ§åˆ¶

*   OpenGLä¸­å®ç°URPçš„`BlendOp RevSub`éœ€è°ƒç”¨`glBlendEquation(GL_FUNC_REVERSE_SUBTRACT)`
*   å†…ç½®ç®¡çº¿æ¨¡æ‹ŸURPå‘å…‰æ•ˆæœéœ€ç»„åˆ`Blend One One`ä¸å¤šä¸ªPassæ¸²æŸ“

**æ ¸å¿ƒé—®é¢˜è§£å†³**
==========

*   â€Œ**é€æ˜æ•ˆæœå®ç°**â€Œï¼šé€šè¿‡`Blend SrcAlpha OneMinusSrcAlpha`ç­‰ç»„åˆï¼Œè§£å†³äº†ä¼ ç»Ÿé€æ˜åº¦æ··åˆä¸­æ’åºä¾èµ–å’Œè¾¹ç¼˜é”¯é½¿é—®é¢˜
*   â€Œ**å¤æ‚å…‰æ•ˆåˆæˆ**â€Œï¼šåˆ©ç”¨`BlendOp Max`æˆ–`Add`æ“ä½œï¼Œå®ç°å‘å…‰ä½“å åŠ æ—¶çš„äº®åº¦ç´¯ç§¯æ•ˆæœ
*   â€Œ**éç ´åæ€§å›¾åƒå¤„ç†**â€Œï¼š`BlendOp RevSub`ç­‰æ“ä½œå…è®¸åå‘é¢œè‰²è®¡ç®—ï¼Œç”¨äºç‰¹æ®Šé®ç½©æˆ–è…èš€æ•ˆæœ

å‘½ä»¤ä½¿ç”¨ä»‹ç»
======

*   å°†å½“å‰ç‰‡å…ƒé¢œè‰²ä¸å¸§ç¼“å†²é¢œè‰²æŒ‰å…¬å¼æ··åˆ
*   æ”¯æŒåŠ æ³•/ä¹˜æ³•/é€æ˜åº¦æ··åˆç­‰æ¨¡å¼â€Œ
*   æ··åˆå½“å‰ç‰‡å…ƒä¸é¢œè‰²ç¼“å†²ï¼ˆ`Blend`Â æŒ‡ä»¤ï¼Œå¦‚Â `Blend SrcAlpha OneMinusSrcAlpha`ï¼›`BlendOp` æŒ‡ä»¤æ§åˆ¶æ“ä½œç¬¦ï¼Œå¦‚`BlendOp Sub`ï¼ˆé»˜è®¤ä¸æŒ‡å®šæ˜¯Addï¼‰ï¼‰

Blendå‘½ä»¤
-------

æ··åˆå‘½ä»¤æ˜¯å½“å‰è¾“å‡ºçš„é¢œè‰²å€¼Srcï¼Œå’Œç¼“å†²åŒºé‡Œçš„é¢œè‰²å€¼Dståšæ•°å€¼è¿ç®—æ¥è¿›è¡Œæ··åˆã€‚å‘½ä»¤é…ç½®ä¸»è¦å½±å“è¿™ä¸ªè¿ç®—å…¬å¼ï¼Œä¸‹é¢å…ˆçœ‹ä¸‹è¿™ä¸ªè¿ç®—å…¬å¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼š

$Src \* SrcFactor + Dst \* DstFactor$

*   è¿™é‡Œçš„Srcæ˜¯å½“å‰è¾“å‡ºçš„é¢œè‰²å€¼ã€‚
*   Dstæ˜¯ç¼“å†²åŒºé‡Œå·²æœ‰çš„é¢œè‰²å€¼ã€‚
*   SrcFactoræ˜¯æ¥ä¸‹æ¥å‘½ä»¤é…ç½®æ—¶è¦æ”¹å˜çš„å½“å‰é¢œè‰²å€¼çš„å½±å“å˜é‡å› å­ã€‚
*   DstFactoråŒæ ·çš„æ˜¯å‘½ä»¤é…ç½®è¦æ”¹å˜ç¼“å†²åŒºå†…çš„é¢œè‰²å€¼çš„å½±å“å› å­ã€‚

è¿™ä¸¤ä¸ªå› å­ä¸é¢œè‰²å€¼ç›¸ä¹˜åç›¸åŠ å°±æ˜¯æ–°çš„è¦è¾“å‡ºçš„é¢œè‰²å€¼ã€‚è¿™é‡Œçš„ç›¸åŠ æ˜¯é»˜è®¤æ“ä½œï¼Œç”±æ¥ä¸‹æ¥çš„å‘½ä»¤BlendOpæ¥é…ç½®å¯ä¿®æ”¹ã€‚

ä¸Šè¿°å…¬å¼æ˜¯å¯¹é¢œè‰²RGBAä¸€èµ·æ“ä½œçš„é…ç½®ã€‚è¿˜æœ‰ä¸€ç§æ˜¯åˆ†ç¦»é¢œè‰²RGBå’ŒAå•ç‹¬æ§åˆ¶çš„é…ç½®æ–¹å¼ï¼Œä¸è¿™ä¸ªç±»ä¼¼çš„å…¬å¼ï¼š

$Src \* SrcFactorA + Dst \* DstFactorA$

æ··åˆçš„ä¸¤ç§æ¨¡æ¿å…¬å¼ï¼š

`Blend` SrcFactor DstFactor

`Blend` SrcFactor DstFactor, SrcFactorA DstFactorA

ç¬¬ä¸€ç§é…ç½®æ–¹å¼ç›´æ¥é…ç½®RGBAï¼Œç¬¬äºŒç§å°†RGBå’ŒAåˆ†å¼€é…ç½®ã€‚

*   é‚£ä¹ˆè¿™äº›Factorå› å­å¯ä»¥é…ç½®æˆå“ªäº›å†…å®¹ï¼š
    
    ### **â€ŒåŸºç¡€æ··åˆå› å­â€Œ**
    
    å› å­åç§°
    
    æ•°å­¦è¡¨è¾¾å¼
    
    è§£é‡Š
    
    `One`
    
    1
    
    å®Œå…¨ä¿ç•™æºæˆ–ç›®æ ‡é¢œè‰²å€¼ï¼ˆå¸¸ç”¨äºåŠ æ³•æ··åˆï¼‰â€Œ
    
    `Zero`
    
    0
    
    å¿½ç•¥æºæˆ–ç›®æ ‡é¢œè‰²å€¼ï¼ˆå¸¸ç”¨äºå±è”½é¢œè‰²ï¼‰â€Œ
    
    `SrcColor`
    
    æºé¢œè‰²çš„RGBå€¼
    
    ä½¿ç”¨ç‰‡å…ƒç€è‰²å™¨è¾“å‡ºçš„RGBå€¼ä½œä¸ºæ··åˆå› å­â€Œ
    
    `SrcAlpha`
    
    æºé¢œè‰²çš„Alphaå€¼
    
    ä½¿ç”¨ç‰‡å…ƒç€è‰²å™¨çš„é€æ˜åº¦å€¼ï¼ˆå¦‚æ ‡å‡†é€æ˜æ··åˆï¼‰â€Œ
    
    `DstColor`
    
    ç›®æ ‡é¢œè‰²çš„RGBå€¼
    
    ä½¿ç”¨å¸§ç¼“å†²åŒºä¸­å·²å­˜åœ¨çš„RGBå€¼ï¼ˆå¦‚ä¹˜æ³•æ··åˆï¼‰â€Œ
    
    `DstAlpha`
    
    ç›®æ ‡é¢œè‰²çš„Alphaå€¼
    
    ä½¿ç”¨å¸§ç¼“å†²åŒºä¸­å·²å­˜åœ¨çš„é€æ˜åº¦å€¼â€Œ
    
    * * *
    
    ### **â€Œåç›¸æ··åˆå› å­â€Œ**
    
    å› å­åç§°
    
    æ•°å­¦è¡¨è¾¾å¼
    
    è§£é‡Š
    
    `OneMinusSrcColor`
    
    1 - æºé¢œè‰²RGBå€¼
    
    åç›¸æºé¢œè‰²å€¼ï¼ˆç”¨äºç‰¹æ®Šæ•ˆæœå åŠ ï¼‰â€Œ
    
    `OneMinusSrcAlpha`
    
    1 - æºAlphaå€¼
    
    åç›¸æºé€æ˜åº¦ï¼ˆä¸`SrcAlpha`é…åˆå®ç°æ ‡å‡†é€æ˜æ··åˆï¼‰â€Œ
    
    `OneMinusDstColor`
    
    1 - ç›®æ ‡é¢œè‰²RGBå€¼
    
    åç›¸ç›®æ ‡é¢œè‰²å€¼ï¼ˆå¦‚å±å¹•ç©ºé—´å‘å…‰æ•ˆæœï¼‰â€Œ
    
    `OneMinusDstAlpha`
    
    1 - ç›®æ ‡Alphaå€¼
    
    åç›¸ç›®æ ‡é€æ˜åº¦å€¼â€Œ
    
    ### **æ··åˆå› å­åº”ç”¨åœºæ™¯â€Œ**
    
    *   â€Œ**é€æ˜åº¦æ··åˆ**â€Œï¼š`Blend SrcAlpha OneMinusSrcAlpha`ï¼ˆæºé€æ˜Ã—æºé¢œè‰² + (1-æºé€æ˜)Ã—ç›®æ ‡é¢œè‰²ï¼‰â€Œ
    *   â€Œ**åŠ æ³•å‘å…‰**â€Œï¼š`Blend One One`ï¼ˆæºé¢œè‰² + ç›®æ ‡é¢œè‰²ï¼‰â€Œ
    *   â€Œ**ä¹˜æ³•å åŠ **â€Œï¼š`Blend DstColor Zero`ï¼ˆæºé¢œè‰²Ã—ç›®æ ‡é¢œè‰²ï¼‰â€Œ
    *   â€Œ**åç›¸æ··åˆ**â€Œï¼š`Blend OneMinusDstColor OneMinusSrcColor`ï¼ˆç”¨äºç‰¹æ®Šé®ç½©æ•ˆæœï¼‰â€Œ
*   BlendOpå‘½ä»¤
    
    é€šè¿‡`BlendOp`ä¿®æ”¹æ··åˆè®¡ç®—æ–¹å¼ï¼Œæ”¯æŒä»¥ä¸‹æ“ä½œï¼š
    
    *   `Add`ï¼ˆé»˜è®¤ï¼‰ï¼šç›¸åŠ 
    *   `Sub`ï¼šæºå‡å»ç›®æ ‡
    *   `RevSub`ï¼šç›®æ ‡å‡å»æº
    *   `Min`/`Max`ï¼šå–æœ€å°/æœ€å¤§å€¼â€Œ
    
        BlendOp RevSub  
        Blend One One // å®ç°é¢œè‰²ç›¸å‡æ•ˆæœâ€Œ
        
    

**åº”ç”¨ç¤ºä¾‹**
========

**èƒ½é‡æŠ¤ç›¾ç‰¹æ•ˆ**
----------

*   ä½¿ç”¨`BlendOp RevSub`ç»“åˆ`Blend One One`ï¼Œå®ç°æŠ¤ç›¾è¾¹ç¼˜å¯¹èƒŒæ™¯é¢œè‰²çš„"æ‰£é™¤"æ•ˆæœï¼Œæ¨¡æ‹Ÿèƒ½é‡åœºæ‰­æ›²
    
    èƒ½é‡æŠ¤ç›¾ç‰¹æ•ˆé€šè¿‡åå‘å‡æ³•æ··åˆ(RevSub)å®ç°èƒŒæ™¯é¢œè‰²æ‰£é™¤ï¼Œé…åˆèœ‚çªçº¹ç†å¯äº§ç”Ÿèƒ½é‡åœºæ‰­æ›²æ•ˆæœ
    
    *   EnergyShield.shader
        
            Shader "URP/EnergyShield" {
                Properties {
                    _MainTex ("Shield Pattern", 2D) = "white" {}
                    _EdgeColor ("Edge Color", Color) = (0.2,0.8,1,1)
                }
                SubShader {
                    Tags { "RenderType"="Transparent" "Queue"="Transparent" }
                    Blend One One
                    BlendOp RevSub
                    ZWrite Off
            
                    HLSLINCLUDE
                    #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"
                    ENDHLSL
            
                    Pass {
                        HLSLPROGRAM
                        #pragma vertex vert
                        #pragma fragment frag
            
                        struct Attributes {
                            float4 positionOS : POSITION;
                            float2 uv : TEXCOORD0;
                        };
            
                        struct Varyings {
                            float4 positionCS : SV_POSITION;
                            float2 uv : TEXCOORD0;
                        };
            
                        TEXTURE2D(_MainTex);
                        SAMPLER(sampler_MainTex);
                        half4 _EdgeColor;
            
                        Varyings vert(Attributes IN) {
                            Varyings OUT;
                            OUT.positionCS = TransformObjectToHClip(IN.positionOS.xyz);
                            OUT.uv = IN.uv;
                            return OUT;
                        }
            
                        half4 frag(Varyings IN) : SV_Target {
                            half4 tex = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, IN.uv);
                            return tex * _EdgeColor;
                        }
                        ENDHLSL
                    }
                }
            }
            
        

â€Œ**ç²’å­ç³»ç»Ÿå‘å…‰**
-----------

*   é‡‡ç”¨`Blend One One`ä¸`BlendOp Add`å åŠ å¤šå±‚ç²’å­é¢œè‰²ï¼Œé¿å…ä¼ ç»Ÿæ··åˆå¯¼è‡´çš„äº®åº¦è¡°å‡
    
    ç²’å­ç³»ç»Ÿé‡‡ç”¨åŠ æ³•æ··åˆ(Add)ç¡®ä¿å¤šå±‚ç²’å­å åŠ æ—¶äº®åº¦çº¿æ€§ç´¯ç§¯ï¼Œé¿å…ä¼ ç»Ÿæ··åˆçš„äº®åº¦è¡°å‡é—®é¢˜
    
    *   ParticleGlow.shader
        
            Shader "URP/ParticleGlow" {
                Properties {
                    _MainTex ("Particle Texture", 2D) = "white" {}
                    _Intensity ("Glow Intensity", Range(1,10)) = 3
                }
                SubShader {
                    Tags { "RenderType"="Transparent" "Queue"="Transparent+100" }
                    Blend One One
                    BlendOp Add
                    ZWrite Off
                    Cull Off
            
                    HLSLINCLUDE
                    #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"
                    ENDHLSL
            
                    Pass {
                        HLSLPROGRAM
                        #pragma vertex vert
                        #pragma fragment frag
            
                        struct Attributes {
                            float4 positionOS : POSITION;
                            float2 uv : TEXCOORD0;
                            half4 color : COLOR;
                        };
            
                        struct Varyings {
                            float4 positionCS : SV_POSITION;
                            float2 uv : TEXCOORD0;
                            half4 color : COLOR;
                        };
            
                        TEXTURE2D(_MainTex);
                        SAMPLER(sampler_MainTex);
                        float _Intensity;
            
                        Varyings vert(Attributes IN) {
                            Varyings OUT;
                            OUT.positionCS = TransformObjectToHClip(IN.positionOS.xyz);
                            OUT.uv = IN.uv;
                            OUT.color = IN.color * _Intensity;
                            return OUT;
                        }
            
                        half4 frag(Varyings IN) : SV_Target {
                            half4 tex = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, IN.uv);
                            return tex * IN.color;
                        }
                        ENDHLSL
                    }
                }
            }
            
        

**é€æ˜æ°´ä½“æ¸²æŸ“**
----------

*   é€šè¿‡`Blend SrcAlpha OneMinusSrcAlpha`æ§åˆ¶æŠ˜å°„/åå°„å¼ºåº¦ï¼Œé…åˆ`BlendOp Min`ä¿ç•™æ·±åº¦æœ€å°çš„æ³¡æ²«é«˜å…‰
    
    æ°´ä½“æ¸²æŸ“ä½¿ç”¨Minæ··åˆæ“ä½œä¿ç•™æœ€å°æ·±åº¦å€¼ï¼Œé…åˆæ ‡å‡†Alphaæ··åˆå®ç°é€æ˜æŠ˜å°„æ•ˆæœ
    
    *   WaterSurface.shader
        
            Shader "URP/WaterSurface" {
                Properties {
                    _MainTex ("Water Texture", 2D) = "white" {}
                    _NormalMap ("Normal Map", 2D) = "bump" {}
                    _FoamTex ("Foam Texture", 2D) = "white" {}
                }
                SubShader {
                    Tags { "RenderType"="Transparent" "Queue"="Transparent" }
                    Blend SrcAlpha OneMinusSrcAlpha
                    BlendOp Min
                    ZWrite Off
            
                    HLSLINCLUDE
                    #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Core.hlsl"
                    #include "Packages/com.unity.render-pipelines.universal/ShaderLibrary/Lighting.hlsl"
                    ENDHLSL
            
                    Pass {
                        HLSLPROGRAM
                        #pragma vertex vert
                        #pragma fragment frag
            
                        struct Attributes {
                            float4 positionOS : POSITION;
                            float2 uv : TEXCOORD0;
                            float3 normalOS : NORMAL;
                            float4 tangentOS : TANGENT;
                        };
            
                        struct Varyings {
                            float4 positionCS : SV_POSITION;
                            float2 uv : TEXCOORD0;
                            float3 normalWS : TEXCOORD1;
                            float3 viewDirWS : TEXCOORD2;
                        };
            
                        TEXTURE2D(_MainTex);
                        TEXTURE2D(_NormalMap);
                        TEXTURE2D(_FoamTex);
                        SAMPLER(sampler_MainTex);
            
                        Varyings vert(Attributes IN) {
                            Varyings OUT;
                            float3 positionWS = TransformObjectToWorld(IN.positionOS.xyz);
                            OUT.positionCS = TransformWorldToHClip(positionWS);
                            OUT.uv = IN.uv;
                            OUT.normalWS = TransformObjectToWorldNormal(IN.normalOS);
                            OUT.viewDirWS = GetWorldSpaceViewDir(positionWS);
                            return OUT;
                        }
            
                        half4 frag(Varyings IN) : SV_Target {
                            half4 water = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, IN.uv);
                            water.a = 0.7;
                            half3 normalTS = UnpackNormal(SAMPLE_TEXTURE2D(_NormalMap, sampler_MainTex, IN.uv));
                            half foam = SAMPLE_TEXTURE2D(_FoamTex, sampler_MainTex, IN.uv).r;
                            return min(water, foam.xxxx);
                        }
                        ENDHLSL
                    }
                }
            }
            
        

* * *

> [ã€ä»UnityURPå¼€å§‹æ¢ç´¢æ¸¸æˆæ¸²æŸ“ã€‘](https://blog.csdn.net/chenghai37/category_13021255.html?fromshare=blogcolumn&sharetype=blogcolumn&sharerId=13021255&sharerefer=PC&sharesource=chenghai37&sharefrom=from_link)**ä¸“æ -ç›´è¾¾**

ï¼ˆæ¬¢è¿_ç‚¹èµç•™è¨€_æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰