---
layout: post
title: 'DeepSeek+Claudeå¼ºå¼ºè”æ‰‹ï¼Œä½¿ç”¨AIé©±åŠ¨DjangoStarter 3.1æ¡†æ¶å‡çº§'
date: "2025-03-17T00:39:43Z"
---
DeepSeek+Claudeå¼ºå¼ºè”æ‰‹ï¼Œä½¿ç”¨AIé©±åŠ¨DjangoStarter 3.1æ¡†æ¶å‡çº§
===============================================

å‰è¨€
--

ä¸Šä¸ªæœˆåº•åŸ¹è®­äº†ä¸€å‘¨å°±æ²¡æ—¶é—´æ›´æ–°åšå®¢

ä¸Šå‘¨æœ‰ä¸€äº›ç©ºé—²æ—¶é—´ï¼Œå°±ç»§ç»­ä½“éªŒæœ€è¿‘å¾ˆç«çš„AIè¾…åŠ©ç¼–ç¨‹

ä¹‹å‰çš„æ–‡ç« ä¸­æœ‰è¯´åˆ°æˆ‘é…ç½®å¥½äº† VSCode + Cline æ’ä»¶æ­é…æœ¬åœ°éƒ¨ç½²çš„ DeepSeek æ¥å®ç°AIè¾…åŠ©ç¼–ç¨‹

> å‚è€ƒ: [å¼€å‘è€…æ–°é€‰æ‹©ï¼šç”¨DeepSeekå®ç°Cursorçº§æ™ºèƒ½ç¼–ç¨‹çš„å…è´¹æ–¹æ¡ˆ](https://www.cnblogs.com/deali/p/18695714)

ä½† Cline æ’ä»¶æ¶ˆè€— token å¤ªå¿«äº†ï¼Œæ¢æœ¬åœ°éƒ¨ç½²çš„ DeepSeek çš„è¯ä¸å¤Ÿèªæ˜

æˆ‘åé¢åˆæ¢äº† RooCode ã€ Continue è¿™ä¿©æ’ä»¶ï¼Œè¿˜æœ‰è¯•äº†ä¸€ä¸‹æ–°çš„IDE Trae

ç”¨ä¸‹æ¥ RooCode è¿˜ä¸é”™ï¼Œè¿™æ˜¯ Cline çš„ fork ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å¤šäº†ä¸€äº›ï¼Œæ¶ˆè€— Token æ•°é‡æˆ‘æ²¡å»ç»Ÿè®¡ï¼Œæ„Ÿè§‰å¯èƒ½å·®ä¸å¤š

å¤§æ¨¡å‹æœåŠ¡æˆ‘é€‰æ‹©äº†è´­ä¹° DeepSeek å’Œ Claude çš„ API

Trae èƒœåœ¨å…è´¹ï¼Œä¸è¿‡å›½å†…å¤–åŒºåˆ«å¯¹å¾…æ˜¯æœ‰ç‚¹è®©äººéš¾å—çš„

æœ€ç»ˆæˆ‘åœ¨ Claude å’Œ DeepSeek çš„è¾…åŠ©ä¸‹ï¼Œå®Œæˆäº† DjangoStarter 3.1 ç‰ˆæœ¬çš„å¼€å‘

å…³äº DjangoStarter
----------------

DjangoStarter v3 æ˜¯ä¸‹ä¸€ä»£ Django é¡¹ç›®å¿«é€Ÿå¼€å‘æ¨¡æ¿ï¼Œä¸“ä¸ºæå‡å¼€å‘æ•ˆç‡å’Œæ€§èƒ½è€Œè®¾è®¡ã€‚

ç»“åˆäº† Django çš„ä¸°å¯ŒåŠŸèƒ½å’Œ Django-Ninja çš„æ€§èƒ½ã€çµæ´»ã€ç®€æ´ç‰¹æ€§ï¼Œv3 ç‰ˆæœ¬æ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›ä¸€ä¸ªæ›´åŠ å¼ºå¤§ã€ç®€æ´å’Œé«˜é€Ÿçš„å¼€å‘ä½“éªŒã€‚

é€šè¿‡è¿™ä¸ªå…¨æ–°çš„æ¡†æ¶ç‰ˆæœ¬ï¼Œå¼€å‘è€…èƒ½å¤Ÿè¿…é€Ÿæ­å»ºèµ·ç¬¦åˆç°ä»£ web åº”ç”¨æ ‡å‡†çš„é¡¹ç›®åŸºç¡€æ¶æ„ã€‚

ä¹‹å‰æˆ‘å†™äº†ä¸€ç¯‡æ–‡ç« ä¸“é—¨ä»‹ç»è¿™ä¸ªv3ç‰ˆæœ¬ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚

æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹: [å…³äºæ­£åœ¨å¼€å‘ä¸­çš„DjangoStarter v3ç‰ˆæœ¬](https://www.cnblogs.com/deali/p/18237621)

é‡æ„ç•Œé¢
----

æœ¬æ¬¡æœ€å¤§çš„æ”¹å˜å°±æ˜¯ä½¿ç”¨ Tailwind CSS å–ä»£äº†åŸæœ¬çš„ Bootstrapï¼Œå¹¶ä¸”åŠ å…¥äº†å¾ˆå¤šæ–°çš„é¡µé¢ï¼Œæ¯”å¦‚ç”¨æˆ·ä¸­å¿ƒã€è®¾ç½®ã€å…³äºã€è”ç³»æˆ‘ä»¬ã€ç™»å½•ã€æ³¨å†Œã€ç”¨æˆ·åè®®ç­‰ï¼ŒåŸºæœ¬å°±æ˜¯å¾€ CMS çš„æ–¹å‘èµ°ã€‚

æˆ‘ç”šè‡³ä¸€åº¦æƒ³å¼•å…¥ wagtail ï¼Œä¸è¿‡åé¢æƒ³æƒ³è¿˜æ˜¯ç®—äº†ï¼Œå·²ç»å¤Ÿé‡äº†ï¼Œç­‰ä¸‹å®Œå…¨å’Œå°é¡¹ç›®ä¸æ²¾è¾¹ï¼Œå“ˆå“ˆå“ˆğŸ˜„

å›½é™…åŒ–æ”¯æŒ (beta)
------------

è¿™æ¬¡è¿˜æ·»åŠ äº†å›½é™…åŒ–æ”¯æŒ

Django æœ¬èº«æ˜¯æœ‰å›½é™…åŒ–åŠŸèƒ½çš„

åªä¸è¿‡å¾ˆå¤šé¡¹ç›®éƒ½å»é™¤äº†

è¿™æ¬¡æˆ‘åŠ å…¥äº†å›½é™…åŒ–æ”¯æŒï¼Œä¸è¿‡åªæ˜¯æµ‹è¯•ç‰ˆï¼Œåªæ˜¯æ·»åŠ äº†æ”¯æŒï¼Œç¿»è¯‘éƒ¨åˆ†æˆ‘è¿˜æ²¡åšå¥½ï¼Œæ‰€ä»¥ä¹Ÿå°±è¿˜æ²¡æŠŠåˆ‡æ¢è¯­è¨€çš„æŒ‰é’®åŠ ä¸Šã€‚

ä»¥ä¸‹æ˜¯ä¸€äº›å›½é™…åŒ–åŠŸèƒ½çš„ç”¨æ³•

åœ¨æ¨¡æ¿é‡Œ
----

    {% translate 'Home' %}
    

### åœ¨pythonä»£ç é‡Œ

    from django.utils.translation import gettext_lazy as _
    
    print(_('hello'))
    

### ç”Ÿæˆç¿»è¯‘æ–‡ä»¶

åœ¨ `src` ç›®å½•ä¸‹æ‰§è¡Œ

    django-admin makemessages -l [language_code]
    

language\_code:

*   zh\_HAns
*   en\_US

å…¶ä»–è¯­è¨€å¯ä»¥å‚è€ƒDjangoå®˜ç½‘

### ç¼–è¯‘æ¶ˆæ¯æ–‡ä»¶

ä¾ç„¶æ˜¯åœ¨ `src` ç›®å½•ä¸‹æ‰§è¡Œ

    django-admin compilemessages
    

### Windows å¼€å‘ç¯å¢ƒ

å¦‚æœæ˜¯ä½¿ç”¨ windows å¼€å‘ï¼Œéœ€è¦å…ˆå®‰è£… `gettext` å·¥å…·

æ¨èä½¿ç”¨ scoop åŒ…ç®¡ç†å™¨

    scoop install gettext
    

å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯

    xgettext --version
    

éƒ¨åˆ†ç•Œé¢æˆªå›¾
------

### æ—§ç‰ˆä¸»é¡µ

å…ˆæ¥çœ‹çœ‹æ—§ç‰ˆçš„ä¸»é¡µé•¿ä»€ä¹ˆæ ·

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232232483-150474188.png)

### æ–°ç‰ˆä¸»é¡µ

æ–°çš„ç•Œé¢ä½¿ç”¨ Tailwind CSS é‡æ„ï¼Œå¥½çœ‹äº†å¾ˆå¤š

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232242885-1324194229.png)

åº•éƒ¨ä¹Ÿæ˜¯å¯ä»¥é…ç½®çš„

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232252300-333474931.png)

### å…³äº

è¿™ä¸ªé¡µé¢åšäº†å¾ˆå¤šåŠ¨æ•ˆï¼Œå¯ä»¥çœ‹çœ‹åé¢çš„åŠ¨å›¾

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232310745-388604460.png)

åŠ¨æ•ˆæ˜¯ç”¨AOSåšçš„ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼ŒæŒºæ–¹ä¾¿çš„ï¼Œä¸è¿‡è¦æ³¨æ„å¾—ä½¿ç”¨ 3.0 çš„ beta ç‰ˆæœ¬ï¼Œä¸€å¼€å§‹æ²¡æ³¨æ„é‡åˆ°äº†ä¸å°‘å‘ã€‚

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232358373-899327767.gif)

### è”ç³»æˆ‘ä»¬

è¿™äº›è”ç³»æ–¹å¼éƒ½æ˜¯å¯ä»¥é…ç½®çš„

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232430567-297100368.png)

è¡¨å•ä¹Ÿç”¨ä¸Šäº† DjangoStarter æ–°ç‰ˆå°è£…å¥½çš„ BaseModelForm

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232439369-1523892867.png)

å°è£…å¥½çš„ BaseModelForm ç”¨èµ·æ¥æ˜¯è¿™æ ·

    class ContactModelForm(BaseModelForm):
        class Meta:
            model = Contact
            fields = ('name', 'email', 'phone', 'message')
            widgets = {
                'name': forms.TextInput(attrs={'placeholder': 'è¯·è¾“å…¥æ‚¨çš„å§“å'}),
                'email': forms.EmailInput(attrs={'placeholder': 'è¯·è¾“å…¥æ‚¨çš„é‚®ç®±'}),
                'phone': forms.TextInput(attrs={'placeholder': 'è¯·è¾“å…¥æ‚¨çš„è”ç³»ç”µè¯'}),
                'message': forms.Textarea(attrs={'placeholder': 'è¯·è¾“å…¥æ‚¨çš„ç•™è¨€å†…å®¹', 'rows': 4})
            }
    

### ç™»å½•/æ³¨å†Œ

è¿™ä¸ªç™»å½•é¡µé¢æ˜¯ä¹‹å‰ä½¿ç”¨ wagtail é‚£ä¸ªé¡¹ç›®é‡Œé¢æ¬è¿‡æ¥çš„

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232449048-59338338.png)

æ³¨å†Œé¡µé¢ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œå°±ä¸è´´å›¾ç‰‡äº†

### ä¸ªäººä¸­å¿ƒ

ä¸ªäººä¸­å¿ƒè¿™é‡Œçš„å¸ƒå±€æ¥è‡ªä¹‹å‰çš„ TodayTV é¡¹ç›®ï¼Œä¸è¿‡åŸæ¥ä¹Ÿæ˜¯ä»å…¶ä»–åœ¨çº¿æ¨¡æ¿å‚è€ƒæ¥çš„ï¼Œç•Œé¢ä¸æ˜¯å¾ˆå¥½çœ‹ã€‚

ç„¶è€Œæˆ‘ç”¨ Claude 3.5 å’Œ DeepSeek R1 åå¤ä¼˜åŒ–å¤šæ¬¡ï¼Œä»ç„¶æ— æ³•è®©æˆ‘æ»¡æ„ï¼Œè€Œä¸”ä»£ç è¶Šæ¥è¶Šä¹±ï¼Œæ„Ÿè§‰åé¢è¿˜æ˜¯å¾—è‡ªå·±æ¥æ”¹ã€‚

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232506493-1500544533.png)

ä¸‹é¢çš„å…³äºæˆ‘

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232517086-1107017246.png)

### ä¿®æ”¹èµ„æ–™

è¿™ä¹Ÿæ˜¯ä» TodayTV é¡¹ç›®æ¥çš„ï¼Œæ­é… Django Forms å®ç°å‡ºæ¥çš„æ•ˆæœè¿˜å¯ä»¥ã€‚

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232529732-174226641.png)

### éšç§æ”¿ç­–

è¿™ä¸ªæ˜¯ç”¨ Claude ç”Ÿæˆçš„ï¼Œä½¿ç”¨ RooCode ä¼˜åŒ–çš„æç¤ºè¯ï¼Œçœ‹ç€æœ‰æ¨¡æœ‰æ ·çš„ã€‚

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232541109-392151545.png)

æœåŠ¡æ¡æ¬¾ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œæˆ‘å°±ä¸æˆªå›¾äº†ã€‚

### Demoé¡µé¢

ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºå„ç§åŠŸèƒ½ï¼Œæˆ‘è¿˜æ–°å¢äº†Demoé¡µé¢

å½“ç„¶è¿™ä¸ªä¸å¤ªåè°ƒçš„é¡µé¢æ˜¯ AI è¾…åŠ©å¸ƒå±€çš„

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232552559-837565301.png)

### é”™è¯¯é¡µé¢

å¹¶ä¸”ç”¨ Claude ç”Ÿæˆäº†å‡ ä¸ªé”™è¯¯é¡µé¢

åŒ…æ‹¬403ã€404ã€500é¡µé¢ï¼Œéƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè¿™é‡Œæˆ‘åªè´´403é¡µé¢çš„æˆªå›¾

![](https://img2024.cnblogs.com/blog/866942/202503/866942-20250316232651272-1787945035.png)

è§£å†³äº†ä¸€ä¸ª issue
-----------

[https://github.com/Deali-Axy/DjangoStarter/issues/20](https://github.com/Deali-Axy/DjangoStarter/issues/20)

æœ‰ç”¨æˆ·åé¦ˆæœ¬æ¥åº”è¯¥è¿”å›400çš„æ¥å£ï¼Œå®é™…è¿”å›äº†200

æˆ‘çœ‹äº†ä¹‹åå‘ç°è¿™ä¸ªé—®é¢˜å±äºæ˜¯ä»DRFè¿ç§»åˆ°ninjaçš„å†å²é—ç•™é—®é¢˜

ä¹‹å‰æˆ‘åœ¨æ¡†æ¶é‡Œå°è£… responses ç”¨äºå¿«æ·è¾“å‡ºå„ç§è¿”å›çŠ¶æ€

    def ok(message: str, data: Optional[dict] = None):
        return _gen_resp(message, data, 200)
    
    def forbidden(message: str, data: Optional[dict] = None):
        return _gen_resp(message, data, 403)
    
    def bad_request(message: str, data: Optional[dict] = None):
        return _gen_resp(message, data, 400)
    
    def not_found(message: str, data: Optional[dict] = None):
        return _gen_resp(message, data, 404)
    

ä½†ç°åœ¨ ninja é‡Œï¼Œä¸€ç›´è¿”å›çš„éƒ½æ˜¯ 200ï¼Œè¿™ä¸ªå°±æ˜¯å¤„ç†è¿”å›çŠ¶æ€ç çš„åœ°æ–¹å‡ºé—®é¢˜ã€‚

æœ‰å‡ ç§è§£å†³æ€è·¯ï¼Œåæ­£åŸæœ¬æˆ‘ç”¨é‡å†™ renderer çš„æ–¹å¼æ˜¯æ²¡åŠæ³•çš„ï¼Œrendereré‡Œæ²¡æ³•å®šä¹‰è¿”å›å€¼ï¼Œåªèƒ½æ”¹å˜ç›¸åº”å†…å®¹ã€‚

è¦ä¸å°±æ˜¯ç”¨ django ä¸­é—´ä»¶ï¼Œä½†éœ€è¦è§£æ JSON ä¼šå½±å“æ€§èƒ½

æœ€ç»ˆæˆ‘å¯¹ responses è¿›è¡Œäº†æ”¹é€ ï¼Œæ–°å¢äº† `ResponseGenerator` è¿™ä¸ªç±»ï¼Œä»£ç å°±ä¸è´´äº†

å…³é”®å®ç°å°±æ˜¯ç”¨äº† ninja çš„ `api.create_response` è¿™ä¸ªæ–¹æ³•å¯ä»¥æŒ‡å®š status code

åœ¨éœ€è¦ç”¨åˆ°çš„åœ°æ–¹ï¼Œæ¯”å¦‚ src/apps/account/apis/auth/apis.py

    router = Router(tags=['auth'])
    
    _resp = ResponseGenerator(router=router)
    
    @router.post('/register', url_name='account/auth/register')
    def register(request, data: RegisterSchema):
        if User.objects.filter(username=data.username).exists():
            return _resp.bad_request(request, 'ç”¨æˆ·åå·²å­˜åœ¨ï¼')
    
        if data.phone:
            phone_pattern = '^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$'
            if not re.match(phone_pattern, data.phone):
                return _resp.bad_request(request, 'æ‰‹æœºå·ç æ ¼å¼ä¸å¯¹ï¼')
    
            if UserProfile.objects.filter(phone=data.phone).exists():
                return _resp.bad_request(request, 'æ‰‹æœºå·å·²å­˜åœ¨ï¼')
    
        if data.password != data.confirm_password:
            return _resp.bad_request(request, 'å¯†ç ä¸ä¸€è‡´ï¼')
    

ç›¸æ¯”èµ·åŸæ¥çš„ï¼Œæ¯ä¸ªè¿”å›çš„å“åº”éœ€è¦æ·»åŠ  request å‚æ•°

è™½ç„¶æ¯”èµ·åŸæ¥å¤æ‚ä¸€ç‚¹ï¼Œä¹Ÿç®—æ˜¯æå®šäº†ã€‚

Todos
-----

*    [https://django-ninja.cn](https://django-ninja.cn) ä¸Šæœ‰ä¸å°‘ ninja å‘¨è¾¹ç”Ÿæ€ç»„ä»¶ï¼Œåç»­å¯ä»¥ç”¨ä¸Š
*    å°† admin ç”± simpleui åˆ‡æ¢åˆ° unfold admin
*    å¢åŠ æ›´å¤šçš„é»˜è®¤é¡µé¢

å¾®ä¿¡å…¬ä¼—å·ï¼šã€Œç¨‹åºè®¾è®¡å®éªŒå®¤ã€ ä¸“æ³¨äºäº’è”ç½‘çƒ­é—¨æ–°æŠ€æœ¯æ¢ç´¢ä¸å›¢é˜Ÿæ•æ·å¼€å‘å®è·µï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æœºå™¨å­¦ä¹ ä¸æ•°æ®åˆ†æç®—æ³•ã€ç§»åŠ¨ç«¯å¼€å‘ã€Linuxã€Webå‰åç«¯å¼€å‘ç­‰ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨æŠ€æœ¯ï¼Œåˆ†äº«å­¦ä¹ å®è·µç»éªŒã€‚