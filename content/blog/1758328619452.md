---
layout: post
title: '小爱同学连接电脑进行交互 教程'
date: "2025-09-20T00:36:59Z"
---
小爱同学连接电脑进行交互 教程
===============

github地址：[https://github.com/MacMillan1225/Aiable\_PC](https://github.com/MacMillan1225/Aiable_PC)  
bilibili视频：[https://www.bilibili.com/video/BV1D1WVzaEgi/](https://www.bilibili.com/video/BV1D1WVzaEgi/)  
云盘分享链接：[https://pan.baidu.com/s/1OiPqP7ifU3Of-dpAY2Dkjw?pwd=rett](https://pan.baidu.com/s/1OiPqP7ifU3Of-dpAY2Dkjw?pwd=rett)

> 在软件分享中，release解压之后是我提到的那个用作本地接收的软件，flows.json是可以导入到nodered中的模板！

所需材料
----

我们希望整个过程的材料尽量简化。以下是必备的设备：

*   小爱音箱（如 Redmi 音箱 Play）
*   一台支持 Docker 的设备（如小主机，NAS，或电脑）
*   你需要控制的电脑

实现流程
----

整个实现路径如下：

![image](https://img2024.cnblogs.com/blog/2629123/202509/2629123-20250919212457592-1000468237.png)

技术细节
----

如果你对以下概念有疑问，可以继续阅读，否则可以跳过：

![image](https://img2024.cnblogs.com/blog/2629123/202509/2629123-20250919212552719-363072930.png)  
![image](https://img2024.cnblogs.com/blog/2629123/202509/2629123-20250919212605131-466580293.png)  
![image](https://img2024.cnblogs.com/blog/2629123/202509/2629123-20250919212617289-1541281344.png)  
![image](https://img2024.cnblogs.com/blog/2629123/202509/2629123-20250919212635663-809566231.png)

安装与配置
-----

### 1\. 安装 Home Assistant

首先，我们需要在支持 Docker 的设备上安装 Home Assistant 和 Nodered。你可以使用 Docker Compose 来启动容器。以下是 Docker Compose 配置文件：

    services:
      homeassistant:
        image: homeassistant/home-assistant:${VERSION}
        container_name: ${CONTAINER_NAME}_ha
        restart: always
        ports:
          - "8123:8123"  # 映射 Home Assistant UI
        networks:
          - ha_net
        volumes:
          - ${APP_PATH}/homeassistant_data:/config
          - /run/dbus:/run/dbus:ro
          - /etc/localtime:/etc/localtime:ro
        environment:
          - PUID=1001
          - PGID=1001
        labels:
          createdBy: "bt_apps"
    
      nodered:
        image: nodered/node-red:latest
        container_name: ${CONTAINER_NAME}_nodered
        restart: always
        ports:
          - "1880:1880"  # 映射 Node-RED 编辑器
        networks:
          - ha_net
        volumes:
          - ${APP_PATH}/nodered_data:/data
        environment:
          - PUID=1001
          - PGID=1001
        labels:
          createdBy: "bt_apps"
    
    networks:
      ha_net:
        driver: bridge
    

HACS安装命令

    wget -O - https://get.hacs.xyz | bash -
    

安全性注意事项
-------

尽管该方法的通信是通过 HTTP 进行的，但为了增加安全性，你可以通过 HTTPS 加密通信。可以使用 Nginx 来配置反向代理，确保通信的安全性。

小贴士
---

如果你希望程序能够自启并在后台运行，可以将其使用**nssm**注册为 Windows 服务，确保它在启动时自动运行。  
后台运行最佳实践：添加计划任务，因为注册为服务时应用跑的会话层不同，无法直接完成打开应用的操作，所以通过计划任务添加是最好的选择（v1.2版本后都将发布为无命令行版，方便添加计划任务）

总结
--

通过这些步骤，你可以轻松实现通过小爱音箱控制电脑程序，拓展了智能家居的功能。希望大家玩得开心！