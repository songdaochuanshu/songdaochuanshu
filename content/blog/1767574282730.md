---
layout: post
title: 'ã€å¼€æºã€‘ã€Šcommander-cppã€‹å•å¤´æ–‡ä»¶çš„ã€é“¾å¼è°ƒç”¨çš„ã€è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©æ–‡æ¡£çš„C++å‘½ä»¤è¡Œå‚æ•°è§£æåº“'
date: "2026-01-05T00:51:22Z"
---
ã€å¼€æºã€‘ã€Šcommander-cppã€‹å•å¤´æ–‡ä»¶çš„ã€é“¾å¼è°ƒç”¨çš„ã€è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©æ–‡æ¡£çš„C++å‘½ä»¤è¡Œå‚æ•°è§£æåº“
===================================================

ã€Šcommander-cppã€‹å•å¤´æ–‡ä»¶çš„ã€é“¾å¼è°ƒç”¨çš„ã€è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©æ–‡æ¡£çš„C++å‘½ä»¤è¡Œå‚æ•°è§£æåº“
-----------------------------------------------

### å‰è¨€

ä½œè€…æˆ‘æœ¬äººç»å¸¸ä¼šå†™ä¸€äº›å‘½ä»¤è¡Œå°å·¥å…·ï¼Œ  
æ­¤å‰ä¸€ç›´ä½¿ç”¨node.jsçš„ä¸‰æ–¹åº“[commander.js](https://github.com/tj/commander.js)æ¥è§£æå‘½ä»¤è¡Œå‚æ•°,  
commander.jsæ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å‘½ä»¤è¡Œå‚æ•°è§£æåº“ï¼Œ  
ä½†æ˜¯ä½¿ç”¨node.jsä¹Ÿä¼šæœ‰ä¸€äº›é™åˆ¶ï¼Œæ¯”å¦‚ï¼šè¿è¡Œçš„ç”µè„‘ä¸Šéœ€è¦å®‰è£…node.jsï¼Œå¹¶ä¸”åœ¨ä¸€äº›å¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯å°±ä¼šä¸å¤ªæ–¹ä¾¿äº†ï¼Œ  
é’ˆå¯¹ä¸Šè¿°æƒ…å†µï¼Œæˆ‘å°è¯•åˆ‡æ¢åˆ°c++ï¼Œä½†æ˜¯åœ¨å®é™…å†™ä»£ç æ—¶å‘ç°ï¼Œç°æœ‰çš„å‘½ä»¤è¡Œè§£æåº“ä½¿ç”¨æ—¶æ²¡æœ‰commander.jsé‚£ä¹ˆä¸æ»‘ï¼Œè®©æˆ‘å¾ˆéš¾å—ï¼Œ  
äºæ˜¯ï¼Œæˆ‘å†³å®šä»¿ç…§commander.jsçš„è®¾è®¡ï¼Œå†™ä¸€ä¸ªc++çš„å‘½ä»¤è¡Œå‚æ•°è§£æåº“ï¼Œå–åä¸º`commander-cpp`ï¼Œå¤´æ–‡ä»¶åä¸º`commander_cpp.hpp`

### ä»“åº“

ä»“åº“åœ°å€ï¼š[https://github.com/DoYoungDo/commander-cpp](https://github.com/DoYoungDo/commander-cpp)

### ç‰¹æ€§

*   ğŸ¯ é“¾å¼ API è®¾è®¡ï¼Œç®€æ´æ˜“ç”¨
*   ğŸ“¦ å•å¤´æ–‡ä»¶ï¼Œæ— å¤–éƒ¨ä¾èµ–
*   ğŸ”§ æ”¯æŒé€‰é¡¹ï¼ˆå•å€¼ã€å¤šå€¼ã€å¸ƒå°”å€¼ï¼‰
*   ğŸ“ æ”¯æŒå‚æ•°ï¼ˆå¿…éœ€å‚æ•°ã€å¯é€‰å‚æ•°ã€å¤šå€¼å‚æ•°ï¼‰
*   ğŸŒ² æ”¯æŒå­å‘½ä»¤å’ŒåµŒå¥—å‘½ä»¤
*   âš™ï¸ æ”¯æŒé»˜è®¤å€¼
*   ğŸ“– è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©ä¿¡æ¯
*   ğŸ” è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ
*   ğŸ¨ æ”¯æŒé€‰é¡¹åˆ«åå’Œç»„åˆï¼ˆå¦‚ `-abc`ï¼‰

### å®‰è£…

å°† `commander_cpp.hpp` æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶åœ¨ä»£ç ä¸­åŒ…å«å®ƒï¼š

    #include "commander_cpp.hpp"
    

### ç¤ºä¾‹

#### ç¤ºä¾‹ä»£ç 

    #include "commander_cpp.hpp"
    using namespace COMMANDER_CPP;
    
    int main(int argc, char **argv) {
        // æ„é€ ä¸€ä¸ªCommandå¯¹è±¡ï¼Œå‘½ä»¤åä¸º"example", ç­‰ä»·äºï¼šCommand().name("example")
        Command("example")
            // è®¾ç½®ç‰ˆæœ¬å·
            .version("1.0.0")
            // æ·»åŠ ä¸€ä¸ªç®€ä»‹æè¿°æ–‡æœ¬
            ->description("ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤è¡Œåº”ç”¨")
            // æ·»åŠ ä¸€ä¸ªé€‰é¡¹ï¼Œé€‰é¡¹åæ˜¯'name',è®¾ç½®åˆ«å'n',å¹¶æŒ‡å®šå‚æ•°å¿…é€‰
            ->option("-n --name <name>", "ä½ çš„åå­—" /* é€‰é¡¹çš„æè¿° */)
            // æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°åæ˜¯'file',å¹¶æŒ‡å®šå‚æ•°å¯é€‰
            ->argument("[file]", "è¦å¤„ç†çš„æ–‡ä»¶è·¯å¾„")
            // æ·»åŠ ä¸€ä¸ªåŠ¨ä½œå›è°ƒï¼Œå½“å‘½ä»¤è¡Œå‚æ•°è§£æå®Œæˆåè°ƒç”¨
            ->action([](Vector<Variant/* = std::variant<...> */> args /* å‚æ•°å€¼åˆ—è¡¨ */, Map<String /* é€‰é¡¹å */, Variant /* é€‰é¡¹å€¼ */> opts /* é€‰é¡¹å€¼åˆ—è¡¨ */) {
                if (opts.find("name") != opts.end()) {
                    std::cout << "Hello, " << std::get<String>(opts["name"]) << "!" << std::endl;
                } else {
                    std::cout << "Hello, World!" << std::endl;
                }
            })
            // è§£æå‘½ä»¤è¡Œå‚æ•°
            ->parse(argc, argv);
        return 0;
    }
    

#### è¿è¡Œç¤ºä¾‹

    $ ./example -n Alice
    Hello, Alice!
    
    $ ./example -V
    1.0.0
    
    $ ./example --help
    Usage: example [options]
    
    ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤è¡Œåº”ç”¨
    
    Options:
      -V, --version       out put version number.
      -n, --name <name>   ä½ çš„åå­—
      -h, --help
    

[æ›´å¤šç¤ºä¾‹...](https://github.com/DoYoungDo/commander-cpp)

### æ³¨æ„

*   æ”¯æŒ C++17 æˆ–æ›´é«˜ç‰ˆæœ¬

åšä¸€æ¡æœ‰ç†æƒ³çš„å’¸é±¼