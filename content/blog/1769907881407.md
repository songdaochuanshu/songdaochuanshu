---
layout: post
title: '[Agent/AI编程] Claude Code 使用指南'
date: "2026-02-01T01:04:41Z"
---
\[Agent/AI编程\] Claude Code 使用指南
===============================

0 序
===

*   近期实在是刷到太多 Manus / OpenManus / Cursor / Codex / Gemini / Claude Code / OpenCode / Moltblot(OpenClaw/Clawd) 的 AI 编程Agent的文章、短视频了。
*   但是很多文章对被 Anthropic 屏蔽的国内用户**如何安装 Claude Code并正常使用**、**如何集成第三方大模型API（如：硅基流动等）到 Claude Code**、**如何基于VSCode使用ClaudeCode**，并没有讲得很透彻。

> 不少教程文档，暗藏私货————间接要求购买ClaudeCode镜像站服务、或者售卖 FQ 服务。  
> 显然，这对于笔者而言，是不适用的。

*   此外，安装、使用过程中遇到的一些头痛的问题，也在 FAQ 章节悉数整理，并提供了解决方案。
    
*   通过本文一篇文档，即可一网打尽，快速上手 Claude Code!
    

1 概述：Claude Code
================

产品定位：它是什么？解决了什么问题？
------------------

*   Claude Code 是 Anthropic 推出的终端 AI 编码助手,核心理念是"住在终端里"。

> 它能够帮助开发者编写代码、调试程序、重构代码、解释复杂逻辑，大大提升编程效率。  
> 它能理解项目结构、编辑代码、执行命令、管理 Git,虽然支持 IDE 集成,但本质是【命令行驱动】的工具。  
> 其还推出有VSCode插件等多种**终端形态**，将强大的Claude AI助手直接集成到您的开发环境中。

![image](https://img2024.cnblogs.com/blog/1173617/202602/1173617-20260201012039153-282118530.png)

*   Claude Code 的定位：

> 不是**AI聊天工具**，而是在【本地代码仓库】中执行高权限、【可上下文感知】的工程任务。  
> Claude Code 与在聊天窗口里写几段代码不同，它理解你的整个项目，能直接读取你的文件、运行测试并根据反馈修改代码。  
> Claude Code 不是一个**代码生成器**，而是一个能【读项目】、【懂上下文】、【遵守约束】的【 `AI` 编程搭档】。

    它不是网页里的聊天框，而是直接在你的终端(Terminal)里运行,可以:
      读取你整个项目的代码
      理解文件之间的关系
      直接修改代码文件
      执行你的指令并给出建议
    

> *   `Claude Code` 是 一款面向 AI 编程场景的**Agent（智能体工具）**，不是 **Chat（聊天工具）**。

*   从**能力角度**看，Claude Code 主要具备三点特征：

> *   **上下文感知**：不仅理解单个文件，而是理解整个项目结构
> *   **工程化导向**：关注可维护性、规范、测试，而不是一次性代码
> *   **可定制行为**：通过 Skills（技能包）让 AI 遵守你的规则

*   开源版本的替代品(OpenCode)

> 您可以参考这篇文章: [https://www.kevnu.com/zh/posts/opencode-in-depth-technical-analysis-of-open-source-ai-programming-agents](https://www.kevnu.com/zh/posts/opencode-in-depth-technical-analysis-of-open-source-ai-programming-agents)

*   关于 `Claude Agent Skills`

> 您可以参考这篇文章: [https://www.kevnu.com/zh/posts/claude-agent-skills-deep-dive-a-new-paradigm-for-expanding-ai-agent-capabilities](https://www.kevnu.com/zh/posts/claude-agent-skills-deep-dive-a-new-paradigm-for-expanding-ai-agent-capabilities)

Claude Code 能做什么?
-----------------

> Claude Code 的核心能力可以归纳为这几点:

*   1、代码理解与解释

> 我们可以问它:
> 
> *   这个函数是干什么的?
> *   为什么这里会报错?
> *   这段代码的性能瓶颈在哪?
> *   它会结合你的项目上下文给出解释。

*   2、多文件上下文分析

> 不同于简单的代码补全工具,Claude Code 能理解:
> 
> *   这个函数在哪些地方被调用了
> *   这个模块依赖了哪些其他文件
> *   整个项目的架构是怎样的

*   3、工程级代码修改

> 我们可以说:
> 
> *   把所有用 var 的地方改成 let
> *   把这个函数拆成三个小函数
> *   给所有接口加上错误处理
> *   它会帮你实际修改代码,而不只是给建议。

*   4、通过 Skills(技能包)扩展能力

> Skills 是 Claude Code 最强大的地方——我们可以教它你的编码习惯和团队规范，让它按我们的方式工作。  
> 比如:
> 
> *   我们团队要求所有函数都加注释
> *   API 响应必须符合特定格式
> *   测试用例要覆盖边界情况
> *   你可以把这些要求写成 Skills，Claude Code 就会自动遵守。

Claude Code 不能做什么?
------------------

*   Claude Code 不擅长的事情：

> *   不能替你做技术决策的最终判断
> *   不能保证生成代码 100% 无 Bug
> *   不能理解你没有明确说明的业务语义
> *   不适合在你完全不理解的情况下【全自动接管】项目
> *   一个成熟的使用心态是：让 Claude Code 提供高质量候选方案，而不是【绝对正确答案】。

Claude Code 的核心价值
-----------------

*   Claude Code 的核心理念：【协作】，而不是【替代】

> Claude Code 并不是在追求把开发者踢出局，它的设计理念非常明确：

*   人负责：目标、约束、判断、审美
*   AI 负责：执行、分析、对比、重复劳动

### 对编程新手: 降低学习门槛

*   如果你是新手，最痛苦的可能是:

> *   看不懂别人的代码
> *   不知道为什么报错
> *   不知道好代码长什么样

*   Claude Code 可以:

> *   **用人话解释代码**: 这段代码的意思是先检查用户是否登录，如果没登录就跳转到登录页
> *   **帮你 Debug**: 这里报错是因为变量名拼错了，应该是 username 不是 usrname
> *   **教你写更好的代码**: 这个函数太长了，可以拆成三个小函数，分别负责验证、处理、返回

### 对独立开发者: 提升开发效率

*   如果你是独立开发者，你可能:

> *   一个人负责前后端
> *   没人帮你 Code Review
> *   需要快速试错和迭代

*   Claude Code 可以:

> *   帮你快速理解第三方库的用法
> *   自动生成测试用例
> *   帮你重构混乱的代码

### 对团队: 统一规范,降低协作成本

*   如果你在团队工作，你可能遇到:

> *   每个人代码风格不一样
> *   新人上手慢,老是问重复问题
> *   Code Review 花时间

*   Claude Code 可以:

> *   通过 Skills 统一团队规范(所有人用同一套规则)
> *   帮新人快速理解项目
> *   在提交前自动检查代码质量

Claude Code 适合哪些人?适用场景？
-----------------------

*   建议以下几类人可以尝试 Claude Code:

> *   **编程新手**  
>     想学编程但总是卡在看不懂代码  
>     需要一个随时解答问题的老师

> *   **独立开发者 / 创业者**  
>     一个人做项目,需要快速试错  
>     想把时间花在核心功能上,不想在琐碎问题上卡住

> *   **后端 / 前端 / 全栈工程师**  
>     想提升开发效率  
>     想学习更好的代码写法  
>     需要快速理解复杂项目

> *   **技术负责人 / 架构师**  
>     想用 AI 辅助团队规范落地  
>     想降低新人培养成本

*   **不适合的场景**

> 你完全不想学编程，只想输入需求自动出项目(AI 还做不到)  
> 你的工作涉及高度敏感代码，不能使用外部 AI 服务

Claude Code vs 其他 AI 编程工具
-------------------------

> 你可能还听说过 ChatGPT、Cursor、GitHub Copilot，它们和 Claude Code 有什么不同?

*   Claude Code vs ChatGPT

维度

ChatGPT

Claude Code

使用方式

网页聊天

命令行工具

代码理解

需要手动粘贴

自动读取整个项目

文件修改

给建议,你手动改

可以直接修改文件

适合场景

问问题、学概念

真实项目开发

*   Claude Code vs Cursor / Copilot

维度

Cursor / Copilot

Claude Code 、 VSCode+通义灵码/CC等Agent插件

工作方式

编辑器内自动补全

命令行对话式

适合场景

写代码时实时提示

理解、重构、架构级修改

学习成本

低,开箱即用

中,需要学习指令

*   简单总结:

> *   Copilot/Cursor:边写边补全，像智能输入法
> *   Claude Code:对话式协作，像高级搭档
> *   ChatGPT:通用助手，像顾问
> *   Claude Code 的优势:

*   对整个项目的理解能力更强

> *   可以通过 Skills 定制行为
> *   更适合理解旧代码大规模重构等场景

*   Claude Code 的局限:

> *   不如 Copilot 那样无感(需要主动调用)
> *   学习曲线稍高

2 安装篇
=====

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260128012724799-89954919.png)

> [https://code.claude.com/docs/zh-CN/desktop](https://code.claude.com/docs/zh-CN/desktop)

*   Claude Code 支持的终端形态：

> *   **Web 版**
> 
> > [https://code.claude.com/docs/zh-CN/claude-code-on-the-web](https://code.claude.com/docs/zh-CN/claude-code-on-the-web)
> 
> *   **桌面版**
> 
> > 目前 Claude Code 的**桌面版**也发布了，下载地址： [https://claude.com/download](https://claude.com/download)
> 
> *   Chrome 扩展程序（测试版）
> *   VsCode 插件版
> 
> > [https://code.claude.com/docs/zh-CN/vs-code](https://code.claude.com/docs/zh-CN/vs-code)
> 
> *   JetBrains IDEs
> *   Github Actions with Claude Code
> *   GitLab CI/CD
> *   Slack with Claude Code

*   Claude Code (CLI版 / VSCode插件版)vs. 网页版 Claude

特性

Claude 网页版 / App

Claude Code (CLI)

交互方式

复制粘贴代码到对话框

直接在终端通过指令操作

文件访问

手动上传文件

自动读取/搜索整个工程目录

执行能力

仅生成文本

执行 Shell 命令、运行测试、创建文件

上下文感知

有限的对话上下文

深度感知项目结构和 Git 历史

> 打个比方:
> 
> *   `Claude`(网页版) 就像一个顾问/实习生/助理，你把代码截图或复制给他，他给你建议，但你得自己动手改。
> *   `Claude Code` 就像一个坐在你旁边的搭档，他能看到你的整个项目，帮你改代码，甚至帮你写测试、重构函数。

*   三种常见终端方式的对比

方式

适合人群

优点

缺点

Web 端

完全新手

无需安装,打开就用

功能相对有限

CLI(命令行)

有一定基础的开发者

功能完整,集成度高

需要熟悉命令行

IDE/编辑器集成（VS Code / Cursor 等）

日常开发

无缝融入工作流

依赖插件和环境配置

> *   如果你是**完全新手**，先用 Web 端 [https://claude.ai/](https://claude.ai/) 试试手感
> *   如果你想**真正用于开发**，直接学 `CLI`(命令行)
> *   如果你已经**熟练使用**，再考虑**IDE/编辑器集成**

前置步骤：注册第三方大模型供应商的账户、并获取API KEY
------------------------------

*   硅基流动

> *   [\[AI/GPT\] 硅基流动(SiliconFlow) : AI大模型时代的基础设施(Model API as Service) - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/18714654)
> *   [https://account.siliconflow.cn/](https://cloud.siliconflow.cn/i/djWvMoJw)
> *   [https://cloud.siliconflow.cn/](https://cloud.siliconflow.cn/i/djWvMoJw)
> 
> > 近期在搞活动，注册即送代金券。

*   百炼
    
*   DeepSeek
    
*   GLM
    
*   ...
    

CLI 命令版：NPM 安装方式（推荐）
--------------------

### 安装 NodeJs / Npm

*   安装 Nodejs / NPM

> *   nodejs version >= 18
> *   [安装部署 - NodeJs 教程（1）入门篇 - 博客园/千千寰宇](https://www.cnblogs.com/johnnyzen/p/18078785)

*   验证

> CMD / Git-Bash / Powershell

    C:\Users\Xxx> node --version
    v20.11.1
    
    C:\Users\Xxx> npm --version
    10.2.4
    
    C:\Users\Xxx> npm config get prefix
    D:\Program_Files\nodejs\node-v20.11.1-win-x64
    

### 基于 npm 安装 Claude Code

*   基于 npm 安装 Claude Code

    npm install -g @anthropic-ai/claude-code
    或: npm install -g @anthropic-ai/claude-code --registry=https://registry.npmmirror.com
    

> 卸载命令: `npm uninstall -g @anthropic-ai/claude-code`

*   查看安装情况

    $ npm list -g
    D:\Program_Files\nodejs\node-v20.11.1-win-x64
    +-- @anthropic-ai/claude-agent-sdk@0.2.19
    +-- @anthropic-ai/claude-code@2.1.19
    ...
    

CLI命令版：原生安装脚本方式
---------------

### macOS / Linux / WSL

    curl -fsSL https://claude.ai/install.sh | bash
    

### Windows

*   Windows PowerShell

    irm https://claude.ai/install.ps1 | iex
    

*   Windows CMD:

    curl -fsSL https://claude.ai/install.cmd -o install.cmd && install.cmd && del install.cmd
    

CLI命令版：验证/启动/使用
---------------

### 查验版本

> Git-Bash 环境下为例:

    $ claude --version
    2.1.20 (Claude Code)
    
    $ ls ~/.claude
    config.json  debug/  ide/  projects/  skills/  statsig/  telemetry/  todos/
    
    $ vim ~/.claude.json
    

> `powershell`: `notepad $env:USERPROFILE\.claude.json`

### 健康检查

    C:\Users\Xxx> claude doctor
    
     Checking installation status…                                                                                                                                                                Diagnostics
     └ Currently running: unknown (2.1.20)
     └ Path: D:\Program_Files\nodejs\node-v20.11.1-win-x64\node.exe
     └ Invoked: D:\Program_Files\nodejs\node-v20.11.1-win-x64\node_modules\@anthropic-ai\claude-code\cli.js
     └ Config install method: unknown
     └ Search: OK (vendor)
    
     Updates
     └ Auto-updates: enabled
     └ Auto-update channel: latest
    
     └rStabletversion:n2.1.7…                                                                                                                                                                     └ Latest version: 2.1.20
    
     Press Enter to continue…   
    

> 注： Git-Bash 环境下执行 `export CLAUDE_DISABLE_RAW_MODE=1 && claude doctor`，亲测无效，忽略即可。

### （指定文件夹下）启动 Claude Code

*   启动 Claude Code

> 注：**基于`claude`命令启动时报不支持的国家/地区: `Claude Code might not be available in your country. Check supported countries ...`** 问题，参见 FAQ 章节

    # cd /path/to/your/project
    # claude
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130235245646-1795744864.png)

> 看到版本信息或进入交互提示符,说明安装成功。  
> 输入`1` 即进入 Claude Code；反之，输入`2` 或 `Esc` 即退出 Claude 并会退到命令行窗口  
> 假定输入`1`

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130235723743-205516763.png)

### 登录与授权

*   首次运行 `claude` 会提示登录,支持3种方式:

> *   **个人/团队/企业用户**: 使用 [Claude.ai](https://claude.ai/) 账户交互式登录
> 
> > Claude account with subscription · Pro, Max, Team, or Enterprise

> *   **API 用户**: 使用 Anthropic API Key 授权
> 
> > [Anthropic Console account](https://console.anthropic.com/) · API usage billing

> *   **第三方平台** （国内用户，推荐选项）
> 
> > 3rd-party platform · Amazon Bedrock, Microsoft Foundry, or Vertex AI

> > 凭据保存在 `~/.config/claude`，后续可通过 `/login` 命令重新登录或切换账户。

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131000143987-164122988.png)

#### 登录方法1：配置大模型API的环境变量

    ANTHROPIC_AUTH_TOKEN  你的API Key
    ANTHROPIC_BASE_URL    https://api.siliconflow.cn/
    ANTHROPIC_MODEL       moonshotai/Kimi-K2-Instruct
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131005851593-473212784.png)

> *   设置环境变量的方法

    //方法1 图形化界面配置
    此电脑” -> 选择 “属性” -> “高级系统设置” -> “系统属性” 窗口中点击 “环境变量” -> 点击 “新建” -> 配置变量及其值
    
    
    //方法2 powershell (永久设置)
    [Environment]::SetEnvironmentVariable("ANTHROPIC_AUTH_TOKEN", "sk-xxx", "User")
    [Environment]::SetEnvironmentVariable("ANTHROPIC_BASE_URL", "https://api.siliconflow.cn/", "User")
    
    //方法3 cmd 设置 (永久设置)
    setx ANTHROPIC_AUTH_TOKEN "sk-xxx"
    setx ANTHROPIC_BASE_URL "https://api.whatai.cc"
    
    //方法4 通过settings.json 设置 (找到 settings.json 文件，如果没有请创建)
    C:\Users\{user}\.claude\settings.json
    或 vim ~/.claude/settings.json
    {
        "env": {
          "ANTHROPIC_MODEL": "claude-sonnet-4-20250514",
          "ANTHROPIC_SMALL_FAST_MODEL": "claude-sonnet-4-20250514",
          "ANTHROPIC_BASE_URL": "https://api.whatai.cc",
          "ANTHROPIC_AUTH_TOKEN": "sk-XXXXXXXX"
        }
      }
    

> 注意： **永久设置**后需要【重启终端】才能生效。推荐使用永久配置方式。

> *   查验环境变量的方法

    //windows 环境下
    echo %ANTHROPIC_AUTH_TOKEN%
    echo %ANTHROPIC_BASE_URL%
    echo %ANTHROPIC_MODEL%
    
    
    //git-bash 环境下
    env | grep -i ANTHROPIC
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131011412761-79686648.png)

> 配置完成后，即可通过: Windows CMD / Windows Powershell 窗口以 `cluade` 命令启动。
> 
> > 注： Windows Git-Bash 无法成功启动 Claude。

    //如下方式可实现在 Git-Bash 中配置环境变量 （但Git-Bash 无法成功启动 Claude，忽略即可）
    > vi ~/.bash_profile
    # generated by Git for Windows
    test -f ~/.profile && . ~/.profile
    test -f ~/.bashrc && . ~/.bashrc
    
    > vi ~/.bashrc
    	export ANTHROPIC_AUTH_TOKEN="sk-xxxxxx37t3edsbdskbk3rfsfdfs"
    	export ANTHROPIC_BASE_URL="https://api.siliconflow.cn/"
    	export ANTHROPIC_MODEL="zai-org/GLM-4.6"
    
    > source ~/.bashrc
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131010603398-1476718500.png)

### 基本使用

*   可直接提问

> 例如: "使用Python脚本抓取近10年的中国GDP数据"  
> ...

### 退出 Claude Code

    /exit
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130235829255-1767886745.png)

Visual Studio Code 中使用 Claude Code
----------------------------------

*   推荐文献

> *   [Visual Studio Code 中使用 Claude Code - CSDN](https://blog.csdn.net/u010953692/article/details/155396404)
> *   [vscode配置Claude Code（使用智谱API） - CSDN](https://blog.csdn.net/Justin_JGT/article/details/154661242)

### Step1 安装 Claude Code 扩展插件

*   打开 VS Code，搜索并安装插件: `Claude Code for VS Code`

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260128014109613-486777162.png)

*   补充安装方式：命令行安装

    # 安装 VSCode 扩展
    code --install-extension anthropic.claude-code
    

*   补充安装方式：手动下载安装

> *   访问 [VSCode Marketplace](https://open-vsx.org/extension/Anthropic/claude-code)
> *   点击 "Download Extension" 下载 `.vsix` 文件
> *   在VSCode中使用命令面板 (`Ctrl+Shift+P` 或 `Cmd+Shift+P`)
> *   输入 "`Extensions: Install from VSIX`"
> *   选择下载的文件进行安装

### Step2 安装/启用第三方工具：`CC-Switch`

> `CC-Switch` 的作用：  
> 通过【代理】本地电脑中 ClaudeCode/Codex/Gemini Agent 软件对【大模型供应商】（如：硅基流动）的API请求，解决（尤其是 VSCode 中的 Cluade Code 插件与这些第三方大模型供应商）二者之间无法直接兼容使用的问题。

*   创建/编辑 `~/.cluade/setting.json` 一个 JSON 格式的空文件

> 如果先前以创建，则可忽略此步骤

    > notepad C:\Users\Johnny\.claude\setting.json
    {
    
    }
    

*   `CC-Switch` 安装包下载

> [https://github.com/farion1231/cc-switch/releases/tag/v3.9.1](https://github.com/farion1231/cc-switch/releases/tag/v3.9.1)  
> github 访问不便的可下载： [https://wwbbj.lanzout.com/iAqC63g3yhze](https://wwbbj.lanzout.com/iAqC63g3yhze)

> CC-Switch-v3.9.1-Windows-Portable.zip

*   下载完后解压、点击`cc-switch.exe`启动

    D:\Program\CCSwitch\
    

*   开始配置大模型供应商

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131234306200-497077722.png)

> *   以硅基流动为例:

    请求地址： https://api.siliconflow.cn
    官网链接： https://cloud.siliconflow.cn/
    模型： (自己去官网选择自己想用的)
        例如:  zai-org/GLM-4.6 ; deepseek-ai/DeepSeek-V3.2 ; ...
    

*   选择启用 CC-Switch

> 启用后，将通过 CC-Switch 代理

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131234818430-1993734150.png)

> 注意事项：启用 CC-Switch 时，会与原先配置的 Claude Code 环境变量（`ANTHROPIC_AUTH_TOKEN/ANTHROPIC_BASE_URL/ANTHROPIC_MODEL`）产生冲突，其将要求删除之。

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131234646541-619472573.png)

*   此时，再打开 VSCode / 或 Claude Code CLI 即可使用了

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131235845352-877118635.png)

### 编辑 Claude Code 插件的设置文件(`settings.json`) 【此步骤废止】

*   为设置 Claude Code 插件——编辑 `settings.json`

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260128015745431-196768475.png)

> `C:\Users\Xxx\AppData\Roaming\Code\User\settings.json`

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260128020747200-1154238779.png)

> *   编辑配置文件 settings.json

        , ...
        "claudeCode.environmentVariables": [
            { 
                "name" : "ANTHROPIC_BASE_URL"
                , "value": "https://api.siliconflow.cn/" 
            }
            , { 
                "name" : "ANTHROPIC_AUTH_TOKEN"
                , "value": "你的 API-Key" 
            }
        ],
        "claudeCode.disableLoginPrompt": true
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260128015920438-539880121.png)

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260131233527134-1624485459.png)

3 Slash 命令
==========

*   本节汇总 Claude Code 的内置命令与自定义命令要点。
    
*   **内置命令**: 用于控制会话、查看状态、导出、调试等,使用频率高,应记住常用几条
    
*   **自定义命令**: 通过 Markdown 文件定义,支持参数、bash 执行、文件引用和权限控制,适合把常用模板固化为命令
    

Claude Code 内置常用命令
------------------

*   `claude` - 启动交互模式
*   `claude "task"` - 运行一次性任务
*   `claude commit` - 创建 Git 提交

* * *

*   `/add-dir`: 添加额外的工作目录
*   `/agents`: 管理自定义子代理(AI subagents)
*   `/bashes`: 列出/管理后台 bash 任务
*   `/bug`: 上报 bug(会把对话发送到 Anthropic)
*   `/clear`: 清空会话历史（清空对话内容，重新启动）
*   `/compact [instructions]`: 压缩会话上下文,可带聚焦指令
*   `/config`: 打开设置界面(Config 选项卡)
*   `/context`: 以彩色网格方式可视化当前上下文使用情况
*   `/cost`: 显示 token 使用统计
*   `/doctor`: 检查 Claude Code 安装健康状况
*   `/exit`: 退出 REPL
*   `/export [filename]`: 导出当前会话到文件或剪贴板
*   `/help`: 获取帮助列表和用法
*   `/hooks`: 管理与工具事件相关的 hook 配置
*   `/ide`: 管理 IDE 集成并显示状态
*   `/init`: 用 `CLAUDE.md` 指南初始化项目（解析项目，为项目生成或更新文档CLAUDE.md）
*   `/install-github-app`: 为仓库设置 Claude GitHub Actions
*   `/login`、`/logout`: 切换或退出 Anthropic 账户
*   `/mcp`: 管理 MCP 服务器连接和 OAuth 授权
*   `/memory`: 编辑 CLAUDE.md 的记忆文件
*   `/model`: 选择或切换 AI 模型
*   `/output-style [style]`: 设置输出风格
*   `/permissions`: 查看或更新权限规则
*   `/plugin`: 管理 Claude Code 插件
*   `/pr-comments`: 查看 PR 评论
*   `/privacy-settings`: 查看/更新隐私设置
*   `/release-notes`: 查看发布说明
*   `/resume`: 恢复会话
*   `/review`: 请求代码审查
*   `/rewind`: 回退会话或代码状态
*   `/sandbox`: 启用受限的 sandboxed bash(文件系统与网络隔离)
*   `/security-review`: 对当前分支的待定更改执行安全审查
*   `/status`: 打开状态界面(显示版本、模型、账户和连通性)
*   `/statusline`: 设置状态行 UI
*   `/terminal-setup`: 为 iTerm2 / VSCode 安装 Shift+Enter 换行快捷键
*   `/todos`: 列出当前 todo 项
*   `/usage`: 显示订阅计划使用限额和速率限制状态
*   `/vim`: 进入 vim 模式(交替插入/命令模式)

G FAQ for Claude Code
=====================

Q: 基于`claude`命令启动时报不支持的国家/地区: `Claude Code might not be available in your country. Check supported countries ...`
-----------------------------------------------------------------------------------------------------------------

*   问题描述

> 基于`claude`命令启动时，报不支持的国家/地区: `Claude Code might not be available in your country. Check supported countries ...`

    C:\Users\Johnny> claude
    Unable to connect to Anthropic services  
    Failed to connect to api.anthropic.com: ERR_BAD_REQUEST  
    Please check your internet connection and network settings.  
    Note: Claude Code might not be available in your country. Check supported countries at https://anthropic.com/supported-countri
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130225134679-420024729.png)

    Welcome to Claude Code v2.1.20
    …………………………………………………………………………………………………………………………………………………………                                                                        
    
         *                                       █████▓▓░
                                     *         ███▓░     ░░
                ░░░░░░                        ███▓░
        ░░░   ░░░░░░░░░░                      ███▓░
       ░░░░░░░░░░░░░░░░░░░    *                ██▓░░      ▓
                                                 ░▓▓███▓▓░
     *                                 ░░░░
                                     ░░░░░░░░
                                   ░░░░░░░░░░░░░░░░
           █████████                                        *
          ██▄█████▄██                        *
           █████████      *
    …………………█ █   █ █………………………………………………………………………………………………………………                                                                                 
    
     Unable to connect to Anthropic services
    
     Failed to connect to api.anthropic.com: ERR_BAD_REQUEST
    
     Please check your internet connection and network settings.
    
     Note: Claude Code might not be available in your country. Check supported countries at https://anthropic.com/supported-countries
    

*   原因分析

> 国内第一次使用claude code的新手，都遇到过这样的报错。而成为了使用claude code的第一道门槛

> 想要解决其实十分简单，只需要在 claude code 配置文件加上一行配置即可绕过地区限制（即修改 `~/.claude.json` 文件），下面开始教你如何配置。

*   解决方法

> 1.  首先你要知道你的用户主目录 ，即"C:\\Users\\你的用户名"，配置文件默认会在这个目录下，然后找到`.claude.json`文件。

    //powershell | git-bash
    vim ~/.claude.json
    

> 2.  打开`.claude.json`文件，可使用vscode、notepad++、记事本等文本编辑器，打开后会出现类似的配置样式，加上选中区域的字段。
> 
> > 别忘了给上一行加个`,`逗号

    "hasCompletedOnboarding": true
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130234953210-255466997.png)

> 3.  重启 ClaudeCode，大功告成！

    claude
    

![image](https://img2024.cnblogs.com/blog/1173617/202601/1173617-20260130235245646-1795744864.png)

> 输入`1` 即进入 Claude Code；反之，输入`2` 或 `Esc` 即退出 Claude 并会退到命令行窗口

Q: 基于Windows的`PowerShell`运行`claude`命令时，报：`npm : 无法加载文件 D:\...\nodejs\claude.ps1，因为在此系统上禁止运行脚本。...`
--------------------------------------------------------------------------------------------------

*   问题描述

    Windows PowerShell
    版权所有 (C) Microsoft Corporation。保留所有权利。
    
    尝试新的跨平台 PowerShell https://aka.ms/pscore6
    
    PS C:\Users\Xxx\Desktop\55156966> claude
    claude : 无法加载文件 D:\Program_Files\nodejs\node-v20.11.1-win-x64\claude.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID=135170 中的 about_Execution_Policies。
    所在位置 行:1 字符: 1
    + claude
    + ~~~~~~
        + CategoryInfo          : SecurityError: (:) []，PSSecurityException
        + FullyQualifiedErrorId : UnauthorizedAccess
    

*   解决方法

> *   在终端输入`get-ExecutionPolicy`查看执行策略/权限；

    PS C:\Users\Xxx\Desktop\55156966> get-ExecutionPolicy
    Restricted
    

> > 输出`Restricted`(受限制的)；
> 
> *   终端输入`Set-ExecutionPolicy -Scope CurrentUser`命令给用户赋予权限；
> *   输入`RemoteSigned`；

    PS C:\Users\Xxx\Desktop\55156966> Set-ExecutionPolicy -Scope CurrentUser
    位于命令管道位置 1 的 cmdlet Set-ExecutionPolicy
    请为以下参数提供值:
    ExecutionPolicy: RemoteSigned
    
    执行策略更改
    执行策略可帮助你防止执行不信任的脚本。更改执行策略可能会产生安全风险，如 https:/go.microsoft.com/fwlink/?LinkID=135170 中的 about_Execution_Policies 帮助主题所述。是否要更改执行策略?
    [Y] 是(Y)  [A] 全是(A)  [N] 否(N)  [L] 全否(L)  [S] 暂停(S)  [?] 帮助 (默认值为“N”): Y
    

> *   终端输入`get-ExecutionPolicy`查看一下权限，显示`RemoteSigned`就可以了。

    PS C:\Users\Johnny\Desktop\55156966> get-ExecutionPolicy
    RemoteSigned
    

Q: 基于 Git-Bash 安装 Claude Code 需配置`CLAUDE_CODE_GIT_BASH_PATH`环境变量?
-----------------------------------------------------------------

> 此问题可忽略，没有多少意义

> Claude Code on Windows requires git-bash ([https://git-scm.com/downloads/win](https://git-scm.com/downloads/win)). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE\_CODE\_GIT\_BASH\_PATH=C:\\Program Files\\Git\\bin\\bash.exe

    $ claude
    CLAUDE_CODE_GIT_BASH_PATH=D:\Program Files(x86)\Git\Git\bin\bash.exe
    

*   Windows Git-Bash

> 如果后续需通过 Git-Bash 来启动/使用 Cluade Code，则需： 设置环境变量 `CLAUDE_CODE_GIT_BASH_PATH` 为 bash.exe 的路径。（可选）

Q: 为什么必须走/推荐用 大模型 API 集成的方式？
----------------------------

*   上下文感知：它能直接读取你的整个项目结构，不再需要你手动上传文件。
*   自主编辑（Agentic）：配合 Cline 等插件，它不仅能写代码，还能直接运行终端、创建文件、修复 Bug，甚至根据报错自我修正。
*   隐私与成本：API 按 Token 计费，比订阅制更灵活，且数据隐私性通常优于网页免费版。

Y 推荐文献
======

*   Claude Code

> *   [Claude Code 设置 - Claude Code](https://code.claude.com/docs/zh-CN/settings)
> *   [https://code.claude.com/docs/zh-CN/overview#native-install-recommended](https://code.claude.com/docs/zh-CN/overview#native-install-recommended)

*   CC-Switch

> > 专为多环境 Claude 用户打造的配置管理工具，支持一键在不同的 API Key 或供应商之间快速切换，告别频繁手动修改配置文件的繁琐。
> 
> *   [https://github.com/farion1231/cc-switch/releases/tag/v3.10.3](https://github.com/farion1231/cc-switch/releases/tag/v3.10.3)

*   claude-auto-resume

> > 专为长耗时任务设计的守护脚本，能够自动检测并恢复因网络波动或超时而中断的 Claude 对话，实现真正的 “无人值守” 式编程。
> 
> *   [https://github.com/terryso/claude-auto-resume/tree/develop](https://github.com/terryso/claude-auto-resume/tree/develop)

*   BMAD-METHOD

> > BMAD 是一个全流程的 AI 敏捷开发 解决方案，它集结了 12 位虚拟专家组成智能团队，通过自适应的结构化工作流，引导你完成从构思到部署的专家级交付。
> 
> *   官方仓库 [https://github.com/bmad-code-org/BMAD-METHOD](https://github.com/bmad-code-org/BMAD-METHOD)
> 
> > 更多关于 BMAD 的内容，有网友专门写了一篇文章 [https://itho.cn/vibecoding/573.html](https://itho.cn/vibecoding/573.html)

*   ralph-claude-code

> > 自动重复叫 Claude Code 干活的工具，直到活干完或出问题为止。
> 
> *   [https://github.com/frankbria/ralph-claude-code](https://github.com/frankbria/ralph-claude-code)

*   skillsmp

> 一个收集查找 claude skill 的站  
> [https://skillsmp.com/](https://skillsmp.com/)

*   lmarena

> 查看各类模型排名  
> [https://lmarena.ai/zh/leaderboard](https://lmarena.ai/zh/leaderboard)

*   第三方模型

> *   智谱AI : [https://open.bigmodel.cn/](https://open.bigmodel.cn/)
> 
> > `export ANTHROPIC_BASE_URL=https://open.bigmodel.cn/api/anthropic`
> 
> *   硅基流动 : [https://cloud.siliconflow.cn/](https://cloud.siliconflow.cn/)
> 
> > `export ANTHROPIC_BASE_URL=https://api.siliconflow.cn/`

*   第三方文档

> *   [https://blog.techfetch.dev/blog/2025/09/17/claude-code-third-party-vendor-usage-guide-in-depth-analysis-best-practices/](https://blog.techfetch.dev/blog/2025/09/17/claude-code-third-party-vendor-usage-guide-in-depth-analysis-best-practices/)
> *   [Claude Code 使用指南：从官方配置到接入第三方模型 - kevnu.com](https://www.kevnu.com/zh/posts/claude-code-usage-guide-from-official-configuration-to-integrating-third-party-models) 【推荐/参考】//todo

> *   [Claude 中文版使用指南：2025年最先进的 Claude 4.5 模型 - Github](https://github.com/SericWong/claude-mirror) 2026-01-26
> *   [Claude Code 教程 - 菜鸟教程](https://www.runoob.com/claude-code/claude-code-tutorial.html) //todo
> *   [Claude Code API密钥完全指南：配置、获取与最佳实践（2025版） - cursor-ide.com](https://www.cursor-ide.com/blog/claude-code-api-key)

*   Claude 第三方镜像站

对比维度

Claude 官方 (Anthropic)

Claude中文版 (Claude镜像站)

访问门槛

极高（需专用网络环境）

零门槛（国内直连，即点即用）

账号风险

高（IP变动极易封号）

无风险（微信/邮箱注册，稳定不封）

中文能力

优秀，但偶有翻译腔

卓越（针对中文语境特定优化）

模型权限

免费版限制多，升级困难

全模型解锁（含 Claude 4/3.5 全系列）

功能扩展

单一聊天窗口

集成写作、PPT生成、数据分析等工具

> *   [Claude 国内使用完整指南：3个稳定镜像站推荐（2025最新） - claude-chinese.com](https://www.claude-chinese.com/claude/claude-china-access-guide-2025.html)
> 
> > 如何选择适合你的镜像站？

特性

XSimpleChat

蓝鲸 AI

GPTokk

稳定性

⭐⭐⭐⭐⭐

⭐⭐⭐⭐

⭐⭐⭐⭐⭐

响应速度

极快

快

快

界面体验

优秀

优秀

良好

中文优化

良好

优秀

良好

多模型支持

是

是

是

API 支持

是

否

是

团队功能

是

否

是

免费试用

有

有

有

价格

中等

实惠

中等

推荐指数

⭐⭐⭐⭐⭐

⭐⭐⭐⭐

⭐⭐⭐⭐

X 参考文献
======

*   [Claude Code 支持原生 Windows 免WSL安装教程，附踩坑经历 - Zhihu](https://zhuanlan.zhihu.com/p/1941542481687746378) 【推荐】
    
*   [Visual Studio Code 中使用 Claude Code - CSDN](https://blog.csdn.net/u010953692/article/details/155396404) 【推荐】 2025.11.29
    
*   [Claude Code VSCode 插件完整安装使用教程 - 掘金](https://juejin.cn/post/7571830282849124403) 【推荐】 2025.11.13
    
*   [https://github.com/vadimdemedes/ink/#israwmodesupported](https://github.com/vadimdemedes/ink/#israwmodesupported)
    
*   [开发工具&平台：Claude Code - 硅基流动](https://docs.siliconflow.cn/cn/usercases/use-siliconcloud-in-ClaudeCode) 2025.11.17
    

> *   本文档安装方式仅适用于 Mac 及 Linux用户
> *   [Claude Code & 硅基流动，老金突然使用自由了！ - Zhihu](https://zhuanlan.zhihu.com/p/1944899556862059697)

    export ANTHROPIC_BASE_URL="https://api.siliconflow.cn/"
    export ANTHROPIC_MODEL="moonshotai/Kimi-K2-Instruct-0905"    # 可以自行修改所需模型
    export ANTHROPIC_API_KEY="YOUR_SiliconFlow_API_KEY"    # 请替换 API Key
    

> 目前 Claude Code 并不支持添加多个自定义模型（Custom Model），可手动配置/选择并更新 `ANTHROPIC_MODEL` 环境变量的方式切换模型

*   [解决 Windows 下 Claude 通过 cmd/powershell 运行出错失去响应的问题 - 博客园](https://www.cnblogs.com/towerbit/p/19166639)

> Windows 下在终端中运行 Claude，如果尝试让它在磁盘中查找文件，很容易因为缺少 cgypath 导致 Claude 进程出错

*   [npm : 无法加载文件 D:...\\nodejs\\npm.ps1，因为在此系统上禁止运行脚本 - CSDN](https://blog.csdn.net/pro_fan/article/details/120457551)

> 在VSCode终端使用npm命令时，出现报错信息

*   [【2025最新教程】Claude Code国内使用\_保姆级新手安装使用教程\_最强AI编程工具 - 博客园](https://www.cnblogs.com/whatai/p/19108865) //todo
*   [免登录！免安装ClI，Claude Code插件接入API使用教程 - Zhihu](https://zhuanlan.zhihu.com/p/1961104214651572278) //todo
*   [Claude Code & 硅基流动，老金突然使用自由了！ - Zhihu](https://zhuanlan.zhihu.com/p/1944899556862059697) 【参考】
*   [Claude Code 支持原生 Windows 免WSL安装教程，附踩坑经历 - Zhihu](https://zhuanlan.zhihu.com/p/1941542481687746378) //todo
*   [如何正确使用Claude Code官方vscode插件，告别命令行 - Bilibili](https://www.bilibili.com/video/BV1KDnmzjEyC) //todo
*   [vscode + claude code = 打造自己的专属AI IDE - Bilibili](https://www.bilibili.com/video/BV1RB8XzwE7e) //todo
*   [（25年12月）claude code报错：might not be available in your country - CSDN](https://blog.csdn.net/weixin_57253447/article/details/155828268)

    find ~ -name "*claude*" -type f -name "*.json" 2>/dev/null
    
    vi ~/.claude.json
        "hasCompletedOnboarding": true,  // 这是你新增的行，末尾要加逗号
    

*   [Claude Code 从 0 到 1 全攻略：MCP / SubAgent / Agent Skill / Hook / 图片 / 上下文处理/ 后台任务 - Bilibili](https://www.bilibili.com/video/BV14rzQB9EJj/) //todo
    
*   [vscode中claude插件接入硅基流动api - CSDN](https://blog.csdn.net/xiaobainewa/article/details/156946373) 【参考/推荐】 2026.1.14
    
*   [Claude Code Windows 安装与配置全流程：国内可用（硅基流动/DeepSeek）避坑指南 - 博客园](https://www.cnblogs.com/Comets9224/p/19535975) 【推荐】
    

> 有一些教程里，教你在`~/.claude/config.json`中添加`primaryApiKey`配置项，我的教程里没有用到`config.json`这文件，通常出现在一些"**非官方/第三方/旧版本**"的**绕路教程**里，目的是**让客户端/插件在没有完成登录流程时先"有个东西可写"**，避免一直卡在引导或报"`缺 key`"的分支判断。**填什么都行**，本质上说明：**它并不是一个真实可用的 API Key**，而更像是某些实现里的【占位字段】。我们已经通过`setting.json`的env配置，就不需要这个文件。

    "ANTHROPIC_AUTH_TOKEN": "你自己的APIKEY",
    "ANTHROPIC_BASE_URL": "https://api.siliconflow.cn/",
    "API_TIMEOUT_MS": "3000000",
    "ANTHROPIC_DEFAULT_SONNET_MODEL": "deepseek-ai/DeepSeek-V3.2",
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "Pro/deepseek-ai/DeepSeek-R1",
    "ANTHROPIC_DEFAULT_HAIKU_MODEL": "Pro/zai-org/GLM-4.7"
    

*   [VibeCoding 实战：Claude Code + GLM4.7 全能手册 - itho.cn](https://itho.cn/vibecoding/570.html) 【推荐】

> > CC-Switch / ...

![QQ沟通交流群](https://blog-static.cnblogs.com/files/johnnyzen/cnblogs-qq-group-qrcode.gif?t=1679679148)

本文作者： **[千千寰宇](https://github.com/Johnny-ZTSD)**  
本文链接： [https://www.cnblogs.com/johnnyzen](https://www.cnblogs.com/johnnyzen)  
关于博文：评论和私信会在第一时间回复，或[直接私信](https://msg.cnblogs.com/msg/send/johnnyzen)我。  
版权声明：本博客所有文章除特别声明外，均采用 [BY-NC-SA](http://blog.sina.com.cn/s/blog_896327b90102y6c6.html "https://creativecommons.org/licenses/by-nc-nd/4.0/") 许可协议。转载请注明出处！  
日常交流：大数据与软件开发-QQ交流群: 774386015 **【[入群二维码](javascript:void\(0\);)】**参见左下角。您的支持、鼓励是博主技术写作的重要动力！