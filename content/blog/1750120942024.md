---
layout: post
title: 'c++ å‡½æ•° ç±»'
date: "2025-06-17T00:42:22Z"
---
c++ å‡½æ•° ç±»
========

ä¸€ã€å‡½æ•°å®šä¹‰
======

åœ¨ C++ ä¸­ï¼Œ**å‡½æ•°**æ˜¯ç»„ç»‡ä»£ç é€»è¾‘çš„åŸºæœ¬å•å…ƒï¼Œç”¨äºå®ç°æ¨¡å—åŒ–ã€å¤ç”¨ã€ç»“æ„æ¸…æ™°çš„ç¨‹åºè®¾è®¡ã€‚

* * *

1ã€å‡½æ•°çš„åŸºæœ¬ç»“æ„
---------

    è¿”å›ç±»å‹ å‡½æ•°å(å‚æ•°åˆ—è¡¨) {
        // å‡½æ•°ä½“
        return å€¼; // å¯é€‰ï¼Œè§†è¿”å›ç±»å‹è€Œå®š
    }
    

**å£°æ˜ï¼ˆDeclarationï¼‰ï¼š**

å‘Šè¯‰ç¼–è¯‘å™¨å‡½æ•°å­˜åœ¨ï¼Œé€šå¸¸æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼š

    int add(int a, int b);  // å‡½æ•°å£°æ˜
    

**å®šä¹‰ï¼ˆDefinitionï¼‰ï¼š**

æä¾›å‡½æ•°å®ç°ï¼Œé€šå¸¸æ”¾åœ¨ `.cpp` æ–‡ä»¶ä¸­ï¼š

    int add(int a, int b) {
        return a + b;
    }
    

* * *

2ã€å‡½æ•°é‡è½½ï¼ˆOverloadï¼‰
----------------

åŒä¸€ä¸ªå‡½æ•°åå¯ä»¥å®šä¹‰å¤šä¸ªå‚æ•°ä¸åŒçš„å‡½æ•°ï¼š

    void print(int x);
    void print(double x);
    void print(std::string s);
    

æ³¨æ„ï¼š**å‚æ•°æ•°é‡æˆ–ç±»å‹ä¸åŒ**æ‰èƒ½æ„æˆé‡è½½ï¼Œè¿”å›ç±»å‹ä¸åŒä¸èƒ½å•ç‹¬æ„æˆé‡è½½ã€‚

* * *

3ã€é»˜è®¤å‚æ•°å€¼
-------

    void greet(std::string name = "Guest") {
        std::cout << "Hello, " << name << "!\n";
    }
    
    greet();         // è¾“å‡º Hello, Guest!
    greet("Alice");  // è¾“å‡º Hello, Alice!
    

* * *

4ã€å†…è”å‡½æ•°ï¼ˆ`inline`ï¼‰
----------------

å»ºè®®ç¼–è¯‘å™¨å°†å‡½æ•°ä»£ç æ’å…¥è°ƒç”¨å¤„ï¼Œé€‚ç”¨äºçŸ­å°é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ã€‚

    inline int square(int x) {
        return x * x;
    }
    

* * *

5ã€è™šå‡½æ•°ä¸çº¯è™šå‡½æ•°
----------

åœ¨ C++ ä¸­ï¼Œ**è™šå‡½æ•°ï¼ˆ`virtual`ï¼‰**å’Œ**çº¯è™šå‡½æ•°ï¼ˆ`= 0`ï¼‰**æ˜¯å®ç° **å¤šæ€æ€§** çš„å…³é”®æœºåˆ¶ï¼Œä½†å®ƒä»¬åœ¨è¯­æ³•ã€ç”¨é€”ã€ä½œç”¨ä¸Šæœ‰æ‰€ä¸åŒã€‚

ç‰¹æ€§

è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰

çº¯è™šå‡½æ•°ï¼ˆPure Virtual Functionï¼‰

å®šä¹‰æ–¹å¼

`virtual void foo();`

`virtual void foo() = 0;`

æ˜¯å¦æœ‰å®ç°

âœ… å¯ä»¥æœ‰å®ç°ï¼ˆä¹Ÿå¯ä»¥æ²¡æœ‰ï¼‰

âŒ å¿…é¡»åœ¨å­ç±»ä¸­å®ç°ï¼ˆæŠ½è±¡æ¥å£ï¼‰

æ˜¯å¦å¿…é¡»é‡å†™

âŒ å­ç±»å¯é€‰æ˜¯å¦é‡å†™

âœ… å­ç±»**å¿…é¡»**é‡å†™ï¼ˆé™¤éå­ç±»ä¹Ÿæ˜¯æŠ½è±¡ç±»ï¼‰

æ‰€åœ¨ç±»

å¯ä»¥åœ¨ä»»ä½•ç±»ä¸­

å¿…é¡»å‡ºç°åœ¨æŠ½è±¡ç±»ä¸­ï¼ˆå³åŒ…å«çº¯è™šå‡½æ•°çš„ç±»ï¼‰

åˆ›å»ºå¯¹è±¡

âœ… å¯ä»¥å®ä¾‹åŒ–å«è™šå‡½æ•°çš„ç±»

âŒ æŠ½è±¡ç±»ä¸å¯è¢«å®ä¾‹åŒ–

ç”¨é€”

æä¾›å¤šæ€è¡Œä¸ºçš„é»˜è®¤å®ç°

å¼ºåˆ¶å­ç±»å®ç°ï¼Œä½œä¸ºæ¥å£è§„èŒƒ

### ğŸ”· 1. è™šå‡½æ•°ç¤ºä¾‹ï¼ˆå¯é‡å†™ï¼‰

    class Animal {
    public:
        virtual void speak() {
            std::cout << "Animal speaks\n";
        }
    };
    
    class Dog : public Animal {
    public:
        void speak() override {
            std::cout << "Dog barks\n";
        }
    };
    
    Animal* p = new Dog();
    p->speak();  // è¾“å‡ºï¼šDog barksï¼ˆå¤šæ€ï¼‰
    

ğŸ”¸ å¦‚æœ `Dog` ä¸é‡å†™ `speak()`ï¼Œåˆ™ä¼šä½¿ç”¨ `Animal` çš„é»˜è®¤å®ç°ã€‚

* * *

### ğŸ”· 2. çº¯è™šå‡½æ•°ç¤ºä¾‹ï¼ˆå¼ºåˆ¶é‡å†™ï¼‰

    class Shape {
    public:
        virtual void draw() = 0;  // çº¯è™šå‡½æ•°
    };
    
    class Circle : public Shape {
    public:
        void draw() override {
            std::cout << "Drawing Circle\n";
        }
    };
    
    // Shape s;       // âŒ é”™è¯¯ï¼ŒæŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–
    Shape* p = new Circle();
    p->draw();        // è¾“å‡ºï¼šDrawing Circle
    

ğŸ”¸ è‹¥ `Circle` ä¸å®ç° `draw()`ï¼Œå®ƒä¹Ÿå°†å˜ä¸ºæŠ½è±¡ç±»ã€‚

### æ¥å£ç±»ï¼ˆinterfaceï¼‰

C++ æ²¡æœ‰ `interface` å…³é”®å­—ï¼Œä½†ä½ å¯ä»¥ç”¨çº¯è™šå‡½æ•°æ¨¡æ‹Ÿæ¥å£ç±»ï¼š

    class IStream {
    public:
        virtual void read() = 0;
        virtual void write() = 0;
        virtual ~IStream() {}  // æ¥å£ç±»åº”å®šä¹‰è™šææ„
    };
    

6ã€Lambda è¡¨è¾¾å¼ï¼ˆC++11 èµ·ï¼‰
---------------------

    [æ•è·åˆ—è¡¨](å‚æ•°åˆ—è¡¨) -> è¿”å›ç±»å‹ {
        å‡½æ•°ä½“
    }
    

å…¶ä¸­ï¼š

*   `[]`ï¼šæ•è·åˆ—è¡¨ï¼ˆå¯ä»¥æ•è·å¤–éƒ¨å˜é‡ï¼‰
*   `()`ï¼šå‚æ•°åˆ—è¡¨
*   `->`ï¼šè¿”å›ç±»å‹ï¼ˆå¯çœç•¥ï¼‰
*   `{}`ï¼šå‡½æ•°ä½“

åŒ¿åå‡½æ•°ï¼Œé€šå¸¸ç”¨äºç®€æ´å›è°ƒï¼š

    auto add = [](int a, int b) -> int {
        return a + b;
    };
    std::cout << add(3, 5);  // è¾“å‡ºï¼š8
    
    //è¿”å›ç±»å‹å¦‚æœèƒ½æ¨å¯¼ï¼Œå¯ä»¥çœç•¥ `-> int`ï¼š
    auto add = [](int a, int b) {
        return a + b;
    };
    std::cout << add(3, 4);  // è¾“å‡º 7
    

Lambda è¡¨è¾¾å¼æ˜¯ C++11 å¼•å…¥çš„ä¸€ç§**åŒ¿åå‡½æ•°**ï¼Œç”¨äºå®šä¹‰**å¯å†…è”çš„å‡½æ•°å¯¹è±¡**ï¼Œç‰¹åˆ«é€‚åˆä¸´æ—¶ã€å°å·§çš„å‡½æ•°ä½¿ç”¨åœºæ™¯ï¼Œå¦‚ç®—æ³•å›è°ƒã€äº‹ä»¶å¤„ç†ã€çº¿ç¨‹åˆ›å»ºç­‰ã€‚

### æ•è·å¤–éƒ¨å˜é‡ï¼ˆcaptureï¼‰

æ•è·æ–¹å¼

ç¤ºä¾‹

è¯´æ˜

å€¼æ•è·

`[x]`

æ•è·å˜é‡ `x` çš„å€¼ï¼ˆæ‹·è´ï¼‰

å¼•ç”¨æ•è·

`[&x]`

æ•è·å˜é‡ `x` çš„å¼•ç”¨

æ•è·å…¨éƒ¨ï¼ˆå€¼ï¼‰

`[=]`

æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å€¼

æ•è·å…¨éƒ¨ï¼ˆå¼•ç”¨ï¼‰

`[&]`

æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å¼•ç”¨

æ··åˆæ•è·

`[=, &y]`

é™¤ `y` å¤–å…¶ä»–å˜é‡å€¼æ•è·

    int x = 10;
    int y = 5;
    
    auto f = [=, &y]() {
        // x æ˜¯å€¼æ•è·ï¼Œy æ˜¯å¼•ç”¨æ•è·
        std::cout << x + y << "\n";
        y += 1;  // å…è®¸ä¿®æ”¹ y
    };
    
    f();
    

* * *

### å¸¸è§åº”ç”¨åœºæ™¯

1.  ä¸ STL ç®—æ³•ç»“åˆï¼ˆå¦‚ `std::sort`ï¼‰

    std::vector<int> v = {4, 2, 5, 1};
    std::sort(v.begin(), v.end(), [](int a, int b) {
        return a < b;
    });
    

2.  ä¸çº¿ç¨‹ä¸€èµ·ä½¿ç”¨ï¼š

    #include <thread>
    std::thread t([] {
        std::cout << "In thread\n";
    });
    t.join();
    

* * *

### å¯å˜ lambdaï¼ˆ`mutable`ï¼‰

é»˜è®¤æƒ…å†µä¸‹ï¼Œå€¼æ•è·çš„å˜é‡æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚åŠ ä¸Š `mutable` å¯ä»¥è®©å…¶å˜ä¸ºå¯å˜ï¼š

    int x = 5;
    auto f = [x]() mutable {
        x += 1;       // å…è®¸ä¿®æ”¹æ•è·å˜é‡çš„å‰¯æœ¬
        std::cout << x;
    };
    f();  // è¾“å‡º 6ï¼Œä½†å¤–éƒ¨ x ä¸å˜
    

ç‰¹æ®Šå‡½æ•°ç±»å‹
------

ç±»å‹

ç”¨é€”

æ„é€ å‡½æ•°

åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨

ææ„å‡½æ•°

å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨

æ‹·è´æ„é€ å‡½æ•°

å¯¹è±¡ä»¥å¦ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–æ—¶è°ƒç”¨

ç§»åŠ¨æ„é€ å‡½æ•°

å³å€¼åˆå§‹åŒ–å¯¹è±¡æ—¶è°ƒç”¨

è¿ç®—ç¬¦é‡è½½å‡½æ•°

é‡è½½ `+`, `==` ç­‰

è™šå‡½æ•°

ç”¨äºå¤šæ€

çº¯è™šå‡½æ•°

æŠ½è±¡ç±»æˆå‘˜å‡½æ•°

äºŒã€å‡½æ•°å‚æ•°å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’
==============

åœ¨ C++ ä¸­ï¼Œ**å‡½æ•°å‚æ•°**é»˜è®¤æ˜¯**å€¼ä¼ é€’ï¼ˆpass-by-valueï¼‰**ï¼Œä½† **å¹¶ä¸éƒ½æ˜¯å€¼ä¼ é€’**ï¼ŒC++ æ”¯æŒå¤šç§å‚æ•°ä¼ é€’æ–¹å¼ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

* * *

1\. å€¼ä¼ é€’ï¼ˆPass by Valueï¼‰
----------------------

*   **å°†å®å‚çš„å‰¯æœ¬ä¼ å…¥å‡½æ•°**
*   å‡½æ•°å†…å¯¹å‚æ•°çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå˜é‡

    void foo(int x) {
        x = 100;
    }
    
    int main() {
        int a = 10;
        foo(a);
        std::cout << a; // è¾“å‡º 10ï¼Œä¸å˜
    }
    

* * *

2\. å¼•ç”¨ä¼ é€’ï¼ˆPass by Referenceï¼‰
---------------------------

*   ä¼ å…¥å˜é‡çš„åˆ«åï¼Œå‡½æ•°å†…å¯¹å…¶ä¿®æ”¹ä¼šå½±å“åŸå˜é‡

    void foo(int& x) {
        x = 100;
    }
    
    int main() {
        int a = 10;
        foo(a);
        std::cout << a; // è¾“å‡º 100ï¼Œè¢«ä¿®æ”¹äº†
    }
    

* * *

3\. æŒ‡é’ˆä¼ é€’ï¼ˆPass by Pointerï¼‰
-------------------------

*   å‡½æ•°æ¥æ”¶å˜é‡çš„åœ°å€ï¼Œé€šè¿‡æŒ‡é’ˆè®¿é—®å’Œä¿®æ”¹

    void foo(int* x) {
        *x = 100;
    }
    
    int main() {
        int a = 10;
        foo(&a);
        std::cout << a; // è¾“å‡º 100
    }
    

* * *

4\. å¸¸å¼•ç”¨ä¼ é€’ï¼ˆPass by const Referenceï¼‰
----------------------------------

*   é€‚ç”¨äº**é¿å…æ‹·è´å¼€é”€**ï¼Œä½†åˆ**ä¸å…è®¸å‡½æ•°ä¿®æ”¹å®å‚**
*   å¸¸ç”¨äºä¼ é€’å¤§å‹å¯¹è±¡ï¼Œå¦‚ `std::string`, `std::vector`

    void print(const std::string& s) {
        std::cout << s;
    }
    

* * *

5\. å³å€¼å¼•ç”¨ï¼ˆPass by rvalue referenceï¼‰C++11+
----------------------------------------

*   æ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼Œé¿å…ä¸å¿…è¦çš„æ·±æ‹·è´

    void foo(std::string&& s) {
        std::cout << s;
    }
    
    foo("hello"s);  // ç§»åŠ¨ä¼ å‚
    

* * *

### å°ç»“å¯¹ç…§è¡¨ï¼š

æ–¹å¼

æ˜¯å¦å¤åˆ¶

æ˜¯å¦å¯ä¿®æ”¹åŸå˜é‡

é€‚ç”¨åœºæ™¯

å€¼ä¼ é€’

âœ… æ˜¯

âŒ å¦

å°æ•°æ®ç±»å‹ï¼ˆint, floatï¼‰

å¼•ç”¨ä¼ é€’

âŒ å¦

âœ… æ˜¯

éœ€è¦ä¿®æ”¹åŸå˜é‡

æŒ‡é’ˆä¼ é€’

âŒ å¦

âœ… æ˜¯

ç±»ä¼¼å¼•ç”¨ï¼Œä½†æ›´çµæ´»

const å¼•ç”¨ä¼ é€’

âŒ å¦

âŒ å¦

ä¼ å¤§å‹å¯¹è±¡ä¸”ä¸ä¿®æ”¹

å³å€¼å¼•ç”¨ä¼ é€’

âŒ å¦

âœ… æ˜¯

æ”¯æŒç§»åŠ¨ï¼Œé¿å…æ‹·è´

* * *

ç»“è®ºï¼š
---

> C++ ä¸­å‡½æ•°å‚æ•°**é»˜è®¤æ˜¯å€¼ä¼ é€’**ï¼Œä½†ä½ å¯ä»¥é€šè¿‡ `&`ï¼ˆå¼•ç”¨ï¼‰ã€`*`ï¼ˆæŒ‡é’ˆï¼‰æˆ– `&&`ï¼ˆå³å€¼å¼•ç”¨ï¼‰æ¥å®ç°å…¶ä»–ä¼ å‚æ–¹å¼ã€‚

ä¸‰ã€æ„é€ å‡½æ•° ææ„å‡½æ•°
===========

æ„é€ å‡½æ•°Constructor
---------------

æ„é€ å‡½æ•°æ˜¯å½“**å¯¹è±¡è¢«åˆ›å»º**æ—¶è‡ªåŠ¨è°ƒç”¨çš„ç‰¹æ®Šå‡½æ•°ï¼Œç”¨äº**åˆå§‹åŒ–å¯¹è±¡çš„æˆå‘˜å˜é‡**ã€‚

*   åå­—ä¸ç±»åç›¸åŒ
*   æ²¡æœ‰è¿”å›å€¼
*   å¯ä»¥æœ‰å¤šä¸ª

ç±»å‹

ç”¨é€”

é»˜è®¤æ„é€ å‡½æ•°

ä¸å¸¦å‚æ•°æˆ–æ‰€æœ‰å‚æ•°æœ‰é»˜è®¤å€¼

å¸¦å‚æ„é€ å‡½æ•°

ç”¨æˆ·æä¾›åˆå§‹åŒ–å‚æ•°

æ‹·è´æ„é€ å‡½æ•°

ç”¨å·²æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼ˆä¼ å€¼æ–¹å¼ï¼‰

ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆC++11ï¼‰

ç”¨äºèµ„æºâ€œçªƒå–â€ï¼ˆæ•ˆç‡æ›´é«˜ï¼‰

å§”æ‰˜æ„é€ å‡½æ•°ï¼ˆC++11ï¼‰

åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°ä¸­è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°

æ‹·è´æ„é€ å‡½æ•° Copy Constructor
-----------------------

å¦‚æœä½ æ²¡æœ‰æ˜¾å¼å®šä¹‰ `operator=()`ï¼ŒC++ ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªæµ…æ‹·è´çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œå¯¹æ¯ä¸ªæˆå‘˜åšæˆå‘˜èµ‹å€¼ã€‚ä½†å¦‚æœä½ ç±»ä¸­åŒ…å«è£¸æŒ‡é’ˆç­‰èµ„æºï¼Œé»˜è®¤èµ‹å€¼å°†äº§ç”Ÿ**æµ…æ‹·è´é—®é¢˜**ï¼ˆèµ„æºå…±äº«ï¼Œææ„å†²çªï¼‰ï¼Œæ­¤æ—¶åº”è‡ªå®šä¹‰èµ‹å€¼è¿ç®—ç¬¦ã€‚

æ‹·è´æ„é€ ä½œç”¨ï¼š

*   é€šè¿‡ä¸€ä¸ªå·²æœ‰å¯¹è±¡**åˆå§‹åŒ–å¦ä¸€ä¸ªå¯¹è±¡**
*   å°†å¯¹è±¡**æŒ‰å€¼ä¼ é€’**ç»™å‡½æ•°
*   å‡½æ•°**æŒ‰å€¼è¿”å›å¯¹è±¡**

    ClassName(const ClassName& other);
    

> å‚æ•°æ˜¯ `const &` é¿å…é€’å½’è°ƒç”¨è‡ªèº«

ç¦æ­¢æ‹·è´æ„é€ ï¼š

    // åœ¨ C++11/14/17 ä¸­ï¼Œæ¨èä½¿ç”¨ `= default` å’Œ `= delete` æ˜ç¡®æŒ‡å®šï¼š
    class MyClass {
    public:
        MyClass() = default;
        MyClass(const MyClass&) = delete;
        ~MyClass() = default;
    };
    

ææ„å‡½æ•° Destructor
---------------

ææ„å‡½æ•°æ˜¯åœ¨**å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨**çš„ç‰¹æ®Šå‡½æ•°ï¼Œç”¨äº**é‡Šæ”¾èµ„æºã€å…³é—­æ–‡ä»¶ã€æ¸…ç†æŒ‡é’ˆç­‰**ã€‚

*   åå­—ä¸º `~ç±»å`
*   æ²¡æœ‰å‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼
*   æ¯ä¸ªç±»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªææ„å‡½æ•°
*   å¯ä»¥æ˜¯è™šçš„ï¼ˆç”¨äºå¤šæ€åˆ é™¤ï¼‰

ç¤ºä¾‹
--

å°†å®šä¹‰å’Œå®ç°å…¨éƒ¨å†™åœ¨å¤´æ–‡ä»¶ä¸­çš„å†™æ³•ï¼š

    #include <iostream>
    #include <string>
    
    class Person {
    public:
        std::string name;
        int* age;
    
        // âœ… 1. é»˜è®¤æ„é€ å‡½æ•°ï¼ˆå§”æ‰˜ç»™å¸¦å‚æ„é€ ï¼‰
        Person() : Person("unknown", 0) {
            std::cout << "Default constructor called (delegated)\n";
        }
    
        // âœ… 2. å¸¦å‚æ„é€ å‡½æ•°
        Person(const std::string& name_, int age_) {
            name = name_;
            age = new int(age_);
            std::cout << "Parameterized constructor called\n";
        }
    
        // âœ… 3. æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰
        Person(const Person& other) {
            name = other.name;
            age = new int(*other.age);
            std::cout << "Copy constructor called\n";
        }
    
        // âœ… 4. ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆC++11ï¼‰
        Person(Person&& other) noexcept {
            name = std::move(other.name); // string è‡ªå¸¦ move
            age = other.age;              // çªƒå–æŒ‡é’ˆ
            other.age = nullptr;          // é¿å…ææ„ double free
            std::cout << "Move constructor called\n";
        }
    
        // âœ… 5. ææ„å‡½æ•°
        ~Person() {
            std::cout << "Destructor called for " << name << "\n";
            delete age;
        }
    };
    
    
    

ç°ä»£c++æ¨èå¤´æ–‡ä»¶å’Œæºæ–‡ä»¶åˆ†ç¦»ï¼Œåˆ†ç¦»çš„å†™æ³•ï¼š

    // Person.h
    #ifndef PERSON_H
    #define PERSON_H
    
    #include <string>
    
    class Person {
    public:
        std::string name;
        int* age;
    	// âœ… 1.é»˜è®¤æ„é€ å‡½æ•°
        Person();
        // âœ… 2.å¸¦å‚æ„é€ å‡½æ•°
        Person(const std::string& name_, int age_);
        // âœ… 3.æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰
        Person(const Person& other);
        // âœ… 4.ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆC++11ï¼‰
        Person(Person&& other) noexcept;
        // âœ… 5.ææ„å‡½æ•°
        virtual ~Person();
        
    	// æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¯é€‰ï¼‰
        Person& operator=(const Person& other);
        // ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¯é€‰ï¼‰
        Person& operator=(Person&& other) noexcept;
    
        // âœ… constè¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹ç±»æˆå‘˜å˜é‡ï¼Œå¦‚æœåœ¨å¸¸å‡½æ•°é‡Œä¿®æ”¹æˆå‘˜å˜é‡ä¼šæŠ¥é”™
        virtual void introduce() const;
    };
    
    #endif
    
    

    // Person.cpp
    #include "Person.h"
    #include <iostream>
    
    // âœ… 1.é»˜è®¤æ„é€ å‡½æ•°
    Person::Person() : Person("unknown", 0) {
        std::cout << "Default constructor called\n";
    }
    
    // âœ… 2.å¸¦å‚æ„é€ å‡½æ•°
    Person::Person(const std::string& name_, int age_) {
        name = name_;
        age = new int(age_);
        std::cout << "Parameterized constructor called\n";
    }
    
    // âœ… 3.æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰
    Person::Person(const Person& other) {
        name = other.name;
        age = new int(*other.age);
        std::cout << "Copy constructor called\n";
    }
    
    // âœ… 4.ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆC++11ï¼‰
    Person::Person(Person&& other) noexcept {
        name = std::move(other.name);
        age = other.age;
        other.age = nullptr;
        std::cout << "Move constructor called\n";
    }
    
    // âœ… 5.ææ„å‡½æ•°
    Person::~Person() {
        std::cout << "Person destructor called for " << name << "\n";
        delete age;
    }
    
    // æ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¯é€‰ï¼‰
    Person& Person::operator=(const Person& other) {
        if (this != &other) {
            name = other.name;
            delete age;
            age = new int(*other.age);
        }
        return *this;
    }
    
    // ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆå¯é€‰ï¼‰
    Person& Person::operator=(Person&& other) noexcept {
        if (this != &other) {
            name = std::move(other.name);
            delete age;
            age = other.age;
            other.age = nullptr;
        }
        return *this;
    }
    
    void Person::introduce() const {
        std::cout << "Hi, I am " << name << ", age " << *age << ".\n";
    }
    

é»˜è®¤æ„é€ /æ‹·è´/ææ„è¡Œä¸ºæ€»ç»“
--------------

å‡½æ•°ç±»å‹

æ˜¯å¦è‡ªåŠ¨ç”Ÿæˆ

ä»€ä¹ˆæ—¶å€™éœ€è¦è‡ªå®šä¹‰ï¼Ÿ

æ„é€ å‡½æ•°

âœ…ï¼ˆå¦‚æœæ²¡å†™ï¼‰

æˆå‘˜éœ€è¦ç‰¹æ®Šåˆå§‹åŒ–é€»è¾‘æ—¶

æ‹·è´æ„é€ å‡½æ•°

âœ…ï¼ˆå¦‚æœæ²¡å†™ï¼‰

å«æŒ‡é’ˆèµ„æºã€å¥æŸ„æˆ–ç¦æ­¢æ‹·è´

ææ„å‡½æ•°

âœ…ï¼ˆå¦‚æœæ²¡å†™ï¼‰

æˆå‘˜åŒ…å«åŠ¨æ€èµ„æºï¼ˆå¦‚ newï¼‰æ—¶éœ€é‡Šæ”¾

ç§»åŠ¨æ„é€ å‡½æ•°

âŒï¼ˆC++11+ï¼‰

ä¼˜åŒ–æ•ˆç‡æˆ–é˜²æ­¢æ‹·è´

*   å¦‚æœä½ **ä¸å†™**ï¼Œç¼–è¯‘å™¨ä¼š**è‡ªåŠ¨ç”Ÿæˆ**ä¸€ä¸ªâ€œæµ…æ‹·è´â€ç‰ˆæœ¬ã€‚
*   å¦‚æœç±»ä¸­æœ‰**è£¸æŒ‡é’ˆ**ï¼Œä¸€å®šè¦è‡ªå·±å†™æ‹·è´æ„é€ ï¼Œå¦åˆ™å¯èƒ½å¼•å‘**åŒé‡é‡Šæ”¾**é”™è¯¯ã€‚

æ·±æ‹·è´å’Œæµ…æ‹·è´
-------

C++ ä¸­çš„ **æ·±æ‹·è´ï¼ˆdeep copyï¼‰** ä¸ **æµ…æ‹·è´ï¼ˆshallow copyï¼‰** æ˜¯å¯¹è±¡å¤åˆ¶æ—¶çš„ä¸¤ç§æ–¹å¼ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦çœŸæ­£å¤åˆ¶äº†å †ä¸Šèµ„æºã€‚ç†è§£è¿™ä¸¤è€…å¯¹æŒæ¡ç±»çš„æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è‡³å…³é‡è¦ã€‚

### ä¸€ã€å®šä¹‰å’ŒåŒºåˆ«

ç‰¹æ€§

æµ…æ‹·è´ï¼ˆShallow Copyï¼‰

æ·±æ‹·è´ï¼ˆDeep Copyï¼‰

æ‹·è´å†…å®¹

åªå¤åˆ¶æŒ‡é’ˆçš„åœ°å€

åˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶æ•°æ®å†…å®¹

èµ„æºå…±äº«

åŸå¯¹è±¡å’Œå‰¯æœ¬æŒ‡å‘åŒä¸€å†…å­˜

åŸå¯¹è±¡å’Œå‰¯æœ¬å„è‡ªæ‹¥æœ‰ç‹¬ç«‹å†…å­˜

å®‰å…¨æ€§

âŒ æ”¹å˜ä¸€ä¸ªå¯¹è±¡ä¼šå½±å“å¦ä¸€ä¸ªï¼›æ˜“å‘ç”Ÿæ‚¬å‚æŒ‡é’ˆã€åŒé‡é‡Šæ”¾

âœ… å¯¹è±¡äº’ä¸å½±å“

ææ„é£é™©

âŒ å¤šæ¬¡ææ„åŒä¸€å—å†…å­˜ï¼ˆå¦‚æœæœªæ­£ç¡®ç®¡ç†ï¼‰

âœ… æ¯ä¸ªå¯¹è±¡ææ„å„è‡ªæ‹¥æœ‰çš„å†…å­˜

* * *

### äºŒã€ç¤ºä¾‹æ¼”ç¤º

    #include <iostream>
    #include <cstring>
    
    class Person {
    public:
        char* name;
    
        // æ„é€ å‡½æ•°
        Person(const char* n) {
            name = new char[strlen(n) + 1];
            strcpy(name, n);
        }
    
        // æµ…æ‹·è´æ„é€ å‡½æ•°ï¼ˆé»˜è®¤ï¼‰
        // Person(const Person& other) = default;
    
        // âœ… æ·±æ‹·è´æ„é€ å‡½æ•°
        Person(const Person& other) {
            name = new char[strlen(other.name) + 1];
            strcpy(name, other.name);
        }
    
        // ææ„å‡½æ•°
        ~Person() {
            delete[] name;
        }
    
        void print() {
            std::cout << "Name: " << name << std::endl;
        }
    };
    

å¦‚æœä¸å†™æ·±æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨é»˜è®¤ä½¿ç”¨æµ…æ‹·è´ï¼Œå³åªæ˜¯å¤åˆ¶äº†æŒ‡é’ˆ `name` çš„åœ°å€ï¼Œä¸¤ä¸ªå¯¹è±¡å…±ç”¨åŒä¸€å—å †å†…å­˜ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¿®æ”¹ `p2.name` ä¼šå½±å“ `p1.name`ï¼Œä¸¤ä¸ªå¯¹è±¡ææ„æ—¶è¿˜ä¼š**é‡å¤é‡Šæ”¾**åŒä¸€å—å†…å­˜ï¼Œå¯¼è‡´å´©æºƒã€‚

* * *

### ä¸‰ã€é»˜è®¤æ‹·è´è¡Œä¸ºè¯´æ˜

æ“ä½œç±»å‹

é»˜è®¤è¡Œä¸º

æ˜¯å¦å®‰å…¨

æ‹·è´æ„é€ å‡½æ•°

æµ…æ‹·è´

âŒ

èµ‹å€¼è¿ç®—ç¬¦ `=`

æµ…èµ‹å€¼

âŒ

ææ„å‡½æ•°

é»˜è®¤é‡Šæ”¾

âŒï¼ˆè‹¥ä½¿ç”¨è£¸æŒ‡é’ˆï¼‰

conståœ¨ç±»ä¸­çš„ä½œç”¨
-----------

`const` å¯ä»¥ä¿®é¥°**ç±»çš„æˆå‘˜å‡½æ•°**ã€**å‡½æ•°å‚æ•°ä¸è¿”å›å€¼**å’Œå¯¹è±¡ï¼Œä½†å®ƒ**ä¸èƒ½ç›´æ¥ä¿®é¥°æ•´ä¸ªç±»æœ¬èº«**ã€‚

* * *

### `const` **ä¿®é¥°å‡½æ•°**ï¼ˆå¸¸æˆå‘˜å‡½æ•°ï¼‰

    class MyClass {
    public:
        int getValue() const; // âœ… è¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹ç±»æˆå‘˜å˜é‡
    private:
        int value = 42;
    };
    int MyClass::getValue() const {
        // this->value = 10; âŒ ç¼–è¯‘é”™è¯¯ï¼šä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡
        return value;
    }
    

    const MyClass obj;   // âœ… **åªèƒ½è°ƒç”¨ const æˆå‘˜å‡½æ•°**
    MyClass obj2;        // âœ… **æ—¢å¯ä»¥è°ƒç”¨ const æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨éå¸¸æˆå‘˜å‡½æ•°**
    

* * *

### `const` ä¿®é¥°å‡½æ•°å‚æ•°å’Œè¿”å›å€¼

ä¿®é¥°å‚æ•°

    void printName(const std::string& name); // âœ… é¿å…æ‹·è´ + ä¿è¯ä¸ä¿®æ”¹å‚æ•°
    

ä¿®é¥°è¿”å›å€¼

    const std::string& getName() const; // âœ… è¿”å›å€¼ä¸èƒ½è¢«ä¿®æ”¹ï¼ˆé˜²æ­¢è¯¯ç”¨ï¼‰
    

> æ³¨æ„ï¼š`const` ä¿®é¥°**è¿”å›å€¼**æ—¶ï¼Œé€šå¸¸ç”¨äº**è¿”å›å¼•ç”¨æˆ–æŒ‡é’ˆ**ï¼Œä¸å¤ªå¸¸ç”¨äºå€¼è¿”å›ã€‚

* * *

### ä¸èƒ½ç›´æ¥ä¿®é¥°ç±»

    const class MyClass {}; // âŒ ä¸å¸¸è§ï¼ŒåŸºæœ¬æ— æ„ä¹‰
    

å››ã€ç»§æ‰¿
====

åŸºç±»å‡½æ•°ç”¨ `virtual` ä¿®é¥°ï¼Œå­ç±»å¯ä»¥ `override` å®ƒ

ç»§æ‰¿æ–¹å¼ ä¿®é¥°ç¬¦å¯è§æ€§
-----------

c++ Javaä¸­çš„ç»§æ‰¿æ–¹å¼æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œç»§æ‰¿æ–¹å¼

ç»§æ‰¿æ–¹å¼

åŸºç±»çš„ `public` æˆå‘˜åœ¨å­ç±»ä¸­å˜æˆ

åŸºç±»çš„ `protected` æˆå‘˜åœ¨å­ç±»ä¸­å˜æˆ

åŸºç±»çš„ `private` æˆå‘˜

`public` ç»§æ‰¿

`public`

`protected`

âŒ ä¸å¯è®¿é—®

`protected` ç»§æ‰¿

`protected`

`protected`

âŒ ä¸å¯è®¿é—®

`private` ç»§æ‰¿

`private`

`private`

âŒ ä¸å¯è®¿é—®

å¯è§æ€§

ä¿®é¥°ç¬¦

ç±»å†…è®¿é—®

æ´¾ç”Ÿç±»è®¿é—®

ç±»å¤–è®¿é—®

`public`

âœ… å¯è®¿é—®

âœ… å¯è®¿é—®

âœ… å¯è®¿é—®

`protected`

âœ… å¯è®¿é—®

âœ… å¯è®¿é—®

âŒ ä¸å¯è®¿é—®

`private`

âœ… å¯è®¿é—®

âŒ ä¸å¯è®¿é—®

âŒ ä¸å¯è®¿é—®

ç¤ºä¾‹
--

    //student.h
    #ifndef STUDENT_H
    #define STUDENT_H
    
    #include "Person.h" 
    
    class Student : public Person {
    public:
        std::string school;
    
        Student();
        Student(const std::string& name_, int age_, const std::string& school_);
        ~Student() override;
    
        void introduce() const override;
    };
    
    #endif
    

    //student.cpp
    #include "Student.h"
    #include <iostream>
    
    Student::Student() : Person("unknown_student", 18), school("Unknown School") {
        std::cout << "Student default constructor\n";
    }
    
    Student::Student(const std::string& name_, int age_, const std::string& school_)
        : Person(name_, age_), school(school_) {
        std::cout << "Student parameterized constructor\n";
    }
    
    Student::~Student() {
        std::cout << "Student destructor called for " << name << "\n";
    }
    
    void Student::introduce() const {
        std::cout << "Hi, I am student " << name << ", age " << *age
                  << ", studying at " << school << ".\n";
    }
    

æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„é¡ºåº
------------

*   **æ„é€ é¡ºåº**ï¼šå…ˆæ„é€ åŸºç±» â†’ å†æ„é€ æ´¾ç”Ÿç±»
*   **ææ„é¡ºåº**ï¼šå…ˆææ„æ´¾ç”Ÿç±» â†’ å†ææ„åŸºç±»

    class Base {
    public:
        Base() { std::cout << "Base()\n"; }
        ~Base() { std::cout << "~Base()\n"; }
    };
    
    class Derived : public Base {
    public:
        Derived() { std::cout << "Derived()\n"; }
        ~Derived() { std::cout << "~Derived()\n"; }
    };
    

è¾“å‡ºé¡ºåºï¼š

    Base()
    Derived()
    ~Derived()
    ~Base()
    

C++ç‰¹æœ‰ï¼šå¤šç»§æ‰¿ä¸è™šç»§æ‰¿ è±å½¢ç»§æ‰¿é—®é¢˜
--------------------

### å¤šç»§æ‰¿

    class A { public: int x; };
    class B { public: int x; };
    class C : public A, public B {};  // å¤šç»§æ‰¿ï¼ŒC æœ‰ä¸¤ä¸ª xï¼Œéœ€åŒºåˆ† A::x å’Œ B::x
    

â€œ**è±å½¢ç»§æ‰¿é—®é¢˜ï¼ˆDiamond Problemï¼‰**â€æ˜¯ C++ å¤šç»§æ‰¿ä¸­ç‰¹æœ‰çš„ä¸€ç§**ç»§æ‰¿ç»“æ„å†²çªé—®é¢˜**ï¼Œä¼šå¯¼è‡´ï¼š

1.  **åŸºç±»å­å¯¹è±¡é‡å¤**
2.  **æ•°æ®äºŒä¹‰æ€§ / æ­§ä¹‰è®¿é—®**
3.  **æ„é€ å’Œææ„æ··ä¹±**
4.  **èµ„æºæµªè´¹**

* * *

### ä¸€ã€ä»€ä¹ˆæ˜¯è±å½¢ç»§æ‰¿ç»“æ„ï¼Ÿ

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ`B` å’Œ `C` éƒ½ç»§æ‰¿è‡ª `A`ï¼Œè€Œ `D` åŒæ—¶ç»§æ‰¿è‡ª `B` å’Œ `C`ï¼š

          A
         / \
        B   C
         \ /
          D
    class A {
    public:
        int value;
    };
    
    class B : public A {};
    class C : public A {};
    class D : public B, public C {};
    

* * *

### äºŒã€è±å½¢ç»§æ‰¿å¼•å‘çš„é—®é¢˜

#### 1\. äº§ç”Ÿ **å¤šä¸ª A å­å¯¹è±¡**

åœ¨ `D` ä¸­åŒ…å«äº† **ä¸¤ä¸ª A å¯¹è±¡**ï¼š

*   ä¸€ä¸ªæ¥è‡ª `B`ï¼ˆBâ†’Aï¼‰
*   ä¸€ä¸ªæ¥è‡ª `C`ï¼ˆCâ†’Aï¼‰

#### 2\. è®¿é—® `value` å‘ç”Ÿæ­§ä¹‰

    D d;
    d.value = 10; // âŒ é”™è¯¯ï¼šç¼–è¯‘å™¨ä¸çŸ¥é“æ˜¯ B::A::value è¿˜æ˜¯ C::A::value
    

å¿…é¡»æ‰‹åŠ¨æŒ‡å®šï¼š

    d.B::value = 10;
    d.C::value = 20;
    

* * *

### ä¸‰ã€è§£å†³æ–¹æ³•ï¼šè™šç»§æ‰¿ï¼ˆ`virtual`ï¼‰

ç”¨ `virtual` ä¿®é¥°ç»§æ‰¿å…³ç³»ï¼Œè®© **B å’Œ C å…±äº«åŒä¸€ä¸ª A å­å¯¹è±¡**ã€‚

    class A {
    public:
        int value;
    };
    
    class B : virtual public A {};
    class C : virtual public A {};
    class D : public B, public C {};
    

#### è™šç»§æ‰¿æ•ˆæœï¼š

*   `D` ä¸­åªæœ‰ **ä¸€ä¸ª A å¯¹è±¡**ï¼Œç”±ç¼–è¯‘å™¨è‡ªåŠ¨åè°ƒ
*   è®¿é—®æˆå‘˜ä¸å†æ­§ä¹‰ï¼š

    D d;
    d.value = 10; // âœ… æ­£å¸¸è®¿é—®ï¼Œæ— æ­§ä¹‰
    

äº”ã€å‹å…ƒ
====

åœ¨ C++ ä¸­ï¼Œ**å‹å…ƒï¼ˆfriendï¼‰**æœºåˆ¶å…è®¸éæˆå‘˜å‡½æ•°æˆ–å…¶ä»–ç±»è®¿é—®æŸä¸ªç±»çš„ç§æœ‰ï¼ˆ`private`ï¼‰å’Œå—ä¿æŠ¤ï¼ˆ`protected`ï¼‰æˆå‘˜ã€‚å‹å…ƒå…³ç³»æ˜¯ **å•å‘**ã€**ä¸ä¼ é€’** çš„ï¼Œå¸¸ç”¨äºæ“ä½œç¬¦é‡è½½ã€è°ƒè¯•å·¥å…·æˆ–ä¸¤ä¸ªç±»ä¹‹é—´çš„ç´§å¯†åä½œç­‰åœºæ™¯ã€‚

* * *

ä¸€ã€å‹å…ƒçš„ä¸‰ç§å½¢å¼
---------

### 1\. å‹å…ƒå‡½æ•°ï¼ˆFriend Functionï¼‰

    class Box {
    private:
        int width;
    public:
        Box(int w) : width(w) {}
    
        // å£°æ˜å‹å…ƒå‡½æ•°
        friend void printWidth(const Box& b);
    };
    
    // éæˆå‘˜å‡½æ•°ï¼Œå¯ä»¥è®¿é—® Box çš„ç§æœ‰æˆå‘˜
    void printWidth(const Box& b) {
        std::cout << "Width: " << b.width << std::endl;
    }
    

ğŸ”¸**ç‰¹ç‚¹**ï¼š

*   éç±»æˆå‘˜å‡½æ•°ï¼Œä½†æ‹¥æœ‰ç±»çš„è®¿é—®æƒé™
*   å¸¸ç”¨äºé‡è½½ `operator<<` ç­‰æ“ä½œç¬¦

* * *

### 2\. å‹å…ƒç±»ï¼ˆFriend Classï¼‰

    class Engine;
    
    class Car {
    private:
        int speed;
    public:
        Car(int s) : speed(s) {}
        friend class Engine;  // Engine å¯ä»¥è®¿é—® Car çš„ç§æœ‰æˆå‘˜
    };
    
    class Engine {
    public:
        void showSpeed(const Car& c) {
            std::cout << "Speed: " << c.speed << std::endl;
        }
    };
    

ğŸ”¸**ç‰¹ç‚¹**ï¼š

*   ä¸€ä¸ªç±»å¯ä»¥å°†å¦ä¸€ä¸ªç±»å£°æ˜ä¸ºå‹å…ƒ
*   è¯¥å‹å…ƒç±»çš„**æ‰€æœ‰æˆå‘˜å‡½æ•°**éƒ½èƒ½è®¿é—®è¢«å‹å…ƒç±»çš„ç§æœ‰æˆå‘˜
*   **å•å‘**ï¼šEngine æ˜¯ Car çš„æœ‹å‹ï¼Œä½† Car ä¸å¯è®¿é—® Engine çš„ç§æœ‰æˆå‘˜

* * *

### 3\. æˆå‘˜å‡½æ•°ä½œä¸ºå‹å…ƒ

    class B;
    
    class A {
    private:
        int a_val;
    public:
        A(int v) : a_val(v) {}
        friend void B::printA(const A& a);  // åªè®© B çš„æŸä¸ªæˆå‘˜å‡½æ•°æˆä¸ºå‹å…ƒ
    };
    
    class B {
    public:
        void printA(const A& a) {
            std::cout << a.a_val << std::endl;
        }
    };
    

æ³¨æ„ï¼šè¿™ç§æ–¹å¼å¿…é¡» **å…ˆå£°æ˜ B ç±»**ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“ `B::printA` æ˜¯ä»€ä¹ˆã€‚

* * *

äºŒã€å‹å…ƒçš„ç‰¹æ€§æ€»ç»“
---------

ç‰¹æ€§

è¯´æ˜

å•å‘è®¿é—®

è¢«å£°æ˜ä¸ºå‹å…ƒçš„ç±»/å‡½æ•°å¯ä»¥è®¿é—®å£°æ˜ç±»çš„ç§æœ‰æˆå‘˜ï¼Œåä¹‹ä¸è¡Œ

éæˆå‘˜ä¹Ÿå¯å£°æ˜ä¸ºå‹å…ƒ

æ™®é€šå‡½æ•°ã€ç±»ã€ç±»çš„æˆå‘˜å‡½æ•°éƒ½å¯ä»¥ä½œä¸ºå‹å…ƒ

ä¸ç ´åå°è£…æ€§

å°½ç®¡èƒ½è®¿é—®ç§æœ‰æˆå‘˜ï¼Œä½†è®¿é—®èŒƒå›´è¢«**æ˜¾å¼é™å®š**

ç¼–è¯‘æ—¶ç»‘å®š

å‹å…ƒå…³ç³»åœ¨ç¼–è¯‘æ—¶å»ºç«‹ï¼Œæ— æ³•åœ¨è¿è¡Œæ—¶åŠ¨æ€è®¾ç½®

ä¸ç»§æ‰¿ã€ä¸ä¼ é€’

å­ç±»ä¸ä¼šç»§æ‰¿å‹å…ƒæƒé™ï¼Œå‹å…ƒç±»çš„å‹å…ƒä¹Ÿæ— è®¿é—®æƒ

* * *

ä¸‰ã€ç¤ºä¾‹ï¼šé‡è½½ `<<` è¿ç®—ç¬¦
----------------

    class Person {
    private:
        std::string name;
        int age;
    public:
        Person(std::string n, int a) : name(n), age(a) {}
        friend std::ostream& operator<<(std::ostream& os, const Person& p);
    };
    
    std::ostream& operator<<(std::ostream& os, const Person& p) {
        os << "Name: " << p.name << ", Age: " << p.age;
        return os;
    }
    

æœªç»ä½œè€…åŒæ„è¯·å‹¿è½¬è½½

æœ¬æ–‡æ¥è‡ªåšå®¢å›­ä½œè€…ï¼š[aixueforever](https://www.cnblogs.com/aslanvon/)ï¼ŒåŸæ–‡é“¾æ¥ï¼š[https://www.cnblogs.com/aslanvon/p/18931148](https://www.cnblogs.com/aslanvon/p/18931148)