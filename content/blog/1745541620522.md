---
layout: post
title: '基于Blazor实现的运输信息管理系统'
date: "2025-04-25T00:40:20Z"
---
基于Blazor实现的运输信息管理系统
===================

运输信息管理系统（TIMS）是一个集手机端和PC端协同工作的小型运输服务公司的信息化系统，采用Blazor框架的Auto模式进行开发。

1\. 项目背景
--------

*   目前司机运输任务完成后，在微信工作群中上报运输任务信息，如客户、车数、吨位、单据等。
*   随着运单量增长，微信群统计不便，存在漏计，有与客户对账漏单的风险。

2\. 功能需求
--------

*   手机端需求
    *   司机能在手机端注册后，进入报工模块进行报工，并可查看和修改自己的记录，报工需填写日期、客户、品名、方式（按车/按吨）、车数、毛重、皮重、净重、装点、卸点、单据。
    *   管理员、老板和调度能在手机端查看和统计下属司机的报工记录，统计方式有司机、客户、车牌、品名。
    *   调度能在手机上填写派单日志，管理员可以在PC端比对司机报工和调度日志是否一致。
*   PC端需求
    *   管理员和老板拥有PC端所有功能
    *   车辆检验和保养到期预警、司机驾驶证到期预警
    *   基础数据功能包括企业信息、数据字典、组织架构、车辆管理、司机管理、客户管理（包括品名、单价）
    *   运单管理功能包括运单信息、装卸点信息、派单日志、派单比对
    *   财务管理功能包括客户对账单、司机对账单、销项发票、进项发票
    *   统计报表功能包括运单统计、客户开票回款统计、客户现金转账统计
    *   系统管理功能包括角色管理、用户和数据权限管理、后台任务、系统附件、系统日志

3\. 技术方案
--------

根据上述需求，系统分为PC端管理系统和手机端APP两部分组成。

*   PC端和手机端共用一个网址入口，均采用Blazor进行开发
*   使用PWA技术将系统安装到PC和手机桌面（部分安卓手机浏览器不支持）
*   数据库使用MySQL
*   部署：使用阿里云ECS服务器
*   安全：HTTPS + RBAC权限控制

4\. 主要功能模块
----------

### 1）PC端功能

*   主界面，包含车辆司机预警和单量统计

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150012510-524415067.png)

#### 基础数据

*   车辆信息，用于维护车辆及其车检和保险有效期，系统根据预警设置，在首页进行预警提示。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150302404-1298945706.png)

*   司机信息，用于维护司机及其驾照有效期，系统根据预警设置，在首页进行预警提示。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150337557-1642945506.png)

*   客户信息，用于维护客户基本信息、品名、单价以及司机对应结算单价。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150355984-1517728950.png)

#### 运单管理

*   运单信息，用于管理和查询司机上报的运单，财务在此修改装卸点费用，计算运单总金额。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150424969-1990633391.png)

*   派单日志，用于比对调度派单和司机报工的数据是否一致，为方便调度操作，使用简洁的日志记录方式，后台人工进行比对确认。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150444568-1398801162.png)

*   派单比对，查询运单比对的结果。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150518767-134739035.png)

#### 财务管理

*   客户对账单，用于新增客户对账单，计算自动拉取报工日期范围内的运单。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150535727-100924617.png)

点击【开票】按钮，对账单进行开票，支持一单多票。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150609404-1334997246.png)

*   司机对账单，用于新增客户对账单，计算自动拉取报工日期范围内，根据司机管理的单价来计算运单金额。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150631929-1431527861.png)

*   销项发票，用于新增销项发票以及跟踪发票回款。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150659772-2144102647.png)

点击【回款】，可以对发票进行回款，支持多次回款。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150712508-178013761.png)

点击【自动回款】，可以根据客户和金额自动按开票时间顺序批量回款。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150743529-257753842.png)

*   进项发票，用于新增进项发票以及跟踪发票付款。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150759557-1598691862.png)

#### 统计报表

*   运单统计，可以根据司机、车牌、客户、品名分组统计运单数量，点击运单数查看和导出运单明细。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150825436-719810808.png)

*   客户开票回款统计，用于统计所有客户开票回款金额信息。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150835836-81293235.png)

*   客户现金转账统计，用于统计所有现金结算客户的付款金额信息。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150902857-1047987789.png)

#### 系统管理

*   预警设置，用于设置车辆和司机证件有效期预警天数。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424150933695-712339843.png)

*   数据权限，可以设置调度下属司机，可查看下属司机的运单信息。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151002026-19708992.png)

### 2）手机端功能

#### 主界面

报工登录、派单日志、记录查询和统计的主入口。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151013471-2097431354.png)

#### 报工登记

司机点击主界面【报工登记】菜单，进入报工界面，填写报工信息后，后台管理员即可实时统计和查询。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151041224-1145276913.png)

#### 派单日志

调度点击主界面【派单日志】菜单，进入派单日志查询、新增和编辑页面，填写日志后，后台管理员即可实时查看派单信息。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151113037-1851730229.png)

#### 记录

司机可查看自己的运单并修改，调度、老板和管理员可以查看其拥有权限的运单数据，点击运单可以查看明细，老板可以填写现金客户的金额和是否现金已转账。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151124339-1681785452.png)

#### 统计

司机可查看自己的运单统计，调度、老板和管理员可以查看其拥有权限的运单数据统计，点击统计记录可以查看运单明细数据。

![image](https://img2024.cnblogs.com/blog/21278/202504/21278-20250424151150223-1842123882.png)

5\. 总结
------

麻雀虽小，五脏俱全。这个方案已经基本满足小型运输服务公司的业务需求，如果非要增加下单、派单、接单、转单、结单等大公司应有的业务流程，想必这也不适合小型公司，毕竟小型公司人员配置少，无需为了工作流而增加管理人员的麻烦。